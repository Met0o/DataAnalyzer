,,,,,,,,,,,,,,,
iTrac,,,,,,,,,,,,,,,
Displaying 1169 issues at 03/Oct/24 10:11.,,,,,,,,,,,,,,,
Issue Type,Key,Summary,Customer Name,Issue Age,Status,Reporter,Assignee,Resolved,Origin,Updated,Due Date,Labels,Severity,Priority,Description
Defect,CSOIOT-10728,Questions about OS compatibilty,Software AG Bangalore Technologies 326500,6,Closed,"Welsing, Michael",Unassigned,9/26/24 12:36,Customer,9/26/24 12:36,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _________________ Domain __________________ Version __________________ 
Edge instance: _______________ Version: _______________ 
Managed services instance: _________________ Version: _______________ 
System Usage (Choose one of: Production / Test / Development): ____________ 
Time Zone: _______________ 

*Affected tenant* 

Tenant: _________________ OR System-wide issue. 
Enterprise Tenant? Yes / No 
System accessible by R&D? Yes / No 
UserID _______________ Password _______________ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Device:* 
* Device manufacturer and type: _________________ 
* Number affected: Single, Few, All devices. 
* Device is Certified? Yes / No 
* C8Y provided Agent? Type _______________ Version ______________ 

*Application:* 
* (URL in ""Own applications"" if not standard app): _________________ 
* Application origin: (choose one) 
* Cumulocity product application 
* GCS application Author/Contact: ______________ 
* Customer application: yes / no 

*Microservice:* 
* (URL in ""Own applications""): _________________ 
* Microservice origin: (choose one) 
* Cumulocity product microservice. Version _______________ 
* GCS custom microservice. Author/Contact _______________ 
* Customer microservice. Yes / No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other _______________ 

*Time period error was observed:* 
* Start: _________________ End: _________________ or ongoing. 
* Repeatability? Always / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - All the time / First load of an application / Time of day: ________________ 

*Steps to reproduce* 
#   
#   
#   

*Attach log files...* 

*Description of the Problem:*"
Defect,CSOIOT-10727,[Hilti] Data migration on MongoDB,Hilti AG 315,42,Closed,"Neale, Robert",Unassigned,8/22/24 9:19,Customer,8/22/24 10:04,21-Aug-24,,3-Medium,3-Medium,"we need to change our data model for Devices (ManagedObjects with {{c8y_IsDevice}} marker fragment). And as we have millions of Devices on QAS and PROD environment we would like to do that on MongoDB directly (Ops Team has done something similar about 2.5 years ago → see [https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-460461]). 

*Model Changes for Device ManagedObject:* 

Migrate the country information from the {{sapCustomerCountries }}array to the {{sapCustomerCountry}} string property. But only for devices which contain exactly one country code in the \{{sapCustomerCountries }}array. 
* Status quo: 
** {\{{ ""name"": ""TID-1-1"", ""c8y_IsDevice"": {}, ""sapCustomerCountries"": [ ""DE"" ] }}} 
** {\{{ ""name"": ""TID-1-2"", ""c8y_IsDevice"": {}, ""sapCustomerCountries"": [ ""DE"", ""CH"", ""AT"" ] }}} 
** {\{{ ""name"": ""TID-1-3"", ""c8y_IsDevice"": {}, ""sapCustomerCountries"": [ ] }}} 
* After migration: 
** {\{{ ""name"": ""TID-1-1"", ""c8y_IsDevice"": {}, ""sapCustomerCountry"": ""DE"" }}} 
** Device with {{TID-1-2}} is excluded from migration because {{sapCustomerCountries}} array contains more than one country! Will be migrated manually by HILTI. 
** Device with {{TID-1-3}} is excluded from migration because {{sapCustomerCountries}} array contains no element! Will be migrated manually by HILTI."
Defect,CSOIOT-10726,nifQAL - SMTP relay setup and checkup,Nordex SE 751519,66,Closed,"Neale, Robert",Unassigned,7/30/24 8:58,Customer,8/27/24 11:38,29-Jul-24,,3-Medium,None,"Request from Nordex. 

  

It seems we have issues with outgoing emails from nifQAL environment (and of nifdevops and nifdev as well). We would like to ask you to align all the environments to use the same SMTP Relay as on nifprd."
Defect,CSOIOT-10725,deploy Apama-ctrl-mt-4c-16g directly to sag-dach.eu-latest.cumulocity.com,SAG Deutschland GmbH 310200,85,Closed,"Herzog, Christian",Unassigned,7/12/24 7:50,Customer,7/12/24 15:03,,,3-Medium,None,"Follow up of [https://itrac.eur.ad.sag/browse/CSOIOT-10703]  

Christoph asks: 

instead of subscribing it from the management tenant to sag-dach.eu-latest.cumulocity.com (t14070519) could you please deploy *Apama-ctrl-mt-4c-16g* directly to sag-dach.eu-latest.cumulocity.com. 
  
Otherwise, I can’t view the log of the microservice *Apama-ctrl-mt-4c-16g* *.* 
 "
Defect,CSOIOT-10723,[Eppendorf] Delete tenants,Eppendorf SE 751760,97,Closed,"Bhatt, Vikas",Unassigned,6/27/24 11:45,Customer,6/27/24 11:52,,,3-Medium,None,"*Affected system:* 

Instance: EMEA 
Tenants: Eppendorf Tenants 

*Description of the Problem:* 

Eppendorf has requested to delete all of these 152 Tenants immediately. It is important that this is done very fast and not waiting 60 days. 

He said - ""Yes we are aware that some of these tenants are still running."" 

  
|t100386574| 
|t101107931| 
|t101118863| 
|t106869603| 
|t107503075| 
|t107518855| 
|t112474728| 
|t112483391| 
|t112487274| 
|t113209075| 
|t114067030| 
|t114070629| 
|t115660544| 
|t116204440| 
|t117266892| 
|t127116835| 
|t130990104| 
|t138783676| 
|t145328027| 
|t146196143| 
|t146273464| 
|t146760667| 
|t149600594| 
|t153038378| 
|t153272950| 
|t156776179| 
|t163563535| 
|t171214535| 
|t184565686| 
|t195298357| 
|t202175226| 
|t204442361| 
|t207318143| 
|t216263774| 
|t217180984| 
|t221013598| 
|t22569555| 
|t23047923| 
|t230912214| 
|t231887562| 
|t23284138| 
|t236120370| 
|t239698658| 
|t240534580| 
|t248647689| 
|t257189992| 
|t267562879| 
|t268500761| 
|t269417548| 
|t269452866| 
|t270232471| 
|t276488959| 
|t281622914| 
|t286427979| 
|t286849876| 
|t288089357| 
|t292838505| 
|t311482131| 
|t317753333| 
|t317759010| 
|t321180285| 
|t322718032| 
|t327058129| 
|t328216670| 
|t343135584| 
|t348657419| 
|t349289738| 
|t350380758| 
|t351750590| 
|t355711655| 
|t358486037| 
|t359639156| 
|t371412906| 
|t374618531| 
|t381435578| 
|t386979826| 
|t392721762| 
|t395856117| 
|t395856866| 
|t396871404| 
|t404745903| 
|t404920144| 
|t409377799| 
|t411514489| 
|t411912092| 
|t416113630| 
|t416123978| 
|t416143739| 
|t416164563| 
|t416209654| 
|t416234206| 
|t416245464| 
|t416316231| 
|t418389515| 
|t418409383| 
|t418439585| 
|t418640762| 
|t418661350| 
|t418838331| 
|t419471192| 
|t420470351| 
|t420615244| 
|t420755739| 
|t420774657| 
|t424155797| 
|t424180514| 
|t426234990| 
|t426549912| 
|t432408776| 
|t448334773| 
|t44866143| 
|t469924122| 
|t474137352| 
|t476614099| 
|t477893739| 
|t478224006| 
|t484894775| 
|t48530749| 
|t494739814| 
|t494909619| 
|t495116135| 
|t506320347| 
|t506366135| 
|t526038853| 
|t527895600| 
|t532611094| 
|t532615912| 
|t534104677| 
|t542263582| 
|t545685001| 
|t555341439| 
|t558918520| 
|t559060646| 
|t560302483| 
|t563676286| 
|t572870290| 
|t576276343| 
|t578219474| 
|t585014113| 
|t586330542| 
|t586563848| 
|t587031288| 
|t589172531| 
|t589241290| 
|t591074204| 
|t66904615| 
|t83269362| 
|t89226803| 
|t91292709| 
|t94389975| 
|t96809273| 
|t98641104|"
Defect,CSOIOT-10715,CLONE - [Prod 10.18] - Unexpected Restart of LwM2M Agent 1,Telstra Corporation Limited 751491,100,Closed,"Lekarov, Grigor","Valkov, Milen",7/3/24 18:18,Customer,7/3/24 18:18,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ______Telstra________ Domain _______Loki-Telstra_________ Version _______10.18__________ 
Time Zone: _____AEST________ 

*Affected tenant* 

Tenant: System-wide issue. 

*Device:* 
* Device manufacturer and type: _____LwM2M_________ 
* C8Y provided Agent? Type ______LwM2M________ Version _____10.19_______ 

*Time period error was observed:* 
* Start: ______8:42 AM AEST________ End: ______8:43 AM AEST________ on June 19th 
* Repeatability? Intermittent (seen _1_ time after upgrading to 10.18). 
* Frequency - Time of day: ____8:43 AM AEST_______ 

*Attach log files...* 

Please find attached for the logs from Operation team. 

Additional files from Telstra: 

CPU utilization observed by Telstra . 

LwM2M exception provided by Telstra. 

*Description of the Problem:* 

Our Operation team observed LWM2M Agent Timeout on host (telstra-el7-prod-agents01, telstra-de-prod) .  
{code:java} 
2024-06-19 10:38:17 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.1.25 5681} true} 
2024-06-19 10:38:17 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.1.25 5684} true} 
2024-06-19 10:38:17 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.1.25 5680} true} 
2024-06-19 10:38:17 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.1.25 5683} true} 
2024-06-19 10:38:18 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.0.217 5683} false} 
2024-06-19 10:38:18 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.0.217 5681} false} 
2024-06-19 10:38:18 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.0.217 5680} false} 
2024-06-19 10:38:18 [DEBUG] (healthcheck/worker): Got check result exec: {{192.168.0.217 5684} false}{code} 
It was hovering around 90% of memory for few hours. 
So Ops team restarted the agent1 at around 10:42 AM AEST. 
  
Ops captured the logs and please find atatched. Please help investigate the root cause of this issue. 
------------------------------------------- 

Later Telstra reported the issue: 

One of Telstra LwM2M agents just did an unexpected restart today at 10:42 AM AEST. This is the first time it has happened since the 10.18 upgrade. 

Telstra had similar issue multiple times in 10.15, which were documented in the following tickets: 

[LwM2M Agent 1 has been restarted at '2024-04-01 21:57:18.407 AEST - Support Incidents - Service project (softwareag.com)|https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-559905] 

[Agent1 restarted abnormally and huge spikes in core & cpu utilizations - Support Incidents - Service project (softwareag.com)|https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-559166] 

[LwM2M agent 2 High CPU load and Auto restarted - Support Incidents - Service project (softwareag.com)|https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-525097] 

Attached the CPU usage of the agents and the cores leading up to the restart. LwM2M agent’s CPU utilisation increases drastically before the restart. Not sure if it could be related to some core problems as CPU utilisation of cores also increase within that period. Before the agent restarted, we got a lot of these errors from the agent 1 logs: 
{noformat} 
2024-06-19 10:13:54.934 ERROR 15050 --- [CoapServer(main)#453] o.e.l.core.response.SendableResponse : Exception while calling the reponse sent callback 
javax.ws.rs.ProcessingException: org.apache.http.conn.ConnectionPoolTimeoutException: Timeout waiting for connection from pool 
at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:531) 
... 48 lines omitted ... 
at java.base/java.lang.Thread.run(Thread.java:829) 
Caused by: org.apache.http.conn.ConnectionPoolTimeoutException: Timeout waiting for connection from pool{noformat} 
{noformat} 
ERROR 15050 --- [CoapServer(main)#2749] o.e.l.c.californium.LwM2mCoapResource : Exception while handling request [CON-POST MID=63529, Token=740001, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""lt=3960"",""lwm2m=1.0"",""ep=urn:imei:354513597451396"",""b=UQ""]}, ""</4827/0>,</508/0>,</30002/0>,</"".. 105 bytes] on the resource /rd from Identity /172.29.0.143:43384[psk=0354513597451396] 
javax.ws.rs.ProcessingException: org.apache.http.conn.ConnectionPoolTimeoutException: Timeout waiting for connection from pool 
at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:531) 
... 43 lines omitted ... 
at java.base/java.lang.Thread.run(Thread.java:829) 
Caused by: org.apache.http.conn.ConnectionPoolTimeoutException: Timeout waiting for connection from pool{noformat} 
I attached a csv file containing these logs. 

As a side note, SAG is currently in the process of RL 8 migration for our Prod environment, we are not sure if this restart is part of it. Although if it is, we would have expected both agents to be restarted together as well as CPU utilization not increasing drastically. 

Telstra has concern that they still don’t have the root cause to this issue that has been since 10.15. Kindly advise how to improve this situation and avoid unexpected downtimes."
Defect,CSOIOT-10713,need info from https://envd417247.c8y.sag.idealabs.cloud/,"Itron, Inc. 751854",103,Closed,"Herzog, Christian","Vukman, Tomislav",7/3/24 13:55,Customer,7/3/24 13:55,,,3-Medium,None,"* question to env [https://envd417247.c8y.sag.idealabs.cloud/|https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagementx509/index.html#/device/38158611532/device-info] 
* please check file /etc/lwm2m/lwm2m-agent-server.properties 
* let me know the value of 
C8Y.objectmappings.setdefault 
(can be true or false)"
Defect,CSOIOT-10712,[SAP] US20 Prod Correct query logging configuration,SAP SE 700,104,Closed,"Bhatt, Vikas","Janus, Bartosz",6/26/24 9:57,Customer,6/26/24 9:57,,,2-High,2-High,"*Affected system:* 

Affected instance: datahub.us20.cy.iot.sap:9447 

*Description of the Problem:* 
Dremio has suggested that we update the query logging configuration to make it easier for them to provide support during the ongoing performance test. Here is their message: 

There was a breaking change in the logback.xml somewhere between Dremio version 20 and 21 and it looks like SAG has not altered their default logback to accomodate for that. 

The current logback.xml can be found here: [https://github.com/dremio/dremio-cloud-tools/blob/master/charts/dremio_v2/config/logback.xml] 

  

Specifically, we want to update the queries.json appender to look as follows: 
{quote}      <appender name=""query"" class=""ch.qos.logback.core.rolling.RollingFileAppender""> 
<file>${dremio.log.path}/queries.json</file> 
<rollingPolicy class=""ch.qos.logback.core.rolling.TimeBasedRollingPolicy""> 
<fileNamePattern>${dremio.log.path}/archive/queries.%d\{yyyy-MM-dd}.%i.json.gz</fileNamePattern> 
<maxHistory>30</maxHistory> 
<timeBasedFileNamingAndTriggeringPolicy class=""ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP""> 
<maxFileSize>100MB</maxFileSize> 
</timeBasedFileNamingAndTriggeringPolicy> 
</rollingPolicy> 

  
<encoder class=""net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder""> 
<providers> 
<arguments /> 
</providers> 
</encoder> 
</appender> 
... 
<logger name=""query.logger""> 
<level value=""${dremio.log.level:-info}""/> 
<if condition='isDefined(""dremio.log.path"")'> 
<then> 
<appender-ref ref=""query""/> 
</then> 
</if> 
</logger> 
{quote} 
h4. --> The same change should be applied to EU20 Prod and Dev (and probably to other Ops operated Dremio instances)."
Defect,CSOIOT-10711,[SAP] Long-running Arrow flight queries on US20 Prod lead to 502&504 errors,SAP SE 700,104,Closed,"Bhatt, Vikas",Unassigned,6/28/24 11:11,Customer,6/28/24 11:11,,,2-High,2-High,"*Affected system:* 

Affected instance: datahub.us20.cy.iot.sap:9447 

*Description of the Problem:* 

  
Queries running > 1min are successfully executed in Dremio, but the client gets a 502 or 504 error. These indicate that the problem is likely the C8Y load balancer or another intermediate component. 

The same issue does not appear on the Dev instance. So, can we review that the same configuration is applied there? 

--> Customer has strongly suggested that we compare the configuration of US20 Prod and Dev instances, as a number of learnings were applied to the Dev instances, and similar problems did not happen there. 

*502* 
{noformat} 
Caused by: cfjd.org.apache.arrow.flight.FlightRuntimeException: UNAVAILABLE: HTTP status code 502 
invalid content-type: text/html 
headers: Metadata(:status=502,date=Thu, 20 Jun 2024 19:17:23 GMT,content-type=text/html,x-content-type-options=nosniff,content-length=154) 
DATA----------------------------- 
<html> 
<head><title>502 Bad Gateway</title></head> 
<body> 
<center><h1>502 Bad Gateway</h1></center> 
<hr><center>openresty</center> 
</body> 
</html>{noformat} 
*504* 
{noformat} 
UNAVAILABLE: HTTP status code 504 

invalid content-type: text/html 

headers: Metadata(:status=504,date=Fri, 21 Jun 2024 04:18:34 GMT,content-type=text/html,x-content-type-options=nosniff,content-length=164) 

DATA----------------------------- 
<html> 
<head><title>504 Gateway Time-out</title></head> 
<body> 
<center><h1>504 Gateway Time-out</h1></center> 
<hr><center>openresty</center> 
</body> 
</html> 

] with root cause cfjd.org.apache.arrow.flight.FlightRuntimeException: HTTP status code 504 

invalid content-type: text/html 

headers: Metadata(:status=504,date=Fri, 21 Jun 2024 04:18:34 GMT,content-type=text/html,x-content-type-options=nosniff,content-length=164) 

DATA----------------------------- 
<html> 
<head><title>504 Gateway Time-out</title></head> 
<body> 
<center><h1>504 Gateway Time-out</h1></center> 
<hr><center>openresty</center> 
</body> 
</html>   at cfjd.org.apache.arrow.flight.CallStatus.toRuntimeException(CallStatus.java:131) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.org.apache.arrow.flight.grpc.StatusUtils.fromGrpcRuntimeException(StatusUtils.java:164) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.org.apache.arrow.flight.grpc.StatusUtils.fromThrowable(StatusUtils.java:185) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.org.apache.arrow.flight.FlightStream$Observer.onError(FlightStream.java:454) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.org.apache.arrow.flight.FlightClient$1.onError(FlightClient.java:350) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:491) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.org.apache.arrow.flight.grpc.ClientInterceptorAdapter$FlightClientCallListener.onClose(ClientInterceptorAdapter.java:117) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2] 

  at cfjd.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567) ~[flight-sql-jdbc-driver-14.0.2.jar:14.0.2]{noformat} 
h4."
Defect,CSOIOT-10708,databrokers down - create a monitoring alert,Kemin Europa 751795,104,Completed,"Herzog, Christian","Fuso, Luca",6/26/24 14:55,Customer,9/26/24 10:28,,,3-Medium,None,"created from [https://mail.google.com/chat/u/0/#chat/space/AAAAppXxqRs/AKNIqa0XQOo/AKNIqa0XQOo] **  

*summary:* 
Vikas Bhatt , 
Jun 11, 3:47 PMIt seems performance Issue on [cumulocity.com|http://cumulocity.com/] [https://status.cumulocity.com/incidents/dvyt3g8t9k2h] is affecting DataBroker connectivity issue also. Reported by Kemin Europa just now. None of their data is showing up. Do we have an ETA on this activity? 
  
Alf Lundsten 
Jun 11, 3:55 PMHard to give ETA without knowing a root cause. Though after recent restarts of the LB pods it seems that the response times has returned to normal. @Patrick Zeier can verify. 
  
Tomislav Vukman 
Jun 11, 3:57 PMwe have done rolling restart of cores which has been announced on status page 
the issue: with ontoplb migration done we have issue with rolling restart e.g. it disturbs data broker (reported by Cumonosu on [jp.cumulocity.com|http://jp.cumulocity.com/]) 
ticket [https://itrac.eur.ad.sag/browse/CSOIOT-10496] 
status: needs to be tested in stagings and we can apply the workaround/fix on our productions 

Vikas Bhatt 
Jun 11, 4:09 PMIt seems rolling restart hasn't helped yet! ""Customer suspected that this was related because the timing of this issue happened right after they received the first notification about the performance issue. However, there was no mentioning of data brokers being impacted, let alone stop working entirely for 21 hours! Also, the incident report states that a fix has been applied. But it is still not working!"" 
Can we please verify this again? 
  
Tomislav Vukman 
Jun 11, 5:22 PMwe have done the change and error messages are not present in logs any more 
we should now check if functionality is fine and then to double check with the customer 
  
  
Tomislav Vukman 
Jun 11, 5:27 PMit looks fine on '[management.apac.keminconnect.com|http://management.apac.keminconnect.com/]' 
  
Kent Talbert 
Jun 11, 6:46 PMKemin came back and said the databrokers are working now. They are concerned that this should be a core functionality that should be available all of the time. Do we monitor the databrokers? If not, can we so we can avoid this type of issue in the future? 
  
Tomislav Vukman 
Jun 12, 9:09 AMWe had issues with ontoplb migration and some remaining setting which was making troubles 
This should not happen in the future. I will check internally if we can make some monitoring alert on that 

Open question: 
Customer is interested if we can create a monitoring alert on the same to avoid this in future. 
Is this possible?"
Defect,CSOIOT-10706,Change domain name of 'ilariz-dev.cumulocity.com' to 'https://ilariz-dev.ilariz.com',iLARIZ GmbH 752215,104,Closed,"Bhatt, Vikas","Vukman, Tomislav",7/3/24 13:54,Customer,9/26/24 10:29,,,3-Medium,3-Medium,"*Affected system:* 

Enterprise Tenant: management.ilariz.com (t2133506075) 
Sub-tenant: ilariz-dev.cumulocity.com (t2162051326) 

*Description of the Problem:* 

Customer recently enabled the custom domain feature in their enterprise tenant. For development purposes, they still require the subtenant “ilariz-dev.cumulocity.com”. So they want to change their dev tenant URL according to new domain. 
- Could you please change the domain name of 'ilariz-dev.cumulocity.com' to 'https://ilariz-dev.ilariz.com'? (As it is already the subtenant of their management tenant 'management.ilariz.com')"
Defect,CSOIOT-10703,deploy the multi tenancy enabled apama on t14070519,SAG Deutschland GmbH 310200,107,Closed,"Herzog, Christian","Lundsten, Alf",6/28/24 9:52,Customer,7/12/24 15:02,,,3-Medium,None,"h5. [christof.strack@softwareag.com|mailto:christof.strack@softwareag.com] asks: 
Can you please deploy the multi tenancy enabled apama: 

1. Microservice: [https://buildpipeline:SAGbU1ldPip%251@resources.cumulocity.com/sag/apama/25.173.0/kubernetes-images/apama-ctrl-mt-4c-16g.zip] 
2. WebApp: [https://buildpipeline:SAGbU1ldPip%251@resources.cumulocity.com/sag/apama/25.173.0/webapps/streaming-analytics-app.zip] 

to the enterprise tenant: sag-dach.eu-latest.cumulocity.com, tenant id: t14070519 

This is important to test this for the customer STW/Moderndrive. 

************************************************************************** 
My comment: 

On management.eu-latest.cumulocity.com is currently: 
- Apama-ctrl-mt-4c-16g VERSION: 25.167.0 
- Streaming Analytics. VERSION: 25.167.0 

Christofs request is to install on sag-dach.eu-latest.cumulocity.com (t14070519): 
- Apama-ctrl-mt-4c-16g VERSION: 25.173.0 
- Streaming Analytics. VERSION: 25.173.0 

From the past we know that there are issues when you install 2 different versions in the same environment. 
Therefore I want to clarify with you if this 2-versions-scenario is supported? 
If yes, can you please deploy it on t14070519? 
Or can you update to the new version on the management tenant?"
Defect,CSOIOT-10700,http/2 access to Dremio not working on US20 prod,SAP SE 700,107,Closed,"Song, Shaopeng (Jeffrey)","Simeonova, Rumyana",6/18/24 14:23,Customer,9/17/24 10:22,,,2-High,None,"h2. *(Please remove those items not applicable)* 
h3. *Affected system* 

Installation type (Choose one of: Cloud/on-prem / Edge)? _____{_}Cloud{_}_____ 

System Usage (Choose one of: Production / Test / Development): ___{_}Production{_}____ 

Version of Cumulocity IoT DataHub: ____{_}10.18.0{_}____ 

Time Zone: ____{_}CEST{_}______ 
h3. *Cloud details (only answer for Cloud/on-prem installation)* 

SAG Cloud: Region ____{_}EMEA{_}________ Version ______{_}10.18.0{_}________ 
h3. *Description of the Problem* 

It looks like http/2 access to Dremio is not working on {*}US20 prod{*}. This is required for Apache Arrow flight access. This is blocking performance testing. 
Stack trace : 
{noformat} 
2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] OUT at cdjd.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[dremio-jdbc-driver-24.0.0-202302100528110223-3a169b7c.jar:24.0.0-202302100528110223-3a169b7c]   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] OUT at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] OUT Caused by: java.nio.channels.ClosedChannelException: null   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] OUT ... 15 common frames omitted   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] OUT 2024-06-17T09:06:33.883Z  INFO 7 --- [       Client-1] c.com.dremio.sabot.rpc.user.UserClient   : [USER]: Channel closed null <--> null (user client)   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR java.sql.SQLException: Failure in connecting to Dremio: cdjd.com.dremio.exec.rpc.RpcException: Timed out after 30s waiting to connect to datahub.us20.cy.iot.sap:32010   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR at com.dremio.jdbc.impl.DremioExceptionMapper.map(DremioExceptionMapper.java:80)   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR at com.dremio.jdbc.impl.DremioConnectionImpl.<init>(DremioConnectionImpl.java:105)   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR at com.dremio.jdbc.impl.DremioJdbc41Factory.newConnection(DremioJdbc41Factory.java:72)   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR at com.dremio.jdbc.impl.DremioFactory.newConnection(DremioFactory.java:67)   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR at cdjd.org.apache.calcite.avatica.UnregisteredDriver.connect(UnregisteredDriver.java:138)   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR at com.dremio.jdbc.Driver.connect(Driver.java:84)   2024-06-17T14:36:33.88+0530 [APP/PROC/WEB/0] ERR at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681){noformat} 
h4.   

Update from the customer: 
{noformat} 
Still unable to connect..  

Caused by: cfjd.io.netty.channel.ConnectTimeoutException: connection timed out: datahub.us20.cy.iot.sap/20.230.237.63:32010 
  at cfjd.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261) 
  at cfjd.io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98) 
  at cfjd.io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153) 
  at cfjd.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) 
  at cfjd.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)*no* further _formatting_ is done here{noformat} 
Kindly help look into this in parallel to the DEV issue asap. 
h4.   
h4. Attachments 

Please find attached for the exception message in [^saphttp2.txt] ."
Defect,CSOIOT-10695,[ISC] Fix the IP addresses of the C8Y deployment,Industrial Scientific Corporation 752132,107,Closed,"Bhatt, Vikas","Lundsten, Alf",6/28/24 9:50,Customer,6/28/24 9:50,,,3-Medium,3-Medium,"*Affected system:* 

ISC environments: 

[https://management.na.inet.com|https://management.na.inet.com/] 

[management.na-dev.inet.com|http://management.na-dev.inet.com/] 

[https://management.na-qa.inet.com/] 

*Description of the Problem:* 

Customer is asking if the IP address of the C8Y deployment is fixed or not, regardless of whether it is SaaS or Dedicated? 

He said he is looking for confirmation of C8Y BaseURL always point to same IP independent of hosting model (Dedicated/SaaS). 

Here, he is not expecting every environment (Dev, QA, Prod) to the same IP. But he is expecting for given environment, the IP is fixed. 

This allows their customers to whitelist IP of C8Y to allow the communication. 

---------------------------------------- 

C:\Users\venkatesu.punugupati>ping isc.na-dev.inet.com 
  
Pinging industrial-scientific-dev-elb-2116490250.us-east-1.elb.amazonaws.com [54.197.253.30] with 32 bytes of data: 
Request timed out. 
Request timed out. 
Request timed out. 
Request timed out. 
  
Ping statistics for 54.197.253.30: 
Packets: Sent = 4, Received = 0, Lost = 4 (100% loss), 
  
C:\Users\venkatesu.punugupati>ping management.na-dev.inet.com 
  
Pinging industrial-scientific-dev-elb-2116490250.us-east-1.elb.amazonaws.com [54.197.253.30] with 32 bytes of data: 
Request timed out. 
Request timed out. 
Request timed out. 
Request timed out. 
  
Ping statistics for 54.197.253.30: 
Packets: Sent = 4, Received = 0, Lost = 4 (100% loss), 

----------------------------------------"
Defect,CSOIOT-10693,Termination of tenantfailure Tenant for NTT (created for testing purpose),NTT Communications Corporation 731271,107,Closed,"Song, Shaopeng (Jeffrey)","Vukman, Tomislav",6/21/24 14:30,Customer,9/18/24 10:20,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ______Japan________ Domain _______jp.cumulocity.com_______ Version ______10.18_________ 
System Usage (Choose one of: Production / Test / Development): _____Test______ 
Time Zone: ____JST________ 

*Affected tenant* 

Tenant: [tenantfailure.jp.cumulocity.com|http://tenantfailure.jp.cumulocity.com/] 

This tenant is created by C8Y support for testing purpose. 

*Description of the Problem:* 

When helping NTT trouble shooting issue of Kajima parent tenant in SI-555440 , support created a tenant [tenantfailure.jp.cumulocity.com|http://tenantfailure.jp.cumulocity.com/]  for testing purpose. 

After resolving the issue, although this tenant has been suspended, NTT still want us to help terminate this tenant, because they don't want usage of this tenant was added in their monthly bill as it is created by SAG support. 

GS has explained that this tenant will be deleted automatically in 60 days, NTT still want us to help terminate it. 

This has been checked with Sales and CSM.  Sales team explained to NTT we will not charge this testing tenant in their monthly bill, but customer still hope we can terminate it now. 

Please help terminate the tenant [tenantfailure.jp.cumulocity.com|http://tenantfailure.jp.cumulocity.com/] . 

 "
Defect,CSOIOT-10691,Upload Domain Certificate - Option missing?,iLARIZ GmbH 752215,107,Closed,"Welsing, Michael","Lundsten, Alf",6/24/24 15:42,Customer,9/19/24 10:39,,,3-Medium,3-Medium,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Domain *cumulocity.com* Version ** 

{*}D{*}escription of the Problem: 

Hi, 

can you please create a license for *.ilariz.com as they want to setup the custom domain for their enterprise tenant? 

Thanks 

Michael"
Defect,CSOIOT-10690,[Hillrom] Prod - Errors in several Microservices and Configuration Service - getActiveSystemNotifications - 502,Baxter International inc. 752152,107,Closed,"Bhatt, Vikas","Vukman, Tomislav",7/25/24 10:06,Customer,7/25/24 10:06,,,1-Critical,1-Critical,"*Affected system:* 

Hillrom Prod Tenant: https://servicehub.iot.hillrom.com/ 
Version: 10.11 

*Description of the Problem:* 

Customer from Hillrom reported the following CRISIS issue: - 

---------------------------- 
Our customer facing SCRM is down and customers are reporting SCRM just spins without displaying information. 

We are also seeing platform errors: 

AuditLog - 502 

Configuration Service - getActiveSystemNotifications - 502 

See attached screenshots: 
!image.png|thumbnail! 
!image-1.png|thumbnail! 
!image-2.png|thumbnail! 
----------------------------"
Defect,CSOIOT-10684,[Telstra prod] SMTP Endpoints need updating,Telstra Corporation Limited 751491,108,Closed,"Lundsten, Alf","Lundsten, Alf",6/17/24 8:54,Customer,6/17/24 8:54,4-Jun-24,,3-Medium,3-Medium,"This has been discussed during Telstra-SAG Ops call last week and this week. Please forward request to Ops team. 

Our internal Telstra network is making some changes and part of this is migrating the Nexus SMTP Proxies to a new environment. Our C8Y environments (both Dev and Prod) are currently using the Nexus SMTP proxies: 
* 10.110.224.148 
* 10.110.224.149 
* 10.110.220.148 

As part of the cutover, we will need to point to the new Mail proxies: 

*Destination* 

[*smtp.nsp.smart-rr.in.telstra.com.au*|http://smtp.nsp.smart-rr.in.telstra.com.au/] 

*10.41.233.215* 

*10.41.245.215* 

Our internal team has done the routing changes for Dev, Upon initial checks, telnet is working from the NAT instance to the new endpoints. For the next step, we are requesting the assistance of Ops team to make the necessary config changes in *Dev* with the new endpoints provided. 

Let us know once this is done or if further information is required. Thank you."
Defect,CSOIOT-10676,Baxter- VVA Inquiry,Baxter International inc. 752152,110,Closed,"Talbert, Kent","Behning, Christian",7/17/24 10:12,Customer,7/23/24 19:32,,,3-Medium,None,"Attached are questions for Verification by analysis (VVA) needed for SCRM 8.1 formal verification that is starting next week. Refer to highlighted column for questions. 

[^VVA Input from SAG.xlsx] 

I talked to Saran about this and he sent me this: 

  

Baxter seems to be asking for evidences for DDoS protection, Mongo Encryption and the logging. All we can say is that we are compliant to the SOC-II defined operational procedures. You may need to check with OPS teams who maintain Hillrom instances if they can produce anything as evidence. 

  

Can you provide the requested information? 

  

 "
Defect,CSOIOT-10662,Inventory documents with null primary key in mongo db,SAG Consulting Services GmbH 310300,112,Closed,"Neale, Robert","Vukman, Tomislav",7/3/24 13:58,Customer,8/19/24 12:33,14-Jun-24,,3-Medium,3-Medium,"On Enercon DEV environment (https://main.iot-dev.enercon.de/) 

There managed object which have no “id” in mongo db! How could this be possible? Could you please investigate? 

  

Can Ops find all objects without id? 

  

See example file attached."
Defect,CSOIOT-10660,BSci: Please Schedule Prod Upgrade to 10.18 + yearly release for Yearly Update cycle,Boston Scientific Corporation 810461,113,Closed,"Talbert, Kent","Lisik, Milosz (External)",6/28/24 8:49,Customer,7/17/24 19:37,,,3-Medium,None,"BSci production environment:  *.iot.bsci.com 

  

From customer:  I would like to get a scheduled update/upgrade to our production Cumulocity environment to 10.18 as well as the yearly release to match our non production environment. We will want our production environment to be on the yearly update cadence. 

Our production environment is *.iot.bsci.com 

I would like to aim to have this completed during the dates of July 16th-18th 2024."
Defect,CSOIOT-10654,[Eaton] Rename tenant domain 'aquaplus.dbt.machinery-monitoring.com' to 'camperclean.dbt.machinery-monitoring.com',Eaton Industries GmbH 751858,114,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",6/11/24 11:57,Customer,9/16/24 10:29,,,3-Medium,3-Medium,"*Affected system:* 

Platform: cumulocity-azure-fra-prod 

Enterprise tenant on EMEA instance 

Enterprise Tenant: eatonnubisnet 
Subtenant: aquaplus.dbt.machinery-monitoring.com 

*Description of the Problem:* 

Customer has requested to change domain of below tenant under “eatonnubisnet”. 

[aquaplus.dbt.machinery-monitoring.com|http://aquaplus.dbt.machinery-monitoring.com/] 

to 

[camperclean.dbt.machinery-monitoring.com|http://camperclean.dbt.machinery-monitoring.com/]"
Defect,CSOIOT-10653,Provision new enterprise tenant on *.iot.hillrom.com,Baxter International inc. 752152,114,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",6/11/24 12:00,Customer,9/25/24 10:49,,,3-Medium,None,"Please provision a new enterprise tenant on *.iot.hillrom.com. 

  

Tenant Name:   *ihs981901-poc-master.iot.hillrom.com* 

Adminstrator:  *[steven_morrow@baxter.com|mailto:steven_morrow@baxter.com]* 

  

Unfortunately, I don't have permissions to create a new tenant on the environment. 

  

Please let me know if you have any questions or need more information. 

  

Thanks, 

Kent"
Defect,CSOIOT-10650,Critical Performance Issue on traptice.wains.info - Urgent Attention Needed,WAINS GmbH 751801,114,Closed,"Welsing, Michael","Zeier, Patrick",7/30/24 12:49,Customer,9/16/24 10:30,,,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA* Domain *cumulocity.com* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: [https://traptice.wains.info/] OR System-wide issue. 
Enterprise Tenant? *Yes* / No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other *LORIOT* 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hello OPS, 

WAINS has some issues with the response of the system; 

""During a customer setup, I noticed that the web interface of [traptice.wains.info|http://traptice.wains.info/] is unusually slow. 

The issue is particularly evident when setting up Loriot LoRaWAN devices, where events are significantly delayed. 

This seems to be a deeper problem as everything is extremely slow at the moment. Since the customer is located in Belgium and is experiencing the same slow performance, it is not an issue with our internet connection. 

Upon checking the Loriot logs, I found that since 09/06/2024 10:16:29, there have been over 700 entries of {{POSTing message: timeout of 5000ms exceeded}} errors. 

This issue needs immediate attention as it has given a very poor impression during an initial setup of our platform."" 

best regards 

Michael"
Defect,CSOIOT-10644,PAPN Enablement for tenant of Kallipr,Kallipr Pty Ltd 751685,117,Closed,"Song, Shaopeng (Jeffrey)","Schueller, Thomas",7/17/24 10:28,Customer,7/23/24 5:25,,,3-Medium,3-Medium,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _____{_}APJ{_}_________ Domain __{_}captis-iot.com _____ Version _______10.18{_}_________ 
System Usage (Choose one of: Production / Test / Development): ____{_}Production{_}_____ 
Time Zone: ____{_}AEST{_}______ 

*Affected tenant* 

Tenant: [citycare.spark.captis-iot.com|https://citycare.spark.captis-iot.com/] 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Description of the Problem:* 

Hello Ops team, 

Kindly help enable/setup a PAPN ( VPN service , product code *IOBVA* ) for the following tenant: 

[https://citycare.spark.captis-iot.com/|https://citycare.spark.captis-iot.com/apps/captis/index.html#/] 

The PAPN URL is the following: 

[citycarewater.spark.co.nz|http://citycarewater.spark.co.nz/] 

*Additional information:*  

Have talked to Dunne and confirmed Kallipr already purchased an contract for the VPN solution. The original contract with the product code (IOBVA) expired on May 16, 2024. It was renewed until 2025.  

Salesforce record of the renewal: [https://softwareag.lightning.force.com/lightning/r/SAP_Contract__c/a0oSc000000LLCjIAO/view] 

SAP contact number: 

[2086095|https://getsupport.softwareag.com/secure/insight/assets/PSUP-701943] 

Confirmed with Dunne no additional fee required. 

So kindly help enable/configure it.  

If requiring any assistance from GS feel free to let me know."
Defect,CSOIOT-10643,Micro Technology Request SSL certificate for cumonosu.com (by June 12),"Micro Technology Co., Ltd. 751560",118,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",6/17/24 8:47,Customer,9/15/24 10:07,,,2-High,4-Low,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _______Japan_________ Domain ______ [cumonosu.com|http://cumonosu.com/]________ Version _______10.18__________ 
System Usage (Choose one of: Production / Test / Development): _____Production_______ 
Time Zone: _____JST_______ 

*Description of the Problem:* 

Hi Cloud Ops, 

Based on the purchase order from Micro Technology to Software AG, SAG Ops team will apply SSL certificate to [cumonosu.com|http://cumonosu.com/] on top of [jp.cumulocity.com|http://jp.cumulocity.com/] until the due date of {*}June 17, 2024{*}. Since Micro Technology needs to apply this new certification to some servers they are managing, request to pass this new certification file to customer *before the* {*}next Wednesday (June 12){*}. Because customer has some work to apply this new certification. They need this by {*}June 12{*}.  

Will it be possible to provide these SSL Certificates? 

Thanks for the help!"
Defect,CSOIOT-10642,Itron: change Lwm2m settings on c8y.sag.idealabs.cloud,"Itron, Inc. 751854",118,Closed,"Talbert, Kent","Lundsten, Alf",8/12/24 13:50,Customer,8/12/24 13:50,,,3-Medium,3-Medium,"Environment:  c8y.sag.idealabs.cloud 

Customer would like the following LWM2M settings changed during the next platform upgrade scheduled 11-12 June and 18th June: 

  

CoAP ACK timeout = 10 seconds 

General thread count to be increased. 

californium3.properties.DTLS.CONNECTOR_THREAD_COUNT=2000 
californium3.properties.DTLS.RECEIVER_THREAD_COUNT=2000 

  

Please let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-10640,Not able to delete Configuration repository,Syntegon Technology Services AG 752059,118,Closed,"Herod, Jaroslaw","Vukman, Tomislav",6/21/24 14:27,Customer,6/21/24 14:27,,,3-Medium,3-Medium,"*Affected system* 

Tenant: https://freeplay.synexio.syntegon.com/ 
Instance: *.cumulocity.com 
UI/SDK: 1019.23.8 
Backend: 1020.296.0 

*Description of the Problem:* 

On the tenant https://freeplay.synexio.syntegon.com, customer is not able to delete a Configuration repository. 
There are 500 errors on delete and 404 on Edit and Download. 
It seems the object is already deleted but still showing up in the UI due to a defect. 

Please see the screenshots attached. 
!image.png|thumbnail! 
!Delete1.png|thumbnail! 
!Delete2.png|thumbnail! 
!Delete3.png|thumbnail! 
!Download1.png|thumbnail! 
!Edit1.png|thumbnail!"
Defect,CSOIOT-10635,[Itron] Include EST COAPs proxy logs in Grafana for itron-us-east-2-multinode-prod,"Itron, Inc. 751854",119,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/18/24 11:11,Customer,9/16/24 10:31,,,3-Medium,3-Medium,"*Affected system:* 

Environment: itron-us-east-2-multinode-prod 
Tenant: [https://c8y.sag.idealabs.cloud|https://c8y.sag.idealabs.cloud/] 

*Description of the Problem:* 

Customer raised this ticket for Cloud Ops. 

To support the customer while connecting LWM2M devices, they would like to be able to see the EST COAPs proxy logs in Grafana. 

This is for the environment: itron-us-east-2-multinode-prod. 

The log file is on the LWM2M agent node in this location: 

/var/log/est-https-coaps-registrar/est-coaps-registrar.log 

Please do the needful."
Defect,CSOIOT-10611,Enable Gainsight Product experience tracking for Edwards Vacuum,Edwards Vacuum 751066,121,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/12/24 15:59,Customer,9/5/24 10:15,,,3-Medium,3-Medium,"*Affected system:* 

Tenant: http://edcentra.edwardsvacuum.com/ 

*Description of the Problem:* 

Please enable Gainsight Product experience tracking for Edwards Vacuum. 

Link to documentation on Gainsight PX tracking and how to enable Gainsight PX: [Cookie Banner -exisiting Operating Gainsight Document.docx|https://sagportal.sharepoint.com/sites/IoTAnalyticsProdMgmtMktgTeam/_layouts/15/AccessDenied.aspx?Source=https%3A%2F%2Fsagportal%2Esharepoint%2Ecom%2F%3Aw%3A%2Fr%2Fsites%2FIoTAnalyticsProdMgmtMktgTeam%2FShared%20Documents%2FProduct%20Management%2FCumulocity%20IoT%20Product%20Experience%2FGainsight%20Tracking%2FCookie%20Banner%20%2Dexisiting%20Operating%20Gainsight%20Document%2Edocx%3Fd%3Dw8f25f46cdb594293868dea86a2a8633f%26csf%3D1%26web%3D1%26e%3D1FB8rA&correlation=0a382fa1%2Dc086%2D8000%2De086%2Db4dc62926dcb&Type=item&name=d677c977%2De37f%2D4bae%2D900a%2D552c083fa616&listItemId=14140&listItemUniqueId=8f25f46c%2Ddb59%2D4293%2D868d%2Dea86a2a8633f] 

C8Y Doc Link: https://cumulocity.com/docs/enterprise-tenant/managing-tenants/#product-experience-tracking 

Please contact [~daj] or [~nru] if you have any questions."
Defect,CSOIOT-10610,Update the Certificate on Itron Dev/Test Enterprise Tenant,"Itron, Inc. 751854",121,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",6/5/24 10:15,Customer,9/13/24 10:09,,,3-Medium,None,"Update the Certificate on Itron Dev/Test Enterprise Tenant 

Please Update the certificate on the following environment 

Management tenant 

[https://management.c8y.sag.idealabs.cloud/apps/administration/index.html#/] 

Tenant id = management 

 Dev C8y 

[https://envd417247.c8y.sag.idealabs.cloud/apps/cockpit/index.html] 

Dev tenant id = t3119081 

  Test C8y 

[https://envt765476.c8y.sag.idealabs.cloud/apps/cockpit/index.html] 

  

[^c8y.sag.idealabs.cloud.zip]"
Defect,CSOIOT-10600,Update LWM2M agent configuration for iTron,"Itron, Inc. 751854",122,Closed,"Saha, Sourajit","Vukman, Tomislav",6/4/24 15:29,Customer,6/4/24 15:29,,,2-High,None,"Tenant Name: https://envd417247.c8y.sag.idealabs.cloud/ 

Tenant URL: https://envd417247.c8y.sag.idealabs.cloud/ 

Most of our Dev devices on April 5th, went into Push connection inactive state with status “Disconnected” under Info page in C8Y. 

We checked our NLC device was operating correctly and online, so this does not seem Device initiated. 

We need root cause analysis for this issue: 
# Why the status changed to Push connection inactive, 
# When will this occur? 
# Alarms pushed from device were not visible in Events tab during this time, why? 
# The device did not sent a deregistration request either. 

Failure device and time: 

urn:imei:354720510191609 
Send Alarm failed to show up on c8y ui on April 5 9-10AM EDT 

  

Oezge mentioned to move this to L2 and that they have access to the tenant and logs already. 

 "
Defect,CSOIOT-10599,Datahub not able to offload events,NTT Communications Corporation 731271,122,Closed,"Bhatt, Vikas","Vukman, Tomislav",7/25/24 11:09,Customer,7/25/24 11:09,,,2-High,2-High,"*Affected system:* 

Tenant ID: t20421644 
Tenant: [https://thegear.jp.cumulocity.com/] 
Instance: Japan 
Version: 10.18 

*Description of the Problem:* 

Customer is running event offloading job by filtering out all c8y related events. 

But offloading is failing with below error.  

!Error.png|thumbnail! 

[~tid] from Datahub R&D mentioned - this is a well-known configuration issue. Ops needs to fix this on JP instance."
Defect,CSOIOT-10595,Schindler: Please check core node 1,Schindler Management AG 751630,124,Closed,"Talbert, Kent","Saaban, Asshad",7/22/24 11:32,Customer,7/22/24 11:32,,,3-Medium,2-High,"Tenant:  [https://main.dm-zz-p.ioee10-cloud.com/apps/devicemanagement/index.html#/devicecontrol/bulk] 

  

Information from Emil: 

  

Logging this strictly internally. Honestly I think there is some glitch in grafana and there should be any issue with Core1 but please verify this and if so close the ticket. As an action step I honestly see someone to fix the dashboards. 

I see that there was some glitch in grafana 10:39 CET and at that time some dashboards say over utilization on core1 with much more memory consumption. On other dashboards it looks ok on the graph but not really on the stats for sys load average 5 and 15 mins. 

Sources: 

#1 Grafana glitch 

[Schindler Total MQTT Connections - 20 - Customer Dedicated - Dashboards - Grafana (c8y.io)|https://grafana.monitor.c8y.io:3000/d/5Ui1R3Enk/schindler-total-mqtt-connections?orgId=1&from=1717144691212&to=1717144836076] 

#2 Core node CPU and RAM utilization jump 

[View panel - Schindler PROD 2.0 - 20 - Customer Dedicated - Dashboards - Grafana (c8y.io)|https://grafana.monitor.c8y.io:3000/d/db052a6c-46a8-4745-91d5-26a4c7be94b5/schindler-prod-2-0?orgId=1&from=1717135114898&to=1717170881132&var-datasource=mimir-prod-eu-01&viewPanel=6] 

[View panel - Schindler PROD 2.0 - 20 - Customer Dedicated - Dashboards - Grafana (c8y.io)|https://grafana.monitor.c8y.io:3000/d/db052a6c-46a8-4745-91d5-26a4c7be94b5/schindler-prod-2-0?orgId=1&from=1717135114898&to=1717170881132&var-datasource=mimir-prod-eu-01&viewPanel=7] 

#3 Core node Sys Load average 5 and 15 mins 12,000% 

[VM metrics - 00 - Base Metrics (based on Cortex) - Dashboards - Grafana (c8y.io)|https://grafana.monitor.c8y.io:3000/d/S24QDWs7k/vm-metrics?orgId=1&var-job=node-exporter&var-node=schindler-ngedm-prod-core-1&var-diskdevices=%5Ba-z%5D%2B%7Cnvme%5B0-9%5D%2Bn%5B0-9%5D%2B&var-datasource=mimir-prod-eu-01&var-c8yenv=schindler-ngedm-multinode-prod-prod&from1668692593999&to=1717160490770&from=1717138374419]"
Defect,CSOIOT-10589,CLONE for Ops - Datalake source in Dremio is not available,NTT Communications Corporation 731271,124,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/14/24 13:36,Customer,6/14/24 13:36,,,2-High,2-High,"*Affected system:* 

Tenant ID: t20421644 
Tenant: [https://thegear.jp.cumulocity.com/] 
Instance: Japan 
Version: 10.18 

*Description of the Problem:* 

Since early morning on 30th May, customer reported an issue that is giving an error about Datalake source object being unavailable in Dremio UI. 
Please see the screenshot for error. 

!Error_DremioUI.png|thumbnail! 

In the morning, Dremio was having an unhealthy status on Japan instance which Ops corrected by restarting dremio-master. But the issue still persists. 

{+}Inputs from C8Y Ops{+}: (https://chat.google.com/room/AAAA9oUUd9o/Dy-A_buOGPI/Dy-A_buOGPI?cls=10) 

Dremio is up and running fine. 
However, Dremio logs show the following: 
{code:java} 
```2024-05-30 09:25:19,877 [start-t21092648DataLake] WARN c.d.e.catalog.ManagedStoragePlugin - Error starting new source: t21092648DataLake 
com.google.common.util.concurrent.UncheckedExecutionException: com.dremio.common.exceptions.UserException: Failure while validating existence of container thingscloud. Error: java.net.ConnectException: connection timed out: iotdlstore.thegear.sg/20.195.124.20:443``` 
{code} 
We can not reach out to the Datalake URL [http://iotdlstore.thegear.sg|http://iotdlstore.thegear.sg/] 

From these logs, it is clearly indicated that Dremio tried to reach to the endpoint ( [iotdlstore.thegear.sg|http://iotdlstore.thegear.sg/]), but the connection is timed out. 

{+}Customer's feedback on Datalake URL not working{+}: 

Datalake team says it can connect to the URL from Postman and we can also ping the address. And there was no change in any configuration from their side. 

!Postman_DatalakeConnection.png|thumbnail!"
Defect,CSOIOT-10579,[Telstra Dev] SMTP Endpoints need updating,Telstra Corporation Limited 751491,126,Closed,"Neale, Robert","Lundsten, Alf",6/17/24 8:50,Customer,6/17/24 8:51,4-Jun-24,,3-Medium,3-Medium,"This has been discussed during Telstra-SAG Ops call last week and this week. Please forward request to Ops team. 

Our internal Telstra network is making some changes and part of this is migrating the Nexus SMTP Proxies to a new environment. Our C8Y environments (both Dev and Prod) are currently using the Nexus SMTP proxies: 
* 10.110.224.148 
* 10.110.224.149 
* 10.110.220.148 

As part of the cutover, we will need to point to the new Mail proxies: 

*Destination* 

[*smtp.nsp.smart-rr.in.telstra.com.au*|http://smtp.nsp.smart-rr.in.telstra.com.au/] 

*10.41.233.215* 

*10.41.245.215* 

Our internal team has done the routing changes for Dev, Upon initial checks, telnet is working from the NAT instance to the new endpoints. For the next step, we are requesting the assistance of Ops team to make the necessary config changes in *Dev* with the new endpoints provided. 

Let us know once this is done or if further information is required. Thank you."
Defect,CSOIOT-10575,Upgrade ISC (Industrial Scientifics) environments to the latest version >10.18 i.e. 2024 release,Industrial Scientific Corporation 752132,127,Closed,"Bhatt, Vikas","Lisik, Milosz (External)",6/10/24 13:13,Customer,9/19/24 10:41,,,3-Medium,3-Medium,"*Affected system:* 

Industrial Scientifics Prod: https://management.na.inet.com 
Industrial Scientifics Dev: https://management.na-dev.inet.com 
Industrial Scientifics Test: https://management.na-qa.inet.com 

*Description of the Problem:* 

Customer has requested to upgrade their environments to the latest release > 10.18 i.e. 2024 release. 
Please prepare schedule proposal for Y2024.2 upgrade."
Defect,CSOIOT-10572,CLONE for Ops - [Kemin Europa] 500 server error while creating events + degraded availability,Kemin Europa 751795,127,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/21/24 14:29,Customer,6/21/24 14:29,,,2-High,2-High,"*Affected system:* 

Instance: Prod (*.cumulocity.com) 
Tenant URL: https://management.dev.keminconnect.com 
UI: 1018.0.205 
WebSDK: 1018.0.205 
Backend: 1020.296.0 

*Description of the Problem:* 

Customer reported - there seems to be something wrong with their tenant. Loading times are sometimes very high and creating events often results in a 500 server error (see HAR attached). 
[^har.txt] 

Sometimes it is better, sometimes it is bad. 
For example, it takes a very long time to open the streaming analytics application, and even when it opens, the EPL section is not displayed.https://management.dev.keminconnect.com/apps/streaminganalytics/index.html 
The HAR file clearly explains that this is just creating an event using the C8Y EVENT API (not a microservice), which is responding with a 500. 
It doesn't happen every time. 

The ""ewon"" microservice also has a lot of time-out exceptions. 
https://management.dev.keminconnect.com/apps/administration/index.html#/ecosystem/microservice/microservices/51662/logs 

Meanwhile, we inspected the network traffic when opening the streaming analytics application 
https://management.dev.keminconnect.com/apps/streaminganalytics/index.html 
Some of the requests take up to 5 minutes before responding with a 200 (please see screenshots attached). 

We need to restart the EPL scripts because they have stopped working (for no reason), but we cannot even reach the webpage to restart them. 

!2024-04-30 14_27_32-_1714480281081.png|thumbnail! 
!2024-04-30 14_27_47-_1714480281453.png|thumbnail! 
!2024-04-30 14_28_15-_1714480281787.png|thumbnail! 
"
Defect,CSOIOT-10569,Request logs - Firmware upgrade failure on the device in production env,Telstra Corporation Limited 751491,128,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",5/28/24 13:07,Customer,5/28/24 13:07,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ______Telstra________ Domain _______telstra.com__________ Version _______10.18________ 
System Usage (Choose one of: Production / Test / Development): ____Development____ 
Time Zone: ______AEST________ 

*Affected tenant* 

Tenant: [http://yvwdevplanb2.iotdev.telstra.com|http://yvwdevplanb2.iotdev.telstra.com/]  
Enterprise Tenant? Yes  
System accessible by R&D? No 



*Issue associated device, application and/or microservice* 

Example URL with the issue: [http://yvwdevplanb2.iotdev.telstra.com/devicecontrol/operations/59264950] 

*Device:* 
* Device manufacturer and type: ____LwM2M______ 
* Number affected: Single, All devices. 
* Device is Certified? Yes 
* C8Y provided Agent? Type _____LwM2M_______ Version __________ 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? Always  
* Frequency - All the time  

*Attach log files...* 

  

*Description of the Problem:* 

Originally, Telstra reported an issue of end customer YVW updating firmware failure. 

Customer is using HTTP rather than CoAP. 

After checking the agent logs and discussed with R&D Jakub, GS advised customer to check and make sure no firewall blocking. Then they have worked internally to fix the HTTP address is correctly routed through Telstra firewalls. 

Now Firmware url downloading request is reaching to Dev load balancer(172.27.0.168) and it is going through Lwm2m agent(192.168.8.217) but customers were receiving 403 response from the agent. 

Device firmware that the (HTTP) server is rejecting the file read due to an access/permission fault (HTTP code 403 - Forbidden):  
{noformat} 
“HTTP/1.1 403 \r\nContent-Type: application/vnd.com.nsn.cumulocity.error+json;ver=0.9;charset=UTF-8\r\nDate: Fri, 24 May 2024 00:46:38 GMT\r”{noformat} 
*Time stamp:  Fri, 24 May 2024 00:46:38 GMT* 

End customer tried FW upgrade and failed with 403. 

So request the server logs at this time stamp and the LwM2M agent logs at the same time. 

  

------------------------------------ 

GS has asked Telstra to provide the agent logs but they provided a different time stamp ( 12:10 PM AEST ). However, it also included the agent error: 
{code:java} 
""2024-05-24 12:15:56.010 DEBUG 1297058 --- [CoapServer(main)#30] c.c.l.a.s.s.f.FirmwareUpdateServiceImpl  : Finishing firmware update process for device: ID [type=com_cumulocity_model_idtype_GId, value=4959239224] with error: Update process failed on device.: Firmware Update Status: IDLE: Firmware Update Result: UNSUPPORTED_PACKAGE_TYPE"",""2024-05-24T12:15:56.010+1000""{code} 
 "
Defect,CSOIOT-10566,CLONE - SSL issue between thin edge and us.cumulocity.com,"Software AG USA, Inc. 315000",128,In Triage,"Chmiel, Slawomir","Pham, Hoang",,Customer,7/25/24 10:37,,,3-Medium,2-High,"Issue occurs on tenant on US instance, but not on eu-latest. 

  

A customer was doing a test on idle data transmission with thin-edge connecting to their tenant. They noticed higher than expected data rates from an idle device. They raised this as a red flag for them which got me investigating. 

My Device: 
* Raspberry Pi Model 2 
* Raspbian GNU/Linux 12 (bookworm) 
* Thin-edge 1.1.0 

With [~y509540@softwareag.com]'s assistance, we did some troubleshooting steps against my personal tenant ([jake.us.cumulocity.com|http://jake.us.cumulocity.com/]). Here we noticed that my device’s bridge status was disconnecting and reconnecting regularly. This disconnection caused the device to go back through the handshake with the platform which was leading to the high data rates the customer was seeing. 

In doing additional testing, I tried connecting the same device to other tenants on [us.cumulocity.com|http://us.cumulocity.com/] ([danish.us.cumulocity.com|http://danish.us.cumulocity.com/] and [dashboard.hennypenny.com|http://dashboard.hennypenny.com/] [[t517788845.us.cumulocity.com|http://t517788845.us.cumulocity.com/]]) and all of these tenants show the same behavior. The device connects and registers but after some time (we did find this to vary, but within 5.5 minutes), the bridge health returns a status 0 followed quickly by a status of 1 once reconnection is complete. After the initial occurrence, the cycle times continue to vary, but it seemed like it was in the 2 minute range. 
{noformat} 
pi@raspberrypi:~ $ mosquitto_sub -v -t 'te/device/main/service/mosquitto-c8y-bridge/status/health' | xargs -d$'\n' -L1 bash -c 'date ""+%Y-%m-%d %T.%3N $0""' 
2024-05-24 09:51:48.211 te/device/main/service/mosquitto-c8y-bridge/status/health 1 
2024-05-24 09:53:47.590 te/device/main/service/mosquitto-c8y-bridge/status/health 0 
2024-05-24 09:53:53.322 te/device/main/service/mosquitto-c8y-bridge/status/health 1 
2024-05-24 09:54:52.589 te/device/main/service/mosquitto-c8y-bridge/status/health 0 
2024-05-24 09:54:58.339 te/device/main/service/mosquitto-c8y-bridge/status/health 1 
2024-05-24 09:56:56.968 te/device/main/service/mosquitto-c8y-bridge/status/health 0 
2024-05-24 09:57:03.294 te/device/main/service/mosquitto-c8y-bridge/status/health 1{noformat} 
We looked at the Mosquitto logs as well and they have a corresponding entry for the disconnects. 
{noformat} 
1716558708: New client connected from 127.0.0.1:50088 as auto-830730C4-86A3-74CB-7135-D34E00E48A46 (p2, c1, k60). 
1716558708: auto-830730C4-86A3-74CB-7135-D34E00E48A46 0 te/device/main/service/mosquitto-c8y-bridge/status/health 
1716558708: New connection from 127.0.0.1:50102 on port 1883. 
1716558708: New client connected from 127.0.0.1:50102 as get_jwt_token_c8y (p2, c1, k10). 
1716558708: get_jwt_token_c8y 1 c8y/s/dat 
1716558708: Client get_jwt_token_c8y closed its connection. 
1716558827: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716558827: Client Cumulocity closed its connection. 
1716558832: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716558832: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716558892: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716558892: Client Cumulocity closed its connection. 
1716558897: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716558897: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559016: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559016: Client Cumulocity closed its connection. 
1716559022: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559022: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559141: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559141: Client Cumulocity closed its connection. 
1716559147: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559147: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559207: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559207: Client Cumulocity closed its connection. 
1716559213: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559213: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559273: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559273: Client Cumulocity closed its connection. 
1716559278: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559278: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559338: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559338: Client Cumulocity closed its connection. 
1716559343: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559343: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559462: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559462: Client Cumulocity closed its connection. 
1716559468: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559468: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559528: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559528: Client Cumulocity closed its connection. 
1716559534: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559534: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559594: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559594: Client Cumulocity closed its connection. 
1716559599: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559599: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559659: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading 
1716559659: Client Cumulocity closed its connection. 
1716559665: Connecting bridge (step 1) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559665: Connecting bridge (step 2) edge_to_c8y (jake.us.cumulocity.com:8883) 
1716559678: Client auto-830730C4-86A3-74CB-7135-D34E00E48A46 disconnected. 
{noformat} 
We tried this with a Debian hypervisor image as well with the same results. The reason I think this may be tied specifically to [us.cumulocity.com|http://us.cumulocity.com/] is that when we connect the same devices to a tenant that we have on eu-latest, the issue goes away. 

More information from Reuben Miller: 

I can also verify the same symptom of the MQTT connection being dropped by the server, where the local mosquitto instance receives a EOL. 

I was able to reduce the test setup to only use the bridge functionality with mosquitto to connect to a device which is already registered with Cumulocity IoT (and connecting using a trusted device certificate). The bridge is configured to also publish the status of the bridge to a local MQTT topic (on the device), the following shows how the connection to Cumulocity is successful, then gets disconnected, and so on (with different intervals): 
{noformat} 
$ mosquitto_sub -t 'te/device/main/service/mosquitto-c8y-bridge/status/health' -v 
{""tst"":""2024-05-23T18:22:13.632278+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":1,""payloadlen"":1,""payload"":""1""} 
{""tst"":""2024-05-23T18:23:37.010517+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""0""} 
{""tst"":""2024-05-23T18:23:43.132258+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""1""} 
{""tst"":""2024-05-23T18:29:01.154756+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""0""} 
{""tst"":""2024-05-23T18:29:07.313185+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""1""} 
{""tst"":""2024-05-23T18:31:10.615497+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""0""} 
{""tst"":""2024-05-23T18:31:17.117449+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""1""} 
{""tst"":""2024-05-23T18:35:30.039113+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""0""} 
{""tst"":""2024-05-23T18:35:36.218210+0000"",""topic"":""te/device/main/service/mosquitto-c8y-bridge/status/health"",""qos"":0,""retain"":0,""payloadlen"":1,""payload"":""1""}{noformat} 
Where the payload can be interpreted as follows: 
* payload: 0 = disconnected 
* payload: 1 = connected 

And on the mosquitto log, on the device, it just shows an unexpected eof message for each disconnect. 
{noformat} 
May 23 18:42:25 c28c5e04f875 mosquitto[217]: 1716489745: OpenSSL Error[0]: error:0A000126:SSL routines::unexpected eof while reading{noformat} 
Switching the same setup to eu-latest does not suffer the same sudden MQTT dropped connections. 

  

he tenant that I was referring to (where the problem is visible). 

It is the same tenant as mentioned by [~jmoo@softwareag.com]: 
* [jake.us.cumulocity.com|http://jake.us.cumulocity.com/] 

The same setup on the following tenants work: 
* [iot.latest.stage.c8y.io|http://iot.latest.stage.c8y.io/] (personal staging tenant) 
* [thin-edge-io.eu-latest.cumulocity.com|http://thin-edge-io.eu-latest.cumulocity.com/] 

---------- 

I've attached the platform details from eu-latest and us environments, downloaded from the management tenants.  

[^platform-details us.json][^platform-details eu-latest.json] 

There are some slight differences between the two environments.  Could this fixed in the different versions between the two?  Or a configuration difference between the environments?"
Defect,CSOIOT-10548,Itron would like to plan an upgrade to the c8y system June 3rd,"Itron, Inc. 751854",132,Closed,"Talbert, Kent","Lisik, Milosz (External)",6/11/24 6:50,Customer,9/10/24 10:14,,,3-Medium,None,"Itron would like to plan an upgrade to the c8y system June 3rd/4th. Looking to move to the latest 2024 branch. 

We want to include any other updates that are in 10.18 that have been fixed which we assume are in 2024."
Defect,CSOIOT-10547,Custom domain not resolved!,Kemin Europa 751795,132,Closed,"Talbert, Kent","Vukman, Tomislav",5/24/24 15:28,Customer,9/3/24 14:58,,,1-Critical,None,"cumulocity.com environment 

  

Kemin have several tenants and subtenants running on a custom domain, but we can’t reach them any more! 

None of our customers can access the platform! 

[management.emea.keminconnect.com|http://management.emea.keminconnect.com/] (t1053843873) 

+ [my.emea.keminconnect.com|http://my.emea.keminconnect.com/] (t1070694369) 

+ [adesco-ie.emea.keminconnect.com|http://adesco-ie.emea.keminconnect.com/] (t1070673080) 

[management.americas.keminconnect.com|http://management.americas.keminconnect.com/] (t1110987792) 

+ [my.americas.keminconnect.com|http://my.americas.keminconnect.com/] (t1132225176) 

[management.apac.keminconnect.com|http://management.apac.keminconnect.com/] (t271952118) 

+ [my.apac.keminconnect.com|http://my.apac.keminconnect.com/] (t1446302684) 

[management.dev.keminconnect.com|http://management.dev.keminconnect.com/] (t721899389) 

+ [development.dev.keminconnect.com|http://development.dev.keminconnect.com/] (t789132470) 

+ [internal.dev.keminconnect.com|http://internal.dev.keminconnect.com/] (t789546043) 

+ [integration.dev.keminconnect.com|http://integration.dev.keminconnect.com/] (t1723267302) 

Please solve this asap! 

  

!image.png|thumbnail!"
Defect,CSOIOT-10546,io-keys cannot connect to XXXXX.io-key.ifm,Autosen GmbH 751645,132,Closed,"Herzog, Christian","Vukman, Tomislav",5/24/24 9:51,Customer,9/3/24 14:59,,,1-Critical,None,"Autosen says: 
After the updates from Tuesday, 21st May 2024, a lot of ifm customers' devices can no longer connect to their specific subtenant "".io-key.ifm"". They are stuck in a reboot-loop. They all were disconnected on 14:43:26 (CEST) and could not establish communication afterwards. 
This does not effect all devices. We have not been able to find a system. 
Re-registration (without deleting the devices) has been tried out but did not show any effect. 
What has been done on Tuesday and how could it affect the connectivity of mqtt devices? 
this topic is extremely urgent since more and more customers cannot use their devices in c8y. I'd like you to prioritize this. 
BICS, the sim-card-provider is also working on the other end. 
  
Perhaps this is the relationship? 
* [https://itrac.eur.ad.sag/browse/CSOIOT-10212] was Scheduled for May 21, 2024 09:00-17:00 CEST 
* issue happened 21st May 2024 14:43:26 (CEST) 

{color:#000000} 
Autosen will also provide you with a list of the device IMEIs and the corresponding subtenants.{color}"
Defect,CSOIOT-10531,APAMA is not working after Cumulocity IoT Maintenance on Prod,"ACCIONA, S.A. 750720",133,Closed,"Bhatt, Vikas","Vukman, Tomislav",5/29/24 10:54,Customer,9/3/24 15:01,,,2-High,2-High,"{*}Affected System{*}: 

+Parent Tenant:+ 

Tenant ID: t134917764 
Tenant URL: acciona.cumulocity.com 

Apama MS subscribed: Apama-ctrl-smartrulesmt 
Apama version: 25.122.0 

+Subtenant:+ 

Tenant ID: t195481554 
Tenant URL: zeroiot.cumulocity.com 

{*}Problem Description{*}:  

Customer is facing a problem in APAMA after the intervention carried out in Cumulocity yesterday on 21st May. 

There are several OOM and Apama Connectivity errors in logs as below. 

+Correlator Errors:+ 
2024-05-22 11:28:15.293 INFO [139984082489344] - -XX:+HeapDumpOnOutOfMemoryError 
2024-05-22 11:28:19.378 INFO [139982378362624] - Added type com.apama.cumulocity.Error 
2024-05-22 11:28:30.649 ERROR [139978800592640:CumulocityLongPollingTransport-scheduler-1] - <connectivity.ApamaConnectivityForCumulocityIoT.CumulocityIoT> Error when subscribing channel: /alarms/*, error: 402::Unknown client 
2024-05-22 11:28:35.056 ERROR [139978782713600:CumulocityLongPollingTransport-scheduler-3] - <connectivity.ApamaConnectivityForCumulocityIoT.CumulocityIoT> Error when subscribing channel: /managedobjects/*, error: 402::Unknown client 

  

Please investigate it and resolve as soon as possible. 

Note: Customer confirmed the issue happens in all subtenants of Acciona."
Defect,CSOIOT-10527,[Telstra] Create admin account under tenant 'whitsundays',Telstra Corporation Limited 751491,134,Closed,"Bhatt, Vikas","Vukman, Tomislav",5/27/24 12:50,Customer,5/27/24 12:50,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Prod 

Tenant ID: whitsundays 
URL: [https://whitsundays.iot.telstra.com/] 
Name: Whitsunday Regional Council 

*Description of the Problem:* 

It was discussed in Ops call with Telstra. 

Telstra has one tenant-“ whitsundays” in which “Sysadmin” user is disabled as well as their tenant owner is also not active. Henceforth, they are locked out and not able to login to the tenant. 

Therefore, customer asked to do the following -two- one thing{-}s{-}: - 

{*}1{*}. -Enable “Sysadmin” user from the tenant- 

-{*}2{*}.- Create one admin user account with below details: 

Name: Akshay Zade 
Email: akshay.zade@team.telstra.com 
Contact: +91 9766458584"
Defect,CSOIOT-10510,Measurement attributes pushed are seen twice on Cumulocity,"Itron, Inc. 751854",134,Closed,"Schon, Gregor","Lisik, Milosz (External)",6/11/24 6:52,Customer,9/19/24 10:42,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 

*Affected tenant* 

Tenant: *envd417247.c8y.sag.idealabs.cloud* OR System-wide issue. 

*Time period error was observed:* 
* Repeatability? *Always* / 
* Frequency - *All the time*  

*Description of the Problem:* 
In  
SI-564011  Measurement attributes pushed are seen twice on Cumulocity 
{*}{*}IC-123661  Measurement attributes pushed are seen twice on Cumulocity 
[IOT-20197|https://itrac.eur.ad.sag/browse/IOT-20197]  Measurement attributes pushed are seen twice on Cumulocity 

it was found that this issue is solved with Fix Version  10.18.0.406. (while customer has BE 10.18.0.261) 

Rumyana proposed to schedule an update for this customer."
Defect,CSOIOT-10509,Increase DREMIO SUPPORT KEY is limits.single_field_size_bytes.  ,Software AG Bangalore Technologies 326500,134,Closed,"Neale, Robert","Janus, Bartosz",5/22/24 11:07,Customer,9/3/24 15:05,22-May-24,,3-Medium,3-Medium,"Creation of offload for inventory fails, Datahub microservice shows error 'Field 'icon' exceeds the size limit of 32000 bytes' 

  

See [https://itrac.eur.ad.sag/browse/CSOIOT-4160] 

  

New error is on jp cumulocity. 

  

The DREMIO SUPPORT KEY is limits.single_field_size_bytes.  "
Defect,CSOIOT-10501,Adding LWM2M to Japan Presales tenant,Cumulocity GmbH 320300,135,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",5/27/24 13:35,Customer,9/3/24 15:06,,,3-Medium,4-Low,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ______Japan________ Domain ______[jp.cumulocity.com|https://presales.jp.cumulocity.com/]_______ Version _______10.18___________ 
Time Zone: _____JST_________ 

*Affected tenant* 

Tenant: [https://presales.jp.cumulocity.com/]  

*Description of the Problem:* 

Pre-Sales team would like to demo LwM2M to customers and prospects.  

Please help add the LWM2M capability to [https://presales.jp.cumulocity.com/] tenant. 

Thanks in advance."
Defect,CSOIOT-10496,CLONE - Issue on DataBroker (24/4/15),"Micro Technology Co., Ltd. 751560",136,Closed,"Jegorow, Tomasz","Vukman, Tomislav",6/13/24 11:04,Customer,6/13/24 11:04,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _{_}{{_}}Japan{{_}}{_}_____ Domain ____{_}{{_}}cumonosu.com{{_}}{_}____ Version ____{_}{{_}}10.18{{_}}{_}____ 
System Usage (Choose one of: Production / Test / Development): ____{_}{{_}}Production{{_}}{_}___ 
Time Zone: ___{_}{{_}}JST{{_}}{_}_____ 

*Affected tenant* 

Tenant: [https://okippa.cumonosu.com|https://okippa.cumonosu.com/]   

[https://okippanishimatsu.cumonosu.com|https://okippanishimatsu.cumonosu.com/]  

[https://miyazakikasenkokudou.cumonosu.com|https://miyazakikasenkokudou.cumonosu.com/] 

[https://okippa_ext.cumonosu.com|https://okippa_ext.cumonosu.com/] 

[https://shiogama.cumonosu.com|https://shiogama.cumonosu.com/] 

[https://okippagreen_tx.cumonosu.com|https://okippagreen_tx.cumonosu.com/] 

[https://okippagreen-th.cumonosu.com|https://okippagreen-th.cumonosu.com/]  

Enterprise Tenant? Yes 

*Application:* 
* (URL in ""Own applications"" if not standard app): DataBroker 

*Time period error was observed:* 
* Start: ___{*}2024/04/15  20:30 JST{*} _______ End: ____2012/04/16 
* Repeatability?  Seen _3_ times in last day 
* Frequency - Time of day: From 20:4 - 20:39 JST Apr. 15th 

*Attach log files...*  Please find attached for the list of alarms when user got at the time from 20:34 - 20:39 JST Apr. 15th. 

Checked the Grafana and please find the first occurrence logs on 15th via link:  [https://grafana.monitor.c8y.io:3000/d/UMOFKKiVz/core-logs?orgId=1&var-datasource=loki-prod-apj-01&var-c8yEnv=cumulocity-multinode-ap-northeast-1-prod&var-nodename=All&var-namespace=cumulocity-core&var-context=databroker&var-filter=&from=1713180780000&to=1713181140000]  

*Description of the Problem:* 

End customer got an issue on DataBroker on Apr 15 at 20:30 in JST. Since then, all the connection via DataBroker stopped sending data between tenants. 

Got the following alarms for all the connection via DataBroker: 
Sample alarm: 
- ""type"": ""c8y_BrokerConnectionError_2869984"", 
- ""text"": ""Data broker is not able to connect to destination tenant for connector 2869984. Events will not be forwarded until the connection is restored."", 
Because this errors on DataBroker created CRIRIS in destination tenants, the impact of this error is huge. Can you tell us why this happened? 

This morning, customer deactivated and reactivated the DataConnector in source tenants and then the data started sending again. 

Kindly help check if DataBroker itself is working correctly and what is the cause of the alarms? 

  

{*}Update{*}: Issue occurred again around {*}21:45 JST Apr. 16th{*}. As customer manually inactivate and reactivate DataConnector, data were sent again. Since all DataConnector stopped sending data, this is very problematic and critically damaged to customer’s business. Please help check and fix this issue? How to prevent it from occurring again?"
Defect,CSOIOT-10495,Baxter: Deactivating Weak ciphers across all instances.,Baxter International inc. 752152,138,Completed,"Talbert, Kent","Fuso, Luca",6/7/24 11:29,Customer,9/10/24 10:16,,,2-High,None,"Baxter needs weak ciphers deactivated on all of their instances.  They'd like this done as soon as possible. 

  

See attached email.  [^Fw EXTERNAL Baxter Ciphers.msg]"
Defect,CSOIOT-10492,Eppendorf: Outage this 16/05 8:50-9:00 UTC,Eppendorf SE 751760,138,Closed,"Neale, Robert","Vukman, Tomislav",6/21/24 14:31,Customer,9/20/24 10:20,,,3-Medium,3-Medium,"Eppendorf noticed that today between 8:50-9:00 UTC no data was incoming for all of his devices, example attached. 

When checking, I could see that this affected basically every tenant of the customer on EMEA. I can also see in multi tenant microservices, that there were either no logs at all in this time frame or many 502 bad gateway errors. 

Apama-ctrl (per tenant) is also having lots of “slow running queries” and 502 bad gateway errors in given timeframe. 

What was the reason for this outage?"
Defect,CSOIOT-10488,Delete measurements for device id 3238567989759 older than 10 days.,Mohawk International Services BV 751864,138,Fixed,"Neale, Robert","Pham, Hoang",,Customer,9/3/24 15:07,17-May-24,,3-Medium,3-Medium,"Customer wishes for all measurements older than 10 days for device id 3238567989759 to be deleted. 

  

!https://chat.google.com/u/0/api/get_attachment_url?url_type=FIFE_URL&content_type=image%2Fpng&attachment_token=AOo0EEU03rQX%2Fzrt3jysCprnxGnzkbRFK78RR49I1CnfXKkyNDNzJKJFPk6iBrEjLSHCqfO9vZgoqH915e5YGO4xZ33wpz2mya7dl5gLSpSvrmx9J6milcfPWSku6Lmr1qNhjy01WCVrNi7zXFFQux%2FTv5s7UMcd8uuL%2B5Jmcz%2B5DGO5sdL3r1c2s4x0thgD9LYz%2BvEkBcJmr8PS9bfN56sxWxtqLygxqlfjECpIB2ZlrBy1E%2BzPct8IZpzWUdZDFDFe7bgte%2FlwYkDwapIhcSFR%2FO1SywcLd5h0J5tQpNofEv62AfAhx1K5d1Advf7WevChNViTQGSXLUZuxCWRnLm%2FT%2BApU3JZFebbr9T7La02WQDlkQGzwkXQCoBuQ%2BzdBFcpRHjcmrjiPp4Yk34UkUlzb26Bhv5fw8ZP3CaFvbLwD9M%2FU7If2ba%2B6YSY%2B1VmEj%2FHuooWfzER7%2FPsTI1DoHNSPXk6SixOgON0KCsGs107xmONWhckT%2F2tfU4%2BjDdsywFwbr0V%2BQ83bM0ji5G1kPZoT%2FlSGPTKtSOxGfmWHxwUbCzQ7%2FVxht7LMFgmFBbLpSRD&sz=w1919-h1072! 

  

Tenant is mohawk-iiot.emea.cumulocity.com 

 "
Defect,CSOIOT-10427,"[EMEA] Measurement API error: ""413 Payload Too Large"" --> ""measurement/Execution timeout, operation will be abandoned""",Mohawk International Services BV 751864,140,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/26/24 15:11,Customer,7/18/24 13:21,,,2-High,2-High,"*Affected system:* 

Instance: EMEA 
Tenant: [https://mohawk-iiot.emea.cumulocity.com/] 
Frontend: 1018.0.170 
Backend: 1020.296.0 

*Description of the Problem:* 

On the customer's tenant [https://mohawk-iiot.emea.cumulocity.com/] on EMEA instance, one of Measurement API queries is taking too long to process (despite pageSize is only 1) and then eventually it's throwing the following error: 

""413 Payload Too Large"" --> ""measurement/Execution timeout, operation will be abandoned"" 

  

{*}Query{*}: 

GET [https://mohawk-iiot.emea.cumulocity.com/measurement/measurements?source=8138620372658&dateFrom=1990-01-01&dateTo=2100-01-01&revert=true&pageSize=1&valueFragmentType=CAL3&valueFragmentSeries=Oproller_NextChange_Time] 

{*}Result{*}:  
{ 
    ""error"": ""measurement/Execution timeout, operation will be abandoned"", 
    ""message"": ""Encountered non-retryable error during query :: caused by :: Request 4063996471 timed out, deadline was 2024-05-15T09:55:45.645+00:00, op was RemoteCommand 4063996471 – target:[cumulocity-azure-fra-prod-mongo-7:27013] db:t11553862 expDate:2024-05-15T09:55:45.645+00:00 cmd:{ find: \""pmdata\"", filter: { source: 

{ $in: [ \""8138620372658\"" ] } 

, \{ $gte: new Date(631152000000), $lt: new Date(4102444800000) }, $and: [ { 

{ $in: [ /^\\QCAL3\\E\\.\\QOproller_NextChange_Time\\E$/ ] } 

} ] }, sort: \{ -1 }, limit: 1, batchSize: 1, allowDiskUse: true, maxTimeMS: 120000, readConcern: \{ level: \""local\"", provenance: \""implicitDefault\"" }, shardVersion: [ Timestamp(394, 1), ObjectId('601d65bd6aabfe442f70f3f0'), Timestamp(1685032349, 9772) ], clientOperationKey: UUID(\""6ea2199a-c8c0-4c2f-a398-0599f42ca38d\""), comment: \""requestId: c4b868b1454ea3e09c4e5e84347b37b9\"", lsid: \{ id: UUID(\""7e0ad5c2-c678-4383-96b2-1a7bf65377bd\""), uid: BinData(0, 635170402D678C7776514EC7BFDDB09553DE423489814A30A2248AC74947D8EE) } }"", 
    ""info"": ""https://cumulocity.com/guides/users-guide/getting-started/"" 
} 
  

*Ops confirmed on Google Chat group that DB cluster is too busy and need to correct the index.*"
Defect,CSOIOT-10426,Reset account passwords.,Syntegon Technology Services AG 752059,140,Closed,"Neale, Robert","Vukman, Tomislav",5/21/24 13:40,Customer,9/6/24 10:16,15-May-24,,3-Medium,3-Medium,"Customer has tenant on c8y prod [havea.synexio.syntegon.com|http://havea.synexio.syntegon.com/] 

  

They have forgotten the passwords for the two accounts that exist there. 

  

Can they be manually set to a password I can then give to the customer so they can use the tenant again."
Defect,CSOIOT-10412,DataHub measurement offload keep failing - need to increase max number of file descriptors,Solenis LLC 751237,145,Closed,"Neale, Robert","Vukman, Tomislav",5/14/24 14:23,Customer,9/3/24 15:16,14-May-24,,3-Medium,2-High,"Solenis report..... 

  

""Many of our user reported that they are not able to fetch the historical data from datalake, so I checked the datahub and I noticed there are many failed measurements offload. 

It is specifically for our biggest cloud tenant, can you please help in troubleshoot why the measurements are not getting correctly offloaded to the datalake?"" 

  

  

After looking at the Dremio executor logs, this was seen at around the times of the failing uploads... 

  

2024-05-10 15:21:13.633     
####################################################################### 
WARNING: 

Please increase the maximum number of file descriptors to at least 65536. 

Dremio utilizes a large number of file descriptors. 
The maximum number of file descriptors, currently set at 30000, is not sufficient. 

####################################################################### 
starting dremio 
/opt/dremio/bin/dremio: line 129: hostname: command not found 

  

This was done before for other customer.. 

  

[https://itrac.eur.ad.sag/browse/CSOIOT-10340] 

  

""changed open file limit via chef to 65536 (""cumulocity-kubernetes"".""docker"".""default-ulimit"".""nofile""), which should help with running out of file descriptors"" 

  

Can this be done for Solenis? 

  

 "
Defect,CSOIOT-10399,[Telstra] DEV - LwM2M Bootstrap Parameters Not Showing in Dev,Telstra Corporation Limited 751491,147,Closed,"Bhatt, Vikas","Vukman, Tomislav",5/28/24 9:32,Customer,9/3/24 15:22,,,3-Medium,2-High,"*Affected system:* 

Telstra DEV: [https://ianc.iotdev.telstra.com/] 
Version: 10.18 

*Description of the Problem:* 

Currently we are noticing that in Telstra's Dev environment, the LwM2M bootstrap parameters are not showing anything in the UI. Please see screenshot attached below. 

It takes a while to load the whole page and when it does all the bootstrap parameters are gone and it says “{*}A server error occurred{*}”. We have checked in multiple Dev tenants and it’s looking the same for all. 

Can you please investigate this issue and what the cause might be? 

!image.png|thumbnail! 
!image-1.png|thumbnail!"
Defect,CSOIOT-10396,TrendMiner Integration API Timeout - SocketTimeoutException from TrendMiner-Cumulocity Connector,Mohawk International Services BV 751864,148,Closed,"Bhatt, Vikas",Unassigned,5/13/24 10:10,Customer,7/18/24 13:21,,,2-High,2-High,"*Affected system:* 

Tenant: https://mohawk-iiot.emea.cumulocity.com/ 
Version: 10.18 

*Description of the Problem:* 

Customer is experiencing an issue when connecting from TrendMiner to Cumulocity. 

The connection is being refused from Cumulocity side and thus Trendminer services still timing out. 
Please see the screenshot which shows SocketTimeoutException from TrendMiner-Cumulocity Connector. 
!image.png|thumbnail!"
Defect,CSOIOT-10390,"Schindler QAL: Can't logon to Dremio UI anymore / ""No space left on device""",Schindler Management AG 751630,148,Closed,"Neale, Robert","Pham, Hoang",5/21/24 13:44,Customer,9/3/24 15:31,,,2-High,2-High,"as of today, 2024-05-07, people are no longer able to log onto the Dremio UI. It shows “Invalid username or password”. 

All corresponding offloading jobs in DataHub fail, due to: 
{noformat} 
Failure in connecting to Dremio: cdjd.com.dremio.exec.rpc.RpcException: HANDSHAKE_VALIDATION : Status: UNKNOWN_FAILURE, Error Id: 8f89ed48-f80e-47b4-8703-3f856a0f05bf, Error message: org.rocksdb.RocksDBException: While appending to file: /opt/dremio/data/db/catalog/068906.log: No space left on device{noformat} 
So, it appears that we ran out of space for Dremio? 

Is this the root cause? How can it be fixed? This is currently blocking our development."
Defect,CSOIOT-10384,[Prod - CRITICAL] Jemena CBOR Microservice Issue,Telstra Corporation Limited 751491,149,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",5/8/24 15:44,Customer,9/3/24 15:34,,,2-High,2-High,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _____{_}{{_}}APJ{{_}}{_}______ Domain ___{_}{{_}}telstra.com{{_}}{_}_______ Version ____{_}{{_}}10.15{{_}}{_}_______ 
System Usage (Choose one of: Production / Test / Development): __{_}{{_}}Production{{_}}{_}___ 
Time Zone: ___{_}{{_}}AEST{{_}}{_}______ 

*Affected tenant* 

Tenant: _____[https://jemena.iot.telstra.com/] 
Enterprise Tenant? Yes 

*Microservice:* 
* (URL in ""Own applications""): _____{_}{{_}}{*}jemena-cbor-decoder{*}{{_}}{_}____ 
* Microservice origin: Custom 
* Customer microservice. Yes 

*Time period error was observed:* 
* Start: ___{_}{{_}}May 6th{{_}}{_}_______ and ongoing. 
* Repeatability? seen _1_ time in last {_}{{_}}1\{_} day 
* Frequency - Time of day: _____{_}{{_}}6:00AM AEST{{_}}{_}_______ 

*Attach log files...* 

Please refer to the Grafana logs at: 

May 6th -   error killing pod : 
[https://grafana.monitor.c8y.io:3000/d/Kube-Events/kubernetes-events?orgId=1&from=1714959549000&to=1714959552000&var-datasource=loki-telstra-01&var-monvercheck=%5E%28%28%5B3-9%5D%7C%5B0-9%5D%7B2,%7D%29%5B.%5D.%2A%7C%282%5B.%5D%28%28%5B3-9%5D%7C%5B0-9%5D%7B2,%7D%29%5B.%5D.%2A%7C1%5B.%5D%28%5B0-9%5D%7C%5B0-9%5D%7B2,%7D%29%29%29%29$&var-c8yEnv=telstra-de-prod&var-filter=&var-case_insensitive=yes]  

  

Additionally, on May 2nd, there were some error logs ( Failed to create pod sandbox ): 

[https://grafana.monitor.c8y.io:3000/d/Kube-Events/kubernetes-events?orgId=1&from=1714590554000&to=1714590556000&var-datasource=loki-telstra-01&var-monvercheck=%5E%28%28%5B3-9%5D%7C%5B0-9%5D%7B2,%7D%29%5B.%5D.%2A%7C%282%5B.%5D%28%28%5B3-9%5D%7C%5B0-9%5D%7B2,%7D%29%5B.%5D.%2A%7C1%5B.%5D%28%5B0-9%5D%7C%5B0-9%5D%7B2,%7D%29%29%29%29$&var-c8yEnv=telstra-de-prod&var-filter=&var-case_insensitive=yes]  

  

*Description of the Problem:* 

One of Telstra production tenants, Jemena, has raised a critical ticket regarding their CBOR decoder not decoding the usual amount of events yesterday (6 May). 

Their *jemena-cbor-decoder* microservice, typically has 10 instances during the day from approximately 2:00AM-6:30PM for processing all CBOR packets. However, they are seeing sometimes it only has 5 instances during expected peak times. 

From their exports on 6 May at 5PM, only 45% of meters have data, typically this should be more than 80% at that time - so this is affecting their market obligations. 

Seen some errors from their microservices logs pertaining to unable to kill the pods and failing to create the pods. Please find attached the screenshot for these errors and Grafana links. 

*May 6th* -   error killing pod : 
error killing pod: failed to ""KillPodSandbox"" for ""6e185cbf-d7ed-49f4-96d9-4e0d48ead10a"" with KillPodSandboxError: ""rpc error: code = Unknown desc = networkPlugin cni failed to teardown pod \""jemena-cbor-decoder-scope-jemena-deployment-558c6f8f99-qm6gl_telstra-de-prod\"" network: Get \""https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/ipamhandles/k8s-pod-network.729ea003c218707b999e69c243b7ac705db6b27693011aa0c9e672d0260a51e3\"": dial tcp 10.96.0.1:443: i/o timeout"" 

  

Additionally, on *May 2nd,* there were some error logs ( Failed to create pod sandbox ) : 

Failed to create pod sandbox: rpc error: code = Unknown desc = failed to set up sandbox container ""7edb73ce6c2e5574cac7caf207da444db6a156923a6e783272c9ed1612de9073"" network for pod ""jemena-cbor-decoder-scope-jemena-deployment-558c6f8f99-vqzhs"": networkPlugin cni failed to set up pod ""jemena-cbor-decoder-scope-jemena-deployment-558c6f8f99-vqzhs_telstra-de-prod"" network: Get ""https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/ippools"": dial tcp 10.96.0.1:443: i/o timeout 

  

GS findings: 

Similar issue was reported before in CSOIOT-9308 . The error message is the same and cause is that pods were hanging in ""Terminating"" state. Moving to new pods helped customer resolve issue. Now require Ops team to help confirm if similar cause for the timeout issue in the current ticket. 

  

-----{-}{{-}}Telstra findings of the issue of May 6th{{-}}{-}------ 

Furthermore, Telstra did an initial investigation internally and extracted some statistics from the Jemena CBOR Microservice logs. These logs contain any actual data that CBOR Microservice has processed for Jemena. If you look at this graph in jemena-microservice-log-statistics.png, there’s some points to see: 
# Typically (from 3 May - 5 May), majority of the decoding starts at 6AM, and finishes around 8PM. 
# However, on 6 May, the decoding didn’t ramp up until 12PM/2PM, which we think could also be why at 5PM when Jemena did the extract, they were only able to see 45% of the data. 

------------------------ 

What customer are potentially seeing is there are errors that might be causing the pods not to scale properly during peak times and also if there are issues from the queue to the microservice causing the delay. 

Kindly help investigate the reason of this issue and fix it. 

Let me know if you need further information."
Defect,CSOIOT-10380,Schindler: Critical Platform Performance Degradation and Bulk Operation Inefficiency - Urgent Resolution Needed,Schindler Management AG 751630,149,Closed,"Talbert, Kent",Unassigned,5/16/24 8:01,Customer,8/20/24 13:40,,,2-High,3-Medium,"* 
*Tenant Name:* 
main 
* 
*Tenant URL:* 
[https://main.dm-zz-p.ioee10-cloud.com/apps/devicemanagement/index.html#/devicecontrol/bulk] 
h4. Description 
Today, a critical incident has been identified concerning the failure of elevator alarms to trigger during emergencies. To rectify this issue promptly, a shell command was deployed across 84,000 devices. The bulk operation was configured with a 0.01-second delay between each operation, aiming to complete all tasks within a maximum timeframe of 20 minutes. 

Unfortunately, after 4 hours of execution, only 30% of the devices have been addressed. The platform's performance degradation is evident, severely impacting not only the bulk operation but also all API operations conducted across various levels. 

*As an example I attached a second screenshot to this ticket from a bulk operation performed with C8Y version 10.16 last year where we have around 500 deployment in parallel. Today we have maximum 8 parallel execution!* 

*Impact:* 
# *Elevator Safety:* Failure to trigger alarms during emergencies poses a significant risk to user safety. 
# *Operational Efficiency:* The bulk operation's delay and inefficiency hinder timely issue resolution, affecting business operations. 
# *Platform Performance:* Degraded performance adversely affects all API operations, impacting system reliability and user experience. 

*Urgent Action Required:* Given the critical nature of the incident and its impact on safety and operations, immediate action is necessary to expedite the resolution process and restore normal functionality to the platform. 

!2024-05-06_18-58-26.png|thumbnail! 

!4-7k (1).png|thumbnail! 

 "
Defect,CSOIOT-10370,"Solenis: During the resolution of an upgrade failure, we identified a number of action items to close the issue.",Solenis LLC 751237,153,Closed,"Talbert, Kent","Vukman, Tomislav",5/24/24 9:53,Customer,5/24/24 9:53,,,3-Medium,2-High,"Solenis environment 

  

I couldn't find an open iTrac for the following, if there is, please close this as a duplicate. 

  

Solenis recently had an upgrade failure that resulted in restoration to their 1017 backup. RnD has identified and implemented a fix. I informed Solenis that the fix for the upgrade is all set and included in the 1018.0.401 release. Below are steps that we outlined in our RCA call with Solenis: 
# Spin up a tenant based on their 1017 backup. 
# Give them access to this tenant so they can configure (set up SSO users) the tenant to validate the fix once applied. 
# Upgrade this new tenant using the 1018.0.401 release. 
# Solenis will then give us the green light after validating everything's working as expected. 

Once we confirm the upgrade's a success in this environment, we'll move on to upgrading their Dev environment and then Production. Solenis is talking with Valenzuela, Adrian about timing to minimize disruption for their users. They prefer weekends, but we're aiming for a slot outside their usual hours. 

Sean Thomas from Solenis mentioned they're eyeing the week of *May 20th* for the Production upgrade. So, let's work backward from there to hit that target."
Defect,CSOIOT-10369,502 Bad gateways on all custom microservices on 2 production tenants!,Kemin Europa 751795,153,Closed,"Schon, Gregor","Lundsten, Alf",5/28/24 9:00,Customer,9/3/24 15:45,,,1-Critical,1-Critical,"We are getting only 502 bad gateway responses when we try to reach custom microservices hosted in Cumulocity on 

[https://management.emea.keminconnect.com/]  


cumulocity-multinode-central-1-prod /  management.emea.keminconnect.com /  
t1053843873    and 
[https://management.americas.keminconnect.com/]. 


cumulocity-multinode-central-1-prod / t1110987792  /  management.americas.keminconnect.com 
*Description of the Problem:* 

Our frontend applications are fully depending on these microservices. None of our users are able to use our applications!! 

Fix ASAP and explain why there is an issue - AGAIN. 



{*}{*}{*}Device:{*} 
* Device manufacturer and type: _________________ 
* Number affected: Single, Few, All devices. 
* Device is Certified? Yes / No 
* C8Y provided Agent? Type _______________ Version ______________ 

 "
Defect,CSOIOT-10368,Not able to register a device via WebSocket on PROD,Eppendorf SE 751760,153,Closed,"Talbert, Kent","Vukman, Tomislav",5/6/24 11:11,Customer,9/3/24 15:45,,,2-High,2-High,"*Affected system:* 

Tenant ID : t279606661 

Tenant URL:  43dd8b503af54daf9de16f92e92e9ddb.visionizedigitallabspace.eppendorf.com 

*Description of the Problem:* 

Customer reported that they cannot register new devices. 

At least, they see this behaviour on 3 Sub-Tenants of the Eppendorf environment. 

Issue started happening on 19-April. 

We only can see that device registration request are not reaching the platform. Devices cannot connect. We have tested this with an existing device which works. Removed the device and reregistered again. And the status is still waiting in Connection. 

{*}Note{*}: There was a similar issue in past on their eu-latest tenant which was solved with a change on the Load Balancer for the MQTT-Header."
Defect,CSOIOT-10367,Request logs for 400 and 403 errors when connect Azure Data lake from datahub,NTT Communications Corporation 731271,153,Closed,"Song, Shaopeng (Jeffrey)","Luczyszyn, Mikolaj (External)",5/15/24 8:51,Customer,9/3/24 15:46,,,3-Medium,2-High,"Request logs for the 400 and 403 errors when connect Azure Data lake from datahub. NTT is investigating the issue at their end but request for the network logs for further investigation. 

Tenant ID: t21092648 

Tenant Url: [https://thegear.jp.cumulocity.com/]  

Environment: Production 

Cloud/On-prem: On-prem  
h3. *Time period error was observed* 
* Reproduced error two times this week: 

1) Tuesday Apr. 30th  3:30PM JST - 5:30 PM JST 

2) Thursday May. 2nd  7:30 PM JST - 8:00PM JST 
h3. *Description of the Problem* 

As per Datahub documentation, to connect the Azure data lake we need an ""Azure storage account name"", ""Azure storage container"" and an access token. In NTT's case, the customer has disabled the internet they have site-to-site VPN from cumulocity to app gateway and routed the traffic from the app gateway through a private network to azure blob, and the Azure storage account name may not resolve its domain name. 

Following suggestion of Tim, NTT continues testing but met an error mentioned above. 

*Error message:* 

Failed to create tenant t21092648. io.vertx.core.impl.NoStackTraceThrowable: CDHCBEE0177 - Failed to create tenant: com.softwareag.cdh.HttpRuntimeException: CDHCDAE0002 - Got HTTP response with status 400 Bad Request and data '\{""errorMessage"":""Failure while validating existence of container thingscloud. Error: java.net.ConnectException: General OpenSslEngine problem"",""context"":[],""moreInfo"":""""}' (request=PUT /apiv2/source/t21092648DataLake). All changes have been rolled back! 

Kindly help collect the network logs from above mentioned time period. 

 "
Defect,CSOIOT-10365,Change Default Values for OAI Secure Timeouts,SAP SE 700,154,Closed,"Welsing, Michael","Valkov, Milen",6/10/24 9:28,Customer,9/28/24 10:05,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 



*Affected tenant* 

Tenant: _________________ OR *System-wide issue.* 

*Description of the Problem:* 

Hello Ops, 

I have a service request from SAP. 

Could you change the default values of OAI Secure timeouts to following recommended values at the C8Y Instance Level? 
* {*}Session absolute timeout{*}{*}: 28 800 seconds (8 hours){*} 
* {*}Session renewal timeout{*}{*}: 2700 seconds (45 minutes){*} 
* *Token lifespan: 5400 seconds (90 minutes)* 

Please do it for all 3 instances of ours: 
# [https://management.dev.cy.iot.sap/|https://management.dev.cy.iot.sap/apps/cockpit/index.html] 
# [https://management.eu20.cy.iot.sap/] 
# [https://management.us20.cy.iot.sap/] 

best regards 

Michael"
Defect,CSOIOT-10342,ODBC connection to dremio refused,DAC System SA 752047,156,Closed,"Herzog, Christian","Vukman, Tomislav",6/4/24 13:25,Customer,9/10/24 10:17,,CDH,3-Medium,None,"DAC System is trying to connect to Dremio via ODBC but I keep getting an error; the connection data and the driver seem correct, I don't know why it's not connecting. 

Tim Doernemann asked in Ops chat: 
""Hello, quick question: a customer ticket was opened by customer DAC about the lack of Apache Arrow Flight connectivity for Dremio. This requires the new On-Top LB WITH HTTP/2 support (see SAP topic this week). 
Does [https://itrac.eur.ad.sag/browse/CSOIOT-10212] mean that we'll have that on the 29th or will the On-Top LB not ship HTTP/2 ?"" 
[https://chat.google.com/room/AAAAppXxqRs/QHFHmA8DbBg/QHFHmA8DbBg?cls=10] "
Defect,CSOIOT-10341,IOT platform - cumulocity 502 Bad Gateway,A1 Digital International GmbH 751565,157,Closed,"Schon, Gregor","Pham, Hoang",5/13/24 10:05,Customer,9/3/24 16:08,,,1-Critical,2-High,"*Platform problem 502 Bad Gateway  on A1 platform*  

*Grafana* *returns ""too many outstanding requests"" for this:* 

[https://grafana.monitor.c8y.io:3000/explore?schemaVersion=1&panes=%7B%22v7w%22:%7B%22datasource%22:%22loki-prod-eu-01%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22expr%22:%22%7Bcumulocity_environment%3D%5C%22a1-ha-pe1-prod%5C%22%7D%20%7C%3D%20%60Bad%20Gateway%60%22,%22queryType%22:%22range%22,%22datasource%22:%7B%22type%22:%22loki%22,%22uid%22:%22loki-prod-eu-01%22%7D,%22editorMode%22:%22builder%22%7D%5D,%22range%22:%7B%22from%22:%22now-48h%22,%22to%22:%22now-24h%22%7D%7D%7D&orgId=1] 

  

For the customer the proplem looks like this. 
!https://service.a1.digital/sys_attachment.do?view=true&sys_id=2c4239a687f9ca50b8ef0fe40cbb35ca! 

  

 "
Defect,CSOIOT-10337,ISC: Upload Apama-ctrl-mc-4c-16g to tenant.,Industrial Scientific Corporation 752132,159,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",5/8/24 12:26,Customer,5/8/24 12:26,,,3-Medium,None,"ISC Dev environment 
Tenant Name: t44554 
Tenant URL: [https://isc.na-dev.inet.com/] 
  
Please upload Apama-ctrl-mc-4c-16g directly to the above Enterprise Tenant.  The microservice needs to be owned by the tenant itself and can't be subscribed from the management tenant.   
  
Please let me know if you have any questions. 
  
Thanks, 
Kent"
Defect,CSOIOT-10336,BSci: Schedule Upgrade for Non-Prod to 10.18,Boston Scientific Corporation 810461,159,Closed,"Talbert, Kent","Lisik, Milosz (External)",5/7/24 9:11,Customer,9/3/24 16:09,,,3-Medium,None,"BSci would like their non-prod environment scheduled to be upgraded to version 10.18 in preparation for continuous update deployment they are enrolled for. 

They would like to do this upgrade June 4th and or June 5th if possible. 

Only apply the upgrade to our non-prod tenant of *.iotnonprod.bsci.com 

  

 "
Defect,CSOIOT-10255,Microservices on the Platform is in CEST timezone and not UTC/GMT,Baxter International inc. 752152,160,Closed,"Talbert, Kent","Pham, Hoang",5/13/24 13:32,Customer,5/13/24 13:32,,,2-High,2-High,"Baxter 10.18 Dev environment 

*.deviot.hillrom.com 

The 10.18 tenants that are setup for Baxter are running in CEST timezone. And hence the Microservice / Kubernates is running in CEST timezone, so all the dates logged/converted are in CEST and not UTC. 

They need the timezone of the microservices changed from CEST to UTC/GMT. 

  

After the change, do the microservices need to be restarted for it to take affect?   Or does it to that dynamically? 

  

Thanks, 

Kent 

 "
Defect,CSOIOT-10254,MongoDB data location questions,Flexible Steel Lacing Company Inc 751958,160,Closed,"Talbert, Kent","Lundsten, Alf",5/21/24 13:40,Customer,5/21/24 13:40,,,3-Medium,None,"Flexco Dedicated Environment 

  

Customer has the following questions with regards to their environment and how the data is stored.  I see that the env is located on AWS Oregon.  Can you provide more details on the customer questions: 

  

Where does our data reside? Meaning, is our data in a fixed region or does it get replicated across multiple regions globally? Also, is it in AWS or Azure? Can you please provide details so we can be informed and to answer our customer’s inquiries now and in the future. 

  

-------- 

  

Thanks, 

Kent"
Defect,CSOIOT-10232,kpn Production env was not working for a short time,KPN B.V. 750580,162,Closed,"Song, Shaopeng (Jeffrey)","Vukman, Tomislav",4/30/24 13:55,Customer,7/25/24 10:34,,,2-High,3-Medium,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ______EMEA_______ Domain ______kpnthings.com_______ Version _______10.16________ 
System Usage (Choose one of: Production / Test / Development): __Production_____ 
Time Zone: ____GMT+2______ 

*Affected tenant* 

Tenant: unigarant.kpnthings.com  
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Time period error was observed:* 
* Start: _____00:31______ End: _______00:32______  
* Repeatability? Seen _1_ time in last _12__ hours/days/weeks) 

*Attach log files...* Please find the logs of the last 12 hours. GS checked the logs and around 00:31 did not find any errors. The recent error is ""Ugly error on networking"" at 03:33:26.. See [https://grafana.monitor.c8y.io:3000/d/UMOFKKiVz/core-logs?orgId=1&var-datasource=loki-prod-eu-02&var-c8yEnv=kpn-prod&var-nodename=All&var-namespace=cumulocity-core&var-context=All&var-filter=&from=1713887047274&to=1713922425026]  

*Description of the Problem:* 

Customer KPN reported Production issue that their private cloud edition hosted by SAG our tenant [unigarant.kpnthings.com|http://unigarant.kpnthings.com/] is not working. Other tenants such as [g4s.kpnthings.com|http://g4s.kpnthings.com/] are working.  

Later customer updated it worked again. However, customer monitored the following message: 

00:31:15 HTTPS [unigarant.kpnthings.com|http://unigarant.kpnthings.com/]: *CRITICAL - Socket timeout after 10 seconds* 

GS checked the logs around that time but not finding related error. 

Create this Critical iTrac to consult Ops team for the cause of this error as this occurred in Production. 

Feel free to let me know if any further information required."
Defect,CSOIOT-10222,Manual subtenant deletion,Software AG 310100,163,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",4/25/24 15:06,Customer,7/29/24 10:37,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA* Version *10.18* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: *kfupm.cumulocity.com* OR System-wide issue. 
Enterprise Tenant? *Yes* / No 
System accessible by R&D? *Yes* / No 

*Description of the Problem:* 

Hi, 

during automated tenant creation a rime out occurred. Please delete the tenant kfupm.cumulocity.com as this was created incomplete. 

Please get in contact with Greg (gergelygyoergy.varro@softwareag.com) after, so that he can retry the deletion after. 

This is the conversation with the customer so far: 

  
{code:java} 
Dear Support Team, 
the subtenant (kfupm.cumulocity.com) has been created by our automated mechanisms in an incomplete manner. Our university customer would like to use the subtenant with the same name, but I cannot delete the subtenant. Could you please delete the subtenant in a synchronized manner (i.e., informing me via Teams before the subtenant is deleted)? 
Many thanks and best regards, 
Greg (GEVA) 
{code} 
  
{code:java} 
Hi Gergely, 
what you mean by ""incomplete manner""? Was there an error message? Can you explain why you can't delete the tenant via your enterprise tenant? 
best regards 
Michael 
{code} 
  

  
{code:java} 
Hi Michael, 
we (University Relations) have an enterprise tenant (urstarter.cumulocity.com). We automatically create subtenants for our university customers, and configure them (create users, change access control settings, etc.) via the API. The createTenant API call replied with an error (or timeout?) after appr. 1 minute. (More precisely, the createTenant API call non-deterministically fails recently.) The subtenant itself seems to be there (i.e., listed under subtenants), but our later configuration steps were skipped due to the error. It is easier to delete the subtenant, and then to recreate it automatically than to perform the skipped configuration steps manually on a subtenant. 
We can only edit or activate/suspend our subtenants. Deletion seems to be disabled. 
Best regards, 
Greg 
{code} 
  

  
{code:java} 
Hi, 
thanks for the update. I will get in contact with our OPS team to check if we can delete the tenant. If they can, there would not be any further information on when it will be done, but only when it is finished. Can you please confirm this approach? 
best regards 
Michael 
{code} 
  

  
{code:java} 
Hi Michael, 
I would prefer a somewhat coordinated approach due to the following reason. After the subtenant deletion I will trigger our automated process. If it failed, then (1) I am going to contact you / the OPS team again for a repeated deletion as our customer would gladly use a tenant with the same name, and additionally (2) it would be a good opportunity for the OPS team to analyze the cause of this non-deterministic error. I do not necessarily need any notifications before tenant deletion, but a direct contact to someone from the OPS team would be appreciated. 
Best regards, 
Greg 
{code} 
  

Thanks for your support! 

Michael 

 "
Defect,CSOIOT-10192,Agent-1 restarted abnormally again 19.4.24 02:04 PM.,Telstra Corporation Limited 751491,166,Closed,"Herzog, Christian",Unassigned,4/20/24 14:54,Customer,9/10/24 10:17,,,3-Medium,None,"We have seen Agent-1 restarted abnormally again today 02:04 PM. Also triggered alarming thresholds for Core-Cpu utilization & Lwm2m agents-Cpu utilization. 

Regarding exeption during this time, around 1000 execeptions raised for ‘c8y.lwm2m.commons.exception.Lwm2mAuthorizationException: Not authorized to access the resource’ 

Could you please help us in investigating this. 

see attached image-10.png and image-11.png 

 "
Defect,CSOIOT-10180,Termination of Datahub Test Cumulocity Tenant for NTT,NTT Communications Corporation 731271,167,Closed,"Song, Shaopeng (Jeffrey)","Luczyszyn, Mikolaj (External)",4/23/24 10:30,Customer,7/25/24 10:35,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ______Japan_______ Domain ____ jp.cumulocity.com _____ Version ______10.18___________ 
System Usage (Choose one of: Production / Test / Development): __  Test _____ 
Time Zone: ______JST_________ 

*Affected tenant* 

Tenant: [https://nttc-internal-datahub-test.jp.cumulocity.com/]  

*Description of the Problem:* 

Please help terminate this test tenant for customer NTT, which we use for Datahub testing for our customer. Currently the tenant has already been suspended however NTT would like to terminate and delete it directly since we no longer use it. 

*Reason:*  

Confirmed with Sales team, customer NTT is having 2 sub-tenant license (as contract) today. But they created 3rd sub-tenant. So SAG will invoice some fee for the extra 3rd Sub-tenant fee. (as usage base/overage pricing) 

Customer does not want to pay the extra fee anymore. Therefore, they made a request/ticket to delete the one Sub-tenant.  This has been discussed with Sales [kentaro.abe@softwareag.com|mailto:kentaro.abe@softwareag.com] and customer success manager [satoru.hishida@softwareag.com|mailto:satoru.hishida@softwareag.com] ."
Defect,CSOIOT-10144,Greenflex: RemoteAccess activate option passthrough,GREENFLEX 751749,168,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",4/25/24 14:44,Customer,7/23/24 10:42,,,2-High,None,"Greenflex environment 

  

After platform update to 10.18, the option remoteaccess/pass-through.enabled is false, please enable the option again 

on these tenants: 

t319996 [gfx-energy.iot.greenflex.com|http://gfx-energy.iot.greenflex.com/] 
t5737294 [gfx-energy-pp.iot.greenflex.com|http://gfx-energy-pp.iot.greenflex.com/] 
t319972 [gfx-common.iot.greenflex.com|http://gfx-common.iot.greenflex.com/] 
t5693710 [gfx-common-dev.iot.greenflex.com|http://gfx-common-dev.iot.greenflex.com/] 
t5737590 [device-sandbox.iot.greenflex.com|http://device-sandbox.iot.greenflex.com/] 

  

!image.png|thumbnail! 

  

 "
Defect,CSOIOT-10111,CLONE - Lost SSO access due to 1018 upgrade - ad-hoc DR needed,Solenis LLC 751237,169,Closed,"Lundsten, Alf","Pham, Hoang",4/17/24 9:36,Customer,4/17/24 9:38,,,1-Critical,1-Critical,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 
System Usage (Choose one of: Production / Test / Development): *Production* 
Time Zone: *AME* 

*Affected tenant* 

Tenant: _________________ OR {*}System-wide issue{*}. 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hello OPS, 

after upgrade to 10.18 customer Solenis has issue with connection to their tenants! 

See: 

""Hello Team, 

We have requested for platform upgrade to 1018 ( [SI-559832|https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-559832] ). And right when the upgrade was going on we started to loose access. Most of our user who have global role and inventory role got rested to blank and even the my admin access is gone. 

I still have the access to the management tenant but on the all the subtenant we lost the access which has the SSO as the preferred login page. 

Please help us on this urgently as this is effecting all our production tenant and user has lost the access and raising concerns. 

Thanks, 

Saif"""
Defect,CSOIOT-10103,APAMA does not work in all the tenants in cumonosu.com,"Micro Technology Co., Ltd. 751560",189,Closed,"Moon, Swai","Behning, Christian",4/26/24 11:00,Customer,9/3/24 17:19,,,1-Critical,1-Critical,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: APJ  

*Affected Customer* 

Microtechnology 

Tenant: 

*All the tenants in cumonosu.com are affected by this issue.* 

System-wide issue is a possibility 

*Version:* 1018.0.261 

*Description of the Problem:* 

Hi Team, 

Microtechnology has reached out to us mentioning that they have a *CRIRIS* issue on some tenants. As an upgrade would be applied to [jp.cumulocity.com|http://jp.cumulocity.com/] on Mar 27 from 5pm in JST, APAMA in all tenants would be restarted. However, APAMA in some tenants was lost and {*}they cannot register new APAMA{*}. In addition{*}, they cannot reactivate{*} some APAMA. 
Affected tenants are the following: 
*  all the tenants in cumonosu.com are affected by this issue. 

Please check on this issue as soon as possible"
Defect,CSOIOT-10100,Lost SSO access due to 1018 upgrade,Solenis LLC 751237,169,Closed,"Welsing, Michael","Valkov, Milen",4/17/24 8:24,Customer,7/23/24 10:43,,,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 
System Usage (Choose one of: Production / Test / Development): *Production* 
Time Zone: *AME* 

*Affected tenant* 

Tenant: _________________ OR {*}System-wide issue{*}. 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hello OPS, 

after upgrade to 10.18 customer Solenis has issue with connection to their tenants! 

See: 

""Hello Team, 

We have requested for platform upgrade to 1018 ( [SI-559832|https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-559832] ). And right when the upgrade was going on we started to loose access. Most of our user who have global role and inventory role got rested to blank and even the my admin access is gone. 

I still have the access to the management tenant but on the all the subtenant we lost the access which has the SSO as the preferred login page. 

Please help us on this urgently as this is effecting all our production tenant and user has lost the access and raising concerns. 

Thanks, 

Saif"""
Defect,CSOIOT-10099,Certificate prompt using jp tenants.,"Micro Technology Co., Ltd. 751560",169,Closed,"Neale, Robert",Unassigned,4/23/24 9:30,Customer,7/22/24 10:43,16-Apr-24,,3-Medium,3-Medium,"Since the SSL related work was done on jp environment on 15/4 customer sees prompt to choose a certificate when accessing tenants on jp environment e.g. apama.cumonosu.com, xyz.jp.cumulocity.com. 

  

!image-2024-04-16-15-00-24-645.png|width=724,height=530! 

  

Investigations seem to suggest that a client certificate is being requested if a valid one is available i.e. mutual ssl authentication. 

  

This is happening in all environments with ontop LB i.e. eu-latest and latest.stage.c8y.io. "
Defect,CSOIOT-10098,Unable to delete user via UI or REST call.,August Storm GmbH & Co. KG 751816,169,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",4/23/24 10:54,Customer,7/29/24 10:39,,,3-Medium,None,"Tenant ID:  t1687276521 

Tenant URL:  testastorm.eu-latest.cumulocity.com 

  

User ID:  {{[https://cumulocity/user_id]}}  

  

When trying to delete the user via the UI, seeing the following message: 

  

!image-2024-04-16-07-55-10-891.png! 

  

Can you delete the user from Mongodb?"
Defect,CSOIOT-10093,Not able to connect Azure Data lake from datahub,NTT Communications Corporation 731271,170,Closed,"Song, Shaopeng (Jeffrey)",Unassigned,4/17/24 14:17,Customer,9/3/24 16:46,,,3-Medium,None,"h2. *(Please remove those items not applicable)* 
h3. *Affected system* 

Installation type (Choose one of: Cloud/on-prem / Edge)? ____{_}On-prem{_}______ 

System Usage (Choose one of: Production / Test / Development): ___{_}Development{_}__ 

Version of Cumulocity IoT platform (or Edge): __{_}10.18{_}_____ 

Version of Cumulocity IoT DataHub: ___{_}10.18{_}_____ 

Time Zone: ____{_}JST (GMT+9){_}_____ 
h3. *Cloud details (only answer for Cloud/on-prem installation)* 

SAG Cloud: Region ____{_}Japan{_}_____ Domain ______{_}[{_}jp.cumulocity.com/{_}_|https://thegear.jp.cumulocity.com/]{_}_______ Version ____{_}10.18{_}________ 

Managed by (usual options: OPS / PS / customer): ____{_}Ops{_}_____ 

Data lake (usually Azure/S3/HDFS, name details if compatible clone): _____{_}Azure{_}________ 

Affected tenant: [https://thegear.jp.cumulocity.com/]  

DataHub Roles of affected user (choose (multiple) from administration/management/query, if none that may be the problem): _________________ 

Enterprise Tenant? Yes 
h3. *Description of the Problem* 

This is a consulting question about Datahub connectivity. 

As per Datahub documentation, to connect the Azure data lake we need an ""Azure storage account name"", ""Azure storage container"" and an access token. in our case, the customer has disabled the internet they have site-to-site VPN from Cumulocity to app gateway and routed the traffic from the app gateway through a private network to azure blob, and the Azure storage account name may not resolve its domain name. Do we have any alternate way to connect to Azure Data Lake using the IP address or any other ways? 

Below find the attached screen shot of network topology for the same. 

Additionally, as checked with RnD in Datahub channel, the following idea should work: 

  

User could add host aliases in all Dremio Pods that point to the actual storage endpoints. I.e, they'd have manual DNS entries, like  
  
{\{MYSTORAGEACCOUNT.dfs.core.windows.net => 20.47.7.146 }} 

or similar. 

User just needs to add entries like below in values.yaml and then helm upgrade: 

[4/8 6:33 PM] Doernemann, Tim Dr. 

Hi, I haven't validated the following idea, but theoretically it should work: they could add host aliases in all Dremio Pods that point to the actual storage endpoints. I.e, they'd have manual DNS entries, like  

  

{{MYSTORAGEACCOUNT.dfs.core.windows.net => 20.47.7.146 }} 

or similar. I don't know how stable the IPs are, but that's my only idea.  

  

One just needs to add entries like below in values.yaml and then helm upgrade: 

  

{{hostAliases:  }} 
{{ - ip: ""127.0.0.1""    }} 
{{ hostnames:    }} 
{{ - ""foo.local""    }} 
{{ - ""bar.local""}} 

  

However, since this may need Ops team to test further, GS created this iTrac to check the next steps."
Defect,CSOIOT-10092,Microservice Download from 2 tenants on US environment.,PredictiveIQ 752214,170,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",4/19/24 9:05,Customer,7/23/24 10:43,,,3-Medium,None,"Tenant Name:  t501245157 and t498208865 
Tenant URL:  https://dev-predictiveiq.us.cumulocity.com/ and [https://predictiveiq.us.cumulocity.com/] 

  

Microservice is named P2 on both tenants. 

  

Customer has requested the cloud ops team to provide the uploaded zip file for the P2 microservice on both their production ([https://predictiveiq.us.cumulocity.com/]) and dev ([https://dev-predictiveiq.us.cumulocity.com/]) tenants 

--- 

The customer appears to have lost the source code for the microservices and would like to see if Cloud Ops has a way to extract the images from the tenants for them? 

  

Let me know if you have any questions. 

  

Thanks, 

Kent  

  

 "
Defect,CSOIOT-10090,EMEA Loriot Agent restarting frequently due to OOM kill.,WIKA Alexander Wiegand SE & Co. KG 752067,170,Closed,"Neale, Robert","Vukman, Tomislav",5/13/24 10:05,Customer,9/3/24 16:46,30-Apr-24,,3-Medium,1-Critical,"On the EMEA platform, Loriot agent microservice is frequently OOM killed. 

  

It is version 10.18.0.261. I believe there is a later version that can be deployed that set 4GB. 

  

Can this be implemented in EMEA"
Defect,CSOIOT-10074,Recovering delete Inventory Managed Objects from the MongoDB,Flexible Steel Lacing Company Inc 751958,173,Closed,"Talbert, Kent","Vukman, Tomislav",5/14/24 14:39,Customer,9/3/24 16:50,,,2-High,None,"Production Tenant id : t114121 
Tenant URL:https://prod.flexcoelevatedashboard.com/ 


We have a situation in Production where one of our admin users accidentally deleted several managed objects by mistake. Is there a way to recover (Undelete) those specific managed objects? Please advise on all options other than a last resort effort to restore the entire database which is something we would like to avoid due to other implications. 

--------- 

 I'm assuming a full restore is the only option for a restore and there is no way to pick out the specific MOs that were deleted and restore them, but I wanted to check with on this with Operations.  Customer can provide a list of the MOs, if necessary. 

  

Thanks, 

Kent"
Defect,CSOIOT-10057,"Error ""Not connected to broker""",Kemin Europa 751795,175,Closed,"Neale, Robert","Vukman, Tomislav",4/15/24 9:31,Customer,9/3/24 16:55,10-Apr-24,,2-High,2-High,"Urgent help needed to see why tenant t721899389 on c8y prod gets http 500 when a measurement or event is added. The measurement/event is created but the response is .. 

  

{     ""error"": ""general/internalError"",     ""message"": ""Processing exceptions:\nError response: Not connected to broker : Error response: Not connected to broker"",     ""info"": ""[https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting""|https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting%22] } 

  

Above is POSTMAN, some microservices are also getting it. Grafana logs for http 500.. 

  

!image-2024-04-10-15-02-17-979.png! 

  

  

Suspect Pulsar."
Defect,CSOIOT-10051,deleting new registered devices - can't be done by API call.,Modern Drive Technology GmbH 751945,175,Closed,"Neale, Robert","Vukman, Tomislav",4/12/24 13:23,Customer,7/15/24 10:44,12-Apr-24,,3-Medium,3-Medium,"a customer created a bulk registration with CSV file, but there went something wrong. The IDs of the devices in registry have names like “TCG4-203826321012;FAUN-KOCO-RCVs/sent to OHZ2”.  Now they can´t cancel registration anymore. Error message says because of encoded slash in URIRequest. 

  

Can you delete all pending registrations from the malformed device-names? I presume this will have to be done against database directly. 

  

faun.machines.cloud"
Defect,CSOIOT-10049,microservice gap in logging and killed message,"Itron, Inc. 751854",176,Closed,"Eha, Allan","Vukman, Tomislav",4/15/24 9:32,Customer,7/12/24 10:24,,,3-Medium,None,"Tenant ID:  t3119081 

Microservice:  lwm2mshim (id: 477) 

Time:  From 2024-04-01 18:32 UTC To:   2024-04-01 21:09 UTC 

  

R&D would like some logs for ITron. 

4. What can the customer see from the events of the microservice and service in case of ""killed"" found? 
kubectl describe -n <namespace> pod <microservice-pod> 
kubectl describe -n <namespace> service <microservice-service> 

  

6. A load balancer log could be helpful in order to see REST calls from that customer's microservice, if such are available. 

 "
Defect,CSOIOT-10027,"CLONE - Reads are going to pending state directly, without executing.","Itron, Inc. 751854",177,Closed,"Lekarov, Grigor","Vukman, Tomislav",4/15/24 9:32,Customer,4/15/24 9:32,,,3-Medium,None,"* 
*Product Version:* 
10.18 
  
* 
*Operating System:* 
Hosted Software Cloud 

  

Tenant: t3119081 

  

we Observed that reads were going to pending, after read is executed. 

attached the screen shot. 

Please let us know, if you need any more information. 

  

urn:imei:354720510185031 

[LwM2M Itron urn:imei:354720510185031 / Cumulocity - DM-LWM2M-X509 (idealabs.cloud)|https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagementx509/index.html#/device/64157517445/control] 

  

!image.png|thumbnail! 

!image-1.png|thumbnail! 

 "
Defect,CSOIOT-10013,"CLONE - Reads are going to pending state directly, without executing.","Itron, Inc. 751854",180,Completed,"Akin, Oezge","Fuso, Luca",4/8/24 11:06,Customer,4/8/24 11:06,,,3-Medium,None,"* 
*Product Version:* 
10.18 
  
* 
*Operating System:* 
Hosted Software Cloud 

  

Tenant: t3119081 

  

we Observed that reads were going to pending, after read is executed. 

attached the screen shot. 

Please let us know, if you need any more information. 

  

urn:imei:354720510185031 

[LwM2M Itron urn:imei:354720510185031 / Cumulocity - DM-LWM2M-X509 (idealabs.cloud)|https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagementx509/index.html#/device/64157517445/control] 

  

!image.png|thumbnail! 

!image-1.png|thumbnail! 

 "
Defect,CSOIOT-10000,CLONE - After Device Registration All the Reads/Writes are going to pending,"Itron, Inc. 751854",181,Closed,"Akin, Oezge","Lundsten, Alf",4/5/24 8:57,Customer,4/5/24 8:57,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *AME* Version *10.18* 

*Affected tenant* 

Tenant: [https://envd417247.c8y.sag.idealabs.cloud/] OR System-wide issue. 
Enterprise Tenant? *Yes* / No 

*Issue associated device, application and/or microservice* 

Example URL with the issue: [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/]  
(for devices, use the link to the Device Management page). 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other *LwM2M* 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi R&D, 

[~oea@softwareag.com] is aware of this issue. Please see customers description. 

""We have seen that, after new Cumulocity release, all the reads are going to pending and it is currently a blocker for our release."" 

Cheers 

Michael"
Defect,CSOIOT-9998,"Delete subtenant t2342644395, cumulocity prod",Autosen GmbH 751645,181,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",4/4/24 11:28,Customer,7/4/24 10:31,4-Apr-24,,3-Medium,3-Medium,"Subtenant matal.io-key.ifm has (again) been created with wrong settings, apps and services and cannot easily made working as supposed to. Thus, re-creating asap is the way to go, which is why the subtenant has to be deleted not by suspending and waiting but by SAG ops. Sorry to bother you again."
Defect,CSOIOT-9975,APAMA does not work in some tenants.,"Micro Technology Co., Ltd. 751560",183,Closed,"Welsing, Michael","Makowski, Pawel (External)",4/5/24 13:12,Customer,9/3/24 17:14,,,3-Medium,2-High,"*Follow up to [CSOIOT-9960|https://itrac.eur.ad.sag/browse/CSOIOT-9960] as that is closed and customer needs more informations:* 

*Reason why this happened (Mar 13):* 
You mentioned there was a misconfiguration with the owner of some directories used by OpenResty in one of three LBs. This misconfiguration was generated by a manual execution of ‘openresty’ command, changing the owner of directories from “nginx” to “nobody”. 
Questions: 
* Why did this misconfiguration occur on only LB1? Why did not happen on both LB2 and LB3? 
* Why did you have to manually execute ‘openresty’ command? Is there any specific reason for the manual execution? 
* Why did not you detect the difference in setting between LB1 and LB2/3? Why did not chef notice the misconfiguration? 

*Reason why APAMA errors were not prevented/detected? (Mar 27):* 
We presume Ops team overlooked not all the APAMA were available after the maintenance done on Mar 27, resulting in CRISIS on some tenants. 
Questions: 
* Why did Ops team finish the maintenance even though All the APAMA was not deployed in each tenant? 
* Did you compare the deployed APAMA after the maintenance with APAMA before the maintenance? 
* From customer’s perspective, we expect the system should be available after the maintenance as it was. How did you verify in each maintenance the system would be the same after the maintenance as before? 

Since you have not yet answer for our previous questions, I have added the same comment as bellow: 
*Notice of weekly planned upgrades:* 
There is a description in status page ([https://cumulocity-apj.statuspage.io/)] for upgrade window: jp.cumulocity.com - Wednesday from 08:00 to 11:00 UTC 
However, there is no notification of the start and end of upgrade and no description on the upgrade which might be done on Mar 27. 
Did you upgrade jp.cumulocity.com on Mar 27? If yes, can you notify us of the start and end of upgrade, and clearly indicate datetime of the upgrade in status page? Since we are not sure whether or not the upgrade was actually done, we cannot determine we should test and check our services around 8pm Wednesday in JST at which regular maintenance might be done. 

*Incident report on status page:* 
We reported this APAMA incident on Empower but there is no description on this incident but a description “No incidents reported today.” in status page. 
We need a clear description for this incident on status page, but how do you think? If you think you do not need it, can you tell us the criteria for incidents listed on status page?"
Defect,CSOIOT-9974,Cumulocity-monitoring-agent cookbook issue after OS migration,Software AG Bangalore Technologies 326500,184,Closed,"Song, Shaopeng (Jeffrey)","Fuso, Luca",4/3/24 12:27,Customer,10/3/24 6:03,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

This is an internal consulting iTrac for issue raised internally by MaSe team. MaSe team is working on migrating BEKAERT Cumulocity environment. 

*Description of the Problem:* 

MaSe team has upgraded the cumulocity IoT platform from version 1017.0.346 to version1018.0.366. 

After the upgrade they did OS Migration from CentOS 7.9 to Rockylinux8.9 and it was completed successfully. 

After OS migration when running the chef-client they are facing the issues in the attached screen shots  (Here cumulocity-monitoring-agent cookbook version is running in 1017.0.346) 

Please refer the attached screenshots for errors. 

Kindly advise on these errors."
Defect,CSOIOT-9971,Solenis: Request to update prod instance to 10.18,Solenis LLC 751237,187,Closed,"Talbert, Kent","Lisik, Milosz (External)",4/8/24 7:52,Customer,6/20/24 22:58,,,3-Medium,None,"Solenis Production environment:  iot.solenis.com 

  

Customer is requesting to have their production environment upgraded to 10.18."
Defect,CSOIOT-9970,[Nordex] nifQAL issues (random 502 errors),Nordex SE 751519,187,Closed,"Bhatt, Vikas","Bieniak, Arkadiusz",4/2/24 11:24,Customer,7/4/24 10:33,,,2-High,2-High,"*Affected system:* 

Nordex PreProd/QA Environment: [https://nordex.nifqal.nordex-online.com/] 

*Description of the Problem:* 

Customer reported that - On 29th March 2024, they have spotted a lot of random 502 Bad Gateway errors while accessing the API. Looks like one of the core nodes is down/misbehaving. 

As this is the PreProd environment, they would like to have it running for automatic tests all the time."
Defect,CSOIOT-9960,APAMA does not work in all the tenants in cumonosu.com after 27 March upgrade,"Micro Technology Co., Ltd. 751560",189,Closed,"Moon, Swai","Schueller, Thomas",4/1/24 12:07,Customer,9/3/24 17:19,,,1-Critical,None,"*Affected system* 

SAG Cloud region: APJ 

*Affected tenant* 

Tenant:  *all the tenants in cumonosu.com*  

  

*Description of the Problem:* 

  

Microtechnology has opened a Crisis ticket mentioning that Apama has stopped working in all the tenants on cumonosu.com. 

  

This has happened after the upgrade to jp.cumulocity.com on Mar 27 from 5pm in JST. 

Can Ops check on this issue? 

RnD ticket: [https://itrac.eur.ad.sag/browse/IOT-19887]"
Defect,CSOIOT-9959,Baxter: Date for Production upgrade to 10.18 from 10.11,Baxter International inc. 752152,189,Closed,"Talbert, Kent","Lisik, Milosz (External)",8/29/24 14:20,Customer,8/29/24 14:20,,,3-Medium,None,"Baxter Production Environment 

From Customer: 

We need to identify the target platform upgrade data for production to upgrade from 10.11 to 10.18. Currently targeting 6/14/24 upgrade start date."
Defect,CSOIOT-9957,C8Y Long polling not working with local Apama project,Software AG 310100,190,Closed,"Schon, Gregor","Staykov, Petar",4/8/24 15:37,Customer,7/7/24 10:12,,support_question,3-Medium,3-Medium,"  

[https://pmt-training.eu-latest.cumulocity.com/] 

*Affected system* 

[https://pmt-training.eu-latest.cumulocity.com/]  

{*}A{*}{*}ffected tenant{*} 

Tenant ID: t21106993 

Grafana logs from this time: [Explore - Loki-EU-01 - Grafana (c8y.io)|https://grafana.monitor.c8y.io:3000/explore?schemaVersion=1&panes=%7B%22cma%22%3A%7B%22datasource%22%3A%22loki-prod-eu-01%22%2C%22queries%22%3A%5B%7B%22refId%22%3A%22A%22%2C%22expr%22%3A%22%7Bcumulocity_environment%3D%5C%22cumulocity-trial-prod%5C%22%7D+%7C%3D+%60t21106993%60+%7C%3D+%60notification%60%22%2C%22queryType%22%3A%22range%22%2C%22datasource%22%3A%7B%22type%22%3A%22loki%22%2C%22uid%22%3A%22loki-prod-eu-01%22%7D%2C%22editorMode%22%3A%22builder%22%7D%5D%2C%22range%22%3A%7B%22from%22%3A%221711008390000%22%2C%22to%22%3A%221711008400000%22%7D%7D%7D&orgId=1] 

UserID _______________ Password _______________ 

*Protocol used?* 
* com.apama.cumulocity.CumulocityRestAPIMonitor  

*Time period error was observed:* 

*2024-03-21 09:06:33.195  –*   *2024-03-21 09:06:33.595* 
*WARN  [26072:CumulocityLongPollingTransport-scheduler-3] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Channel /alarms/* already subscribed (pending or active) with the same handler2024-03-21 09:06:33.595 ERROR*  

Harald Meyer  harald.meyer@softwareag.com 

*Description of the Problem:* 
** 

for a training I am trying to get an old exercise to work, where I am using the C8Y Connectivity plugin but I am getting the following errors (repeatedly every few seconds). Occasionally, in between I am receiving measurements. Sending data to C8Y works as expected. 

The problem happens on eu-latest (1020.73.0) but not on a customer system (10.18.0.6). The local Apama was 10.15.4.0 and 10.15.4.1.  

To me it does not look like this is a problem with Apama or the connectivity problem but a problem with long polling on eu-latest either due to code changes in recent versions or a different setup. Hence, I opened the SR as a C8Y platform issue. 

  
{code:java} 
2024-03-21 09:06:33.195 ##### [28836] - com.apama.cumulocity.CumulocityRestAPIMonitor [2] Cumulocity tenant domain name = pmt-training.eu-latest.cumulocity.com2024-03-21 09:06:33.195 ##### [28836] - com.apama.cumulocity.CumulocityRestAPIMonitor [2] Cumulocity tenant id = t211069932024-03-21 09:06:33.195 INFO  [17024] - Removed monitor com.apama.connectivity.ApplicationInitializedTransports2024-03-21 09:06:33.219 INFO  [21016:ConnectivityManager:hostReady] - <org.eclipse.jetty.util.log> Logging initialized @5781ms to org.eclipse.jetty.util.log.Slf4jLog2024-03-21 09:06:33.225 INFO  [28712] - External sender ""Apama Designer"" <client 6913853359848620032, connection 6920931881921675264, address 127.0.0.1:49309> disconnected cleanly: Other party requested disconnection2024-03-21 09:06:33.240 INFO  [23304] - External sender ""Apama Designer"" <client 6913853359848620032, connection 6920950762598957056, address 127.0.0.1:49325> connected2024-03-21 09:06:33.247 INFO  [28712] - External sender ""Apama Designer"" <client 6913853359848620032, connection 6920950762598957056, address 127.0.0.1:49325> disconnected cleanly: Other party requested disconnection2024-03-21 09:06:33.567 WARN  [27896:CumulocityLongPollingTransport-scheduler-1] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Resubscribing for channel /alarms/*2024-03-21 09:06:33.588 ERROR [27896:CumulocityLongPollingTransport-scheduler-1] - <connectivity.ApamaConnectivityForCumulocityIoT.{chainId=CumulocityIoTNotificationChain}> Error when subscribing channel: /alarms/*, error: 402::Unknown client2024-03-21 09:06:33.588 WARN  [27896:CumulocityLongPollingTransport-scheduler-1] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Resubscribing for channel /events/*2024-03-21 09:06:33.588 WARN  [27896:CumulocityLongPollingTransport-scheduler-1] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Channel /events/* already subscribed (pending or active) with the same handler2024-03-21 09:06:33.588 ERROR [27896:CumulocityLongPollingTransport-scheduler-1] - <connectivity.ApamaConnectivityForCumulocityIoT.{chainId=CumulocityIoTNotificationChain}> Error when subscribing channel: /events/*, error: 402::Unknown client2024-03-21 09:06:33.588 WARN  [27896:CumulocityLongPollingTransport-scheduler-1] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Resubscribing for channel /managedobjects/*2024-03-21 09:06:33.588 WARN  [27896:CumulocityLongPollingTransport-scheduler-1] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Channel /managedobjects/* already subscribed (pending or active) with the same handler2024-03-21 09:06:33.588 ERROR [27896:CumulocityLongPollingTransport-scheduler-1] - <connectivity.ApamaConnectivityForCumulocityIoT.{chainId=CumulocityIoTNotificationChain}> Error when subscribing channel: /managedobjects/*, error: 402::Unknown client2024-03-21 09:06:33.588 WARN  [27896:CumulocityLongPollingTransport-scheduler-1] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Resubscribing for channel /operations/*2024-03-21 09:06:33.588 WARN  [27896:CumulocityLongPollingTransport-scheduler-1] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Channel /operations/* already subscribed (pending or active) with the same handler2024-03-21 09:06:33.588 ERROR [27896:CumulocityLongPollingTransport-scheduler-1] - <connectivity.ApamaConnectivityForCumulocityIoT.{chainId=CumulocityIoTNotificationChain}> Error when subscribing channel: /operations/*, error: 402::Unknown client2024-03-21 09:06:33.594 WARN  [26072:CumulocityLongPollingTransport-scheduler-3] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Resubscribing for channel /alarms/*2024-03-21 09:06:33.595 WARN  [26072:CumulocityLongPollingTransport-scheduler-3] - <com.cumulocity.sdk.client.notification.SubscriberImpl> Channel /alarms/* already subscribed (pending or active) with the same handler2024-03-21 09:06:33.595 ERROR [26072:CumulocityLongPollingTransport-scheduler-3] - <connectivity.ApamaConnectivityForCumulocityIoT.{chainId=CumulocityIoTNotificationChain}> Error when subscribing channel: /alarms/*, error: 402::Unknown client {code} 
Kevin Palfreyman  added a comment:  Suspicion is related to configuration of ontoplb and sticky sessions.  eu-latest has the new ontoplb and sees the issue, but Harald says the issue is not observed on older 10.18 environment. 

There were also comments added to this old thread in T-Apama from July 2023:  
[Grumann, Martin: Hi, as some of you might know the integration of the new containe...|https://teams.microsoft.com/l/message/19:387e415660494872807f046e41be4d84@thread.tacv2/1688554504763?tenantId=d9662eb9-ad98-4e74-a8a2-04ed5d544db6&groupId=49a66f1e-281b-433e-bf2c-a8747c144cee&parentMessageId=1688554504763&teamName=IoT%20%26%20Analytics%20RnD%2BOps&channelName=T%20-%20Apama&createdTime=1688554504763] 
posted in IoT & Analytics RnD+Ops / T - Apama on 05 July 2023 11:55 
  
Martin's latest comment (2024-03-25 11:30 CET) 
{quote}Intermediate update: there is one thing which looks strange. The hashing function was assigned to IP, but not to remote_user as it used to be. We have asked Cloud Ops to provide the entire lb configuration for review. 
{quote} 
  
Grafana logs from this time: [Explore - Loki-EU-01 - Grafana (c8y.io)|https://grafana.monitor.c8y.io:3000/explore?schemaVersion=1&panes=%7B%22cma%22%3A%7B%22datasource%22%3A%22loki-prod-eu-01%22%2C%22queries%22%3A%5B%7B%22refId%22%3A%22A%22%2C%22expr%22%3A%22%7Bcumulocity_environment%3D%5C%22cumulocity-trial-prod%5C%22%7D+%7C%3D+%60t21106993%60+%7C%3D+%60notification%60%22%2C%22queryType%22%3A%22range%22%2C%22datasource%22%3A%7B%22type%22%3A%22loki%22%2C%22uid%22%3A%22loki-prod-eu-01%22%7D%2C%22editorMode%22%3A%22builder%22%7D%5D%2C%22range%22%3A%7B%22from%22%3A%221711008390000%22%2C%22to%22%3A%221711008400000%22%7D%7D%7D&orgId=1] 
Tenant ID: t21106993 
  
The title may say Apama, but this is something for either CloudOps, or Martin Grumann's team to handle."
User Story,CSOIOT-9948,CLONE - [Telstra] Agent1 restarted abnormally and huge spikes in Core & CPU utilizations,Telstra Corporation Limited 751491,190,Completed,"Saha, Sourajit","Pham, Hoang",4/1/24 12:08,Customer,4/1/24 12:08,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Prod with 10.15 version 

*Description of the Problem:* 

We experienced agent1 restart today morning 03:42 AM AEST and we have seen few NullpointerExceptions around/just before the agent restart. We have put a sample log msg in below snippet for reference and full logs are attached in the CSV file. 
{noformat} 
Mar 25 03:41:24 telstra-el7-prod-agents01 start: Exception in thread ""bulk-reg-1335"" java.lang.NullPointerException 
host = telstra-el7-prod-agents01index = cumulocity-app-ssourcetype = message_log{noformat} 
{noformat} 
telstra-el7-prod-agents01 
2024-03-25 03:41:37.321 INFO 29801 --- [main] com.cumulocity.lwm2m.agent.server.Main : Starting Main using Java 11.0.18 on telstra-el7-prod-agents01 with PID 29801 (/usr/lib/lwm2m/lwm2m-agent-server.jar started by root in /) 
Mar 25 03:41:37 telstra-el7-prod-agents01 start: 2024-03-25 03:41:37.321 INFO 29801 --- [ main] com.cumulocity.lwm2m.agent.server.Main : Starting Main using Java 11.0.18 on telstra-el7-prod-agents01 with PID 29801 (/usr/lib/lwm2m/lwm2m-agent-server.jar started by root in /) 
2024-03-25 03:42:44.393 INFO 29801 --- [main] com.cumulocity.lwm2m.agent.server.Main : Started Main in 67.753 seconds (JVM running for 68.737){noformat} 
We have seen lots of exceptions(4212) today(25-Mar) and also noticed same types of exceptions earlier on 12-Mar but number of exceptions on that day is 1170. 

Also huge spikes in Core and Agent CPU utilizations around 4:45 am to 5:00 am and Our test clients are also down during that period. 

Please refer the attached snapshots and Splunk logs for investigating this issue. 

Please let us know if any further details are needed on this. 

  

[^Agent1_restart_logs_25-Mar-2024.csv] 

!image.png|thumbnail! 

!image-1.png|thumbnail! 

!image-2.png|thumbnail! 

!image-3.png|thumbnail!"
Defect,CSOIOT-9938,Immediate deletion of EMT-tenants,Liebherr-EMtec GmbH 751989,191,Closed,"Schon, Gregor","Luczyszyn, Mikolaj (External)",3/27/24 10:38,Customer,6/27/24 10:35,,support_question,3-Medium,2-High,"Deletion of the 2  suspended tickets on cumulocity.com 

1)EMT-IoT  | {*}t1612822686{*}|{*}emt-iot.cumulocity.com{*}| (parent tenant: t1140957597 ) | Lukas Scholze| 

2)  EMT Pre-Prod  | {*}t1978510818{*}| *bmp-preprod.emt.connect.liebherr.com*  (parent tenant: t1140957597 ) 

Customer had confirmed that he is entitled to order the deletion (and my us privileges are not sufficient for that procedure). 

 "
Defect,CSOIOT-9925,Upgrade Edwards' environment to 10.18 version,Edwards Vacuum 751066,191,Closed,"Bhatt, Vikas","Lisik, Milosz (External)",4/5/24 14:47,Customer,7/25/24 10:40,,,3-Medium,3-Medium,"*Affected system:* 

Edwards' environment: http://edcentra.edwardsvacuum.com/ 
Version: 10.17 

*Description of the Problem:* 

Customer has requested an upgrade of their dedicated instance to 10.18. 
"
Defect,CSOIOT-9888,Baxter: Enable Certificate based auth for MQTT on port 8883,Baxter International inc. 752152,194,Completed,"Talbert, Kent","Pham, Hoang",3/28/24 11:39,Customer,7/10/24 11:08,,,3-Medium,None,"Baxter DE Production environment:  *.iot.hillrom.com 

  

Please enable Certificate based auth for MQTT port 8883 on their Production environment. *.iot.hillrom.com. 

  

Tomislav is aware of this as he enabled this on the DEV environment earlier this week.  "
Defect,CSOIOT-9854,CLONE - After Device Registration All the Reads/Writes are going to pending,"Itron, Inc. 751854",195,Closed,"Akin, Oezge","Kehayov, Boyan",3/27/24 10:30,Customer,3/27/24 10:30,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *AME* Version *10.18* 

*Affected tenant* 

Tenant: [https://envd417247.c8y.sag.idealabs.cloud/] OR System-wide issue. 
Enterprise Tenant? *Yes* / No 

*Issue associated device, application and/or microservice* 

Example URL with the issue: [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/]  
(for devices, use the link to the Device Management page). 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other *LwM2M* 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi R&D, 

[~oea@softwareag.com] is aware of this issue. Please see customers description. 

""We have seen that, after new Cumulocity release, all the reads are going to pending and it is currently a blocker for our release."" 

Cheers 

Michael"
Defect,CSOIOT-9852,BSci: Setting up Continuous Update Cadence on *.iotnonprod.bsci.com only.,Boston Scientific Corporation 810461,195,Closed,"Talbert, Kent","Simeonova, Rumyana",3/27/24 10:27,Customer,6/28/24 10:13,,,3-Medium,None,"Boston Scientific would like to have their *.iotnonprod.bsci.com environment put onto a continuous update cadence by end of this month. 

Please only do this to the listed non prod environment. Our prod environment must stay the same way as it is now until further notice. 

--- 

Let me know if you need any other information from the customer."
Defect,CSOIOT-9850,502 Bad Gateway errors when calling a microservice 18th-19th March,Utonomy Ltd 751633,195,Closed,"Neale, Robert","Vukman, Tomislav",4/5/24 14:22,Customer,7/4/24 10:34,27-Mar-24,,3-Medium,3-Medium,"Customer reports.... 

  

Requests from our custom application to our microservice are intermittently returning 502 Bad Gateway errors, which are visible in the UI (see attached screenshot). 

An example of the requested URL is [https://sgn.utcloud.uk/service/gateway-registration/listDashboard?dashboardName=uty-device-control-dashboard-2296004] 

The microservice logs show no errors, which is expected given that the server error is coming from something in front of the microservice (openresty). 

  

...and... 

  

we experience multiple incidents with our AWS lambda prober (hitting [sgn.utcloud.uk|http://sgn.utcloud.uk/]) 

{{2024-03-19T00:00:24.199Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T00:01:32.103Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T00:03:31.403Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T00:30:24.037Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T00:31:26.098Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T01:15:24.034Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T02:15:24.020Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T03:30:24.269Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T04:00:24.763Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T04:01:28.802Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T04:30:24.097Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T05:00:23.871Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T06:15:23.987Z prober:app respMicroService: 502: Bad Gateway}} 

{{2024-03-19T07:30:24.008Z prober:app respMicroService: 502: Bad Gateway}} 

  

When the error was reported I tried calling .../service/cep/health and intermittently got the http 502. 

  

The problem seemed to clear around 9am CET on the 19th. 

  

What could have been the cause? 

  

 "
Defect,CSOIOT-9815,ISC Require Dremio Admin Credentials for Managing Multi-Tenant Analytics on their 3 environments,Industrial Scientific Corporation 752132,196,Closed,"Talbert, Kent","Janus, Bartosz",3/22/24 12:58,Customer,6/25/24 10:37,,,3-Medium,None,"Industrial Scientific:   requires Dremio Admin Credentials for Managing Multi-Tenant Analytics on their 3 environments.   

PROD  [https://management.na.inet.com|https://management.na.inet.com/] 

DEV  [management.na-dev.inet.com|http://management.na-dev.inet.com/] 

QA  [https://management.na-qa.inet.com/] 

  

Below list of users for Dev & QA that need admin rights: 
Witherspoon, Daniel [daniel.witherspoon@indsci.com|mailto:daniel.witherspoon@indsci.com] 
Persson, Greg J [gpersson@indsci.com|mailto:gpersson@indsci.com] 
Punugupati, Venkatesu [venkatesu.punugupati@indsci.com|mailto:venkatesu.punugupati@indsci.com] 
Diwevedi, Vachaspati [vachaspati.diwevedi@indsci.com|mailto:vachaspati.diwevedi@indsci.com] 
ISC SRE [SRE@indsci.com|mailto:SRE@indsci.com] 
  

Prod only - ISC SRE [SRE@indsci.com|mailto:SRE@indsci.com] 

 "
Defect,CSOIOT-9810,delete subtenant in io-key.ifm organization,Autosen GmbH 751645,196,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",3/25/24 9:43,Customer,6/25/24 10:38,20-Mar-24,,3-Medium,3-Medium,"Dennis Jansen at autosen requests.... 

  

please delete the subtenant 
”matal.io-key.ifm”. 
Since we need the exact URL, we cannot just suspend it and wait. 

  

It is on cumulocity prod.. 

  

!image-2024-03-20-10-48-50-013.png!"
Defect,CSOIOT-9798,MQTT Secure Connection uses wrong certificate,ProCom Automation GmbH 752171,197,Closed,"Neale, Robert","Vukman, Tomislav",3/28/24 10:59,Customer,9/3/24 17:36,27-Mar-24,,2-High,3-Medium,"From customer... 

  

I have a problem when I try connecting over mqtts to a tenant of ours (e.g. [procomdev.clouver.de|http://procomdev.clouver.de/]) then I get the following error: 

{{Error [ERR_TLS_CERT_ALTNAME_INVALID]: Hostname/IP does not match certificate's altnames: Host: procomdev.clouver.de. is not in the cert's altnames: DNS:*.cumulocity.com, DNS:cumulocity.com}} 

it looks like the certificate for cumulocity is used instead of the *.clouver certificate that we had sent to you . 

When trying to connect to “[procom.cumulocity.com|http://procom.cumulocity.com/]” with the procomdev credentials it works by the way. 

How can this be fixed?"
Defect,CSOIOT-9777,CLONE - Device disconnected a few minutes after registration,"Itron, Inc. 751854",198,Closed,"Akin, Oezge","Lundsten, Alf",3/18/24 15:31,Customer,3/18/24 15:45,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 

*Affected tenant* 

Tenant: *[https://envd417247.c8y.sag.idealabs.cloud/]* OR System-wide issue. 
Enterprise Tenant? *Yes* / No 

*Issue associated device, application and/or microservice* 

Example URL with the issue: *[https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/15157181751/device-info]*  

*Protocol used?* 
* MQTT / Rest / Smart REST / Other *LwM2M* 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi, 

customer has an issue with device disconnection using LwM2M. Please see the steps customer did so far followed by a thought on the reason this happened. Kindly check what is happening and how to avoid this. 

----- 

C8Y common development tenant: [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/] 

lwm2magent version: 1018.540.68 (system was recently updated to that version) 

Test CNLC device imei:354720510192029 

[https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/15157181751/device-info] 

This device connects to the platform using the legacy PSK method, not the new x509 method! 

Import file is CNLC-354720510192029-C8Y-IMPORT.csv (attached to the ticket) 

-------------- 

After C8Y upgrade to latest version, device showed ""push connection inactive"" and Connection Status DISCONNECTED in device info page (attachment: imei2029-initial-device-info.png). 

Device was power cycled so that it reregistered with C8Y at 3/14 2.55pm pacific. 

Followed events received from device using device “events” page [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/15157181751/events]: 

registration event was received at 
14 Mar 2024, 14:58:59 pacific 

device status changed to CONNECTED in device info page 

Right after the registration, customer looked at the shell details and could see that read/write commands that were automatically initiated by microservices after registration worked OK: 

  
{code:java} 
14 Mar 2024, 14:58:59 
read /3/0/17 
14 Mar 2024, 14:59:09 
write /3/0/13 NN 
{code} 
  

After that customer initiated a manual read command from the shell, to pick up an attribute off the test device. This read command succeeded too. 
{code:java} 
14 Mar 2024, 15:00:16 
read /3/0/13 
{""3"":{""0"":{""13"":{""date"":14,""seconds"":13,""hours"":22,""month"":2,""year"":124,""timezoneOffset"":0,""minutes"":0,""time"":1710453613000,""day"":4}}}}{code} 
1 minute later customer did another read; this also succeeded 
{code:java} 
14 Mar 2024, 15:01:32 
read /3/0/13 
{""3"":{""0"":{""13"":{""date"":14,""seconds"":24,""hours"":22,""month"":2,""year"":124,""timezoneOffset"":0,""minutes"":2,""time"":1710453744000,""day"":4}}}}{code} 
Then customer waited for 5 minutes and checked device status on device-info page [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/15157181751/device-info]. 

Device had changed back to DISCONNECTED status and another attempt to read was not completed. 

  
{code:java} 
14 Mar 2024, 15:07:33 
read /3/0/13 
  
{code} 
NLC has a serial console connected. Customer captured the console log. Attached as imei2029-cli-log-031424-308pm.txt. 
---- 
Now for the thoughts I mentioned: 

When checkin the release notes for the new lwm2m-agent which was installed today ([https://cumulocity.com/docs/2024/change-logs/?component=.component-lwm2m]) the following was noticed: 

  
{code:java} 
LWM2M Time-to-Live duration for device operation realtime subscription 
FEATURE 
Product area: Device management & connectivity 
Component:LWM2M 
Build artifact / version: cumulocity - 10.18.540.9 
The LWM2M agent realtime subscription for device operations now has a limited Time-To-Live (TTL) duration. 
The default TTL duration is 3 minutes. This setting may be configured on platform level. 
  
{code} 
This change sounds like it might be related to the problems customer sees. Perhaps lwm2m-agent is dropping a subscription after 3 minutes of inactivity and so it’s no longer possible to receive responses to requests sent out to devices? 

----- 

Cheers 

Michael"
Defect,CSOIOT-9770,Production-Request to change tenant Owner for YVW tenants,Telstra Corporation Limited 751491,198,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",3/19/24 10:20,Customer,3/19/24 10:20,18-Mar-24,,3-Medium,3-Medium,"Request was made in https://itrac.eur.ad.sag/browse/CSOIOT-9741 - but it has not been fully done. Username has been set to email address but a different username was requested below. 

  

Please correct.  

  

For the below tenants in the production environment, we need to change the tenant owner as per the customer requirement. 

So could you please update the tenant’s owner accordingly and let us know once done? 

Please find below details- 

*Tenant 1:* 

Tenant ID: yvw 

Tenant URL: [yvw.iot.telstra.com|http://yvw.iot.telstra.com/] 
h4. *New tenant owner details-* 

Name: Rupert Allan 

*{color:#de350b}Username: yvwowner{color}* 

Contact: +61422621665 

Email: [rupert.allan@yvw.com.au|mailto:rupert.allan@yvw.com.au] 

  

*Tenant 2:* 

Tenant ID: t64693172 

Tenant URL: [yvwstaging.iot.telstra.com|http://yvwstaging.iot.telstra.com/] 
h3. *New tenant owner details-* 

Name: Rupert Allan 

*{color:#de350b}Username: yvwstagingowner{color}* 

Contact: +61422621665 

Email:  [rupert.allan@yvw.com.au|mailto:rupert.allan@yvw.com.au] 

  

{*}Note from customer{*}: 
* If this conflicts with my existing user account with the same email address, we can use the following alternative instead (and I can update it later): [3.dev.rupert.allan@yvw.com.au|mailto:3.dev.rupert.allan@yvw.com.au] 
* If there is a conflict, please ensure the existing account with username: [rupert.allan@yvw.com.au|mailto:rupert.allan@yvw.com.au] is not affected by this change."
Defect,CSOIOT-9753,"[A1D] CaseCS0062165 ""error"": ""measurement/Execution timeout, operation will be abandoned"",",A1 Digital,202,Closed,"Herzog, Christian","Vukman, Tomislav",5/21/24 13:39,Customer,5/21/24 13:39,,,3-Medium,None,"With click on 
[https://connect.ttcontrol.cloud/apps/cockpit/index.html#/device/214373822/dashboard/225343726] 
  
appear 2 errors: 

error 1 
{ 
""error"": ""measurement/Execution timeout, operation will be abandoned"", 
""message"": ""Encountered non-retryable error during query :: caused by :: Request 1847526276 timed out, deadline was 2024-03-14T13:53:02.615+01:00, op was RemoteCommand 1847526276 -- target:[27013] db:connect expDate:2024-03-14T13:53:02.615+01:00 cmd:\{ find: \""pmdata\"", filter: { source: { $in: [ \""568864361\"" ] }, \{ $gte: new Date(0), $lt: new Date(1710507065000) }, $and: [ \{ { $in: [ /^\\Qairco_ModuleState\\E\\.\\Qairco\\E$/ ] } } ] }, sort: \{ -1 }, limit: 1, batchSize: 1, maxTimeMS: 120000, readConcern: \{ level: \""local\"", provenance: \""implicitDefault\"" }, shardVersion: [ Timestamp(650, 0), ObjectId('5b3f5d8d4822d3a6506436b0'), Timestamp(1688669113, 2972) ], clientOperationKey: UUID(\""1d400404-0f8d-4a9e-b601-df0740d69a28\""), comment: \""requestId: 31e78cd5d163ea93f6271fd896e01b09\"", lsid: \{ id: UUID(\""82ba510c-b07f-4fd1-a159-ec9b8579d8ec\""), uid: BinData(0, 635170402D678C7776514EC7BFDDB09553DE423489814A30A2248AC74947D8EE) } }"", 
""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
} 
error 2 
{ 
""error"": ""measurement/Execution timeout, operation will be abandoned"", 
""message"": ""Encountered non-retryable error during query :: caused by :: Request 618432183 timed out, deadline was 2024-03-14T13:53:02.626+01:00, op was RemoteCommand 618432183 -- target:[27013] db:connect expDate:2024-03-14T13:53:02.626+01:00 cmd:\{ find: \""pmdata\"", filter: { source: { $in: [ \""568864361\"" ] }, \{ $gte: new Date(0), $lt: new Date(1710507065000) }, $and: [ \{ { $in: [ /^\\Qairco_ControlOnOff\\E\\.\\Qairco\\E$/ ] } } ] }, sort: \{ -1 }, limit: 1, batchSize: 1, maxTimeMS: 120000, readConcern: \{ level: \""local\"", provenance: \""implicitDefault\"" }, shardVersion: [ Timestamp(650, 0), ObjectId('5b3f5d8d4822d3a6506436b0'), Timestamp(1688669113, 2972) ], clientOperationKey: UUID(\""e42ada97-e52e-4fe3-88e2-c92b73c7d219\""), comment: \""requestId: 94318b376f2ab438d93ba09ced88fd7b\"", lsid: \{ id: UUID(\""95a44ace-56a5-4a24-8b39-733e44663430\""), uid: BinData(0, 635170402D678C7776514EC7BFDDB09553DE423489814A30A2248AC74947D8EE) } }"", 
""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
} 
  
I found a similar ticket: https://itrac.eur.ad.sag/browse/SC-14878 
""DB is too big for this amount of data on 3 shards. Too much indexes for RAM available (and to little RAM, on the other hand). 
Some indexes was missing also - but this is not even long term solution - I need to check if indexes missing submitted in other ticket were planned to be put into new karaf releases. 
I've created some indexes not waiting for application changes but there won't be magic as single collection is almost 100% of whole database (single collection and it's indexes which definitely won't fit into RAM available."" 

I assume we have a similar case here. Can you please check if indexes can be created or if you can solve this from Ops site? I have an access to the tenant and can test."
Defect,CSOIOT-9747,CLONE - Increase in Core and Agent CPU utilization at 14:00 UTC on 11th March,Telstra Corporation Limited 751491,202,Closed,"Akin, Oezge","Janus, Bartosz",3/15/24 10:00,Customer,3/15/24 10:00,,,3-Medium,None,"From Akshay Rajeshwar / Telstra: 

As communicated over email, we observed a CPU spike for a short time for platform Core at 14:00 UTC on March 11. 

 Also, during the same time, we observed a spike in CPU utilization for LWM2M Agent 1 as well. 

We observed high CPU utilization for both Core and LWM2M Agent 1, which results in the disconnection of the client, and it reconnects after some time, so this is a bit unusual this time! 

 During that time, we have also noticed multiple exceptions: “{*}ERROR 1098{*} — [CoapServer(main)#2555] c.l.l.s.e.h.Lwm2mRegistrationHandler: Failed to execute on registration updated operations on listener.” 

 As Oezge mentioned, she has observed some errors in LWM2M agent logs, so please investigate this issue and suggest further. 

 Attaching the ongoing email, which has all screenshots and details for your reference. 

 "
Defect,CSOIOT-9743,Increase wrong/bad password request counter from 3 to default,Baxter International inc. 752152,203,Closed,"Herzog, Christian","Lundsten, Alf",3/18/24 9:45,Customer,3/18/24 9:45,,,3-Medium,None,"h5. [nageshrao.eate@softwareag.com|mailto:nageshrao.eate@softwareag.com] asks: 

Not sure why after 3 consecutive wrong passwords making users getting locked. Please increase this counter from 3 to default on [management.deviot.hillrom.com|http://management.deviot.hillrom.com/] environment.. 
why is this changed, is there a request? or happened during upgrade of environment? 

My comment: 
I have no access on [management.deviot.hillrom.com|http://management.deviot.hillrom.com/] and cannot check / change the current setting. 

My knowledge: 
After 100 wrong login attempts locks Cumulocity a user by default. 
It is possible to change the number on coreProperties with setting ""system.authentication.badRequestCounter: 100"" 
More information see ""[Multi-node Installation Guide|https://empower.softwareag.com/sl24sec/SecuredServices/document/java/cumulocity_iot_platform/iot10-18-0/10-18-0_Cumulocity_IoT_Core_Multi-node_installation_guide.pdf]"" chapter ""Configure maximum number of failed user login requests"" 

Can you please check / change it and answer the questions? 
If it is 100, also let me know it, then I have an idea to a misuse."
Defect,CSOIOT-9741,Production-Request to change tenant Owner for YVW tenants,Telstra Corporation Limited 751491,203,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",3/15/24 10:38,Customer,6/25/24 10:39,13-Mar-24,,3-Medium,3-Medium,"For the below tenants in the production environment, we need to change the tenant owner as per the customer requirement. 

So could you please update the tenant’s owner accordingly and let us know once done? 

Please find below details- 

*Tenant 1:* 

Tenant ID: yvw 

Tenant URL: [yvw.iot.telstra.com|http://yvw.iot.telstra.com/] 
h4. *New tenant owner details-* 

Name: Rupert Allan 

Username: yvwowner 

Contact: +61422621665 

Email: [rupert.allan@yvw.com.au|mailto:rupert.allan@yvw.com.au] 

  

*Tenant 2:* 

Tenant ID: t64693172 

Tenant URL: [yvwstaging.iot.telstra.com|http://yvwstaging.iot.telstra.com/] 
h3. *New tenant owner details-* 

Name: Rupert Allan 

Username: yvwstagingowner 

Contact: +61422621665 

Email:  [rupert.allan@yvw.com.au|mailto:rupert.allan@yvw.com.au] 

  

{*}Note from customer{*}: 
* If this conflicts with my existing user account with the same email address, we can use the following alternative instead (and I can update it later): [3.dev.rupert.allan@yvw.com.au|mailto:3.dev.rupert.allan@yvw.com.au] 
* If there is a conflict, please ensure the existing account with username: [rupert.allan@yvw.com.au|mailto:rupert.allan@yvw.com.au] is not affected by this change."
Defect,CSOIOT-9700,"Not able to delete file from 'Files Repository' -- Could not find the resource with ID ""135578115"".",Modern Drive Technology GmbH 751945,210,Closed,"Herod, Jaroslaw","Luczyszyn, Mikolaj (External)",3/25/24 10:28,Customer,3/25/24 10:28,,,3-Medium,3-Medium,"*Affected system:* 

Tenant: [https://mulag.machines.cloud|https://mulag.machines.cloud/] 
Version: 10.18 

*Description of the Problem:* 

Customer is not able to delete a file from Files repository and getting an error. 

Link: [https://mulag.machines.cloud/apps/administration/index.html#/files] 

*Error*: Could not find the resource with ID ""135578115"". 

File Name: Bodenseekreis_measurements_2018-07-30T07:08:28.181Z.csv 
Size: 4.5 GB 


{code:java} 
GET https://mulag.machines.cloud/inventory/binaries/135578115 

{ 
""error"": ""inventory/Not Found"", 
""message"": ""Resource ID [type=com_cumulocity_model_idtype_GId, value=135578115] for this request not found."", 
""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
} 
{code} 

{code:java} 
DELETE https://mulag.machines.cloud/inventory/binaries/135578115 

{ 
""error"": ""inventory/Not Found"", 
""message"": ""Resource ID [type=com_cumulocity_model_idtype_GId, value=135578115] for this request not found."", 
""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
} 
{code} 




{code:java} 
GET https://mulag.machines.cloud/inventory/managedObjects/135578115 

{ 
""additionParents"": { 
""references"": [], 
""self"": ""https://mulag.machines.cloud/inventory/managedObjects/135578115/additionParents"" 
}, 
""owner"": ""p.schmiederer@mulag.de"", 
""childDevices"": { 
""references"": [], 
""self"": ""https://mulag.machines.cloud/inventory/managedObjects/135578115/childDevices"" 
}, 
""childAssets"": { 
""references"": [], 
""self"": ""https://mulag.machines.cloud/inventory/managedObjects/135578115/childAssets"" 
}, 
""creationTime"": ""2018-07-30T07:08:28.181Z"", 
""type"": ""text/csv"", 
""lastUpdated"": ""2018-07-31T09:41:56.954Z"", 
""childAdditions"": { 
""references"": [], 
""self"": ""https://mulag.machines.cloud/inventory/managedObjects/135578115/childAdditions"" 
}, 
""name"": ""Bodenseekreis_measurements_2018-07-30T07:08:28.181Z.csv"", 
""assetParents"": { 
""references"": [], 
""self"": ""https://mulag.machines.cloud/inventory/managedObjects/135578115/assetParents"" 
}, 
""deviceParents"": { 
""references"": [], 
""self"": ""https://mulag.machines.cloud/inventory/managedObjects/135578115/deviceParents"" 
}, 
""self"": ""https://mulag.machines.cloud/inventory/managedObjects/135578115"", 
""id"": ""135578115"", 
""c8y_IsBinary"": """", 
""length"": 4851326976, 
""contentType"": ""text/csv"" 
} 
{code} 

{code:java} 
DELETE https://mulag.machines.cloud/inventory/managedObjects/135578115 

 { 
""error"": ""inventory/Invalid Data"", 
""message"": ""Cannot delete managed object. : Cannot change binary metadata through inventory api."", 
""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
} 
{code} 
"
Defect,CSOIOT-9698,Device Manager location not updated when device pushes update,"Itron, Inc. 751854",210,Closed,"Eha, Allan","Pham, Hoang",3/7/24 7:40,Customer,6/6/24 10:35,,,3-Medium,None,"* 
*Tenant Name:* 
Common Development Tenant 
* 
*Tenant URL:* 
[https://envd417247.c8y.sag.idealabs.cloud/] 

I have a request from R&D to get the LWM2M server logs for ITron 

Friday 1-Mar 14:00 through Sunday 3-Mar 23:59 

 "
Defect,CSOIOT-9697,[A1D] INC0084647 2 Global Alerts from https://opsmanager.a1.digital,A1 Digital International GmbH 751565,210,Closed,"Herzog, Christian","Valkov, Milen",3/10/24 13:12,Customer,6/11/24 10:34,,,2-High,None,"A1D received a monitoring alert that the following job fails repeatedly: 42groom 
And the replica sets have late snapshots. 
Its the A1 prod env. 
Alert details in the emails attached. 
I checked the C8y Operations guide, but found no hints to the alerts. 

A1 wants to know, why do these alerts appear and how to resolve it."
Defect,CSOIOT-9695,Platform slow to respond to queries on the /inventory/managedObjects endpoint.,Flexible Steel Lacing Company Inc 751958,210,Closed,"Herod, Jaroslaw","Bieniak, Arkadiusz",3/20/24 8:51,Customer,3/20/24 8:56,,,2-High,None,"Flexco environment:  10.15.0.329 

Tenant ID:  t114121 

Tenant URL:  prod.flexcoelevatedashboard.com 

  

We’ve upgraded the Flexco environment to use Apama-Ctrl-2c-8g instead of Apama-Ctrl-1c-4g to help resolve the issues they are seeing like the attached screen print.  This is related to the issues they were seeing in [https://getsupport.softwareag.com/browse/SI-549068|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgetsupport.softwareag.com%2Fbrowse%2FSI-549068&data=05%7C02%7CKent.Talbert%40softwareag.com%7C509fa6180c4846cad26008dc3d28a944%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C638452492057397366%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C0%7C%7C%7C&sdata=%2B5LJIPAGi1%2BCmLSRsNZe7HLCTxUtesRPyeAX78XK0T0%3D&reserved=0] and [https://itrac.eur.ad.sag/browse/PAB-4337] 

  

Now they are starting to see issues with the new Apama.  They reported that “the Apama ctrl hangs especially on the AlarmSettingsManagerAlexis EPL. We are not receiving email notifications as a result of that.”  They are seeing inconsistent behavior in that sometimes it works and others it doesn’t. 

  

In the Apama logs, we are now seeing the following types of Warnings: 

  

 correlator]  2024-03-04 17:40:53.916 WARN  [140640050460416] - <connectivity.httpClient.CumulocityIoTGenericChain> \{0} Caught exception processing a request: Timeout 

[correlator]  2024-03-04 17:40:53.916 WARN  [140640050460416] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Long running query detected: request 2 GET /inventory/managedObjects?fragmentType=c8y_IsDevice&withTotalPages=true&withParents=true&pageSize=2000&query=%24filter%3D%28%28type%20eq%20%27flexco_i3%27%20or%20type%20eq%20%27Cleaner%27%20or%20type%20eq%20%27Belt%27%20or%20type%20eq%20%27Conveyor%27%20or%20type%20eq%20%27Blade%27%29%20and%20%28_id%20gt%20%270%27%29%29%20%24orderby%3D_id%20asc has been running for 120.002243 seconds, with  totalPages=1 and pageSize=2000 

[correlator]  2024-03-04 17:40:53.916 ERROR [140640050460416] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Cumulocity returned error 400 Timeout:  while performing GET /inventory/managedObjects (params: \{fragmentType:c8y_IsDevice,withTotalPages:true,withParents:true,pageSize:2000,query:$filter=((type eq 'flexco_i3' or type eq 'Cleaner' or type eq 'Belt' or type eq 'Conveyor' or type eq 'Blade') and (_id gt '0')) $orderby=_id asc}); request payload is (null); response payload is: (null) 

[correlator]  2024-03-04 17:40:53.916 WARN  [140640050460416] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Long running query completed: request 2 GET /inventory/managedObjects?fragmentType=c8y_IsDevice&withTotalPages=true&withParents=true&pageSize=2000&query=%24filter%3D%28%28type%20eq%20%27flexco_i3%27%20or%20type%20eq%20%27Cleaner%27%20or%20type%20eq%20%27Belt%27%20or%20type%20eq%20%27Conveyor%27%20or%20type%20eq%20%27Blade%27%29%20and%20%28_id%20gt%20%270%27%29%29%20%24orderby%3D_id%20asc completed after 120.002462 seconds 

  

And:  

[correlator]  2024-03-04 17:50:33.001 WARN  [140640042067712] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Long running query detected: request 3162 PUT /inventory/managedObjects/55990282 has been running for 10.583272 seconds, with  totalPages=1 and pageSize=0 
[correlator]  2024-03-04 17:50:33.001 WARN  [140640042067712] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Long running query completed: request 3162 PUT /inventory/managedObjects/55990282 completed after 10.583355 seconds 

  

The Apama team is looking into this issue as well and have suggested to open a ticket with R&D and/or Ops to look into this on the core side. 

  

FYI, We have reverted the customer back to Apama-Ctrl-1c-4g and are not seeing these messages on that version. 

  

Attached are the Apama logs from the time of the issue.   

  

In Grafana, I see the following error around the time of the long running query at 17:40.53: 

  
|024-03-04 10:40:54.470|{""instant"":\{""epochSecond"":1709574054,""nanoOfSecond"":47000000},""thread"":""qtp251214887-940789"",""level"":""ERROR"",""loggerName"":""com.cumulocity.rest.mediatypes.ErrorMessageRepresentationBuilder"",""message"":""Error response! com.cumulocity.exception.database.ExecutionTimeoutException: com.mongodb.MongoExecutionTimeoutException: failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit"",""thrown"":{""commonElementCount"":0,""localizedMessage"":""com.cumulocity.exception.database.ExecutionTimeoutException: com.mongodb.MongoExecutionTimeoutException: failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit"",""message"":""com.cumulocity.exception.database.ExecutionTimeoutException: com.mongodb.MongoExecutionTimeoutException: failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit"",""name"":""com.google.common.util.concurrent.UncheckedExecutionException"",""cause"":{""commonElementCount"":271,""localizedMessage"":""com.mongodb.MongoExecutionTimeoutException: failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit"",""message"":""com.mongodb.MongoExecutionTimeoutException: failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit"",""name"":""com.cumulocity.exception.database.ExecutionTimeoutException"",""cause"":{""commonElementCount"":271,""localizedMessage"":""failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit"",""message"":""failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit"",""name"":""com.mongodb.MongoExecutionTimeoutException"",""extendedStackTrace"":""com.mongodb.MongoExecutionTimeoutException: failed on: rs01 :: caused by :: Exec error resulting in state FAILURE :: caused by :: operation exceeded time limit\n\tat com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:264) ~[?:?]\n\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:194) ~[?:?]\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[?:?]\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[?:?]\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:116) ~[?:?]\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:644) ~[?:?]\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:71) ~[?:?]\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:240) ~[?:?]\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:226) ~[?:?]\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:126) ~[?:?]\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:116)| 

I've attached the log from Grafana as well.  Could this timeout be related and causing the issues? 

  

 "
Defect,CSOIOT-9694,Install 10.18.0.356 on Industrial Scientific environment,Industrial Scientific Corporation 752132,210,Closed,"Talbert, Kent","Lisik, Milosz (External)",3/13/24 11:34,Customer,6/20/24 11:26,,,2-High,None,"Need to install 10.18.0.356 on Industrial Scientific environment. 

  

They need the fix from this iTrac:  [https://itrac.eur.ad.sag/browse/IOT-19360]"
Defect,CSOIOT-9692,Custom Microservice Ressource limit setting,Hilti AG 315,210,Closed,"Welsing, Michael",Unassigned,3/7/24 8:51,Customer,6/10/24 10:43,,,3-Medium,None,"Hi Ops, 

Daniel Primm and Olaf Meier had a session with Hilti/Christian Facciorusso about the custom service resource limits. 

They discussed the possibility to (dynamically) increase the resource limits of the pod / service “dmp-meas-import-srv-1-scope-t978904552” from 1 Core/CPU to 2 Cores/CPUs for a test period of one week only to see if the performance of this pod will improve for this dedicated tenant only (note that the customer cannot change the manifest of this microservice short term since this will have a general on all tenants using that microservice). Daniel suggests to involve CloudOps (eg. Luca Fuso) to discuss this approach and possible consequences. 

Kind regards 

Michael"
Defect,CSOIOT-9689,CLONE for Ops - Upgrade ODBC driver on JP instance to resolve Datahub TLS issues on jp.cumulocity.com,Cumulocity GmbH 320300,211,Closed,"Bhatt, Vikas","Staykov, Petar",3/18/24 9:39,Customer,3/18/24 9:39,,,3-Medium,3-Medium,"*Affected system:* 

Tenant: [https://devices.jp.cumulocity.com/] 
UI version: 1018.0.170 
Backend version: 1018.0.261 
Datahub MS version: 10.18.0.7.132 
  
*Description of the Problem:* 

Customer reported issues accessing the ODBC interface for Datahub on their tenant [https://devices.jp.cumulocity.com/] on [jp.cumulocity.com|http://jp.cumulocity.com/] 

Please see linked R&D iTrac CDH-4550 for more details. 

------------------------------------------- 

{*}Inputs from R&D for Ops{*}:  

R&D team found this issue might be due to the setup on JP instance not yet using latest load balancer. 
In that case, Flight will not work and we would need to use the old JDBC driver to resolve this issue. 

The old ODBC driver is no more publicly available. [https://sagportal.sharepoint.com/:f:/r/sites/CumulocityIoTDataHub/Shared%20Documents/General/Dremio%20ODBC%20Drivers?csf=1&web=1&e=hCJsIU] 

  

We have been paying Datahub customers on the Japan instance (incl. NTT). So far, nobody seemed to have noticed it, but we would like to avoid that situation. 
NTT is currently doing the data migration onto the JP instance for this customer and they will then immediately use Datahub. 

Therefore, please update the applicable ODBC drivers on JP instance. 

{*}@Ops{*}: Please contact [~chei] or [~tid]  regarding the version to install."
Defect,CSOIOT-9688,[Telstra] DEV - Request to change Tenant Owners for Jemena tenants,Telstra Corporation Limited 751491,211,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",3/7/24 9:31,Customer,6/11/24 10:35,,,3-Medium,3-Medium,"*Affected system:* 

Jemena tenants on Telstra DEV environment 

*Description of the Problem:* 

For the below tenants in the development environment, Telstra has requested to change the tenant owner as per their end customers' requirement. 

Could you please update the following tenants’ owners accordingly? 

------------------------------------ 

*Tenant 1:* 

Tenant ID: t188211358 

Tenant URL: [https://jemenadev2.iotdev.telstra.com/] 
h4. *New tenant owner details-* 

Name: Leor Karp 

Username: *jemenadev2admin* 

Contact: +61447250379 

Email: [automation@safegroup.com.au|mailto:automation@safegroup.com.au] 

------------------------------------ 

------------------------------------ 

*Tenant 2:* 

Tenant ID: t146530716 

Tenant URL: [https://jemenadev.iotdev.telstra.com/] 
h3.  *New tenant owner details-* 

Name: Leor Karp 

Username: *jemenadevadmin* 

Contact: +61447250379 

Email: [automation@safegroup.com.au|mailto:automation@safegroup.com.au] 

^------------------------------------^"
Defect,CSOIOT-9685,Schindler C8Y: Implement monitoring for CDH offloading jobs,Schindler Management AG 751630,211,Closed,"Schon, Gregor",Unassigned,3/6/24 17:17,Customer,6/24/24 10:39,,,3-Medium,None,"( Compare https://getsupport.softwareag.com/browse/IC-120993;    [https://itrac.eur.ad.sag/browse/CDH-4576]  

  

nslookup main.dm-zz-p.ioee10-cloud.com; Name:    main.dm-zz-p.ioee10-cloud.com; Address:  51.104.141.18  

Platform; schindler-ngedm-multinode-prod-prod; 
Tenant domain; schindler-ngedm-multinode-prod-prod; 
Tenant ID;  t1564 
Tenant status; ACTIVE; 
Parent tenant; management; 
Company; Main Schindler Tenant 
adminname; admin 
|Schindler Production|Schindler Prod Europe 
 schindler-ngedm-multinode-prod-prod|Done|LokiEU-DS-01| 

[https://grafana.monitor.c8y.io:3000/explore?orgId=1&left=%7B%22datasource%22:%222jIHVK3nk%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22datasource%22:%7B%22type%22:%22loki%22,%22uid%22:%222jIHVK3nk%22%7D,%22editorMode%22:%22builder%22,%22expr%22:%22%7Bcumulocity_environment%3D%5C%22schindler-ngedm-multinode-prod-prod%5C%22%7D%20%7C%3D%20%60t1564%60%22,%22queryType%22:%22range%22%7D%5D,%22range%22:%7B%22from%22:%22now-1h%22,%22to%22:%22now%22%7D%7D] 

  

*Emil Stoykov requests improved monitoring, probes and  probes,  alerts for each of the 9 active jobs:* 
He stated: 

I've noticed that there were many offloading jobs that are failing last week and looks like we are not receiving alarms for them. Although not confirmed the likely reason for most of them is that the disk space usage has increased above 90%. I am waiting on CDH team (https://getsupport.softwareag.com/browse/SI-555948) to advise on what this threshold needs to be so we can adapt the monitoring and we get an alarm earlier. Meanwhile, I've checked with Ops team and looks like we do not have monitoring for those offloading jobs. In the screenshot you can see all the offloading jobs we need to create monitoring for, this can also be found in the following link, in general, any job which is active - [https://main.dm-zz-p.ioee10-cloud.com/apps/datahub-ui/index.html#/offloading] 

  

Please ensure we have proper probes created, alerts and monitoring for each of the 9 active jobs."
Defect,CSOIOT-9681,[Telstra] Prod: Enable Support user functionality for sub tenant (georgesriver.iot.telstra.com),Telstra Corporation Limited 751491,212,Closed,"Bhatt, Vikas","Zeier, Patrick",3/12/24 11:19,Customer,6/18/24 10:42,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Prod Tenant: [https://georgesriver.iot.telstra.com|https://georgesriver.iot.telstra.com/] 
Version: 10.15 

*Description of the Problem:* 

In the Prod environment, Telstra has Support User Access functionality configured on the management tenant level. 
But one of their tenants ""georgesriver.iot.telstra.com"" is showing Support User Access as disabled. 

Customer has some questions because of this unusual discovery: - 
- As per the documentation, [https://cumulocity.com/guides/10.15.0/users-guide/enterprise-tenant/#configuring-support-user-access], if support user functionality is enabled globally at the management level, then they are not seeing any buttons under any sub-tenants to activate or deactivate this functionality again. 
How can individual sub-tenants under the management tenant would have been able to disable it? 

- What is the best way to enable support user functionality again for those tenants? 
Is there any way to enable the support user functionality from backend for the subtenant? What information is required from our end to perform this operation?"
Defect,CSOIOT-9679,Event Error $numberDecimal - need to modify repository.event.mongodb.drive,iLARIZ GmbH 752215,212,Closed,"Neale, Robert","Vukman, Tomislav",3/6/24 9:46,Customer,6/5/24 10:31,4-Mar-24,,2-High,2-High,"[https://itrac.eur.ad.sag/browse/CSOIOT-9384] 

  

Customer is seeing some events have $numberDecimal, same as customer in above ticket. 

does repository.event.mongodb.driver need changing for them, in the same way? 

  

https://ilariz-dev.cumulocity.com/ 

  

 "
Defect,CSOIOT-9678,[A1D] CaseCS0062160: Delete measurements seems to be stuck,A1 Digital International GmbH 751565,212,Closed,"Herzog, Christian","Vukman, Tomislav",3/5/24 15:27,Customer,6/25/24 10:42,,,3-Medium,None,"Customer deleted on [https://bulmor.ttcontrol.cloud|https://bulmor.ttcontrol.cloud/] data before Jan 2024 for 244 of 301 devices. They used a script which went through very fast. 

They used the delete measurements API: [https://cumulocity.com/api/core/10.18.0/#operation/deleteMeasurementCollectionResource]   

The storage dropped from 2.7 TB (Friday) to 1.5 TB (today). 

But there are still measurements which should be deleted. 

Korbinian Butz from our team made a request on such a device: 
{quote}curl -k -X 'GET' -H 'Accept: application/json' -H 'Authorization: Bearer eyJh...' '[https://bulmor.ttcontrol.cloud/measurement/measurements?dateFrom=2023-11-15T00%3A00%3A00Z&dateTo=2023-12-01T00%3A00%3A00Z&pageSize=1&source=1297161251&withTotalElements=true] 
{quote} 
Result: the device has still 27351117 measurements. 
If the same request is taken 5 minutes later, then the same measurement number is counted. 

Here the deletion in Grafana: 
[https://grafana.monitor.c8y.io:3000/explore?orgId=1&left=%7B%22datasource%22:%222jIHVK3nk%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22datasource%22:%7B%22type%22:%22loki%22,%22uid%22:%222jIHVK3nk%22%7D,%22editorMode%22:%22builder%22,%22expr%22:%22%7Bcumulocity_environment%3D%5C%22a1-ha-pe1-prod%5C%22%7D%20%7C%3D%20%60t40922082%60%20%7C%3D%20%60DELETE%60%22,%22queryType%22:%22range%22%7D%5D,%22range%22:%7B%22from%22:%221709280000000%22,%22to%22:%221709280659000%22%7D%7D] 

Question: is this process still ongoing or stuck?"
Defect,CSOIOT-9670,Flexco: Need to apply Apama-Ctrl-2c-8g to subtenant t114121,Flexible Steel Lacing Company Inc 751958,215,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",3/5/24 8:17,Customer,7/10/24 11:15,,,2-High,None,"Flexco Environment 

[https://management.flexcoelevatedashboard.com/] 

SubTenant:  t114121  prod.flexcoelevatedashboard.com 

  

This has been approved by Jan Humble from the US. 

{color:#de350b}Note:{color}  The version of Apama-Ctrl-2c-8g is 10.15.0.6.20230315-1837-564e04e5c on the customer Management tenant needs to be changed.  This will either need to be upgraded to 10.15.0.7 or downgraded to 10.15.0.5.  Otherwise we will hit this issue:  [https://itrac.eur.ad.sag/browse/PAB-3981]  Customer ran into this problem back in April 2023 and we ended up downgrading Apama at the time to resolve the issue.  See also:  https://getsupport.softwareag.com/browse/SI-502499 

  

Once the above is done, please remove Apama-Ctrl-1c-4g and subscribe Apama-Ctrl-2c-8g to subtenant t114121. 

  

*Customer would like to have this done Monday, March 4th during the morning hours US Central time, so -7 hours from CET.*  We'd like to be able to confirm things are working as expected and have R&D still around if needed.  "
Defect,CSOIOT-9610,Read timed out exceptions in microservices,Kemin Europa 751795,217,Closed,"Joshi, Rohit",Unassigned,3/1/24 9:57,Customer,3/6/24 8:04,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA* Version *10.18* 
Time Zone: *CET* 

*Affected tenant* 

Enterprise Tenant? *Yes* / No 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hello R&D, 

customer KEMIN is getting “Read times out” and “Max task queue wait exceeded” exceptions on their microservices. This happens most often on the _Ewon_ microservice, which is repsonsible for scraping data from another cloud service (Talk2M) and saving it in Cumulocity. Due to this issue, they have not received any data anymore since February 16. The data in Talk2M is only buffered for 10 days, so they are losing data. 

They have tried to restart the microservice, even completely removing it from the tenant and redeploying it. None of it resolved the issue. Attached, you can find the log of the instance before we restarted the service. The same service is also running on other tenants, but only seems to have this issue on tenant t721899389. 

Please have a look as soon as possible so customer don’t loose any valuable data. 

In addition they can see other issues on the “Kc-tenantservice” microservice such as I/O exceptions and logs with increasing queue sizes. 

--- 

After this first reporting support gathered further information. 

The following questions have been asked: 
* Do you know of any changes, etc. that may have been done on Feb 16th?  More data on Talk2M side?  
* Any issues on the Talk2M side?  
* You mentioned that the microservice works on other tenants, is it able to scrape the data successfully there?  Any differences between the working and non-working tenants?  Are the working tenants also located on Cumulocity.com?  I'm assuming that is the case, but want to verify that with you. 
* Are you seeing the same Read Timed out and Max task queue wait exceeded on other microservices? 

Customer gave following reply: 

Our code is unchanged for several months, last deployment was September 12th, 2023. 

We are sure it has nothing to do with the endpoint we call in Talk2M, we have the same socket timeouts in other microservices (see attached a log file from another custom service that executes tasks on the tenant itself. Downside is that this service has been restarted yesterday and we cannot pinpoint the exact timing of the issue start moment. 

The only thing that we know that changed on February 16th is finishing up a 4 days lasting “maintenance of underlying infrastructure” on c[umulocity.com.|http://cumulocity.com/] 
This isn’t the first time that we have issues after an “underling infrastructure change“, so we are very cautious when C8Y announces something like that. 

Therefor we are 99% sure that you need to search the issue in the underlying infrastructure of the cloud environment. 

Please fix asap. 

--- 

Thanks 

Michael"
Defect,CSOIOT-9609,Request for registering domain name in DNS,"Micro Technology Co., Ltd. 751560",217,Closed,"Reddy, Yerpula Bharath Bhushan","Saaban, Asshad",3/1/24 13:00,Customer,5/31/24 10:23,2-Mar-24,,3-Medium,None,"Micro Technologies requested below: 

Since DNS for [cumonosu.com|http://cumonosu.com/] is managed by SAG Ops team, we would like you to register the following domain name in DNS: 
[crane-remote-sensing.cumonosu.com|http://crane-remote-sensing.cumonosu.com/] [elb-885467157.ap-northeast-1.elb.amazonaws.com|http://elb-885467157.ap-northeast-1.elb.amazonaws.com/] 
[ftp-crane-remote-sensing.cumonosu.com|http://ftp-crane-remote-sensing.cumonosu.com/] 35.73.13.137 

Please process. "
Defect,CSOIOT-9605,Retention rules fail,Nederman Holding AB 752169,217,Closed,"Neale, Robert","Vukman, Tomislav",3/5/24 13:56,Customer,6/6/24 10:39,5-Mar-24,,3-Medium,3-Medium,"Customer wishes for all ** measurements to be deleted from his tenant. 

  

!image-2024-02-28-10-29-31-547.png! 

  

[https://nedermann.eu-latest.cumulocity.com/] 

tenant id t2000651121 on eu-latest"
Defect,CSOIOT-9597,ZTR: Changing Certificate and Domain Name,ZTR Control Systems 752099,218,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",3/1/24 9:44,Customer,5/30/24 10:33,,,3-Medium,None," This is a duplicate of [https://itrac.eur.ad.sag/browse/CSOIOT-9423] 

  

Tenants are located on US environment. 
# [Development|https://management.railwayiot.com/apps/administration/index.html#/tenants/t458267135] - t458267135 -[https://development.railwayiot.com/] 
# [Test|https://management.railwayiot.com/apps/administration/index.html#/tenants/t461248421] - t461248421 - [https://test.railwayiot.com/] 
# [ZTR|https://management.railwayiot.com/apps/administration/index.html#/tenants/t508418034] - t508418034 - [https://sandbox.railwayiot.com/] (Deactivated to be deleted) 

Our enterprise tenant is: [https://management.railwayiot.com/] - Tenant ID: ztr 

Our current certificate is for a wildcard on: {{railwayiot.com}} 

--------------------------------------------------------- 

The new domain name will be [ztrvision.com|http://ztrvision.com/]. This will also include a new subtenant with a common name ‘app’ or full URL: app.[ztrvision.com|http://ztrvision.com/] 

We would like to make sure that [Development|https://management.railwayiot.com/apps/administration/index.html#/tenants/t458267135], [Test|https://management.railwayiot.com/apps/administration/index.html#/tenants/t461248421], and Management accept the new SSL certificate and have a smooth transition. 

In the end we want to have one enterprise tenant and 3 subtenants. 
# [https://development.|https://development.railwayiot.com/][ztrvision.com|http://ztrvision.com] 
# [https://test.|https://development.railwayiot.com/][ztrvision.com|http://ztrvision.com] 
# [https://management.|https://development.railwayiot.com/][ztrvision.com|http://ztrvision.com] (Enterprise) 
# [https://app.|https://development.railwayiot.com/] [ztrvision.com|http://ztrvision.com/] 

  

Customer will be getting a new cert.  Attached is the new license file for the domain from the logistics team. 

  

These 3 tenants will need to have their domains manually changed via REST: 
# [Development|https://management.railwayiot.com/apps/administration/index.html#/tenants/t458267135] - t458267135 -[https://development.railwayiot.com/] 
# [Test|https://management.railwayiot.com/apps/administration/index.html#/tenants/t461248421] - t461248421 - [https://test.railwayiot.com/] 
# app   [https://app.railwayiot.com/]  

Let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-9594,Performance issues at EMEA environment,DMG MORI Digital GmbH 751550,218,Closed,"Herod, Jaroslaw",Unassigned,2/28/24 8:02,Customer,3/6/24 8:04,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA* Domain *[+https://iotdevices.dmgmori.com+|https://iotdevices.dmgmori.com/inventory/managedObjects?query=name+eq+%27IOTFLEX-8C-F3-19-6B-C4-97%27]* Version *10.18* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: *[+https://iotdevices.dmgmori.com+|https://iotdevices.dmgmori.com/inventory/managedObjects?query=name+eq+%27IOTFLEX-8C-F3-19-6B-C4-97%27]* OR System-wide issue. 
Enterprise Tenant? *Yes* / No 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi R&D, 

customer DMG Mori reported some performance issues that need to be analyzed. 

They migrated their tenant dmgmoridevices to the [emea.cumulocity.com|http://emea.cumulocity.com/] platform. The performance seems to be more bad than before the migreation. I.e. searching for a managed object by name takes not about 6-7 seconds. This was much faster before. Their backend service had a timeout of 5 seconds and it was never hit before, but now- 

Sample request: GET [{+}https://iotdevices.dmgmori.com/inventory/managedObjects?query=name+eq{+}%27IOTFLEX-8C-F3-19-6B-C4-97%27+|https://iotdevices.dmgmori.com/inventory/managedObjects?query=name+eq+%27IOTFLEX-8C-F3-19-6B-C4-97%27] 

Also the deletion of a specific managed object by api took 36 seconds yesterday. And the object was still visible afterwards! 

Can you please check?"
Defect,CSOIOT-9580,[Telstra] Observing error for LwM2M bulk device registration || Verification v10.18.0.215,Telstra Corporation Limited 751491,219,Closed,"Saha, Sourajit","Saaban, Asshad",3/5/24 8:16,Customer,3/6/24 8:04,28-Feb-24,,3-Medium,None,"This issue occurs if the mciroservice URL is not correctly set as a tenant option. 

Could you please check the current settings for lwm2m-agent? 

  

------------------------------------------------------------------------------------------------------------------------------- 

*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *APJ* Version *10.18* 

*Affected tenant* 

Tenant: *verification.c8y.io* OR System-wide issue. 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hello R&D, 

customer has observed that LwM2M Bulk device registration option is not working as expected. 

When they try to upload the LwM2M bulk devices, they receive the error as *“The response of the microservice is incomplete. The bulk registration information is missing.”* 

Can you check this and suggest customer why they are observing that error? 

Note: When clicking on General under Bulk registration, it is working as expected and open new popup to enter the details. For LwM2M single device registration does not work as well. 

*Tenant name: t997732* 

*Step to reproduce:* 
# Select Device Management App 
# Navigate to Devices --> Registration 
# Click on 'Register Device' 
# Select LWM2M under Bulk registration 
# Observe the behaviour 

 "
Defect,CSOIOT-9579,Observing error for LwM2M bulk device registration || Verification v10.18.0.215,Telstra Corporation Limited 751491,219,Closed,"Welsing, Michael",Unassigned,2/26/24 11:49,Customer,5/31/24 10:25,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *APJ* Version *10.18* 

*Affected tenant* 

Tenant: *verification.c8y.io* OR System-wide issue. 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hello R&D, 

customer has observed that LwM2M Bulk device registration option is not working as expected. 

When they try to upload the LwM2M bulk devices, they receive the error as *“The response of the microservice is incomplete. The bulk registration information is missing.”* 

Can you check this and suggest customer why they are observing that error? 

Note: When clicking on General under Bulk registration, it is working as expected and open new popup to enter the details. For LwM2M single device registration does not work as well. 

*Tenant name: t997732* 

*Step to reproduce:* 
# Select Device Management App 
# Navigate to Devices --> Registration 
# Click on 'Register Device' 
# Select LWM2M under Bulk registration 
# Observe the behaviour 

--- 

R&D things this is a misconfiguration of the Microservice URL. Please check!"
Defect,CSOIOT-9568,[Nordex] NifProd - Email subsystem is dead - password recovery not possible,Nordex SE 751519,221,Closed,"Bhatt, Vikas",Unassigned,2/26/24 9:54,Customer,3/6/24 8:04,,,1-Critical,2-High,"*Affected system* 

Nordex Prod: https://nordex.nifprd.nordex-online.com 
Version: 10.16 

*Description of the Problem:* 

Customer had reported that no emails requested through Cumulocity API on their production system are delivered to the destinations. 

They cannot do any password recovery nor other technical emails reach destination. 

It started around 24 hours ago. 

Please check this issue and update."
Defect,CSOIOT-9562,[Telstra] Observing error for LwM2M Single device registration,Telstra Corporation Limited 751491,222,Closed,"Neale, Robert","Saaban, Asshad",3/1/24 11:40,Customer,3/6/24 8:04,1-Mar-24,,3-Medium,3-Medium,"Tenant telstra.verification.c8y.io 

UI and REST cannot communicate with lwm2m agent microservice. 

  

!https://chat.google.com/u/0/api/get_attachment_url?url_type=FIFE_URL&content_type=image%2Fpng&attachment_token=AOo0EEV7gBFJsPRiqH7xaKKsQ1cexlKhq%2B3nUuEPC3UrOx%2F925ztAWRoovyLSCh414Zz%2BhEGXWCR3P7T2DyznsJDH53AyA4M8Fx9YS%2FT%2F8xrGxtt51m4KsU86lomjPaItceL1sovWO8txTsxRTvTqk29rfgqRo5uxwFg9naU6Zc60o6CUqVW96vjPyqS4TZwJyjPhzD7LoM0Ohmv2MJegQclcuiW0F4dPREdlXBlCHgzr1ZJVcXQvWWtDF6dpYNQHXE6m%2FXXpsuUZmF8ke4MqgHuEMt6d7aJs8%2B%2FzLx2AgtCVRrLeCTUQ1Ipzpt1kJiV4s3MWhFvyM6H5s6s%2BtPiZYcOF5kCoduPp2YZQHBUAJ6u90TTDxazp7B2m2dYx9T7mnSpnKQT4xbn1BGosiye1x0vfx3T7HuqAu1wullGt4DfTlW%2BCCaw%2FXXx7C9xmG%2F04%2BTO8YgM%2FMQ4k0PAgKRYZn7h%2BWCZNd%2FTRpxJ10L1bihiZfvw7prrUUIR%2BdHZjtZjoEHiMOCNpZT%2B2EQ96lnVAFlp63qVwNP3KiQAvvQiQTO3XnqP2eGtgvE0%2FwcO2oX2js0%3D&sz=w512! 

  
[https://telstra.verification.c8y.io/service/lwm2m-agent/health] 
  
Returns http 502. 
  
""{""message"":""Microservice not available Connection refused : Connection for request b6eccef30e72113e55aee83832965f72 already closed"",""error"":""Microservice/Bad gateway"",""info"":""[https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting]""}"" 
  
Microservice is subscribed - it's log shows no evidence of any 'contact'."
Defect,CSOIOT-9561,[Telstra] Turn off Pre-Prod Environment,Telstra Corporation Limited 751491,222,Closed,"Moon, Swai","Radzali, Basyar",2/23/24 10:23,Customer,5/24/24 10:22,,,3-Medium,None,"Hi Ops, 

Telstra has asked us to turn off their Pre-Prod environment as they are now done with their testing."
Defect,CSOIOT-9548,Slow responses (>6 secs/ req) if UI plugin is proxied to WIKA tenant,WIKA Alexander Wiegand SE & Co. KG 752067,223,Closed,"Schon, Gregor","Simeonova, Rumyana",3/5/24 8:15,Customer,7/7/24 10:13,,support_question,3-Medium,1-Critical,"*Necessary iTrac information* 

SAG Cloud region: EMEA / 
 Domain emea-cf.cumulocity.com.cdn.cloudflare.net 
 tenant on emea: 

Customer Demo t140168379  demo.wika.io  t134331102  Frank Bauer       



Desription  
Customer complains about slowness when developping UI and  proxy to the WIKA tenant [dev.wika.io|http://dev.wika.io/]  

Status pages clearly indicates problems on the platform 

!image-2024-02-22-10-42-27-922.png|thumbnail! 

but the list of incidents does not give any hint what had happened: 
!image-2024-02-22-11-09-01-141.png|width=973,height=547! 

Is a major outage of 31 minutes not an incident?"
Defect,CSOIOT-9545,Please decommission Liebherr's MyNotifier instance,Liebherr-Werk Nenzing GmbH 751635,224,Closed,"Talbert, Kent",Unassigned,2/22/24 15:45,Customer,5/29/24 10:39,,,3-Medium,None,"Please initiate a decommission of Liebherr's MyNotifier instance with immediate effect no contact renewal). 

We received an offical request to delete data and related tenant(s): 

  

Public Saas platform: cumulocity.com 

Tenant: management.mynotifier.liebherr.com (t761279859) 

Sub-Tenant: app.mynotifier.liebherr.com (t796554214)"
Defect,CSOIOT-9544,Some email addresses cannot receive emails from Cumulocity IoT.,"Micro Technology Co., Ltd. 751560",224,Closed,"Welsing, Michael","Janus, Bartosz",2/28/24 9:35,Customer,9/4/24 10:46,,,1-Critical,1-Critical,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *JP* 
System Usage (Choose one of: Production / Test / Development): *Production* 

*Affected tenant* 

Tenant: _________________ OR *System-wide issue.* 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Currently it is not possible to receive eMails on the environment. Please investigate why sending eMails fails!"
Defect,CSOIOT-9508,[Telstra] Verify that the agents' configuration in Prod and Pre Prod environments has the same configuration,Telstra Corporation Limited 751491,225,Closed,"Moon, Swai","Lundsten, Alf",2/23/24 8:31,Customer,5/24/24 10:23,,,3-Medium,None,"*Description of the Problem:* 

Hi Ops, 

Telstra has asked us to verify that the agents' configuration in the Prod and Pre-prod environments is the same. 

If it's possible to check that, can you please check and share if there are any differences in the configuration?"
Defect,CSOIOT-9500,[INC]Wika: Bad gateway error 502,SAG Consulting Services GmbH 310300,225,Closed,"Neale, Robert","Zeier, Patrick",3/1/24 9:58,Customer,7/2/24 10:46,28-Feb-24,,3-Medium,3-Medium,"demo.wika.io has experienced http 502 errors.  

  

Can I have the core logs for this environment for today 20th February? 

  

 "
Defect,CSOIOT-9470,Certificate error on https://management.bodenexam.com on EU-Latest instance,"Micro Technology Co., Ltd. 751560",226,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",2/23/24 9:04,Customer,5/26/24 14:12,,,2-High,2-High,"*Affected system:* 

Tenant: [https://management.bodenexam.com|https://management.bodenexam.com/] 
Version: 10.18 
Instance: EU Latest (*.eu-latest.cumulocity.com) 

*Description of the Problem:* 

There is certificate problem on [https://management.bodenexam.com|https://management.bodenexam.com/]. This error occurs in all the tenants of management, test, test2 in bodenexam.com. 

{+}{color:#172b4d}Disclaimer from Ops{color}{+}: 
This issue is about tenant with id bodenexam on eu-latest.cumulocity.com. There's a tenant with the same id on jp.cumulocity.com, which - confusingly - also has a certificate deployed for management.bodenexam.com. 

{+}Notes from Support{+}: 

Upon checking, we can see that certificate is not activated and it seems someone has uploaded the wrong certificate with a domain from eu-latest. See the attached screenshot. 

!Domain Certificate Page.png|thumbnail! 
!Cert error showing EU-Latest.png|thumbnail! 

Customer claimed that they haven't touched anything. Rather he said - since the certificate is managed by SAG Ops (actually we pay for it), they expect Ops to resolve this problem as soon as possible. 

Same tenant ID 'bodenexam' exists on EU-Latest also and there, the domain page shows this: 
!EU-Latest_bodenexam.png|thumbnail!"
Defect,CSOIOT-9455,[Preprod] Increase Pre-Prod Max Heap,Telstra Corporation Limited 751491,227,Closed,"Moon, Swai","Radzali, Basyar",2/19/24 6:15,Customer,5/24/24 10:24,,,3-Medium,None,"*Affected tenant* 

Tenant: [https://loadtest.iotpreprod.telstra.com/] 

  

*Description of the Problem:* 

Telstra has reached out regarding another LWM2M issue. 

They are currently doing their Load Test on preprod env to test out the new 10.18 version of c8y. 

On 12/02/2024 around 7AM UTC, they were conducting the load test and it seems like the agent became unresponsive in the middle of the test. 

RnD has found the root cause, that is Pre-prod was out of memory when executing the tests. 

Laud from Telstra has asked to increase their Pre-Prod (4GB) Max Heap to match their Prod environment."
Defect,CSOIOT-9449,Duplicate requests to /decode endpoint,"Itron, Inc. 751854",230,Closed,"Eha, Allan","Pham, Hoang",2/16/24 12:38,Customer,5/17/24 10:21,,,3-Medium,None,"R&D are asking for the LWM2M logs for ITRon 

""{color:#0747a6}_Could you please provide the logs. Grafana doesn't work, because it doesn't find anything from the mentioned snipped in the description._{color}"" 

  

I we need the time covering ""2024-02-13 18:48:13.285"", so can we get: 

2024-02-13 18:30:00.00 to  2024-02-13 19:30:00.000 

 "
Defect,CSOIOT-9447,Cloning Cockpit after Updated SSL,ZTR Control Systems 752099,230,Closed,"Eha, Allan",Unassigned,2/21/24 9:23,Customer,5/22/24 10:40,,,3-Medium,None,"Customer is having problem with their certificates. 

Tenant:  [https://development.railwayiot.com/] 

  

Description: 

One of our application developers is having issues cloning / proxying to cockpit in our development / test tenant after updating the SSL. See the error image attached. 

the Json package start looks something like: 

""start"": ""c8ycli server -u [https://development.railwayiot.com/] --shell cockpit"", 

  

------------------------- 

Problem: 

[https://success.qualys.com/support/s/article/000003197] 

  

We heard back from Network solutions. It appears the extra download that we are seeing in the paths is because Software AG doesn’t have their Intermediate certificate installed on your servers. CA 2 which is installed on your servers is going to expire in September of this year 2024. The new certificate Network Solutions issued has CA 3 which needs to be installed on your server. After that we should be until 2033. Otherwise we have to get another certificate from a vendor you already have installed. Let me know how you want to proceed we are going to go dark on Saturday Feb 17, 2023 If no action is performed. 

------ 
New Intermated Certificate: 

Network Solutions RSA OV SSL CA 3 
Fingerprint SHA256: 90333450a3af1f42db5954f84914b1862771eab466ce52fdd19eaac3594edd3b 
Pin SHA256: MkbLAbYk3pBAD2BaO0EiRPvxV1qbyhJfFhc0skjkwfU= 
RSA 3072 bits (e 65537) / SHA384withRSA 

------ 
Old One you have installed: 

Network Solutions OV Server CA 2 
Fingerprint SHA256: de2ccb08746eaf02998e6c95e24a3d2cfb6ff4a3d41eafbf83fd570066f2f2a8 
Pin SHA256: hIBbkSty62Y4PvvLLkYxEHhqoAK2s9JgMSFHh6HeR60= 
RSA 2048 bits (e 65537) / SHA384withRSA 

  

[^New Certs Expanded.pdf] 

[^Old Cert Expanded.pdf] 

!image-2.png|thumbnail! 

  

Can you help get the certs in place?"
Defect,CSOIOT-9441,Changing debug levels on LWM2M service for ITron,"Itron, Inc. 751854",231,Closed,"Eha, Allan","Pham, Hoang",2/15/24 17:40,Customer,5/16/24 10:27,,,3-Medium,None,"Tenant: envd417247.c8y.sag.idealabs.cloud 

Turning the logging up for lwm2m service on Thursday Feb 15th from 7am-8am Pacific (15:00-16:00 UTC). 

Please turn up the logging for the LWM2M service between 8-9 am mountain time. 

 "
Defect,CSOIOT-9440,dremio admin access to the live management cluster required,SAP SE 700,231,Closed,"Neale, Robert","Simeonova, Rumyana",2/16/24 10:50,Customer,5/22/24 10:40,14-Feb-24,,3-Medium,3-Medium,"h2. This request has been received from customer SAP.... 

  

We would need the admin access to the dremio instance provisioned on both of our live clusters in EU20 and US20. 

https://management.eu20.cy.iot.sap/apps/administration/index.html#/tenants 

https://management.us20.cy.iot.sap/apps/administration/index.html#/tenants 

  

For the starter, could you please provide the access to below 3 users: 
1. vignesh.r@sap.com 

2. pawel.panek@sap.com 

3. [sap-eiot-dev@sap.com|mailto:sap-eiot-dev@sap.com] 

  

  

Similar was done for dev in https://itrac.eur.ad.sag/browse/CSOIOT-8176"
Defect,CSOIOT-9426,[Preprod] LwM2M Agent logs of 12/02/2024 around 7AM UTC,Telstra Corporation Limited 751491,232,Closed,"Moon, Swai",Unassigned,2/13/24 11:03,Customer,5/24/24 10:25,,,3-Medium,None,"*Affected tenant* 

Tenant: [https://loadtest.iotpreprod.telstra.com/] 

  

*Description of the Problem:* 

Telstra has reached out regarding another LWM2M issue. 

They are currently doing their Load Test on preprod env to test out the new 10.18 version of c8y. 

Yesterday (12/02/2024) around 7AM UTC, they were conducting the load test and it seems like the agent became unresponsive in the middle of the test. 

Upon checking today, they are not able to register LwM2M devices nor see any LwM2M bootstrap parameters which suggest that the agent is down, which is similar to what we reported awhile back in the following ticket: [SI-495782|https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-495782]. 

They are not sure what happened during the test and the reason why the agent suddenly became unresponsive. 

Will it be possible to provide LwM2M logs for around the time mentioned by the customer? 

RnD iTrac: [https://itrac.eur.ad.sag/browse/IOT-19519]"
Defect,CSOIOT-9423,ZTR: Changing Certificate and Domain Name,ZTR Control Systems 752099,233,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",2/23/24 8:32,Customer,5/30/24 10:38,,,3-Medium,None,"Tenants are located on US environment. 
# [Development|https://management.railwayiot.com/apps/administration/index.html#/tenants/t458267135] - t458267135 -[https://development.railwayiot.com/] 
# [Test|https://management.railwayiot.com/apps/administration/index.html#/tenants/t461248421] - t461248421 - [https://test.railwayiot.com/] 
# [ZTR|https://management.railwayiot.com/apps/administration/index.html#/tenants/t508418034] - t508418034 - [https://sandbox.railwayiot.com/] (Deactivated to be deleted) 

Our enterprise tenant is: [https://management.railwayiot.com/] - Tenant ID: ztr 

Our current certificate is for a wildcard on: {{railwayiot.com}} 

--------------------------------------------------------- 

The new domain name will be [ztrvision.com|http://ztrvision.com/]. This will also include a new subtenant with a common name ‘app’ or full URL: app.[ztrvision.com|http://ztrvision.com/] 

We would like to make sure that [Development|https://management.railwayiot.com/apps/administration/index.html#/tenants/t458267135], [Test|https://management.railwayiot.com/apps/administration/index.html#/tenants/t461248421], and Management accept the new SSL certificate and have a smooth transition. 

In the end we want to have one enterprise tenant and 3 subtenants. 
# [https://development.|https://development.railwayiot.com/][ztrvision.com|http://ztrvision.com] 
# [https://test.|https://development.railwayiot.com/][ztrvision.com|http://ztrvision.com] 
# [https://management.|https://development.railwayiot.com/][ztrvision.com|http://ztrvision.com] (Enterprise) 
# [https://app.|https://development.railwayiot.com/] [ztrvision.com|http://ztrvision.com/] 

  

Customer will be getting a new cert.  Attached is the new license file for the domain from the logistics team. 

  

These 2 tenants will need to have their domains manually changed via REST: 

  
# [Development|https://management.railwayiot.com/apps/administration/index.html#/tenants/t458267135] - t458267135 -[https://development.railwayiot.com/] 
# [Test|https://management.railwayiot.com/apps/administration/index.html#/tenants/t461248421] - t461248421 - [https://test.railwayiot.com/] 

  

Let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-9401,Overview of the APJ Instance upgrade which will be done on Feb 14,"Micro Technology Co., Ltd. 751560",238,Closed,"Bhatt, Vikas","Simeonova, Rumyana",2/8/24 9:44,Customer,5/14/24 11:29,,,3-Medium,3-Medium,"*Affected system:* 

APJ Instance Upgrade on 14th Feb. 2024 

*Description of the Problem:* 

+Customer from Micro Technology has the following request+: - 

We have received the upgrade notice from Cumulocity IoT: https://cumulocity-apj.statuspage.io/incidents/hhmnr0htlc9r. It says you will perform a standard change on the jp.cumulocity.com on Feb 14. 
However, is it possible to specify which areas are affected by this upgrade? 

For example, the upgrade done on jp.cumulocity.com on Jan 29 indicated Digital twin manager upgrade, which helped us easily understand the affected areas in this upgrade. In addition, since Public Preview is currently unavailable, we do not follow the process to verify the new function toward GA and to make sure the new feature would not affect the operation of our applications. 
So, we would like to know at least Product area or Component affected by this upgrade. 
Is it possible to teach us?"
Defect,CSOIOT-9399,rename a tenant on machines.cloud on the 9th of Feb.,Modern Drive Technology GmbH 751945,238,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",2/9/24 8:53,Customer,5/10/24 10:27,7-Feb-24,,3-Medium,3-Medium,a customer needs to rename his tenant. Currently it´s name is punchflybrid.machines.cloud. On *Friday 09th February* it should be renamed to dumareyflybrid.machines.cloud.
Defect,CSOIOT-9391,[Telstra] Microservice zip file deployment using CICD,Telstra Corporation Limited 751491,241,Closed,"Bhatt, Vikas","Lundsten, Alf",2/7/24 14:51,Customer,5/14/24 11:33,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Dev Environment: [https://management.iotdev.telstra.com|https://management.iotdev.telstra.com/] 
Version: 10.15 

*Description of the Problem:* 

+Customer from Telstra has requested the following details: -+ 

Can you please provide us any document or steps for microservice zip file (docker _image.tar_ and {_}cumulocity.json{_}) deployment on AWS kubernetes worker using CICD tools? 

We need more info on the below query: 
# How microservice zip file is getting deployed on AWS EC2 instance (kubernetes worker)? 
# Where is the location of microservices image.tar file on the EC2 instance? 
# Steps for microservice zip file deployment from AWS S3 bucket? 

We are working on Bamboo CICD tools for microservices source code deployment on Kubernetes worker pods, but we didn’t find the location of the microservice image.tar file on kube worker directory. We have uploaded the microservice zip file on the AWS S3 bucket from Bamboo."
Defect,CSOIOT-9388,BSCI: Certificate Renewal Request,Boston Scientific Corporation 810461,240,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",2/8/24 14:34,Customer,5/9/24 10:34,8-Feb-24,,3-Medium,3-Medium,"From customer Boston Scientific.... 

  

""I have received our updated certificates for prod and non prod. I would like to schedule our non prod instance to have it’s certs renewed this Wednesday, 2/7/24 and our prod instance to be renewed on Thursday 2/8/24. This will give us a 24 hour testing window to ensure no issues happen. 

I have provided the certificates for both environments"" 

  

Can this be implemented for them at the requested dates?"
Defect,CSOIOT-9384,"Decimal data format issue after 10.18 upgrade - ""Switch Back to BSON""",Syntegon Technology Services AG 752059,240,Closed,"Bhatt, Vikas","Vukman, Tomislav",2/19/24 11:30,Customer,5/30/24 10:38,,,1-Critical,1-Critical,"*Affected system:* 

Management Tenant: [https://management.synexio.syntegon.com/] 
Version: 10.18 

Subtenant: kaegi.synexio.syntegon.com/apps/administration/index.html 

*Description of the Problem:* 

Syntegon on *.cumulocity.com raised an issue after upgrade to 10.18 last week. They 
get 

{'$numberDecimal': '0.0'} 

instead of simply 0.0 from the API in java microservices. 

Here is one example from eventAPI. 

!eventAPI.png|thumbnail! 

{+}More details from customer{+}: - 

Currently we get \{'$numberDecimal': '0.0'} instead of simply 0.0 from the API in our java microservices. This leads to several problems. 
The problem exists on all our tenants. Dev, Test and Management. All of the tenants have the backend version 1018.0.320. 

We have multiple microservices, written in Java. Normally a decimal value is sent as 1.234. At the moment we get \{'$numberDecimal': '1.234'}. So we are getting a struct/ dictionary, instead of the number directly. And this leads to several problem in the code. 

This is directly fetched via the eventApi ( 
{noformat} 
/event/events?type=syn_aggregated_aggregatedMeasurement_1m&pageSize=15&dateFrom=2023-12-10T00:00:00.000Z&dateTo=2023-12-10T03:00:00.000Z{noformat} 
). Our microservices are affected, since the return values of the eventApi are incorrect ( => The read for decimal values is not correct). I think i want to clarify that this is more or less affecting the eventApi (verified on our side). I currently did not check on other Apis (like MeasurementApi, InventoryApi, etc.). 

I cannot show real screenshot from browsers, since as I mentioned, the services cannot handle this decimal format, therefore we cannot display this data. 

A little side note, Data that was stored *after* the update is actually fetched correctly (no “$numberDecimal” property). 

!image-1.png|thumbnail! 

!image-2.png|thumbnail! 

{*}Inputs from R&D{*}: - 

Teams thread:  
[Bhatt, Vikas: Decimal data format issue after 10.18 upgrade - {'$numberDecimal': '...|https://teams.microsoft.com/l/message/19:64e08df052aa4919b8222fb42726839f@thread.skype/1707127668611?tenantId=d9662eb9-ad98-4e74-a8a2-04ed5d544db6&groupId=a391d178-b15d-4eb1-b5bc-24f0a9742320&parentMessageId=1707127668611&teamName=IoT%20%26%20Analytics&channelName=Cumulocity%20Core%20Support%20Team&createdTime=1707127668611] 
  
This is another problem with new codec 'DB_Object'. This probably triggered the issue right now, as the DB_Object implementation does not understand the BigDecimal precision 

We would recommend switching the driver back to “BSON”. 

*repository.event.mongodb.driver=BSON* 

This needs to be done by Ops."
Defect,CSOIOT-9383,[A1D] CS0060094: Download of ALL Bulmor tenant data: https://bulmor.ttcontrol.cloud,A1 Digital International GmbH 751565,240,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",2/13/24 10:53,Customer,6/3/24 10:55,,,3-Medium,None,"Hello CloudOps, 

A1 is currently attempting to download ALL measurements for sub customer Bulmor domain [https://bulmor.ttcontrol.cloud|https://bulmor.ttcontrol.cloud/] 
However, the API requests are very slow and thus the download takes a very long time. At the same time, API requests aren't free either. 
  
We already got the following feedback from SAG:  
""From a technical standpoint the bulmor tenant is a dedicated Mongo-Database with the measurements being a DB-Collection named pmdata. Potentially we could use mongoexport to extract the data from DB and store it as JSON or CSV file. This needs access to the DB cluster and can only be done by Cloud Operations – so I would recommend creating a ticket for it."" 
  
Would it be possible for you to provide us with the extract of all Bulmor data from DB in the next week (CW 6)? We urgently need this data.  
I am waiting for feedback from customer to the preferred format and exchange medium today - I will update the ticket."
Defect,CSOIOT-9382,[Solenis] Upgrade the Dev Instance to 10.18,Solenis LLC 751237,241,Closed,"Bhatt, Vikas","Lisik, Milosz (External)",2/6/24 7:47,Customer,5/14/24 11:33,,,3-Medium,3-Medium,"*Affected system:* 

Solenis Dev Environment: https://management.iot-dev.solenis.com 
Current version: 10.17.441 

*Description of the Problem:* 

Customer from Solenis has requested an upgrade for their development instance to version 10.18. 
Currently, they are using version 10.17.441 

*.iot-dev.solenis.com"
Defect,CSOIOT-9339,Dremio administrative users needed on edcentra.edwardsvacuum.com,Edwards Vacuum 751066,245,Closed,"Neale, Robert","Pham, Hoang",2/1/24 11:23,Customer,5/9/24 10:34,31-Jan-24,,3-Medium,3-Medium,"Request from Edwards Vacuum.... 

  

as we need to create reflections in Dremio ourselves, we require Dremio admin access on our private cloud instance: edcentra.edwardsvacuum.com 

Can you please create admin users for: 

""Paul Johnson"" <paul.johnson@edwardsvacuum.com> 

""Denys Karpenko"" <dkar@softserveinc.com> 

  

Advised in teams ""Cloud Ops would need to create the admin users and confirm what the main storage is configured as."""
User Story,CSOIOT-9338,[Hilti] change existing index,Hilti AG 315,245,Closed,"Cichecki, Kacper (External)","Bieniak, Arkadiusz",2/8/24 11:06,Customer,2/8/24 11:06,1-Feb-24,,3-Medium,3-Medium,"*Tenant Name:* 

t978904552 * 
*Tenant URL:* 
[https://iot.dmp.hilti.com/] 

  

We need to create index:  

*{source:1, _fragments:1}* 

and remove existing index:  

*{_fragments:1, source:1}* 

on collection *cmdata* 

  

 "
Defect,CSOIOT-9337,[Hilti] New index required,Hilti AG 315,245,Closed,"Herod, Jaroslaw","Bieniak, Arkadiusz",2/23/24 11:31,Customer,3/6/24 8:03,,,3-Medium,2-High,"*Affected system:* 

Tenant ID: t978904552 
Tenant URL: [https://iot.dmp.hilti.com/] 

*Description of the Problem:* 

We can see lot's of slow queries in mongo logs. Some operations take more than 400 mls to delete required documents. Example of mentioned query: 
{code:java} 
{ 
""find"": ""pmdata"", 
""filter"": { 
    ""type"": { 
        ""$in"": [ 
            ""stTrckActivity"" 
        ] 
    }, 
    ""time.date"": { 
        ""$gte"": { 
            ""$date"": ""2023-06-30T08:40:00.000Z"" 
        }, 
        ""$lt"": { 
            ""$date"": ""2023-06-30T09:00:00.000Z"" 
        } 
    } 
} {code} 
This query uses index ""IXSCAN \{ time.date: 1 }"". We noticed that in this case index on ""type"" and ""time.date"" field might be used, which should improve the query execution time. We don't have such index at the moment. 

*What should be done:* 

Please create new index on filed *""\{type:1,  time.date: 1 }""*"
Defect,CSOIOT-9313,ITron: Need to capture pcap files,"Itron, Inc. 751854",250,Closed,"Talbert, Kent","Kehayov, Boyan",2/8/24 11:51,Customer,6/20/24 11:33,,,2-High,None,"ITron environment 

Tenant: [envd417247.c8y.sag.idealabs.cloud|https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagementx509/index.html#/device/13154459117/shell] 

  

Need to capture pcap files: 

IP address: 10.249.48.200 

  

Information from R&D on how to capture the files 

The container must have a `tcpdump` installed. Then you run: 
{code:java} 
tcpdump -i any host <device_ip> and port 5784 or port 5683 or port 5783 or port 5784 -w <pcap_file_name>.pcap{code} 
You can also ask Boyan Kehayov for assistance from OPs side, because he has a lot of experience in dumping the iTron's traffic on server side "
Defect,CSOIOT-9311,[WIKA] Loriot-agent is down on EMEA instance,WIKA Alexander Wiegand SE & Co. KG 752067,250,Closed,"Bhatt, Vikas","Simeonova, Rumyana",2/5/24 12:41,Customer,5/15/24 10:37,,,2-High,2-High,"*Affected system:* 

C8Y Instance: EMEA 
Tenant ID: t134331102 
Tenant URL: [https://management.wika.io/] 

*Description of the Problem:* 

Loriot agent is down on customer's environment. 

Agent is Again down, 

could it be that where is a limitation to register devices? 

2024-01-26 15:07:10,061;INFO; 

{""error"":""general/internalError"",""message"":""Connection for request eb99247e0c09002bf2070b5667a2b505 already closed : Connection reset by peer"",""info"":""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting""} 

!image.png|thumbnail! 

Grafana: 

[https://grafana.monitor.c8y.io:3000/d/-7mPcYniz/kubernetes-pods-prometheus?orgId=1&var-datasource=Cortex&var-Environment=cumulocity-azure-fra-prod&var-Namespace=cumulocity-azure-fra-prod&var-pod_name=loriot-agent-scope-management-deployment-bd76b9484-cspmf&from=1706275217566&to=1706278817566] 

Please check the memory consumption. Perhaps this agent is now doing the same on EMEA as it did on cumulocity.com for WAINS. 

If it's getting OOM-killed and having trouble restarting (We see multiple occurrences of RAM dropping to zero), it might be configured with insufficient size. 

Please check this issue and resolve."
Defect,CSOIOT-9310,CLONE for Ops - [Telstra] Jemena LWM2M PSK device is stopped connecting to platform since 12-Dec-2023,Telstra Corporation Limited 751491,250,Closed,"Bhatt, Vikas",Unassigned,1/31/24 10:52,Customer,1/31/24 10:52,,,3-Medium,3-Medium,"*Affected system:* 

Tenant ID: t188211358 
Tenant URL: [https://jemenadev2.iotdev.telstra.com/] 
Backend: 1015.0.455 
UI: 1015.0.455 

Username: vikas.bhatt@softwareag.com 
Password: Support@00&98 
(Please don't make any changes as this is the prod environment of Telstra's customer) 

*Description of the Problem:* 

Telstra has asked for assistance on the following problem in Jemena tenant. 
----------------------------------- 

We have received an issue from Jemena that their Lwm2m PSK device ({*}355946527954890{*}) is stopped connecting to their jemenadev2 tenancy. 

They stated that device was successfully connecting to c8Y (Jemena DEV2) up until 7:30pm on 12 December 2023 at which time it lost its registration to platform, NOTHING changed from their side on device. 

We had a initial look on this issue, unfortunately we have no visibility on what happened during 12-DEC due to no logs from the Splunk in DEV(only last 2 weeks logs retained). 

We seen that customer deleted that device on 16/17-Jan-24 and register again freshly on 17-Jan-24. As device is not connecting to the platform, the registration is not completing. 

One more thing is, this device was initially in Jemena production tenancy and later it was moved to Jemena dev tenancy around 18-Sep-23. 

Could you please help us on why device stopped connecting platform since12-Dec by checking it in backend (DB side or Agent side) and also check if any recent change would impact PSK device registration in DEV environment? 

-----------------------------------"
Defect,CSOIOT-9308,Flexco - Errors on custom microservices,Flexible Steel Lacing Company Inc 751958,250,Closed,"Welsing, Michael","Zeier, Patrick",2/15/24 10:31,Customer,2/28/24 10:09,,,1-Critical,1-Critical,"Customer is observing arbitrary errors on their consoles for some of their running custom microservices.  Can someone explain the nature of these and whether anything needs to be done?  One input I got is that they recently changed their manifest configuration, but I believe they’ve seen these prior as well. 

  

error killing pod: failed to ""KillPodSandbox"" for ""9f5635f8-66a0-40e4-a3c3-0669c6efbcea"" with KillPodSandboxError: ""rpc error: code = Unknown desc = networkPlugin cni failed to teardown pod \""ml-pipeline-scope-t114121-deployment-799d5d4bb8-psmdk_flexco-multinode-prod\"" network: error getting ClusterInformation: Get [https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/clusterinformations/default|https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/clusterinformations/default/]: dial tcp 10.96.0.1:443: i/o timeout"" 

13 January 2024 03:38   

  

Failed to create pod sandbox: rpc error: code = Unknown desc = failed to set up sandbox container ""b5f533309f03e54c10c79f19d80c5d4da652fbf12ea1bf964f043bf0aaa8cf48"" network for pod ""ml-pipeline-scope-t114121-deployment-799d5d4bb8-npl7t"": networkPlugin cni failed to set up pod ""ml-pipeline-scope-t114121-deployment-799d5d4bb8-npl7t_flexco-multinode-prod"" network: error getting ClusterInformation: Get [https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/clusterinformations/default|https://[10.96.0.1]/apis/crd.projectcalico.org/v1/clusterinformations/default]: dial tcp 10.96.0.1:443: i/o timeout 

9 January 2024 20:55   "
Defect,CSOIOT-9281,us.cumulocity.com: enable debug log level,"Ricoh Company, Ltd. 801528",251,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",1/26/24 10:56,Customer,5/17/24 10:22,,,3-Medium,None,"To investigate [https://itrac.eur.ad.sag/browse/IOT-19341] Michal Bak asks: 

""It is possible to get via enable debug log level on ( I am not sure if it is possible/secure on this env) _com.cumulocity.authlib.web.oauth.AuthConfigStrategy""_ 

It is our env us.cumulocity.com. 
It this possible?"
Defect,CSOIOT-9279,[Enercon] Uninstall CDH on Enercon DEV and TEST environments,Enercon IT Service GmbH 751790,251,Closed,"Bhatt, Vikas","Janus, Bartosz",1/30/24 12:03,Customer,4/30/24 11:23,,,3-Medium,3-Medium,"*Affected system:* 

Enercon DEV and TEST environments 

DEV: [https://management.iot-dev.enercon.de/] 

TEST: [https://management.iot-test.enercon.de/]  

(Operated by C8Y Ops) 

*Description of the Problem:* 

Enercon is not using CDH on their DEV ([https://iot-dev.enercon.de/]) and TEST ([https://iot-test.enercon.de/]) instances. To optimize resources, please *deactivate and uninstall CDH on both instances* (please {*}leave it online on PROD{*})."
Defect,CSOIOT-9277,Request from Baxter/Hillrom: Update dev Environment to Cumulocity 1018.X.X for upgrade evaluation,Baxter International inc. 752152,252,Closed,"Welsing, Michael","Lisik, Milosz (External)",1/31/24 8:32,Customer,5/10/24 10:29,,,2-High,2-High,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.11* 
** 

*Description of the Problem:* 

Hi Ops, 

please see the following customer request for system update: 

*What:* Upgrade environment to 10.18 for upgrade evaluation 

*When:* 1/30/2024 EOB 

*Where:* On the *{*}.deviot.hillrom.com{*} environment 

Our team is currently completing the installation of our current production components on the 10.11.25 environment *.deviot.hillrom.com in preparation for the upgrade evaluation and will be ready for SwAG to upgrade by EOB on 1/30/2024. 

On this date please run through the upgrade process to bring the environment up to 10.18. We would like a report on the following to help us determine if we can accept an “in-place” upgrade of the environment: 
# Total “interruption” time for the complete upgrade. How long will it take to upgrade the environment. 
# What kind, if any, of availability and/or interruption would a customer experience if using the platform during the upgrade."
Defect,CSOIOT-9274,WaterCare Device Credentials Request,Kallipr Pty Ltd 751685,253,Closed,"Moon, Swai",Unassigned,1/24/24 8:28,Customer,5/15/24 10:38,,,3-Medium,None,"*Affected tenant* 

Kallipr Pty Ltd 7516856 

Version: 10.18 

Tenant: [https://watercare.spark.captis-iot.com/] 

  

*Description of the Problem:* 

Hi team, 

Apologies as it is a long read. 

The customer has opened a ticket about the following request. Please advise if we can do anything about it. 

_Customer's issue:_ 

A few months ago, the customer raised a ticket https://getsupport.softwareag.com/browse/SI-507476 about an issue where a large portion of devices was going offline in [https://watercare.spark.captis-iot.com/] 

The root cause of this was determined to be credentials being changed/updated. After SAG had run a trace and informed them of this, they were able to find out why this was happening and stopped the Python script that was triggering a reset. 

Out of all the devices that were impacted, roughly 67 have remained offline. To resolve the issue on those 67 devices, they performed a network-level DNS trace on one of those devices. The DNS trace indicated that when devices tried to log in, they were being rejected because the credentials were incorrect. Normally, this should trigger the device to go into a fallback mode but for these 67, this has not happened. 

To resolve this issue, they used the DNS trace to determine the device username and password since SSL was disabled and used that to re-onboard the device using the “full device template' on Cumulocity. The next day, the device came back online. 

*The issue they currently face is that* performing a DNS level trace on the remaining 66 devices is challenging for the network as they need to find a specific window when the device connects to the network. As such, *they are asking if we can look at their backend for stored passwords and provide the device credentials* (username and password) for 66 devices currently on the tenancy so they could re-onboard them to the [https://watercare.spark.captis-iot.com/] tenancy. 

Is this possible? 

Old tickets: 

https://getsupport.softwareag.com/browse/SI-507476 

[https://itrac.eur.ad.sag/browse/CSOIOT-7122] 

[https://itrac.eur.ad.sag/browse/CSOIOT-8092] 

[https://itrac.eur.ad.sag/browse/IOT-18348]"
Defect,CSOIOT-9273,BSci: Decision on annual vs continuous updates for non prod,Boston Scientific Corporation 810461,253,Closed,"Talbert, Kent","Simeonova, Rumyana",1/27/24 7:05,Customer,1/27/24 7:05,,,3-Medium,None,"Customer wants their Non-Prod environment to be Continuous Updates. 

  

From Boston Scientific: 

We have come to a decision on wanting to only update our non-production environment to be continuous updates. 

We have not decided on our production environment yet 

This is ONLY for our non-production environment for tenants on *.iotnonprod.bsci.com"
Defect,CSOIOT-9252,[Industrial Scientifics] DEV - Upgrade the DEV environment from 10.17 to 10.18,Industrial Scientific Corporation 752132,254,Closed,"Bhatt, Vikas","Lisik, Milosz (External)",1/22/24 16:08,Customer,4/26/24 10:34,,,2-High,2-High,"*Affected system:* 

Industrial Scientifics Dev: http://management.na-dev.inet.com/ 
Version: 10.17 

*Description of the Problem:* 

Customer has requested to upgrade their DEV environment( *.na-dev.inet.com) from 10.17 to 10.18. 
He says, ""Right now this is kind of high priority."""
Defect,CSOIOT-9239,Unable to update microservice,AM General LLC 750072,256,Closed,"Jian, Jimmy",Unassigned,1/22/24 8:45,Customer,1/22/24 8:45,,,1-Critical,None,"*(Please remove those items not applicable)* 

*Affected system* 

Edge instance: _____________ *Version:* _____________ 

System Usage (Choose one of: Production / Test / Development): ____________ 

Time Zone: _______________ 

*Hypervisor* 

Hypervisor: ______________ *Version:* ____________  (VMWare Workstation Pro, VMWare Workstation Player, VMWare ESXi, Hyper-V) 

Host OS: ____________  *Version:* ____________  

*Resources allocated to the Virtual Machine* 

Disk space:_______ 

Number of CPU cores:________ 

RAM: _________ 

*Issue with installation and/or Update* 

*Installation:* 
* Installation using GUI or REST API:__________ 

* Domain name:_________ 

* License [file:__________|file://__________/] 

* Installation Task Logs:__________ 

*Update:* 
* Updating using GUI or REST API:__________ 

* Cumulocity IoT Edge archive file version:__________ 

* Update Task Logs:__________ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Device:* 
* Device manufacturer and type: _________________ 

* Number affected: Single, Few, All devices. 

* Device is Certified? Yes / No 

* C8Y provided Agent? Type _____________ *Version* ____________ 

*Application:* 
* (URL in ""Own applications"" if not standard app): _________________ 

* Application origin: (choose one) 

*   

* 
** Cumulocity product application 

* 
** GCS application Author/Contact: ______________ 

* 
** Customer application: yes / no 

*Microservice:* 
* (URL in ""Own applications""): _________________ 

* Microservice origin: (choose one) 

*   

* 
** Cumulocity product microservice. Version _______________ 

* 
** GCS custom microservice. Author/Contact _______________ 

* 
** Customer microservice. Yes / No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other _______________ 

*Time period error was observed:* 
* Start: _______________ *End:* _______________ or ongoing. 

* Repeatability? Always / Intermittent (seen *times in last* _ hours/days/weeks). 

* Frequency - All the time / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

*Steps to reproduce* 

{*}Attach Diagnostic log files... ({*}{_}*how to collect logs from the Edge instance is described at*{_} [_*https://cumulocity.com/guides/edge/diagnostics-and-support/#diagnostics*_|#diagnostics*_]{*}){*}"
Defect,CSOIOT-9219,[Nordex] Request to comment and permission to add index in Nordex production environment,Nordex SE 751519,258,Closed,"Bhatt, Vikas","Bieniak, Arkadiusz",1/19/24 6:59,Customer,4/22/24 10:39,,,2-High,2-High,"*Affected system:* 

Nordex Prod Environment: [nifprd.nordex-online.com|http://nifprd.nordex-online.com/] 

Version: 10.16 

*Description of the Problem:* 

We have received a request from Nordex IoT team for a new index to improve the performance of customer’s CCA custom service: 

-------------------------------- 

We have a very specific query in CCA that is slowing down one of the important and often query (getting all the MOs/decorated alarms related to a specific device sorted by creationTime). With help of Arkadiusz, we managed to find out that this simple new index solved the performance issue of this query by factor of 1000. 

We need analysis and permission to install it on Nordex prod environment. 

Definition of the index: 

cmdata: {""asset.id"":1,""creationTime.date"":1} 

-------------------------------- 

Could Ops please review this matter and approve the proposed index for Nordex production? 

Arek Bieniak can provide additional details."
Defect,CSOIOT-9218,Please update cumulocity.com core to 10.18.0.320,Eaton Power Quality Oy 751647,258,Closed,"Herzog, Christian","Lisik, Milosz (External)",1/22/24 15:08,Customer,5/10/24 10:31,,,2-High,None,"We have 3 customers with the same issue, which is fixed in core 10.18.0.320: 
Issue: their cockpit widgets don't work since last update mid of December 
customers: Eaton, Utonomy and Möbus Umweltschutz GmbH 
All have subtenants in cumulocity.com 
All customers ask for an update of cumulocity.com core to 10.18.0.320 
https://getsupport.softwareag.com/browse/SI-550704  
https://getsupport.softwareag.com/browse/SI-548223  
https://getsupport.softwareag.com/browse/SI-549484  

Please let me know when this can be done."
Defect,CSOIOT-9217,domain name change required.,Utonomy Ltd 751633,259,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",1/19/24 18:03,Customer,4/22/24 10:40,17-Jan-24,,3-Medium,3-Medium,"Could you pls ask DevOps (CloudOps) to change the domain for our production subtenant (t81581647) from: 

[sgntrial.utcloud.uk|http://utonomytest.utcloud.uk/] 

to: 

[sgn.utcloud.uk|http://utytest.utcloud.uk/] 

As this is our production tenant, could I please request that this change is done tentatively on Fri 19th January at 17:00 GMT?"
User Story,CSOIOT-9191,Please delete MyJobsite Management tenant and subtenants,Liebherr-Werk Nenzing GmbH 751635,264,Completed,"Lundsten, Alf","Luczyszyn, Mikolaj (External)",1/16/24 11:34,Customer,1/16/24 11:34,,,3-Medium,None,"*From:* Meier, Olaf <[Olaf.Meier@softwareag.com|mailto:Olaf.Meier@softwareag.com]> 
*Date:* Thursday, 4. January 2024 at 10.56 
*To:* Lundsten, Alf <[Alf.Lundsten@softwareag.com|mailto:Alf.Lundsten@softwareag.com]>, Luczyszyn, Mikolaj (External) <[Mikolaj.Luczyszyn@softwareag.com|mailto:Mikolaj.Luczyszyn@softwareag.com]> 
*Cc:* Fröhling, Daniel <[Daniel.Froehling@softwareag.com|mailto:Daniel.Froehling@softwareag.com]>, Simeonova, Rumyana <[Rumyana.Pariyska@softwareag.com|mailto:Rumyana.Pariyska@softwareag.com]>, Behning, Christian <[Christian.Behning@softwareag.com|mailto:Christian.Behning@softwareag.com]>, Welsing, Michael <[Michael.Welsing@softwareag.com|mailto:Michael.Welsing@softwareag.com]>, Janus, Bartosz (External) <[Bartosz.Janus@softwareag.com|mailto:Bartosz.Janus@softwareag.com]>, Bieniak, Arkadiusz (External) <[Arkadiusz.Bieniak@softwareag.com|mailto:Arkadiusz.Bieniak@softwareag.com]> 
*Subject:* AW: Liebherr & myJobSite 

Hi Alf, 

Hi Mikolaj, 

  

first of all: I wish you all a healthy and successful year 2024! 

  

FYI, we have received the confirmation from Liebherr (MyJobsite instance) to delete all subtenants with immediate effect to reduce the DB storage to a minimum. 

  

Thanks for your support! 

  

Kind regards 

  

Olaf"
Defect,CSOIOT-9184,Streaming Analytics upgrade on jp.cumulocity.com,"Micro Technology Co., Ltd. 751560",265,Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,1/12/24 9:15,Customer,4/21/24 10:10,,,2-High,None,"Micro technologies has the following request:  

Today, we have received the notification of upgrading advanced Streaming Analytics Microservice (Apama) on the 17th of January 2024 between 09:00 UTC and 12:00 UTC on [jp.cumulocity.com|http://jp.cumulocity.com/] platform. However, since this notification does not indicate the specific version to upgrade, we cannot know how much this upgrade will affect our applications. So, can you please let us know which version you are going to upgrade as soon as possible? 

  

Can you please let us know the version of Streaming Analytics Microservice we are targeting for this upgrade? 

 "
Defect,CSOIOT-9180,MQTT Server Weak Cipher Suite- TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,Boston Scientific Corporation 810461,266,Closed,"Talbert, Kent","Janus, Bartosz",1/12/24 9:11,Customer,1/12/24 9:11,,,3-Medium,None,"Received the following from Boston Scientific: 

  

We did a penetration test last May and one of the findings was that a weak cipher suite was available that enabled a Logjam TLS downgrade attack. 

The notes were that “The assessment team observed support for a weak cipher suite (TLS_DHE_RSA_WITH_AES_256_GCM_SHA384) available for TLS 1.2 on the MQTT service. This cipher suite is vulnerable to a Logjam TLS downgrade attack.” 

Does this support still exist or has it been remediated? If it still exists, are there plans to remediate it? 

-------- 

First, I want to check to see if they have TLS 1.2 enabled and if that cipher suite is enabled on their environment? 

  

TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 

  

Thanks, 

Kent"
Defect,CSOIOT-9143,[Itron] LwM2M communications - Increase the time between server initiated retries,"Itron, Inc. 751854",272,Closed,"Bhatt, Vikas","Pentchev, Nikolay",1/17/24 13:36,Customer,4/30/24 11:37,,,3-Medium,2-High,"*Affected system:* 

Itron Prod Tenant URL; [https://envd417247.c8y.sag.idealabs.cloud/apps/cockpit/index.html] 

*Description of the Problem:* 

Customer from iTron has created the following request for Ops: - 

---------------------- 

For LwM2M communications, we are observing many server initiated retries to a device over a Cat-NB cellular connection. From the attached (device side) Wireshark image, it looks like the server is resending packets after a 300ms timeout. It does eventually succeed but results in many unneeded retries, leading to higher data costs.  

Could SAG Ops increase the time between server initiated retries to 10s? 

We may need to go higher but let’s start at 10 seconds.  

---------------------- 

!Server Retry for Cat-NB Device.png|thumbnail!"
Defect,CSOIOT-9141,Solenis: Request to update their production instance to 10.17,Solenis LLC 751237,272,Closed,"Talbert, Kent","Lisik, Milosz (External)",1/9/24 12:46,Customer,4/16/24 10:41,,,3-Medium,None,"Solenis would like to have their Production environment upgraded to 10.17 next week. 

  

Not sure if this is possible to do so quickly, but let me know what you can schedule for them. 

  

Thanks, 

Kent"
Defect,CSOIOT-9085,When creating alarms we get back json objects that are not conform the API,Mohawk International Services BV 751864,274,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",1/8/24 14:09,Customer,9/4/24 11:31,2-Jan-24,,3-Medium,3-Medium,"A customer on EMEA is experiencing the same problem that this Itrac corrected.. 

https://itrac.eur.ad.sag/browse/CSOIOT-9062 

Can the same property be set on EMEA?"
Defect,CSOIOT-9083,Upgrade required.,Industrial Scientific Corporation 752132,274,Closed,"Neale, Robert","Lisik, Milosz (External)",1/23/24 13:14,Customer,5/16/24 10:31,22-Jan-24,,3-Medium,3-Medium,"Industrial Scientific Corporation 7521326 would like to upgrade their environments - I think they are on 10.17. 
They want 10.17.0.385 to get a fix for a problem with auditing support user actions. 

Can some dates be suggested when this can be done?"
Defect,CSOIOT-9068,[Telstra prod] LwM2M Devices experiencing Observe Issues when doing registration,Telstra Corporation Limited 751491,280,Closed,"Herzog, Christian","Radzali, Basyar",1/17/24 10:24,Customer,4/30/24 11:38,,,3-Medium,None,"At Telstra we have an issue that LWM2M devices go offline. 
This is investigated by Jakub Sobolewski in [https://itrac.eur.ad.sag/browse/IOT-19143]. 

Jakub: 
example: [https://sew.iot.telstra.com/apps/devicemanagement/index.html#/device/1199643198/control)]. 
This may be related to not enough COAP threads on the agent. 
Maybe we could increase those and see what happens? 
I can see that it's currently on 2000 - maybe we could try 2500 or even 3000?  
I think they have a freeze until next year on changes like that. 
But as soon as possible we should change and test those settings. 
*Tenant URL:* [https://sew.iot.telstra.com/]"
Defect,CSOIOT-9062,Itron: Add setting repository.alarm.mongodb.driver=DB_OBJECT property.,"Itron, Inc. 751854",281,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",12/28/23 13:48,Customer,9/4/24 11:33,,,3-Medium,None,"Itron environment 

  

Need to add setting {{repository.alarm.mongodb.driver=DB_OBJECT}} property. 

  

See [https://itrac.eur.ad.sag/browse/IOT-19139] for more details. 

  

After proper fix this property will be need to be removed."
Defect,CSOIOT-9060,[Telstra Prod] Jemena's microservice potentially experiencing delayed/no response from database affecting their child device creation,Telstra Corporation Limited 751491,285,Closed,"Schon, Gregor",Unassigned,1/15/24 11:23,Customer,4/18/24 10:41,,,2-High,None,"h3. Affected system 

  
|Platform Name|Environment|Loki Integraion|Which Loki| 
|Telstra Production|Telstra NG Production|N/A|N/A| 

  
|*STW*|*Customer*|*Usage*|*Hypervisor*|*Type*|*Version*|*Data Hub*|*URL*|*Location*|*Software AG Internal Contact*|*Customer Contact*| 
|40|*Telstra*|Prod|AWS|PE 
on-prem|*1015.0.455*| |[iot.telstra.com|https://iot.telstra.com/]|AWS Sydney|Alf|IOT Support 
[messagingoperations@team.telstra.com|mailto:messagingoperations@team.telstra.com] 
[IoT_Telstra_Support@team.telstra.com|mailto:IoT_Telstra_Support@team.telstra.com] 
+61 3 8542 4256 
+61 7 3455 2930| 

  

  

  

SAG Cloud region: _________________ Domain __________________ Version __________________ 
Edge instance: _______________ Version: _______________ 
Managed services instance: _________________ Version: _______________ 
System: Production Time Zone: _______________ 
h3. Affected tenant 

Tenant:   [https://jemena.iot.telstra.com/] 

Enterprise Tenant? Unknown 
System accessible by R&D? No 
UserID ______N/A_________ Password __ N/A __ 
h3. Issue associated microservice 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 
h3. Microservice:  Custom Jemena CBOR decoder microservice 
* (URL in ""Own applications""): ________ N/A _________ 
* Microservice origin: (choose one) Custom 
* Cumulocity product microservice. Version ________N/A_______ 
* GCS custom microservice. Author/Contact __[IoT_Telstra_Support@team.telstra.com|mailto:IoT_Telstra_Support@team.telstra.com]______ 
* Customer microservice. Yes 

h3. Protocol used? 
* MQTT / Rest / Smart REST / Other _______________ 

h3. Time period error was observed: 

   An instance of the issue happened {*}Example o{*}n 12 December 2023, a manual 30001 read was initiated for gateway IMEI 35594652685798. T 

The issue persists. 

  
* Steps to reproduce 

h3.   
h3. Attach log files... 
h3. Description of the Problem: 

_Customer describes:_ 

Jemena is reporting that they are potentially observing Cumulocity database not responding to API queries from the Custom Jemena CBOR decoder microservice as part of the meter or MDL device creation in their tenancy. Can you please assist us in this investigation? 

*Background / Context* 

The Jemena gateway devices (c8y_LwM2M) communicate with multiple (up to 32) Meter Data Loggers (MDLs) at a site (such as an apartment buildings), and each MDLs may be connected to 32 gas/water Meters. 

The LwM2M gateway device returns a custom 30001 configuration object CBOR resource for each connected MDL and a custom 30000 measurement object resource for each connected Meter. Each object resource contains the configuration or measure information for the 32 meters connected to the MDL. 

When a (configuration) 30001 object resource for a MDL is received by the custom decoder, the CBOR is decoded and sequentially processes the meter configuration information (up to 32 meters) within the CBOR. 

The high-level is as follows: 
# The decoder queries the c8y database to confirm whether the MDL already exists for the gateway ID and if the MDL does not exist, the decoder attempts to write the new MDL information to the c8y database. MDLs are named mdl_0 to mdl_31.  mdl_0 is associated with resources 30001/0/1 and so on. 
# Once the MDL is created (or confirmed to already exist) the decoder then sequentially processes each meter that is in the CBOR. 
# For each meter it processes, the microservice queries the database via API calls to confirm whether the meter name already exists for the gateway ID and if the meter name does not currently exist, the decoder attempts to write the new meter information to the c8y database along with the appropriate configuration information. Note that there may be multiple read/write queries as part of this process. 

*Issue* 

What Jemena is reporting is that on some occasions, *the microservice is not receiving a response from the database to the read or write queries (or the response is significantly delayed).* This requires retry management and/or we can end up in an indeterminate state as to whether devices exist in the database or not. This results sometimes in the devices not being created or on some occasion, meters being duplicated. 

*Example* 

On 12 December 2023, a manual 30001 read was initiated for gateway IMEI 35594652685798. This gateway has 30 MDLs connected to it. Prior to the read, there were no child MDLs or meters associated with gateway existing in the c8y database. 

As per the event log for the gateway, 30x 30001/0/X lwm2m objects were received as expected (see image 1). 

However, when we analyze the c8Y inventory, we note that on the 12^th^, only 11 MDLs were created (see image 2). 

This led Jemena to conclude that the microservice was not able to create the remaining MDLs because of the above issues. A further read of the 30001 objects for this gateway was initiated on the 13^th^ and 14^th^ of December. On 13^th^ December, a further 6 MDLs were created and, on the 14^th^, a further 11 MDLs were created. 

*Further comment* 

While there are currently more than *200,000 devices* now in the Jemena Prod Tency - they were observing non-response to queries in Jemena PRE-PROD where there were less than 1000 devices in inventory. This leads them to conclude that the issue is probably not related to database size. 

When this issue occurred on 12^th^ December, this was part of a bulk 30001 read of 216 gateways and 824 MDLs were created, potentially related to the number of queries according at the point of time. 

           Please let us know if you require further information. 

Kind regards, 

Laudemhir Jan Parel 

~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
There is not description how Telstra tickets are handled. I would expect that OPs  can provide relevant log files which may cover the issue with the tenant and the microservice. "
Defect,CSOIOT-9059,Missing Log entries for a Microservice,Eppendorf SE 751760,285,Closed,"Welsing, Michael","Valkov, Milen",1/9/24 9:02,Customer,4/8/24 10:40,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: [https://management.visionizedigitallabspace.eppendorf.com/] OR System-wide issue. 

*Microservice:* 
* Customer microservice. *Yes* / No 

*Time period error was observed:* 
* Start: *05.12.* End: *19.12.* or ongoing. 

*Description of the Problem:* 

Hi, 

Eppendorf wonders why microservice logs are missing from the given timeframe. Where there some issues on our side causing this? 

  
{code:java} 
2023-12-05 15:37:38.218 [http-nio-80exec10] INFO  v.s.r.c.RegistrationController - Post-processing request already scheduled for device with serial ESS1JK050158 on t117375238 
2023-12-05 15:37:39.071 [http-nio-80exec1] INFO  v.s.r.c.RegistrationController - Accept a post-processing request called for device with serial ESS1JK050158 on t117375238 by service_apama-ctrl-1c-4g 
2023-12-05 15:37:39.071 [http-nio-80exec1] INFO  v.s.r.c.RegistrationController - Post-processing request already scheduled for device with serial ESS1JK050158 on t117375238 
2023-12-19 04:43:16.857 [http-nio-80exec9] INFO  v.s.r.c.RegistrationController - Accept a post-processing request called for device with serial ESS1JK050158 on t117375238 by service_apama-ctrl-1c-4g 
2023-12-19 04:43:16.857 [http-nio-80exec9] INFO  v.s.r.c.RegistrationController - Post-processing request already scheduled for device with serial ESS1JK050158 on t117375238 
2023-12-19 04:43:18.697 [http-nio-80exec7] INFO  v.s.r.c.RegistrationController - Accept a post-processing request called for device with serial ESS1JK050158 on t117375238 by service_apama-ctrl-1c-4g 
{code} 

 "
Defect,CSOIOT-9052,Please deactivate MyJobsite Management tenant and prevent any further usage of this instance,Liebherr-Werk Nenzing GmbH 751635,286,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",12/22/23 11:41,Customer,4/22/24 10:49,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: *management.myjobsite.com* OR System-wide issue. 
** 

*Description of the Problem:* 

Dear OPS team, 

customer Liebherr has decided to stop using the MyJobsite instance ([management.myjobsite.com|http://management.myjobsite.com/] / liebherriot) with immediate effect. Sub tenant access has already been deactivated by the customer. Please deactivate the enterprise/management tenant mentioned above with immediate effect and delete all sub-tenants (all existing data has been migrated by the customer already). It needs to be ensured that no overage usage will be generated anymore in this instance (Data Stored/Device number/API calls (devices)/ MS CCU usage). 

Thank you!"
Defect,CSOIOT-9051,CLONE for Ops - OEE Upgrade required for SONY,Sony Semiconductor Solutions Corp. 751975,286,Closed,"Bhatt, Vikas","Valkov, Milen",12/22/23 11:49,Customer,12/22/23 11:49,,,3-Medium,3-Medium,"*Affected system:* 

Tenant ID: t3009437 
Tenant URL: https://pcd.ce-sssdev.aitrios.sony-semicon.com/ 

*Sony's environment is operated by C8Y Ops* 

*Description of the Problem:* 

After investigations in COE-15, R&D found that the calculation of the Actual Production Amount is working correctly again after the platform update to version 10.17.0.364 on November 2nd. 

Furthermore, R&D recommended to update the OEE components in the Sony environment to the latest official 10.17. versions and cancel the subscription of the apama-oeeapp in the https://pcd.ce-sssdev.aitrios.sony-semicon.com tenant – it should be only subscribed on the parent tenant where it is deployed to. 

*Task for Ops*: 

- Please update ]OEE components to the latest version. 
- Customer can't cancel the subscription of the apama-oeeapp in the https://pcd.ce-sssdev.aitrios.sony-semicon.com tenant. Please make this change."
Defect,CSOIOT-9049,About Rocky linux migration procedure,Software AG Bangalore Technologies 326500,287,Closed,"Simeonova, Rumyana",Unassigned,12/20/23 13:20,Customer,12/20/23 13:20,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 
** 

*Description of the Problem:* 

Hello OPS, 

there is a question about migration chef node to Rocky Linux. Please see the question below: 

Following Chapter 9 from Multi node installation guide of 10.18 to migrate centos to Rocky-Linux ([^Cumulocity IoT Core-Multi-node installation guide-10.18.0-2023-11-08.pdf]) there is no procedure described explicitly valid for the chef node. 

Could you please explain what will be the procedure to migrate chef node from centos to Rocky Linux? 

THANKS"
Defect,CSOIOT-9040,SMS sending error,Hitachi Construction Machinery Co. 731218,288,Closed,"Simeonova, Rumyana","Schueller, Thomas",12/19/23 14:50,Customer,12/19/23 14:50,8-Dec-23,,2-High,None,"Customer is noticing errors in the logs and found that there may be a problem with sms-gateway. 

The SMS sending URL of Ericsson DCP may be incorrect. 

・URL of directly calling Telenor (EricssonDCP) API (correct URL) 

{{[https://exposureapi.dcp.ericsson.net/dcpapi/smsmessaging/v1/outbound/tel:467190002980367/requests]}} 

・URL of using APAMA  

POST /service/messaging/smsmessaging/outbound/[tel:467190002980367/requests|] 

We attach the APAMA log file, and please search for ""tel:"" to find the URL. 

Customer environment can be accessed using the below credentails: 

URL: [https://hitachi-kenki.cumulocity.com/apps/cockpit/index.html#/] 
user:sagsupport 
pass:Sag-2023"
Defect,CSOIOT-9038,"[Telstra] Devices doesn't appear in ""All devices"" page for SEW tenancy if logged in user is sysadmin and no filter applied",Telstra Corporation Limited 751491,289,Closed,"Bhatt, Vikas","Bieniak, Arkadiusz",1/19/24 7:01,Customer,1/19/24 7:01,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Prod - SEW Tenant 

URL : https://sew.iot.telstra.com/ 

*Description of the Problem:* 

Customer reported the following issue in one of their tenants while logging via sysadmin user. 

--------------------------------- 

We have observed an issue in Device Management->All devices page, specific to SEW tenancy for sysadmin user. 

Even though tenant has 62737 devices, all devices page shows no devices. Please refer the attached snapshot. 

+*below are the additional details:*+ 
* This issue is only specific to SEW and not observed in any other tenants. 
* Issue is observed for only sysadmin login, all other local users of SEW tenant are able to see the devices list in all devices page. 
* Issue is observed when filter is NOT applied (default). when user applies a filter, devices are appeared as per the filter condition. Once the filter is cleared, again no devices are shown(Expectation is to show all 62737 devices). 

Regarding tenant access, I can see Sourajit and Oezge from SoftwareAG has SEW access but again issue is reproducible only from sysadmin user. 

Please let us know if any other information needed on this. 

--------------------------------- 

!image.png|thumbnail! 
!image-1.png|thumbnail!"
Defect,CSOIOT-9033,[Telstra] Failure retrieving usage data for certain Cumulocity IoT subscriptions on Production Environment,Telstra Corporation Limited 751491,290,Closed,"Bhatt, Vikas","Abdul Majid, Mohd Shahmi",12/22/23 10:26,Customer,3/27/24 9:44,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Prod Instance 

*Description of the Problem:* 

+Customer raised the following issue: -+ 

We have been reported by our internal team that they are unable to retrieve usage statistic data for certain Cumulocity IoT tenants via API for production environment. 

 Logs of attempts to retrieve usage of each tenancy are in the last column of each row. Below are filtered output from each logs for easy and fast reference: 

 *TenancyID: sdrc* 

======================================================================================================= 

Nov 24 06:15:01.850 IOT.APS: DEBUG | 1001205 | 1658542 | | | | Taskid: 6901192346 | Tenant Counters Current Values (previous usage update): TenancyID: sdrc ActiveProductType: RequestCount: 65944 StorageSize: 11077 DeviceCount: 1 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.139 IOT.APS: DEBUG | 1001205 | 1658542 | | | | Taskid: 6901192346 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.137 IOT.APS: WARN | 1001205 | 1658542 | | | | Taskid: 6901192346 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: whitsundays* 

======================================================================================================= 

Nov 24 06:15:02.171 IOT.APS: DEBUG | 1001774 | 1657526 | | | | Taskid: 6902192351 | Tenant Counters Current Values (previous usage update): TenancyID: whitsundays ActiveProductType: RequestCount: 18350046 StorageSize: 2146580 DeviceCount: 312 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.395 IOT.APS: DEBUG | 1001774 | 1657526 | | | | Taskid: 6902192351 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.396 IOT.APS: WARN | 1001774 | 1657526 | | | | Taskid: 6902192351 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

*TenancyID: t76540750* 

======================================================================================================= 

Nov 24 06:15:02.172 IOT.APS: DEBUG | 1004812 | 1659494 | | | | Taskid: 6902192355 | Tenant Counters Current Values (previous usage update): TenancyID: t76540750 ActiveProductType: RequestCount: 4368445 StorageSize: 512884 DeviceCount: 57 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.370 IOT.APS: DEBUG | 1004812 | 1659494 | | | | Taskid: 6902192355 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.374 IOT.APS: WARN | 1004812 | 1659494 | | | | Taskid: 6902192355 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: commonwealthsf* 

======================================================================================================= 

Nov 24 06:15:01.823 IOT.APS: DEBUG | 1004997 | 1659574 | | | | Taskid: 6901192356 | Tenant Counters Current Values (previous usage update): TenancyID: commonwealthsf ActiveProductType: RequestCount: 63509 StorageSize: 3198 DeviceCount: 2 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.090 IOT.APS: DEBUG | 1004997 | 1659574 | | | | Taskid: 6901192356 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.089 IOT.APS: WARN | 1004997 | 1659574 | | | | Taskid: 6901192356 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: aurizon* 

======================================================================================================= 

Nov 24 06:15:01.839 IOT.APS: DEBUG | 1005023 | 1655601 | | | | Taskid: 6901192348 | Tenant Counters Current Values (previous usage update): TenancyID: aurizon ActiveProductType: RequestCount: 30352942 StorageSize: 284777 DeviceCount: 135 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.075 IOT.APS: DEBUG | 1005023 | 1655601 | | | | Taskid: 6901192348 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.078 IOT.APS: WARN | 1005023 | 1655601 | | | | Taskid: 6901192348 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: alcoamining* 

======================================================================================================= 

Nov 24 06:15:01.782 IOT.APS: DEBUG | 1005051 | 1658985 | | | | Taskid: 6901192359 | Tenant Counters Current Values (previous usage update): TenancyID: alcoamining ActiveProductType: RequestCount: 2529001 StorageSize: 309277 DeviceCount: 38 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.008 IOT.APS: DEBUG | 1005051 | 1658985 | | | | Taskid: 6901192359 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.014 IOT.APS: WARN | 1005051 | 1658985 | | | | Taskid: 6901192359 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: nps* 

======================================================================================================= 

Nov 24 06:15:02.034 IOT.APS: DEBUG | 1005062 | 1655964 | | | | Taskid: 6902192349 | Tenant Counters Current Values (previous usage update): TenancyID: nps ActiveProductType: RequestCount: 1962049 StorageSize: 206520 DeviceCount: 27 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.294 IOT.APS: DEBUG | 1005062 | 1655964 | | | | Taskid: 6902192349 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.298 IOT.APS: WARN | 1005062 | 1655964 | | | | Taskid: 6902192349 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: utilitycap* 

======================================================================================================= 

Nov 24 06:15:02.150 IOT.APS: DEBUG | 1005090 | 1659496 | | | | Taskid: 6902192358 | Tenant Counters Current Values (previous usage update): TenancyID: utilitycap ActiveProductType: RequestCount: 3908808 StorageSize: 7863157 DeviceCount: 110 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.359 IOT.APS: DEBUG | 1005090 | 1659496 | | | | Taskid: 6902192358 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.359 IOT.APS: WARN | 1005090 | 1659496 | | | | Taskid: 6902192358 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: sydneywater* 

======================================================================================================= 

Nov 24 06:15:02.047 IOT.APS: DEBUG | 1005106 | 1656310 | | | | Taskid: 6902192354 | Tenant Counters Current Values (previous usage update): TenancyID: sydneywater ActiveProductType: RequestCount: 506727222 StorageSize: 18439304 DeviceCount: 6105 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.350 IOT.APS: DEBUG | 1005106 | 1656310 | | | | Taskid: 6902192354 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.351 IOT.APS: WARN | 1005106 | 1656310 | | | | Taskid: 6902192354 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: midcoast* 

======================================================================================================= 

Nov 24 06:15:02.146 IOT.APS: DEBUG | 1005270 | 1657576 | | | | Taskid: 6902192350 | Tenant Counters Current Values (previous usage update): TenancyID: midcoast ActiveProductType: RequestCount: 16294510 StorageSize: 2679471 DeviceCount: 200 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.360 IOT.APS: DEBUG | 1005270 | 1657576 | | | | Taskid: 6902192350 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.362 IOT.APS: WARN | 1005270 | 1657576 | | | | Taskid: 6902192350 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: civiq* 

======================================================================================================= 

Nov 24 06:15:02.186 IOT.APS: DEBUG | 1005281 | 1659581 | | | | Taskid: 6902192357 | Tenant Counters Current Values (previous usage update): TenancyID: civiq ActiveProductType: RequestCount: 359887 StorageSize: 195620 DeviceCount: 24 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.395 IOT.APS: DEBUG | 1005281 | 1659581 | | | | Taskid: 6902192357 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.397 IOT.APS: WARN | 1005281 | 1659581 | | | | Taskid: 6902192357 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: jemenapreprod* 

======================================================================================================= 

Nov 24 06:15:01.758 IOT.APS: DEBUG | 1005331 | 1659607 | | | | Taskid: 6901192352 | Tenant Counters Current Values (previous usage update): TenancyID: jemenapreprod ActiveProductType: RequestCount: 12447457 StorageSize: 168543 DeviceCount: 153 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:01.965 IOT.APS: DEBUG | 1005331 | 1659607 | | | | Taskid: 6901192352 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:04.966 IOT.APS: WARN | 1005331 | 1659607 | | | | Taskid: 6901192352 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host 

  

*TenancyID: t74274800* 

======================================================================================================= 

Nov 24 06:15:01.841 IOT.APS: DEBUG | 1005420 | 1659173 | | | | Taskid: 6901192345 | Tenant Counters Current Values (previous usage update): TenancyID: t74274800 ActiveProductType: RequestCount: 222596356 StorageSize: 129313697 DeviceCount: 2972 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 24 06:15:02.075 IOT.APS: DEBUG | 1005420 | 1659173 | | | | Taskid: 6901192345 | CumulocityManager::showRequest REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] 

Nov 24 06:16:05.071 IOT.APS: WARN | 1005420 | 1659173 | | | | Taskid: 6901192345 | Empty response getting the usage from Cumulocity. HTTP CODE: 200# CONN ERROR: couldn't connect to host. 

 Please find below more details which may help for the investigation- 
* Is it working before for mentioned tenants at your end? -Yes 

  
* If yes, when was the last time it was successful? ----Last successful usage retrieval for all those tenants is on *14/11* 

  

Nov 28 06:15:01.942 IOT.APS: DEBUG | 1005331 | 1659607 |  |  |  | Taskid: 2501884263 | Tenant Counters Current Values (previous usage update): TenancyID: jemenapreprod ActiveProductType:  RequestCount: 12447457 StorageSize: 168543 DeviceCount: 153 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.162 IOT.APS: DEBUG | 1001205 | 1658542 |  |  |  | Taskid: 2502884257 | Tenant Counters Current Values (previous usage update): TenancyID: sdrc ActiveProductType:  RequestCount: 65944 StorageSize: 11077 DeviceCount: 1 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.196 IOT.APS: DEBUG | 1005270 | 1657576 |  |  |  | Taskid: 2502884260 | Tenant Counters Current Values (previous usage update): TenancyID: midcoast ActiveProductType:  RequestCount: 16294510 StorageSize: 2679471 DeviceCount: 200 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.196 IOT.APS: DEBUG | 1005106 | 1656310 |  |  |  | Taskid: 2502884265 | Tenant Counters Current Values (previous usage update): TenancyID: sydneywater ActiveProductType:  RequestCount: 506727222 StorageSize: 18439304 DeviceCount: 6105 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.197 IOT.APS: DEBUG | 1005062 | 1655964 |  |  |  | Taskid: 2502884270 | Tenant Counters Current Values (previous usage update): TenancyID: nps ActiveProductType:  RequestCount: 1962049 StorageSize: 206520 DeviceCount: 27 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.197 IOT.APS: DEBUG | 1001774 | 1657526 |  |  |  | Taskid: 2502884267 | Tenant Counters Current Values (previous usage update): TenancyID: whitsundays ActiveProductType:  RequestCount: 18350046 StorageSize: 2146580 DeviceCount: 312 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.201 IOT.APS: DEBUG | 1004997 | 1659574 |  |  |  | Taskid: 2502884261 | Tenant Counters Current Values (previous usage update): TenancyID: commonwealthsf ActiveProductType:  RequestCount: 63509 StorageSize: 3198 DeviceCount: 2 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.212 IOT.APS: DEBUG | 1005051 | 1658985 |  |  |  | Taskid: 2502884269 | Tenant Counters Current Values (previous usage update): TenancyID: alcoamining ActiveProductType:  RequestCount: 2529001 StorageSize: 309277 DeviceCount: 38 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.229 IOT.APS: DEBUG | 1005023 | 1655601 |  |  |  | Taskid: 2502884258 | Tenant Counters Current Values (previous usage update): TenancyID: aurizon ActiveProductType:  RequestCount: 30352942 StorageSize: 284777 DeviceCount: 135 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.233 IOT.APS: DEBUG | 1004812 | 1659494 |  |  |  | Taskid: 2502884268 | Tenant Counters Current Values (previous usage update): TenancyID: t76540750 ActiveProductType:  RequestCount: 4368445 StorageSize: 512884 DeviceCount: 57 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.233 IOT.APS: DEBUG | 1005281 | 1659581 |  |  |  | Taskid: 2502884271 | Tenant Counters Current Values (previous usage update): TenancyID: civiq ActiveProductType:  RequestCount: 359887 StorageSize: 195620 DeviceCount: 24 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.233 IOT.APS: DEBUG | 1005420 | 1659173 |  |  |  | Taskid: 2502884259 | Tenant Counters Current Values (previous usage update): TenancyID: t74274800 ActiveProductType:  RequestCount: 222596356 StorageSize: 129313697 DeviceCount: 2972 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

Nov 28 06:15:02.371 IOT.APS: DEBUG | 1005090 | 1659496 |  |  |  | Taskid: 2502884264 | Tenant Counters Current Values (previous usage update): TenancyID: utilitycap ActiveProductType:  RequestCount: 3908808 StorageSize: 7863157 DeviceCount: 110 LastRetrieve: 2023-11-14 LastUsage: 2023-11-13T23:59:59.999Z 

  
* What API you are trying to hit and what are the roles associated with your user? ----The API according to the aps application log are these:   ----{*}retrieval of client credential in a form of a token:{*} [https://telstracloudservicesapis.onmicrosoft.com/iotapi] ---------usage retrieval REQUEST_URL: [http://10.60.71.157:8111/tenant/statistics/allTenantsSummary|https://urldefense.com/v3/__http:/10.60.71.157:8111/tenant/statistics/allTenantsSummary__;!!KDf9ebxpXGLC!FytkA3M6z2uQRWy061K7V_JUY_u-wgM-kCt8Bp1fz2NPPMY6gGHCVV3chSd-6bjS7aoh0M7wL3VAxWfNnkCTmcrN3C_EVnoD1sZg7p8$] ----I can't ascertain what is the role but all the requests are using one credential as below. The same one was also used when the usage retrieval was successful: 

  

[WSL]38191:for x in `cat tenantlist`; do echo TenantID:$x && echo "" "" && grep client_credentials $x-telstra.IOT.log | head -1 | awk '\{print $17, $18}' && echo ======================================================================================================================================= && echo "" "" ; done 

TenantID:sdrc 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:whitsundays 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:mulgowie 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:t76540750 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:commonwealthsf 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:aurizon 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:alcoamining 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:nps 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:utilitycap 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:sydneywater 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:midcoast 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:civiq 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:jemenapreprod 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

TenantID:t74274800 

CumulocityManager::getTokens argv([""client_credentials"",""https:\\/\\/telstracloudservicesapis.onmicrosoft.com\\/iotapi"",""05156bd7-5627-410c-8c70-d44a806a216c"",""fmB8Q~ELHOAoYWPTjNvEZsUQ~hpDHufyFWZRNcn7"",""https:\\/\\/login.microsoftonline.com\\/156b5523-33d1-45ef-bb52-815ed5c399ed\\/oauth2 
/token""]) 

======================================================================================================================================= 

  
* Also please help us to know which tenant you are using for C8Y environment? ----The retrieval requests for each tenants are invoked automatically to a web-based application written in PHP.   

     I did not use any c8y client to invoke the request manually.  

Hope provided information helps you to investigate why team is Failing to retrieve usage data for certain Cumulocity IoT subscriptions on Production environment. Kindly let us know if any further information require. 

 "
Defect,CSOIOT-9030,[Flexco] Critical Infrastructure Services Down!,Flexible Steel Lacing Company Inc 751958,291,Closed,"Chandran, Mageswari","Lundsten, Alf",12/19/23 8:16,Customer,5/1/24 10:41,,,1-Critical,1-Critical,"*Affected system:* 

Tenant ID: ** t114121 

[https://prod.flexcoelevatedashboard.com/]  

(Flexco is operated by C8Y Ops) 

*Description of the Problem:* 

Our Production Tenant is in Crisis due to issues with the Cumulocity Platform! MY call back number is: 630-946-9034"
Defect,CSOIOT-9029,CLONE - We still keep receiving a lot of http 502 and response already closed exceptions,Mohawk International Services BV 751864,292,Closed,"Welsing, Michael","Jiang, Weiwei",12/19/23 8:08,Customer,12/19/23 8:40,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA* Domain *emea.cumulocity.com* Version *10.17* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: *mohawk-iiot.emea.cumulocity.com* OR System-wide issue. 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi Ops, 

bad news. Mohawk is seeing 502 errors, still! 

They claim they receive 502 http response already and the number of the incoming errors is not decreasing. 

They monitor those errors for a long time and the platform does not seem to run more stable these days so that these errors do not disappear! 

Customer needs an explanation why they receive 502 gateway errors like the following: 

  
{code:java} 
[2023-12-11T03:16:29.771+01:00 ERR] following exception occured, retrying in 1.97 seconds: 
""Cumulocity.SDK.Client.Rest.SDKException: Http status code: 502 
ErrorMessageRepresentation 
<html> 
<head><title>502 Bad Gateway</title></head> 
<body> 
<center><h1>502 Bad Gateway</h1></center> 
<hr><center>openresty</center> 
</body> 
</html> 
at Cumulocity.SDK.Client.ResponseParser.checkStatus(HttpResponseMessage response, Int32[] expectedStatusCodes) 
at MQTTService.Services.ProcessingService.<>c_DisplayClass8_0.<PushMeasurements>b_0() 
at Unilin.IIOT.Utils.Retry.ExponentialBackoff.<>c_DisplayClass1_0{{1.<TryAsync>b_0() at Unilin.IIOT.Utils.Retry.ExponentialBackoff.TryAsync[TReturn,TException](Func}}1 action, TimeSpan maxBackoffTime, Int32 maxAttempts, ILogger logger, CancellationToken cancellationToken)"" 
[2023-12-11T03:16:31.785+01:00 ERR] following exception occured, retrying in 2.958 seconds 
{code} 
  

  
{code:java} 
System.AggregateException: One or more errors occurred. (An error occurred while sending the request.) 
---> System.Net.Http.HttpRequestException: An error occurred while sending the request. 
---> System.IO.IOException: The response ended prematurely. 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
— End of inner exception stack trace — 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
  
{code} 
Do you as OPS monitor these errors as well? 

The 502 are monitored by customer system but the response closed is more radical it even does not return any http code so they cannot monitor it."
Defect,CSOIOT-8988,Enable timeseries mode by default,SAP SE 700,294,Closed,"Welsing, Michael","Bieniak, Arkadiusz",12/18/23 8:00,Customer,4/2/24 10:41,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.18* 

*Affected tenant* 

Tenant: [https://management.dev.cy.iot.sap/]. OR System-wide issue. 
** 

*Description of the Problem:* 

Hello OPS-Team, 

can you perform the change request from customer? Please see his request below: 

""Dear Team, 

Could you please enable timeseries mode by default for all the new tenants getting created in [https://management.dev.cy.iot.sap/]. I have reached out to Harald Meyer and he suggested the following: 

It is also possible to automatically enable time series measurements for newly created tenants. In order to configure time series for new tenants, the following property should be configured via Helm chart: 
{noformat} 
timeseries.mongodb.new-tenant.enabled=true{noformat} 
Could you please enable and let me know? 

Thanks, 

Sathish"" 

THANKS"
Defect,CSOIOT-8986,Please create user in tenant envd417247.c8y.sag.idealabs.cloud,"Itron, Inc. 751854",295,Closed,"Herzog, Christian","Kehayov, Boyan",12/13/23 12:43,Customer,3/15/24 9:49,,,4-Low,None,"Please create user in iTron tenant envd417247.c8y.sag.idealabs.cloud, the customer Veerendra Konkati allowed this for ticket investigation 

please create a user with username and email address Elias.Weingaertner@softwareag.com, role ""admins"" and activate the option “Send password reset link as email”"
Defect,CSOIOT-8985,Cumulocity Non-Prod Upgrade Schedule Request,Boston Scientific Corporation 810461,295,Closed,"Eha, Allan","Lisik, Milosz (External)",12/19/23 8:10,Customer,3/19/24 10:00,,,4-Low,None,"Boston Scientific would like to have to schedule an upgrade in January: 

Can we get an upgrade of our *.iotnonprod.bsci.com non-prod cumulocity environments scheduled to upgrade to version 10.18 for dates of either January 23rd or 24th of 2024? 

 "
Defect,CSOIOT-8976,Cumulocity SMS Provider Details Missing,Kallipr Pty Ltd 751685,295,Closed,"Welsing, Michael","Pham, Hoang",12/18/23 7:56,Customer,5/7/24 10:42,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *APJ* Version *10.18* 

*Affected tenant* 

Tenant: *[https://management.miot.captis-iot.com/]* OR System-wide issue. 
** 

*Description of the Problem:* 

Hi, 

for some reasons the tenant options for SMS provider Telstra are missing on the mentioned tenant. Can you reenable those? 
{code:java} 
POST /tenant/options 

Authorization: <secret> 
Content-Type: application/json 
Accept: application/json 

{ 
    ""category"": ""messaging"", 
    ""key"": ""providers.whitelist"", 
    ""value"": ""bics,comarch,ericsson-dcp,gsm-one,jasper-wireless,kpn,openit,sms77,telstra"" 
}{code} 
{code:java} 
POST /tenant/options 

Authorization: <secret> 
Content-Type: application/json 
Accept: application/json 

{ 
    ""category"": ""messaging"", 
    ""key"": ""providers.whitelist.inherit"", 
    ""value"": ""DEFAULT"" 
}{code} 

Thanks!"
Defect,CSOIOT-8944,Loriot Agent completly down since 10.18 upgrade.,WAINS GmbH 751801,299,Closed,"Neale, Robert","Vukman, Tomislav",12/11/23 9:08,Customer,3/8/24 9:30,8-Dec-23,,2-High,1-Critical,"Loriot agent on c8y prod is continually restarting. 

  

!image-2023-12-08-10-09-30-788.png! 

  

Did Ops give this some more memory a while ago? 

  

Now it has.. 

  

!image-2023-12-08-10-18-37-907.png! 

  

 "
Defect,CSOIOT-8943,[Nordex] Prod - Core nodes slowdowns/SLA violations,Nordex SE 751519,300,Closed,"Bhatt, Vikas","Shuaib, Gyunay",12/12/23 15:49,Customer,3/15/24 9:52,,,1-Critical,1-Critical,"*Affected system:* 

Nordex Prod: https://nordex.nifprd.nordex-online.com 

*Description of the Problem:* 

Customer from Nordex raised this Crisis issue: - 

------------------------ 
We have noticed, that our Nordex production started to present slowdowns and SLA violations. We can see incidents at: 6:30, 7:00, 7:55 and 8:30 (9:00 as well) CET with duration of about 5 minutes. We are really worried, as those look quite periodic. 

Those slowdowns cause 502 errors to show up on the frontend (interrupting work) and block data ingest into the platform during the slowdown. 

We need information about this to be able know if core node restart is needed, or this is an issue with infrastructure/PlusServer. Anyway it looks a bit more critical than usual IO Wait issues we had in the past. 
------------------------"
Defect,CSOIOT-8918,Unify microservice is unable to send queries to dremio,Solenis LLC 751237,302,Closed,"Eha, Allan",Unassigned,12/6/23 5:52,Customer,12/6/23 10:24,,,2-High,None,"* 
*Tenant Name:* iot.solenis.com 
* 
*Tenant URL:* iot.solenis.com 

  

Can you restart the CdH microservice on the Solenis platform? 

 "
Defect,CSOIOT-8917,"LWM2M - client hello request is rejected by C8y Server, we need someone who checks the server","Itron, Inc. 751854",302,Closed,"Herzog, Christian","Pentchev, Nikolay",12/11/23 9:07,Customer,4/12/24 10:43,,,3-Medium,None,"Itron tests LWM2M X.509 connection on environment envd417247.c8y.sag.idealabs 

The certificates on this server are in place: [https://itrac.eur.ad.sag/browse/CSOIOT-8827]  

But the customers device client hello request is still rejected by C8y Server. 

We need someone who watches the server with e.g. wireshark to see if the request arrives, if possible Pentchev, Nikolay. On  6.12.23 1pm CET (UTC+1) we agreed an appointment with the customer where he starts new device client hello request trials, here we can do the tests. 

Here the R&D ticket [https://itrac.eur.ad.sag/browse/IOT-19011] "
Defect,CSOIOT-8900,[Telstra] Observed high CPU Utilization for LwM2M Agent 2.,Telstra Corporation Limited 751491,303,Closed,"Bhatt, Vikas","Valkov, Milen",12/8/23 8:20,Customer,12/8/23 8:20,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Prod 

*Description of the Problem:* 

 This is the ticket to inform you that we have again observed high CPU Utilization for LwM2M Agent 2 over the weekend. 

 CPU utilization reached to more than 60% for some time and then settled down after 25-30 minutes. 

 Also as checked further, we have found Out of 7000 exceptions today - ""javax.ws.rs.ProcessingException: org.apache.http.conn.ConnectionPoolTimeoutException: Timeout waiting for connection from pool"" exception occurred almost 4000 times. 

 “2023-12-03 02:56:48.173 ERROR 43211 — [CoapServer(main)#460|#460] o.e.l.c.californium.LwM2mCoapResource : Exception while handling request [CON-POST MID= 7573, Token=951D273D3F000000, OptionSet= 

{""Uri-Path"":[""rd"",""UkSWHrpfn8""]} 

, <empty data>] on the resource /rd from Identity /172.29.0.143:48361[unsecure] [*javax.ws*|http://javax.ws/]{*}.rs.ProcessingException: org.apache.http.conn.ConnectionPoolTimeoutException:{*} Timeout waiting for connection from pool” 

 So could you please check, what was caused this spike for agent 2 and how can we resolve this?"
Defect,CSOIOT-8872,Strange 502 Bad Gateway Error from a couple of LoRaWAN devices,WAINS GmbH 751801,306,Closed,"Schon, Gregor","Vukman, Tomislav",12/7/23 7:29,Customer,12/7/23 7:29,,support_question,2-High,2-High,"*This is a follow up of https://itrac.eur.ad.sag/browse/CSOIOT-8475*  

Customer stated that he problems still exists (28/Nov/2023 )  

Ashwin works on the issue (  https://itrac.eur.ad.sag/browse/IOT-18771  )  

he stated  that the manual configuration by Tomislav solution is effective till the next upgrade. On the next upgrade, the manual configuration would be overridden. So our code change would be required in that case. We would be finalizing the fix by Monday or so, and then we will release it.  For the remaining timeout he asked for: 
"" [09:13] Hariharan, Ashwin Subramaniam 

_We need the *microservice logs,* to figure out if there were restarts at the time when the uplink message happened, or is there anything else in the logs causing the restarts. The heap dumps and thread dumps helped us in finding and resolving the memory issues, but aren't evidence for timeouts. ""_ 

Please provide these microservice logs  

*Necessary iTrac information* 

*Cumulocity.com  (In Grafana terms it is _LokiEU-DS-02    / 

{cumulocity_environment=""cumulocity-multinode-central-1-prod""} 

_* 

{*}Affected tenant{*}{*}{{*}} 

Loriot-agent 1017.0.289 is subcribed from the Enterprise tenant   t326439018  and from the subtenant t1105226074    

Enterprise Tenant? Yes *t326439018*  
System accessible by R&D? Yes  

*Issue associated  microservice* 

*Loriot-agent 1017.0.289 is subcribed from the Enterprise tenant   t326439018  and from the subtenant t1105226074*   ** 
* (URL in ""Own applications""): [http://localhost:8111/apps/administration/index.html#/microservices/40366/properties]   

Current instance:  loriot-agent-scope-management-deployment-7655bd585b-flkjr 
* Cumulocity product microservice. Version  *Loriot-agent 1017.0.289*   PROVIDER   Name Cumulocity GmbH 

  

*Time periods error was observed in the first ticket:* *The given time stamps in the description are from Friday (2023-10-20 14:45:55.781 CUMULOCITY ... )* *and customer mentions*   *from the  _Loriot logs:_ ( 2023-10-19 14:33:02.320 to 2023-10-19 20:57:46.732 ) .* 

Please take a look at the Error Messages. 



  
|{color:#333333}2023-11-06 10:21:48{color}{color:#333333}.614{color}|CUMULOCITY|{color:#333333}Error POSTing message \| ""appid"":BE010006,""cmd"":""gw"",""url"":{color}[https://traptice.wains.info/]{color:#333333},""deveui"":""8C1F64FFFE3D109C"",""seqno"":429242,""ts"":1699262503390,""fcnt"":20,""err"":""timeout of 5000ms exceeded"",""errName"":""Error"",""instance"":""out-1""{color}| 
|{color:#333333}2023-11-06 10:20:44{color}{color:#333333}.519{color}|CUMULOCITY|{color:#333333}Error POSTing message \| ""appid"":BE010006,""cmd"":""gw"",""url"":{color}[https://traptice.wains.info/]{color:#333333},""deveui"":""8C1F64FFFE3D1616"",""seqno"":429241,""ts"":1699262439290,""fcnt"":0,""err"":""timeout of 5000ms exceeded"",""errName"":""Error"",""instance"":""out-1""{color}| 
|{color:#333333}2023-11-06 10:20:21{color}{color:#333333}.832{color}|CUMULOCITY|{color:#333333}Error POSTing message \| ""appid"":BE010006,""cmd"":""gw"",""url"":{color}[https://traptice.wains.info/]{color:#333333},""deveui"":""8C1F64FFFE3D1616"",""seqno"":429240,""ts"":1699262416610,""fcnt"":0,""err"":""timeout of 5000ms exceeded"",""errName"":""Error"",""instance"":""out-1""{color}| 
|{color:#333333}2023-11-06 10:16:47{color}{color:#333333}.325{color}|CUMULOCITY|{color:#333333}Error POSTing message \| ""appid"":BE010006,""cmd"":""gw"",""url"":{color}[https://traptice.wains.info/]{color:#333333},""deveui"":""8C1F64FFFE3D104A"",""seqno"":429235,""ts"":1699262202104,""fcnt"":5,""err"":""timeout of 5000ms exceeded"",""errName"":""Error"",""instance"":""out-1""{color}| 
|{color:#333333}2023-11-06 10:15:58{color}{color:#333333}.046{color}|CUMULOCITY|{color:#333333}Error POSTing message \| ""appid"":BE010006,""cmd"":""gw"",""url"":{color}[https://traptice.wains.info/]{color:#333333},""deveui"":""8C1F64FFFE3D105F"",""seqno"":429233,""ts"":1699262152824,""fcnt"":5,""err"":""timeout{color}| 
{noformat} 
2023-10-20 14:45:55.781 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D131F"",""seqno"":409541,""ts"":1697805954539,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:45:55.586 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D131F"",""seqno"":409541,""ts"":1697805954539,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:45:21.984 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""647FDA0000011F99"",""seqno"":409540,""ts"":1697805920748,""fcnt"":3,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:45:21.793 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""647FDA0000011F99"",""seqno"":409540,""ts"":1697805920748,""fcnt"":3,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:29:12.377 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1601"",""seqno"":409531,""ts"":1697804951130,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:29:12.174 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1601"",""seqno"":409531,""ts"":1697804951130,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:28:05.845 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1607"",""seqno"":409530,""ts"":1697804884586,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:28:05.639 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1607"",""seqno"":409530,""ts"":1697804884586,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:11:52.704 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1610"",""seqno"":409524,""ts"":1697803911468,""fcnt"":7,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:11:52.507 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1610"",""seqno"":409524,""ts"":1697803911468,""fcnt"":7,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:10:20.497 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1089"",""seqno"":409523,""ts"":1697803819259,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:10:20.333 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1089"",""seqno"":40{noformat} 
 "
Defect,CSOIOT-8867,[Micro Technology] Request for DNS entry on cumonosu.com,"Micro Technology Co., Ltd. 751560",307,Closed,"Bhatt, Vikas","Bieniak, Arkadiusz",12/1/23 12:52,Customer,3/8/24 9:33,,,3-Medium,3-Medium,"*Affected system:* 

Instance: Japan Instance (*.jp.cumuloicity.com) 
Tenant: https://management.cumonosu.com/ 
Version: 10.18 

*Description of the Problem:* 

Micro Technology has requested to set the following information on DNS? 

crane-remote-sensing-test.cumonosu.com ELB-1637847536.ap-northeast-1.elb.amazonaws.com 
ftp-crane-remote-sensing-test.cumonosu.com 54.64.185.159 

Since DNS for cumonosu.com is managed by SAG Ops team, they would like Ops team to add the above information on DNS entry."
Defect,CSOIOT-8866,Request: Update Environment to Cumulocity 1011.0.25,Baxter International inc. 752152,307,Closed,"Eha, Allan","Lisik, Milosz (External)",12/11/23 9:07,Customer,3/11/24 10:00,,,4-Low,None,"Please update Baxter environment *.deviot.hillrom.com to 1011.0.25 (our current production version). 

NOTE: This can be a clean install of 1011.0.25 as we do not need to retain any of the tenants on the current instance."
Defect,CSOIOT-8864,lwm2m-agent log needed from Itron environment.,"Itron, Inc. 751854",307,Closed,"Neale, Robert","Staykov, Petar",12/4/23 7:00,Customer,5/2/24 10:48,30-Nov-23,,3-Medium,3-Medium,Please can I have the lwm2m-agent log from the Itron environment.
Defect,CSOIOT-8844,Delete tenants,"Micro Technology Co., Ltd. 751560",308,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",12/4/23 10:31,Customer,3/4/24 9:56,29-Nov-23,,3-Medium,3-Medium,"We have a request for you on the delete of tenants. Since the total number of available tenants is limited on contract, we would like you to delete the following tenants we will not use anymore: 
* [okippa02.cumonosu.com|http://okippa02.cumonosu.com/] 
* hisys_pbx_dev.cumonosu.com 

These tenants are now suspended. Because we need to create the new tenants right now, we would like you to delete these tenants as soon as possible. Can you request Ops team to do so?"
Defect,CSOIOT-8838,Baxter: Need details on the platform backup frequency,Baxter International inc. 752152,309,Closed,"Talbert, Kent","Simeonova, Rumyana",12/1/23 10:34,Customer,3/11/24 10:01,,,3-Medium,None,"Baxter Environment 

  

Here are some questions from Baxter that they'd like to get some feedback from the Operations team on.  (my responses are after the questions- please correct them if needed) 

Professional services has implemented a maintenance script that goes and deletes records in binary repository with certain filter criteria. 

As part of this, we would like to know if there is 
# If we do platform backup?  {color:#de350b}_Yes_{color}  
# If so, what is the frequency? _{color:#de350b}Daily- assuming this is done at a certain time each day.{color}_ 
# And how much time will it take to restore the platform to the previous backup?  _{color:#de350b}Depends on the amount of data, etc.{color}_ 
# I assume restoring to backup needs downtime, is that right? {color:#de350b}_Yes_{color} 

----- 

Anything else you want to add would be appreciated. 

Thanks, 

Kent"
Defect,CSOIOT-8829,Administrators deleted.,Software AG (UK) Limited 310900,309,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",11/29/23 12:29,Customer,2/27/24 9:52,28-Nov-23,,2-High,2-High,"Customer has deleted Administrators of oilconditionsoftware.cumulocity.com (tenant id oilconditionsoftware). 

  

Can we re-instate an Admins account so they can access to tenant and correct the situation? 

  

Defined administrator (in management.cumulocity.com)  is 'ben.fisher@tandeltasystems.com' with a userid of 'admin'. 

  

!image-2023-11-28-11-17-35-770.png|width=805,height=640!"
Defect,CSOIOT-8827,[Itron] Add the attached Test Bootstrap Server CA and DM Server CA certs,"Itron, Inc. 751854",309,Closed,"Bhatt, Vikas","Pentchev, Nikolay",12/6/23 14:24,Customer,3/5/24 10:03,,,3-Medium,2-High,"*Affected system:* 

Itron Prod tenant: envd417247.c8y.sag.idealabs.cloud 

URL: https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagementx509/index.html#/device/25156091390/lwm2m-configuration/servers?id=3c321eb4-ae13-4f60-a7ff-a559ebb93e2a 

*Description of the Problem:* 

Customer has requested to add the attached test BS and DM Sever CA, which can be verified in Handshake and also downloaded as part of BS process. 

Please do let us know , if any more details required on the same."
Defect,CSOIOT-8822,Microservice - Error Killing Pod,Flexible Steel Lacing Company Inc 751958,310,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",11/29/23 12:29,Customer,2/29/24 9:41,27-Nov-23,,2-High,2-High,"We are continuously receiving Alarms (2990 and counting…) for the following error:   

*error killing pod: failed to ""KillContainer"" for ""ml-infer-scope-t114121-pod"" with KillContainerError: ""rpc error: code = Unknown desc = operation timeout: context deadline exceeded""* 

This alarm is being generated as a result of the Ml-infer microservice in our production tenant. 

  

!image-2023-11-27-15-03-00-614.png!"
Defect,CSOIOT-8820,Who is ROLE_TENANT_ADMIN of envd417247.c8y.sag.idealabs.cloud ?,"Itron, Inc. 751854",310,Closed,"Herzog, Christian","Vukman, Tomislav",11/28/23 10:30,Customer,3/5/24 10:05,,,3-Medium,None,"The user Veerendra Konkati needs more privileges on envd417247.c8y.sag.idealabs.cloud  
Who is ROLE_TENANT_ADMIN (this the admin user which is created with this tenant)? Then Veerendra can ask the Administrator for the wanted privileges. 
The env c8y.sag.idealabs.cloud is hosted by us, but I have no access."
Defect,CSOIOT-8803,[Solenis] Dev and prod environments running different timezones.,Solenis LLC 751237,313,Closed,"Neale, Robert","Staykov, Petar",11/27/23 9:34,Customer,2/29/24 9:42,24-Nov-23,,3-Medium,3-Medium,"Solenis have queried why their Dev and Prod environments are running different timezones. 

  

Can you check the timezone settings for  

  

[management.iot.solenis.com|https://management.iot.solenis.com/] 

  

management.iot-dev.solenis.com 

  

If they wanted to change so both were running same timezone, could that be done? 

  

Regards, 

  

Robert"
Defect,CSOIOT-8770,CLONE - [Telstra] Prod - Lwm2m devices are observed to perform New Registrations everyday,Telstra Corporation Limited 751491,317,Closed,"Saha, Sourajit",Unassigned,11/21/23 7:19,Customer,11/21/23 7:19,,,3-Medium,3-Medium,"*Affected system:* 

Telstra PROD tenant SEW: [https://sew.iot.telstra.com/] 

  

*Description of the Problem:* 

For SEW customer, around 2000+ lwm2m devices in their tenancy have found to be performing *New registrations* everyday since *17th* November for unknown reason. We are seeing that devices just trying to perform bootstrap and new registrations everyday with no additional progress. For today, we have, however, seen that these devices were able to move forward from New Registration to setting up of Observations but again *multiple attempts* have been recorded for *Observation setup* where every time it is getting cancelled for unknown reason. 

In short, there are two issues observed - 
# New registration everyday since 17th November 
# Multiple '{*}Observes{*}' setup attempts seen today (20th November) 

This raises concern with the future connectivity of the these devices and a huge impact if it continues the same way. Could you please investigate the root cause for this abnormal behavior? 

Sample list of devices observing the above issue: 

urn:imei:866416047924346 
urn:imei:866416047825063 
urn:imei:866416047906608 
urn:imei:866416049135800 
urn:imei:866416049148696 
urn:imei:866416047832663 

Attached couple of screenshots for your quick reference. Let us know if you need any more information."
Defect,CSOIOT-8769,[Telstra PROD] Microservice response time has been increasing constantly since after migration,Telstra Corporation Limited 751491,317,Closed,"Reddy, Yerpula Bharath Bhushan","Radzali, Basyar",1/2/24 14:25,Customer,3/20/24 10:32,18-Dec-23,,2-High,3-Medium,"Telstra reported below issue: 

It is observed that the *Microservice response* time from the *StatusPage* has been on a constant *increasing* *trend* since after Prod CE migration activity was performed. We are concerned with this increasing trend and also combined with various other issues we have raised, we are anticipating higher impact if this is not properly investigated and corrected. 

Hence, we request you to kindly investigate this on priority in identifying the root cause, so that platform stability can be achieved in our Production environment. 

Attached screenshot for your reference. Let us know if you require any more details"
Defect,CSOIOT-8767,Solenis: request to add cloud remote access to production environment,Solenis LLC 751237,317,Closed,"Talbert, Kent","Staykov, Petar",11/22/23 12:09,Customer,11/22/23 12:09,,,3-Medium,None,"[https://management.iot.solenis.com|https://management.iot.solenis.com/] 

  

Customer would like to have cloud remote access microservice added to their production environment. 

  

This is a dedicated environment that we operate."
Defect,CSOIOT-8754,[Telstra] High CPU load on Mongo DB,Telstra Corporation Limited 751491,318,Closed,"Bhatt, Vikas","Lundsten, Alf",1/10/24 12:31,Customer,4/11/24 10:53,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Prod 

*Description of the Problem:* 

Customer from Telstra has raised this Critical issue as below: - 

We have observed high CPU load on mongo DB after the AWS migration (14th Nov). 

Before the migration mostly on average CPU utilization is very low(2% to 12%) where as the post migration utilization up to average of 30% and intermittently spiked to 60%. 

Could you please help us in finding the root cause for this and solution to handle this? 

Please review the trends in increased CPU load on mongo DB in last 1 week in the attached snap shots. 

Please refer latest screen shots for “c8y-prod-el7-mongo-002” and “c8y-prod-el7-mongo-003” CPU utilization, intermittently it is reaching mongo db cpu utilization >80%. 
(image-2 and image-3) 
!image-2.png|thumbnail! 
!image-3.png|thumbnail!"
Defect,CSOIOT-8748,[Telstra] Microservice 502 Bad Gateway openresty Error,Telstra Corporation Limited 751491,320,Closed,"Welsing, Michael","Lundsten, Alf",1/19/24 7:00,Customer,9/9/24 10:29,,,3-Medium,3-Medium,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *APJ* Domain *.iot.telstra.com* Version *10.15* 
System Usage (Choose one of: Production / Test / Development): *Production* 



*Affected tenant* 

Tenant: *management.iot.telstra.com* OR System-wide issue. 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi Ops, 

Telstra sees 502 errors on a lot on microservices. Please have a look into the system and see the following description for more details. 

--- 

*Initial information provided by Customer:* 

Can you please let us know the root cause for this below “502 - Bad Gateway” Error. 

Daily we are getting this error count more than 200+ after the PROD CE account migration i-e 14th Nov 2023. This error has impacted and stopped the current execution of the microservices . 

This error is getting trigger from microservice, while fetching the data from c8y-core platform {{url=URL('http://cumulocity:8111/event/events')}} 

Error from python microservice: 
{noformat} 
Traceback (most recent call last): 
File ""main.py"", line 438, in postEventLog 
async with c8y_http.post(url=f'{baseURL}/event/events', headers = {'Accept': 'application/json', 'Content-Type': 'application/json'}, json=eventBody) as response: 
File ""/usr/local/lib/python3.8/site-packages/aiohttp/client.py"", line 1012, in __aenter__ 
self._resp = await self._coro 
File ""/usr/local/lib/python3.8/site-packages/aiohttp/client.py"", line 588, in _request 
resp.raise_for_status() 
File ""/usr/local/lib/python3.8/site-packages/aiohttp/client_reqrep.py"", line 941, in raise_for_status 
raise ClientResponseError( 
aiohttp.client_exceptions.ClientResponseError: 502, message='Bad Gateway', url=URL('http://cumulocity:8111/event/events'){noformat} 
Error from Java SDK microservice: 
{noformat} 
c.cumulocity.sdk.client.ResponseParser : <html> 
<head><title>502 Bad Gateway</title></head> 
<body> 
<center><h1>502 Bad Gateway</h1></center> 
<hr><center>openresty</center> 
</body> 
</html>{noformat} 
--- 

More informations gathered: 

This 502 error has occurred random at different time into multiple microservices. Please find the attached splunk log, around 245 Error has found for 17th Nov 2023 into 49 microservices. 
* *Does this happen at a specific time* - No 
* *Are there any background tasks running at that time that might lead to a high system load?* - No 

Thanks 

Michael"
Defect,CSOIOT-8719,Hilti: activation of Notification 2.0 on their environment.,Hilti AG 315,322,Closed,"Talbert, Kent","Vukman, Tomislav",11/21/23 7:56,Customer,2/26/24 9:48,,,3-Medium,None,"Hilti Dedicated Environment 

Customer would like Notifications 2.0 activated on their environment."
Defect,CSOIOT-8667,Cumulocity API Call Issues,Kallipr Pty Ltd 751685,324,Closed,"Herzog, Christian","Vukman, Tomislav",11/21/23 9:40,Customer,3/4/24 10:05,,,3-Medium,None,"Kallipr recently started encountering issues when performing API calls to Cumulocity. This happens on any tenancy but if we would like to pick a specific tenancy then we can use [https://dev.miot.captis-iot.com/] as an example, this is t3793448 on apj.cumulocity.com. This issue has started close to the 27th of September and has continued since. It seems to be a timeout from Cumulocity and the specific error we are getting is the below: 

{{'Connection aborted.', ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None)}} 

Please note that this issue seems to be occurring in *one particular location where our team is located* in Brisbane. We have tried switching between different networks (WiFi, 4G, LAN, etc) but the results are the same. We have also tried the same API calls from a virtual environment in *Brisbane* and are still encountering the same error. *When the same API calls are performed in Sydney, the issue does not occur.* 

Are you able to investigate and see if there is anything you can see from your side? I understand there was a recent update done on Cumulocity around the same date (10.17). Are you able to also provide details on what those changes were and if they could have affected this? 

We tried utilizing a VPN and using it changed the location to Belgium and there were no issues. We then changed locations to the USA and it worked again. However, as soon as we turned the VPN back off and tried running the script at work or even some employee’s personal home networks, the script fails again so it definitely seems like a location based issue by the looks of it. 

We tried the same on multiple devices and as soon as the VPN was enabled and the location changed to a different place, it was working. 

Comment support: 

Pawel Kowalczyk from R&D investigated this already in [https://itrac.eur.ad.sag/browse/IOT-18816,] but he could not solve it and proposed to involve Ops. Is there some configuration from your site which could cause this issue?"
Defect,CSOIOT-8654,Complete send to pulsar failed with Not connected to broker,Syntegon Technology Services AG 752059,328,Closed,"Neale, Robert","Vukman, Tomislav",11/13/23 9:46,Customer,3/15/24 9:56,9-Nov-23,,3-Medium,1-Critical,"Syntegon - we’ve encountered a problem on our DEV/TEST/PROD systems. Sadly when trying to create an event (typeof “syn_aggregated_aggregatedMeasurement_1m”) we get the issue: 

“Complete send to pulsar failed with Not connected to broker : Not connected to broker” and status code 500. 

  

Is Pulsar OK on Syntegon environment (cumulocity prod)?"
Defect,CSOIOT-8646,Edwards Vacuum: Certificate Renewal for Enterprise tenant,Edwards Vacuum 751066,329,Closed,"Talbert, Kent","Lisik, Milosz (External)",11/14/23 9:07,Customer,2/13/24 9:39,,,3-Medium,None,"Please find attached the renewed certificate that had been requested by the cc-operations team via Milosz Lisik. Password for the ZIP file is: abcd 

  

[^__.edcentra.edwardsvacuum.com.zip]"
User Story,CSOIOT-8644,CLONE - [Prod] Lwm2m gateway devices FOTA failures observed,Telstra Corporation Limited 751491,329,Completed,"Saha, Sourajit","Lundsten, Alf",11/13/23 15:33,Customer,11/13/23 15:33,,,3-Medium,None,"*Affected system* 

SAG Cloud region: APJ 

Domain: [https://jemena.iot.telstra.com/] 

*Description of the Problem:* 

The customer (Jemena) has reported that a part of their lwm2m devices (gateways) have not been able to successfully complete a FOTA upgrade of the gateway firmware. Their observation is that the Cumulocity is appearing to time-out the delivery of the firmware package to the gateway after 60 minutes and kills the FOTA process. 

We believe that the RF quality for the sites where these devices exist is not good enough which is slowing the package delivery to the gateway, however, it is still progressing slowly but ultimately it is timed out. 

Attached is a spreadsheet showing the event log for the FOTA process for 3 gateways: 

*355946526851766* - Firmware upgrade *failed* 

*355946526847905* - Firmware upgrade *failed* 

*359205105569711* - Firmware upgrade *success* 

For the failed gateways the upgrade process timed out after *60 minutes.* (refer event highlighted in yellow) 

For the gateway that was successful, the firmware upgrade was successfully delivered in around {*}55 minutes{*}. (Quite close to the time out period) 

*Question* - Is there any Cumulocity *time-out period* for FOTA delivery that is set to *60* mins? If yes, can it be increased and is there any consequences? 

[^FOTA event logs.xlsx] [^FOTA event logs-1.xlsx] 

Please find attached the requested agent's properties file. 

[^lw 3.properties] 

*^The customer also added:^* 

_""Actually, we had a quick look and were surprised to see that the C8Y.lwm2mRequestTimeout in our properties file is way less ({*}just 2 minutes){*} than what you had mentioned (60 minutes). Just wondering about the difference if we are referring to the same property._ 

_Also, from our file, there seems to be this property set twice at different places with different time settings (120 sec & 90 sec). Could you please explain this dual setting and if this is expected?_ 

_Last and most importantly, could you let us know the significance of this property? and if it is global or local setting? and what is the consequence of changing it? and the recommended value from R&D?""_ 

*Files:* 

[^FOTA event logs.xlsx] [^FOTA event logs-1.xlsx] 

[^lw 3.properties] 

I have asked for tenant access. I will provide it as soon as I get it."
Defect,CSOIOT-8634,Subscribe DataHub,Mayer & Cie. GmbH & Co. KG 751827,330,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",11/7/23 12:43,Customer,2/6/24 9:45,7-Nov-23,,3-Medium,3-Medium,"Please subscribe Data hub app and microservice to  [https://management.iot.knitlink.io/|https://management.iot.knitlink.io/apps/cockpit/index.html] 

  

  

This is in the EMEA environment."
Defect,CSOIOT-8598,Need few information for our security audit,Solenis LLC 751237,334,Closed,"Welsing, Michael","Simeonova, Rumyana",11/6/23 8:05,Customer,2/11/24 22:24,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Domain *iot.solenis.com* Version *10.16* 

*Description of the Problem:* 

Hello OPS, 

Solenis is internally conducting a SOC 3 security audit assessment for their IoT infrastructure. They have the enterprise license for Cumulocity which is hosted on SAG azure so they need the server information on which the Cumulocity is hosted. 

If you look into the Excel sheet attached it asks for Server name, location, OS version, etc. Can you be so kind an put in the needed information there? 

Thank!"
Defect,CSOIOT-8546,New user and password reset emails no longer received on Edwards Vacuum environment.,Edwards Vacuum 751066,337,Closed,"Talbert, Kent","Makowski, Pawel (External)",11/20/23 8:02,Customer,2/19/24 9:57,,,3-Medium,None,"Edwards Vacuum Dedicated Environment 

  

Tenant Name: t1260692845 
Tenant URL: https://live.edcentra.edwardsvacuum.com 

  

Edwards Vacuum is not receiving password reset emails.  I had them set up a user for me and I receive emails to my SAG account, but when I change it to a gmail or hotmail account, I don't receive them.  Can you check to see if there is something on our side blocking the emails from going to an external email account?   

  

Could it be related to the email domain they are using:  edcentra.edwardsvacuum.com  instead of edwardsvacuum.com ? 

  

I see messages like the following in grafana, so it looks like they are getting sent, but never received except to a SAG email address: 

  

2023-10-31 08:06:27.402   
{""instant"":\{""epochSecond"":1698761187,""nanoOfSecond"":402000000},""thread"":""send-mail-5"",""level"":""INFO"",""loggerName"":""com.cumulocity.email.service.impl.EmailEndpointJavaMail"",""message"":""Email for tenant t1260692845 successfully sent from [edcentra.edwardsvacuum.com] to [softwareag.com]"",""endOfBatch"":true,""loggerFqcn"":""org.ops4j.pax.logging.slf4j.Slf4jLogger"",""contextMap"":\{""bundle.id"":""81"",""bundle.name"":""com.nsn.cumulocity.platform-services.email-management.service"",""bundle.version"":""1017.0.338""},""threadId"":49,""threadPriority"":5} 

  

  

2023-10-31 08:47:22.903   
{""instant"":\{""epochSecond"":1698763642,""nanoOfSecond"":903000000},""thread"":""send-mail-4"",""level"":""INFO"",""loggerName"":""com.cumulocity.email.service.impl.EmailEndpointJavaMail"",""message"":""Email for tenant t1260692845 successfully sent from [edcentra.edwardsvacuum.com] to [gmail.com]"",""endOfBatch"":true,""loggerFqcn"":""org.ops4j.pax.logging.slf4j.Slf4jLogger"",""contextMap"":\{""bundle.id"":""81"",""bundle.name"":""com.nsn.cumulocity.platform-services.email-management.service"",""bundle.version"":""1017.0.338""},""threadId"":50,""threadPriority"":5} 
2023-10-31 08:51:04.384   
{""instant"":\{""epochSecond"":1698763864,""nanoOfSecond"":384000000},""thread"":""send-mail-6"",""level"":""INFO"",""loggerName"":""com.cumulocity.email.service.impl.EmailEndpointJavaMail"",""message"":""Email for tenant t1260692845 successfully sent from [edcentra.edwardsvacuum.com] to [hotmail.com]"",""endOfBatch"":true,""loggerFqcn"":""org.ops4j.pax.logging.slf4j.Slf4jLogger"",""contextMap"":\{""bundle.id"":""81"",""bundle.name"":""com.nsn.cumulocity.platform-services.email-management.service"",""bundle.version"":""1017.0.338""},""threadId"":49,""threadPriority"":5}"
Defect,CSOIOT-8539,Increase in Memory Usage/CPU Usage of microservices since 26/10 around 16:00hrs,Kemin Europa 751795,338,Closed,"Neale, Robert","Janus, Bartosz",11/8/23 7:13,Customer,2/6/24 9:50,30-Oct-23,,3-Medium,None,"A customer has raised a problem of his microservice being unable to restart. Looks like exit 137 Out Of Memory. 

  

On looking at microservices using Grafana it is noticeable that most have seen an increase in Memory Usage or CPU Usage since 26/10, from around 17:00 onwards. 

  

Some random microservices, from different tenants..... 

  

!image-2023-10-30-10-27-44-472.png! 

!image-2023-10-30-10-27-58-752.png! 

!image-2023-10-30-10-31-03-049.png!"
Defect,CSOIOT-8538,"[Cumonosu] Delete the tenant ""testenant.cumonosu.com"" on Japan instance (jp.cumulocity.com) as they can't wait for 60 days to create another tenant!","Micro Technology Co., Ltd. 751560",338,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",10/30/23 15:18,Customer,1/29/24 9:51,,,3-Medium,3-Medium,"*Affected system:* 

Instance: Japan - jp.cumulocity.com 
Tenant: https://testenant.cumonosu.com 
Version: 10.17 

*Description of the Problem:* 

Cumonosu has requested to delete the tenant ""https://testenant.cumonosu.com"" as soon as possible. (They had to create this test tenant to check the solution the solution from CSOIOT-8346) 

They have the total number of tenants limited on the contract and they need to create another tenant for customers and cannot wait for 60 days."
Defect,CSOIOT-8531,DataHub measurement offload failed due to space,Solenis LLC 751237,341,Closed,"Talbert, Kent","Zeier, Patrick",11/2/23 15:40,Customer,2/2/24 9:32,,,1-Critical,None,"We offload the data from the our c8y platform to our data lake, we have asked for increase in disk space to do the data repartitioning but before we do the repartitioning we see our datahub has failed to do the measurement offload and give this error. “Query processing error 

Invalid Query Exception. Failed to spill to disk. Please check space availability” 

Due to our offload not working we are currenlty cut off from our data lake hence our user has no access to their historical data. 

Please help in troubleshoot the issue ASAP. 

Affected tenant - [cloud.iot.solenis.com|http://cloud.iot.solenis.com/]"
Defect,CSOIOT-8530,CLONE - Solenis: Request to increase the spilling space of our Dremio instance,Solenis LLC 751237,341,Closed,"Talbert, Kent","Staykov, Petar",10/30/23 14:39,Customer,10/30/23 14:39,,,2-High,None,"Tenant- [cloud.iot.solenis.com|http://cloud.iot.solenis.com/] 

Tenant ID - t478071 

  

Customer is working with PS team to do a data repartitioning on one of their sub tenants. They need to do data repartitioning and need to have enough space in Dremio to execute the query. 

  

They need to increase the space, so can you please check their Dremio instance and reconfigure the spilling space? 

  

Information from the Datahub team for what needs to be done for this request: 
* Check how spilling is configured for Solenis instance 
* Decide whether to increase or to switch to data lake as spilling target 
* Implement accordingly 

  

Please let me know if you need more information. 

  

Thanks, 

Kent"
Defect,CSOIOT-8512,c8y tenant options config value update from backend database,Telstra Corporation Limited 751491,342,Closed,"Herzog, Christian",Unassigned,10/27/23 13:06,Customer,2/4/24 9:14,,,2-High,None,"Telstra need a change of a tenant option config value  
Tenant URL: [https://sew.iot.telstra.com/] 
They want to copy the below existing/working encrypted keys value from category(*sew-azure-push) *to new category(sew-azure-push-two) through backend database 
below keys value only needs to be copy: 
{noformat} 
""credentials.client-certificate-and-private-key"" 
""credentials.ocp-apim-subscription-key""{noformat} 
Existing/Working category config Name: sew-azure-push: [https://sew.iot.telstra.com/tenant/options/sew-azure-push/] 

New category config Name : sew-azure-push-two: [https://sew.iot.telstra.com/tenant/options/sew-azure-push-two/|https://sew.iot.telstra.com/tenant/options/sew-azure-push/] 

********************************************* 
My comment: I don't have access on this env, can your please do that? 

You can get the existing tenant option with : 
GET /tenant/options/\{category}/\{key} 
docu: [https://cumulocity.com/api/core/#operation/getOptionResource]  

modify the response and create the new with 
POST /tenant/options 
docu: [https://cumulocity.com/api/core/#operation/postOptionCollectionResource] 

or update it with 
PUT /tenant/options/\{category}  
docu: [https://cumulocity.com/api/core/#operation/putCategoryOptionResource]"
Defect,CSOIOT-8511,Upgrade of the Itron Instance to 10.18,"Itron, Inc. 751854",342,Closed,"Talbert, Kent","Lisik, Milosz (External)",11/16/23 8:46,Customer,2/26/24 9:52,,,3-Medium,None,"When released, can you please upgrade the Itron instance (hosted by SAG) to version 10.18. In additional, can you also upgrade our LwM2M Agent to incorporate X509 certificates for LwM2M security. 

Once scheduled can you let me know the date/time of the upgrade. 

------ 

I realize 10.18 is on hold right now, but I'm opening this so that the upgrade can get scheduled once 10.18 is available."
Defect,CSOIOT-8498,Delete Administrator user from user list on two tenants.,Netze BW GmbH 751803,343,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",10/27/23 14:14,Customer,1/29/24 9:52,,,3-Medium,None,"Can you delete the following user “[c.rosswag@netze-bw.de|mailto:c.rosswag@netze-bw.de]” on the following 2 tenants?  The user was recently  (see [https://itrac.eur.ad.sag/browse/CSOIOT-8482)] changed from the Tenant administrator and can't be deleted from the users list in the UI, there's no delete option. 

  

One is on eu-latest: 

Tenant URL: “[https://test-netze-bw.eu-latest.cumulocity.com|https://test-netze-bw.eu-latest.cumulocity.com/]” 

Tenant ID: t1552112464 

  

The other is on cumulocity.com: 

Tenant URL: “[https://netze-bw.cumulocity.com|https://netze-bw.cumulocity.com/]” 

Tenant ID: t1715824847 

  

Thanks, 

Kent"
Defect,CSOIOT-8497,No response is returned from nginx,NTT Communications Corporation 731271,343,Closed,"Schon, Gregor","Schon, Gregor",10/30/23 11:21,Customer,3/4/24 10:06,,,3-Medium,None,"Issue was discussed with MaSe  (Swati Mehta  was a watcher)  

Swati proposed: 

""This looks like platform behavior rather than product issue. GS can route this ticket to MaSe. : 'MaSe_Cumulocity' and my team will work with NTT on this."" 

Concerned URL  

 [http://management.iot-trialpack.com/tenant/tenants/akidokodev] 


Last message to customer was:   
Hi Juichiro, 
I tried testing this in the staging2 test tenant provided and I could see all logs are captured. 

I used Postman and GUI both for GET/PUT/POST on '[sag-test-517994.iot-trialpack.com|http://sag-test-517994.iot-trialpack.com/]' 

nginx logs from staging2 cr02  

Postman requests: 
{code:java} 
554a16ba771a1c9a2a53e0b6e61c8e79 - 192.168.111.121 - c8yop1$ [19/Oct/2023:22:48:04 +0900] ""POST /inventory/managedObjects/ HTTP/1.1"" 201 1009 ""-"" ""PostmanRuntime/7.33.0"" ""127.0.0.1:8181"" 0.000 0.118 477 0.118 
0a1c739b38c4f884bd52d469819c8cba - 192.168.111.121 - c8yop1$ [19/Oct/2023:22:49:45 +0900] ""PUT /inventory/managedObjects/122 HTTP/1.1"" 200 1009 ""-"" ""PostmanRuntime/7.33.0"" ""127.0.0.1:8181"" 0.000 0.047 479 0.047 
5655f6f0f53e835a00cf9f6e2c81ea35 - 192.168.111.121 - c8yop1$ [19/Oct/2023:22:51:15 +0900] ""GET /inventory/managedObjects/122 HTTP/1.1"" 200 1009 ""-"" ""PostmanRuntime/7.33.0"" ""127.0.0.1:8181"" 0.000 0.034 479 0.034 {code} 
One observation is logs are captured when we use API tool but 'http url' is not logged. 

from Postman GET request: nginx access logs: 
{code:java} 
ce2bd6ec8c81656539b7c19c5671105d - 192.168.111.121 - c8yop1$ [19/Oct/2023:23:36:41 +0900] ""GET /inventory/managedObjects/122 HTTP/1.1"" 200 1009 ""-"" ""PostmanRuntime/7.33.0"" ""127.0.0.1:8181"" 0.000 0.038 479 0.038 {code} 
from GUI GET request: nginx access logs: 
{code:java} 
c5145dd0949a303e3dd6917630dd2922 - 192.168.111.121 - t573133902/c8yop1$sysadmin [19/Oct/2023:23:37:11 +0900] ""GET /inventory/managedObjects?fragmentType=all-devices-columns-meta_sysadmin&pageSize=100&withTotalPages=true HTTP/1.1"" 200 247 ""https://sag-test-517994.iot-trialpack.com/apps/devicemanagement/index.html"" ""Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36"" ""127.0.0.1:8181"" 0.000 0.066 866 0.066 {code} 
There could be difference in nginx logging configuration based on the calls. 

Are you able to reproduce this from your side that logs are completely missing from nginx when you send any calls? 

Regards, 

Swati 

 "
Defect,CSOIOT-8492,tls handshake error with mqtts device data upload,NTT Communications Corporation 731271,343,Closed,"Schon, Gregor","Schon, Gregor",10/30/23 11:21,Customer,4/5/24 10:33,,,2-High,None,"*Affected system* 

SAG Cloud region: APJ 

Time Zone: JAPAN 

*Affected tenant* 

*Host:*    [lvjiot.je1.thingscloud.ntt.com|http://lvjiot.je1.thingscloud.ntt.com/]   

*Issue associated device,* 

unknown Support does not have access 

*Protocol used?* 
*   

*Time period error was observed:* 
* Start:  With update to 10.14  
* End:   12 Oct 2023 

  

*Description of the Problem:* 

We have a report that customer’s device cannot upload device data by mqtts from our customer. 

This issue is happend in the tenant with url [lvjiot.je1.thingscloud.ntt.com|http://lvjiot.je1.thingscloud.ntt.com/] and tenantid lvjiot 

We find the related karaf error log as below. 

2023-10-10 09:43:37.095[ntLoopGroup-3-12] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:24.366[ntLoopGroup-3-15] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:25.812[ntLoopGroup-3-18] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:27.250[ntLoopGroup-3-23] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:28.696[ntLoopGroup-3-28] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:30.126[entLoopGroup-3-2] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:31.497[entLoopGroup-3-4] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:32.926[ntLoopGroup-3-10] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:34.289[ntLoopGroup-3-16] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:35.730[ntLoopGroup-3-19] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:44:37.191[ntLoopGroup-3-24] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:22.056[ntLoopGroup-3-17] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:23.407[ntLoopGroup-3-25] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:24.848[ntLoopGroup-3-26] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:26.296[ntLoopGroup-3-32] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:27.723[entLoopGroup-3-6] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:29.093[ntLoopGroup-3-10] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:30.444[ntLoopGroup-3-13] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common]2023-10-10 09:45:31.888[ntLoopGroup-3-18] - / | NettyMQTTHandler                 | 98 - com.nsn.cumulocity.platform-services.mqtt.service - 1014.0.422 | INFO  Error during SSL handshake, explained cause: , original cause: [io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common, javax.net.ssl.SSLHandshakeException: no cipher suites in common] 

At 19/Oct/2023  the problem was reported as disappeared since 12 Oct. But the wanted to know: 
 “ We would like to know why this issue is disappeared suddenly to make sure this issue is not reproduced.” 

We had pointed out that the problem *could be related to strong ciphers.* 

With 10.10 weak cipher were excluded, with 10.14 it was made possible to make these available again.     

Please check for the platform the chapter 'Weak ciphers of attached document    '[^10-14-0_Cumulocity_IoT_Core_Operations_guide.pdf] 
h5. Weak Ciphers 

Info: Weak cipher suites have been restored. To use them, set the parameter core.jvm.use_strong_ciphers 
in the Helm values file to false for the Cumulocity IoT platform. 
The following example explains how to set it: 
core: 
jvm: 
use_strong_ciphers: false 
If you do the changes to the Helm values file, you need to perform the Helm upgrade procedure and restart the process. 

Customer had not describe if the setting 'use_strong_ciphers: false' applied on  your platform or not  

  

Possibly the setting was set to false to solve the problem.   
Who is responsible for these settings? NTT or MaSe"
Defect,CSOIOT-8491,Deploy 'Repository Connect',SAP SE 700,343,Closed,"Neale, Robert","Kehayov, Boyan",10/26/23 8:52,Customer,4/11/24 10:55,25-Oct-23,,3-Medium,3-Medium,"SAP would like to use the 40+ extensions which are available in the SaaS offering from Cumulocity. 

Can you please deploy the “Repository Connect” to their enterprise instance. 

  

https://management.dev.cy.iot.sap/"
Defect,CSOIOT-8482,Change of Administrator user on 2 subtenants,Netze BW GmbH 751803,344,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",10/25/23 12:39,Customer,1/24/24 9:49,,,3-Medium,None,"Customer would like to change the Administrator user name from “[c.rosswag@netze-bw.de|mailto:c.rosswag@netze-bw.de]” to “[bettina.maier@netze-bw.de|mailto:bettina.maier@netze-bw.de]” on the following 2 tenants.   

  

This one is on eu-latest: 

Tenant URL: “[https://test-netze-bw.eu-latest.cumulocity.com|https://test-netze-bw.eu-latest.cumulocity.com/]” 

Tenant ID: t1552112464 

!Netze-Test.PNG! 

  

This one is on cumulocity.com: 

Tenant URL: “[https://netze-bw.cumulocity.com|https://netze-bw.cumulocity.com/]” 

Tenant ID: t1715824847 

  

!Netze-BW.PNG! 

 "
Defect,CSOIOT-8476,Solenis: Request to increase the spilling space of our Dremio instance,Solenis LLC 751237,345,Closed,"Talbert, Kent","Staykov, Petar",10/26/23 14:24,Customer,2/26/24 9:52,,,3-Medium,None,"Tenant- [cloud.iot.solenis.com|http://cloud.iot.solenis.com/] 

Tenant ID - t478071 

  

Customer is working with PS team to do a data repartitioning on one of their sub tenants. They need to do data repartitioning and need to have enough space in Dremio to execute the query. 

  

They need to increase the space, so can you please check their Dremio instance and reconfigure the spilling space? 

  

Information from the Datahub team for what needs to be done for this request: 
* Check how spilling is configured for Solenis instance 
* Decide whether to increase or to switch to data lake as spilling target 
* Implement accordingly 

  

Please let me know if you need more information. 

  

Thanks, 

Kent"
Defect,CSOIOT-8475,Strange 502 Bad Gateway Error from a couple of LoRaWAN devices,WAINS GmbH 751801,345,Closed,"Schon, Gregor","Vukman, Tomislav",10/26/23 8:17,Customer,10/26/23 8:17,,,2-High,None,"*Necessary iTrac information* 

*Cumulocity.com  (In Grafana terms it is _LokiEU-DS-02    / {cumulocity_environment=""cumulocity-multinode-central-1-prod""}_* 

{*}Affected tenant{*}{*}{*} 

Loriot-agent 1017.0.289 is subcribed from the Enterprise tenant   t326439018  and from the subtenant t1105226074    

Enterprise Tenant? Yes *t326439018*  
System accessible by R&D? Yes  

*Issue associated  microservice* 

*Loriot-agent 1017.0.289 is subcribed from the Enterprise tenant   t326439018  and from the subtenant t1105226074*   ** 
* (URL in ""Own applications""): [http://localhost:8111/apps/administration/index.html#/microservices/40366/properties]   

Current instance:  loriot-agent-scope-management-deployment-7655bd585b-flkjr 
* Cumulocity product microservice. Version  *Loriot-agent 1017.0.289*   PROVIDER   Name Cumulocity GmbH 

  

*Time periods error was observed:* *The given time stamps in the description are from Friday (2023-10-20 14:45:55.781 CUMULOCITY ... )* *and customer mentions*   *from the  _Loriot logs:_ ( 2023-10-19 14:33:02.320 to 2023-10-19 20:57:46.732 ) .* 

  

Please take a look at the Error Messages. 
{noformat} 
2023-10-20 14:45:55.781 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D131F"",""seqno"":409541,""ts"":1697805954539,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:45:55.586 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D131F"",""seqno"":409541,""ts"":1697805954539,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:45:21.984 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""647FDA0000011F99"",""seqno"":409540,""ts"":1697805920748,""fcnt"":3,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:45:21.793 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""647FDA0000011F99"",""seqno"":409540,""ts"":1697805920748,""fcnt"":3,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:29:12.377 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1601"",""seqno"":409531,""ts"":1697804951130,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:29:12.174 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1601"",""seqno"":409531,""ts"":1697804951130,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:28:05.845 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1607"",""seqno"":409530,""ts"":1697804884586,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:28:05.639 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1607"",""seqno"":409530,""ts"":1697804884586,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:11:52.704 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1610"",""seqno"":409524,""ts"":1697803911468,""fcnt"":7,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:11:52.507 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1610"",""seqno"":409524,""ts"":1697803911468,""fcnt"":7,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:10:20.497 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""gw"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1089"",""seqno"":409523,""ts"":1697803819259,""fcnt"":0,""err"":""Request failed with status code 502"",""data"":{""statusCode"":null},""errName"":""Error"",""instance"":""out-1"" 
2023-10-20 14:10:20.333 CUMULOCITY Error POSTing message | ""appid"":BE010006,""cmd"":""rx"",""url"":""https://traptice.wains.info/"",""deveui"":""8C1F64FFFE3D1089"",""seqno"":40{noformat} 
  

{color:#172b4d}User *Kotorowicz, Jakub* commented in iTrac 18771{color} 

{color:#172b4d}Please ask Ops responsible for this system for taking 
thread-dump and Heap-dump (second one when microservice is close to the limits (eg. 80%+).{color} 

{color:#172b4d}Heap-dump analysis is a standard procedure when we observe memory leak, and collection should also be standard when Ops create such tickets. Please also be aware that taking heap-dump may make agent not responsive for some time, since it is ""stop the world"" operation. {color}**"
Defect,CSOIOT-8459,[Enercon] Apama-ctrl microservice going out of memory,Enercon GmbH 750755,346,Closed,"Simeonova, Rumyana","Bieniak, Arkadiusz",10/26/23 9:40,Customer,10/26/23 9:40,,,3-Medium,None,"10.17 

Enercon Prod 

Tenant URL:  https://main.iot.enercon.de 

Tenant ID:   t130430 

As some of you might already know, we currently have some issues with our Apama solution in Enercon context. From time to time, the microservice is crashing with an out of memory exception. We can observe that the input queues / used memory etc. are rapidly increasing occasionally. In the most cases this gets resolved but sometimes the service is not able to resolve this anymore and once the memory reached the threshold, killing it. 

Goal of this ticket is to investigate this issue together with R&D to check if our implementation has any weak points that lead to this problem and if we can find a solution for that. 

— 

I've requested logs and diagnostic data will add that information once I receive it."
Defect,CSOIOT-8458,Telstra Preprod: Enable LWM2M Agent,Telstra Corporation Limited 751491,346,Closed,"Moon, Swai","Lundsten, Alf",10/23/23 10:50,Customer,1/22/24 9:42,,,3-Medium,None,"*Affected tenant* 

Tenant: [https://loadtest.iotpreprod.telstra.com/] 

  

*Description of the Problem:* 

Hi Ops, 

Telstra has mentioned that the LwM2M agent microservice in Preprod is not active. Can you please enable it for their preprod environment? 

Domain: [https://loadtest.iotpreprod.telstra.com/] 

Thanks!"
Defect,CSOIOT-8454,Several microservices restarting this microservice,Eppendorf SE 751760,348,Closed,"Schon, Gregor","Zeier, Patrick",10/23/23 12:52,Customer,1/22/24 9:42,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 
h5. [emea.cumulocity.com|http://emea.cumulocity.com/] → Integrated with SAG Cloud 

*Affected tenant* 

Tenant: Tenant    Eppendorf AG  /  ID   eppendorfag 
Enterprise Tenant? Yes  
System accessible by R&D? Yes  
UserID  Support user 

*Issue associated with  microservice* 

Example URL with the issue: [http://localhost:8111/apps/administration/index.html#/microservices/235/properties]  


*   

*Microservice:* 
* (URL in ""Own applications""):  http://localhost:8111/apps/administration/index.html#/microservices/235/properties 
* Microservice origin:   
Task-management     Custom    VERSION:3.5.0-REL-1 
CREATION TIME:1 Sept 2022, 11:10:55   Isolation   Multi tenant 
Billing mode  Resources 
PROVIDER  Name:  Software AG 

*   

*Time period error was observed:* 
* Start: 5:30 -  End: _7:30 UTC _. 
* Repeatability? Seen only once  
*   

  

*Description of the Problem:* 

Hi, 

this morning I got the message that specific functionality is not working properly and checked the microservice (called “task-management”) that is responsible for that. 

It turned out that it wasn’t running at this time because it was restarted several times between 7:30 and 9:30 CEST. Now it is running properly again. 

I checked several other microservices and it turned out that most of them have been restarted several times in that timeframe. The only ones that haven’t been restarted are the ones that don’t have any logs in that timeframe. 

Can you check what the issue was? Looks to me like there was an issue on the pltform / microservice hosting. Now it looks good again and functionality is available again. 

Kind regards 

Jan-Michel 

~~~~~~~~~~~~~~~~~~~~~~~~~~ 

microservice log "" *task-management-scope-eppendorfag-deployment-7b9d977b4c-npk2n.log""*   starts at  2023-10-20 07:29:29 (UTC) which is 2023-10-20 09:29:29 CEST ==> *due to restart* 

First line is:  2023-10-20 07:29:29.411 [subscriptions-0] INFO  v.s.t.s.OnBoardDeviceTaskService - RecurringTask with id ID [type=com_cumulocity_model_idtype_GId, value=661215] is not enabled, don't create task"
Defect,CSOIOT-8444,Subscribe Apama multi-tenancy microservices to ISC Dev Instance,Industrial Scientific Corporation 752132,349,Closed,"Neale, Robert","Saaban, Asshad",10/23/23 8:19,Customer,1/19/24 9:36,,,3-Medium,3-Medium,"Apama-ctrl-mt-4c-16g 

ISC Dev already upgraded to 10.17, Please Subscribe Apama multi-tenancy microservices to ISC Dev Instance."
Defect,CSOIOT-8442,CLONE - [A1 Digital] Showstopper - Spike in data consumption on Raimondi tenant - MQTT errors ( Exception: MQTTnet.Exceptions.MqttProtocolViolationException: Received packet 'ConnAck ),A1 Digital International GmbH 751565,349,Closed,"Jegorow, Tomasz","Makowski, Pawel (External)",10/23/23 8:17,Customer,10/23/23 8:17,,,2-High,2-High,"*Affected system:* 

Tenant: [https://raimondi.ttcontrol.cloud/apps/devicemanagement/index.html#/device/80077270/control] 
Username: vikas.bhatt@softwareag.com 
Password: Support@00&98 

*Description of the Problem:* 

We received high priority ticket from our customer A1 Digital. 

One of their biggest customers noticed an unexplainable spike in data consumption on Raimondi tenant (and only on Raimondi). 

Here is the link to one of the devices at fault: 
[https://raimondi.ttcontrol.cloud/apps/devicemanagement/index.html#/device/80077270/control] 

Here some notes from the initial analysis: 

On the node with peak traffic, the system is full of MQTT error messages that looks like the server is sending the wrong MQTT message at the same time: 
{code:java} 
2023-10-13T12:47:05.5739092|Error|MQTTnet|Error while receiving packets. 
Exception: MQTTnet.Exceptions.MqttProtocolViolationException: Received packet 'ConnAck: [ReturnCode=ConnectionRefusedServerUnavailable] [ReasonCode=Success] [IsSessionPresent=False]' at an unexpected time. 
At MQTTnet.Client.MqttClient.TryProcessReceivedPacketAsync(MqttBasePacket packet, CancellationToken cancellationToken) 
2023-10-13T12:47:05.6193277|Debug|MQTTnet|Stopped sending keep alive packets. 
2023-10-13T12:47:05.6364717|Error|MQTTnet|Error while publishing application message ( 

{0} 
). 
Exception: MQTTnet.Exceptions.MqttProtocolViolationException: Received packet 'ConnAck: [ReturnCode=ConnectionRefusedServerUnavailable] [ReasonCode=Success] [IsSessionPresent=False]' at an unexpected time. 
At MQTTnet.Client.MqttClient.TryProcessReceivedPacketAsync(MqttBasePacket packet, CancellationToken cancellationToken) 
at MQTTnet.PacketDispatcher.MqttPacketAwaitable`1.WaitOneAsync(TimeSpan timeout) 
at MQTTnet.Client.MqttClient.SendAndReceiveAsync[TresponsePacket](MqttBasePacket requestPacket, CancellationToken cancellationToken) 
at MQTTnet.Client.MqttClient.PublishAtLeastOnceAsync(MqttPublishPacket publishPacket, CancellationToken cancellationToken) 
at MQTTnet.Extensions.ManagedClient.ManagedMqttClient.TryPublishQueuedMessageAsync(ManagedMqttApplicationMessage message) 
{code} 
These errors happen a lot. Customer did a rough calculation of all this MQTT traffic and it seems like a good explanation (and if it turns out to be not, there still is clearly something wrong). 

*Customer is using this library in their MQTT client (MQTTBox 0.2.1) - [https://github.com/dotnet/MQTTnet] ""MQTTnet"" Version=""3.1.0""* 

Could you please investigate this issue and update?"
Defect,CSOIOT-8438,CLONE for Ops - [Telstra] 10.15 DEV - Jemena's observation on Cumulocity measurement API response,Telstra Corporation Limited 751491,350,Closed,"Bhatt, Vikas","Lundsten, Alf",10/19/23 16:29,Customer,10/19/23 16:29,,,2-High,2-High,"*Affected system:* 

Tenant: [https://jemenadev2.iotdev.telstra.com|https://jemenadev2.iotdev.telstra.com/] 
Version: 10.15.0.455 
Username: vikas.bhatt@softwareag.com 
Password: Support@00&98 

*Description of the Problem:* 

*Please treat this as a high priority issue as this impacts customer's billing system.* 

Telstra's customer Jemena has reported an issue with the 10.15 measurement API response (found in DEV environment). 

The meter consumption measurements being returned from the gateways are *integer* values. They did check on CBOR response from the gateway and it is unsigned integer. 

However, when Jemena run an API to obtain the measurement value (this is how they do their integration to their SAP billing system), the API is retuning a value with a *decimal point.* 

*This is failing the Jemena SAP validation (expecting an integer).* 

The 10.11 API call was returning an integer value. (no decimal) - screenshot attached for reference. 
!image-0.png|thumbnail! 
!image-1.png|thumbnail!   

We have manually run the API call in Jemena DEV2 – with the attached screen capture of the response with a decimal. 

- Could you please help us in investigation on why Jemena is seeing difference in measurement API response from 10.11 to 10.15? 

-------------------------- 

Attached is the manual CBOR decode of the returned packet from the gateway. This particular packet was received on 6 October 2023. 
!image-2.png|thumbnail! 

Each packet contains the response for 32 meters as an array for each meter. 

The array is structured as : 

Channel number 

Meter serial number 

Meter consumption value 

Alarm (binary true, false) 

 As highlighted in yellow,  the values are coming back as integers. 

 Channel 1 :          1234 

Channel 2:           26000 

Channel3:            22 

Channel 4:           28650 

Channel 5:           2760"
Defect,CSOIOT-8436,NTT: Questions about 10.14 to 10.18 Upgrade.,Software AG Bangalore Technologies 326500,350,Closed,"Neale, Robert","Lundsten, Alf",10/19/23 13:35,Customer,1/18/24 9:46,18-Oct-23,,3-Medium,None,"Enquiry from SAG Bangalore. 

  

We have few questions regarding 10.14 to 10.18 Upgrade. 

This is regarding upgrade planning for 'Baekart' and 'NTTC' Customer. 

*Current version:* C8Y 10.14 with Mongo DB v4 , Centos 7.7/7.9 

*Target version:*  C8Y 10.18 with MongoDB v5 , Rocky Linux 8.8 

Question is related to Mongo DB upgrade to v5 in between this. 

In operations guide it is mentioned that Mongo DB has to be upgraded to v5 after 10.16 upgrade. But when we are trying to upgrade from 10.15 to 10.16 in Dev environment  , base dependency file has references of v5. 

We want to understand that can we follow this upgrade path as it will help us to have easier fallback plan: 

We are planning to propose this plan to customer: 
# {color:#0747a6}Upgrade c8y from 10.14 to 10.15.{color} 
# {color:#0747a6}Upgrade c8y from 10.15 to 10.16.{color} 
# {color:#0747a6}Upgrade c8y from 10.16 to 10.17.{color} 
# {color:#0747a6}Upgrade c8y from 10.17 to 10.18.{color} 
# {color:#0747a6}Mongo DB upgrade from v4 to v5.{color} 

<<<< Testing and verification gap of few weeks for customer>> 

{color:#0747a6}     6. Upgrade from Centos to Rocky Linux 8.8.{color} 

Is this upgrade path correct? 

Could you please confirm from R&D as it is not clear from documentation if mongo db can be upgraded after 10.18."
Defect,CSOIOT-8435,request to add cloud remote access to dev1.iot-dev.solenis.com,Solenis LLC 751237,350,Closed,"Neale, Robert","Vukman, Tomislav",10/19/23 10:48,Customer,1/18/24 9:47,18-Oct-23,,3-Medium,3-Medium,"Solenis would like cloud-remote-access subscribing to dev1.iot-dev.solenis.com. 

  

Can this be done please?"
User Story,CSOIOT-8434,Solenis: Request to update our prod instance to 10.16,Solenis LLC 751237,350,Completed,"Neale, Robert","Lisik, Milosz (External)",10/20/23 11:00,Customer,1/26/24 9:40,19-Oct-23,,3-Medium,3-Medium,"Solenis request.... 

  

Can we please update our production instance to 10.16? currently it is running on 10.15 

Please let me know if we can do the upgrade next week. 

  

  

iot.solenis.com"
Defect,CSOIOT-8430,Telstra: High CPU load on Agent 2,Telstra Corporation Limited 751491,351,Closed,"Moon, Swai",Unassigned,10/17/23 16:03,Customer,3/20/24 10:35,,,3-Medium,None,"SAG Cloud region: APJ 

Customer: Telstra Corporation Limited 

Tenant Version: 10.15 

*Description of the Problem:* 

Hello Ops, 

Telstra has opened a ticket mentioning that they have observed a high CPU load of 60%+ since 12 am AEST on 17th Oct. This is an out-of-ordinary behavior and would appreciate it if you could kindly look into it. They would like us to: 
* Observation of this issue e.g. agent 2 behavior 
* Action taken to contain this situation and 
* root cause 

Can you please check if there were any reasons for the high CPU load?"
Defect,CSOIOT-8411,Inventory API performance getting bad,"Micro Technology Co., Ltd. 751560",356,Closed,"Herzog, Christian",Unassigned,10/19/23 10:47,Customer,2/20/24 10:06,,,3-Medium,None,"For investigation of [https://itrac.eur.ad.sag/browse/IOT-18469] our R&D needs: 
- from jp.cumulocity.com 
- tenant ID okippanishimatsu 
a dump of the cmdata collection. 
Can you please deliver it? 

If you have questions to it, please ask Pawel Kepa who requested it."
Defect,CSOIOT-8387,Sony: Certificate Renewal for 5 domains,Sony Semiconductor Solutions Corp. 751975,357,Closed,"Moon, Swai","Abdul Majid, Mohd Shahmi",10/17/23 6:47,Customer,1/15/24 9:59,,,3-Medium,None,"*SAG Cloud region:* APJ 

*Tenant Version:* 10.18 

*Customer:* Sony Semiconductor Solutions Corp. 7519751 

  

*Description of the Problem:* 

Hi Ops, 

The customer wants to renew certificates for the 5 domains below: 

Japan [[cj.aitrios.sony-semicon.com|http://cj.aitrios.sony-semicon.com/]] 

North America [[cu.aitrios.sony-semicon.com|http://cu.aitrios.sony-semicon.com/]] 

Europe [[ce.aitrios.sony-semicon.com|http://ce.aitrios.sony-semicon.com/]] 

Europe - Development [[ce-sssdev.aitrios.sony-semicon.com|http://ce-sssdev.aitrios.sony-semicon.com/]] 

Europe - Stage [[ce-stg.aitrios.sony-semicon.com|http://ce-stg.aitrios.sony-semicon.com/]] 

  

Let me know if you need any information from the customer to perform the renewal."
Defect,CSOIOT-8379,BSci: seeing activity from New Zealand trying to connect to their platform.,Boston Scientific Corporation 810461,358,Closed,"Talbert, Kent","Vukman, Tomislav",10/13/23 8:47,Customer,10/13/23 8:47,,,3-Medium,None,"Tenant:  crm.iot.bsci.com 

Can you check to see if there is any activity from New Zealand that is trying to access Boston Scientific Prod instance? 

From Boston Sci: 

We are seeing failures to connect to the platform from New Zealand. Is it possible to look in the connection logs and see if there’s traffic coming in from New Zealand and see the status (rejected, accepted, timed out)? 

Also, does Cumulocity have cloud presence in the area? 

--------- 

I've asked the customer for more details such as IP addresses and time frame.  I'll update the iTrac once I have that information.   

  

I'm just opening this so that the Ops team is aware of this and if you can provide any insight. 

  

Let me know if there is any other information needed from the customer. 

  

Thanks, 

Kent 

  

 "
Defect,CSOIOT-8365,LPWAN configuration - Device protocol not working,WIKA Alexander Wiegand SE & Co. KG 752067,360,Closed,"Schon, Gregor","Vukman, Tomislav",10/13/23 14:00,Customer,1/29/24 10:01,,support_question,2-High,None,"I m looking for  the log files of the loriot -agent on emea platform  from a tenant  {*}t402727486   ({*}gth.wika.io) for the period 28.09. and 29.9  

Issue: the device parser was already assigned  at the 28.09. and received several Loriot-Events afterwards which didi not trigger an alarm. The first alarm message was triggered at 29.10.  

  

Remark I tried  to locate logs in Grafana.  There was an example for a LWM2M agent  (node_name  = iTron-US-East-2-Prod-agent-alt-1 )  But I do not have a reference which name is mapped to loriot agents. "
Defect,CSOIOT-8346,[Cumonosu] Can not access a newly created sub-tenant.,"Micro Technology Co., Ltd. 751560",363,Closed,"Bhatt, Vikas","Vukman, Tomislav",10/24/23 6:32,Customer,1/29/24 10:02,,,2-High,2-High,"*Affected system:* 

Instance: Japan - jp.cumulocity.com 
Management Tenant: https://management.cumonosu.com 
Sub-tenant: https://ownersdev.cumonosu.com 
Version: 10.17 

*Description of the Problem:* 

Cumonosu got a problem on creation of a new sub-tenant 'ownersdev.cumonosu.com'. While creating tenant in management tenant (https://management.cumonosu.com) in JP instnace, the sub-tenant creation was successful, but they could not open Cockpit, DeviceManagement, and Administration application. Please see the attached error messages. 
!Error Screenshots.png|thumbnail! 

Could you look into it and provide the root cause why it happened? 

+Inputs from GS+: 

Upon checking this issue in the tenant and it seems they have deployed some custom applications for 'Administration, Cockpit and Device Management' in the management tenant which didn't get subscribed by default during sub-tenant creation. 
So I subscribed them to the 'ownersdev' tenant and then the tenant could be accessed. 

There is something that went wrong with tenant creation in this case! 

+Cumonosu has these questions now+: - 

“During the tenant creation, the sub-tenant would take the default subscribed application from management tenant.” 
However, these applications look subscribed, but in reality it was not. 
- So, can you tell us the reason or fix this issue? 
- Second, I only can access to Cockpit when you newly subscribed these default applications. So, I need to unsubscribe and re-subscribed these applications to access to Administration and Devicemanagement applications. Is it correct procedure?"
Defect,CSOIOT-8332,Syntegon: Restore tenant question,Syntegon Technology Services AG 752059,364,Closed,"Herzog, Christian","Fuso, Luca",10/11/23 10:35,Customer,1/16/24 9:49,,,2-High,None,"Question to cumulocity.com subtenant: “[vitafill.synexio.syntegon.com|http://vitafill.synexio.syntegon.com/]” t1763762675 
*When we did the last backup?* 
Do not restore the tenant now. The customer want to device first based on your answer, 

Background: 
The customer deleted by accident a managed object and thinks about restoring this tenant. Please let me know when the last backup was taken. 

I already informed the customer: 
""Please note that this will restore the complete tenant “[vitafill.synexio.syntegon.com|http://vitafill.synexio.syntegon.com/]” to the date of the database snapshot, so whatever other changes has been done since the device deletion will be lost. And our Operations has to charge this tenant restore as additional effort. """
Defect,CSOIOT-8328,Eppendorf - Please delete a Tenant for us,Eppendorf SE 751760,364,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",10/5/23 9:31,Customer,1/22/24 9:49,4-Oct-23,,3-Medium,3-Medium,"Eppendorf request.... 

  

""Please delete the tenant {color:#172b4d}t427442790 for us""{color} 

  

{color:#172b4d}This is on EMEA platform..{color} 

  

{color:#172b4d}!image-2023-10-04-11-12-24-615.png!{color}"
Defect,CSOIOT-8327,Need upgrade to 10.18,Edwards Vacuum 751066,364,Closed,"Neale, Robert","Lisik, Milosz (External)",10/10/23 13:01,Customer,1/25/24 10:02,10-Oct-23,,3-Medium,3-Medium,"Edwards Vacuum want to be upgraded to 10.18 as soon as possible. 

  

Can this be scheduled?"
Defect,CSOIOT-8323,Delete Post Luxemburg tenant t237618609 Essentiel on EMEA instance,POST Telecom S.A. 751510,364,Closed,"Bhatt, Vikas","Simeonova, Rumyana",10/5/23 9:31,Customer,1/4/24 9:35,,,3-Medium,3-Medium,"*Affected system:* 

Tenant ID: t237618609 
Instance: EMEA 
Post Luxemburg tenant t237618609 Essentiel on EMEA instance 

*Description of the Problem:* 

Customer from Post Luxemburg has requested to delete the tenant t237618609 Essentiel, which is on EMEA instance."
Defect,CSOIOT-8316,[Dev] LwM2M Registration & Bootstrap Parameter issues,Telstra Corporation Limited 751491,365,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",10/6/23 11:36,Customer,10/6/23 11:36,,,2-High,None,"Telstra reported below issue with urgency flag raised. 

Details: 
** 
There seems to be multiple issues relating to LwM2M that we are currently experiencing in our Dev environment across our tenants: 

Not able to load the forms for Single and Bulk LwM2M registration templates - it says “No internet connection. Unable to reach the Microservice” 
LwM2M bootstrap parameters are missing for new and old devices. 
I have attached screenshots for your reference. 

We would highly request a quick turnaround on this issue as this seems to affect all tenants in Dev. Let me know if you need further information. 
*** 
Please check if Telstra Dev environment is working fine. 
"
Defect,CSOIOT-8235,Unable to recreate device after deletion on 25-Sept.,Flow International Corporation 752069,370,Closed,"Talbert, Kent","Vukman, Tomislav",10/5/23 7:49,Customer,2/13/24 9:46,,,3-Medium,None,"Flow Dedicated Environment 

Tenant ID:  t473927 

Tenant URL:  [https://flow-qa.waterjetconnectiq.com/] 

Device name: Flow0001c03178c5   

  

Customer deleted the device Flow0001c03178c5 via the UI on September 25th.  Now when he tries to recreate it, the registration fails.  Using Postman, I was unable to find any remnants of the device that may be causing the recreation to fail.  Can you check the MongoDB to see if there is anything hanging out in the database that could cause this issue?  Unfortunately, I only have the device name and not the device ID.   

  

FYI, I talked to Tomislav about this in the Denver daily Ops meeting today. 

  

  

 "
Defect,CSOIOT-8234,Schindler RMP system sporadically fails to sent API calls to a microservice,Schindler Management AG 751630,370,Closed,"Eha, Allan","Staykov, Petar",10/6/23 11:37,Customer,1/5/24 9:38,,,3-Medium,None,"* 
*Tenant Name:* 
main 
* 
*Tenant URL:* 
[https://main.dm-zz-p.ioee10-cloud.com|https://main.dm-zz-p.ioee10-cloud.com/] 

  

the Schindler RMP system sporadically fails to sent API calls to a microservice. They seem to fail with errors 500 and 502 or connection reset. 

The microservice which is called by the RMP system is called “rmp-data-adapter” and the endpoint is “POST /service/rmp-data-adapter/comStatus”. 

We now need/want to show Schindler if we see any traces of those errors on our side. 

What we already checked: 
* Microservice logs do not show any traces of such errors 
* Loki does not show many errors on nginx (access.log and error.log), only very few saying “no live upstreams while connecting to upstream”, but these errors occur less often than Schindler sees errors on their side. 

What we need to check: 
* Continue check on “internal LBs” 
* Also check Azure LBs if there are any traces of connection issues. 

For the rest of world instance the source IPs from RMP system, where the requests originate from are: [""51.104.147.92"", ""20.105.10.230"", ""20.105.84.50"", ""20.223.95.214"", ""20.105.98.139"", ""20.82.197.113"", ""20.54.26.69"", ""20.67.213.8"", ""40.127.144.207"", ""20.191.59.109"", ""51.138.181.131"", ""51.138.176.250"", ""40.127.209.13"", ""20.105.113.113"", ""20.54.96.57"", ""20.223.16.179""]"
Defect,CSOIOT-8229,LwM2M APJ Server Address issues,Nucleus 3 Pty Ltd 751793,371,Closed,"Bhatt, Vikas","Vukman, Tomislav",9/29/23 13:36,Customer,12/29/23 9:33,,,2-High,2-High,"*Affected system:* 

Tenant: https://nucleus3edge.apj.cumulocity.com/ 
Version: 10.17 

*Description of the Problem:* 

Customer raised the following issue on LwM2M connectivity on APJ instance tenant. 

This is related to a past issue referred in CSOIOT-6143 and IOT-16683. 
--------------------------------- 
In the past, we encountered issues with registering LwM2M devices on the APJ Cumulocity instance, and the SAG team resolved them by identifying problems with DNS servers. 

They provided us with specific server addresses: coap://lwm2m.apj.cumulocity.com:5683 as the Bootstrap server address and coap://lwm2m.apj.cumulocity.com:5783 as the LwM2M server. 

We are currently facing difficulties while trying to register another LwM2M device using the same addresses, as it fails to register. Could you please verify if there have been any changes to these addresses or this a DNS issue? 

Attached are the logs from LwM2M device, bootstrap fails. 
[^LGLG100088_MeterEventLog_200Entries_28-09-2023_16-37-46.csv] 
--------------------------------- 

*+Inputs from R&D+*: 

LWM2M R&D confirmed - it's not connecting. Just added a test device in the tenant and tried to connect. The address is resolved so no problem on that part. 

Agent is also running since rest API calls to Agent from UI works too. 

{code:java} 
10:42:32.414 [UDP-Sender-0.0.0.0/0.0.0.0:0[0]] DEBUG org.eclipse.californium.elements.UDPConnector - UDPConnector (Thread[UDP-Sender-0.0.0.0/0.0.0.0:0[0],5,Californium/Elements]) sent 337 bytes to lwm2m.apj.cumulocity.com/13.211.163.59:5783 
10:42:48.615 [CoapServer(main)#1] DEBUG org.eclipse.californium.core.network.stack.ReliabilityLayer - Timeout: for Exchange[L1, lwm2m.apj.cumulocity.com:5783] retry 4 of CON-POST MID=42948, Token=F44F4BC845D8B493, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""b=U"",""lwm2m=1.1"",""lt=35"",""ep=urn:imei:SAGtest""]}, ""</>;rt=""oma.lwm2m"";ct=""60 110 11"".. 278 bytes 
10:42:48.615 [CoapServer(main)#1] DEBUG org.eclipse.californium.core.network.stack.ReliabilityLayer - Timeout: for Exchange[L1, lwm2m.apj.cumulocity.com:5783] retransmit message, failed-count: 4, message: CON-POST MID=42948, Token=F44F4BC845D8B493, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""b=U"",""lwm2m=1.1"",""lt=35"",""ep=urn:imei:SAGtest""]}, ""</>;rt=""oma.lwm2m"";ct=""60 110 11"".. 278 bytes 
10:42:48.615 [CoapServer(main)#1] DEBUG org.eclipse.californium.core.network.stack.ReliabilityLayer - Exchange[L1, lwm2m.apj.cumulocity.com:5783] send request, failed transmissions: 4 
{code}"
Defect,CSOIOT-8228,Core nodes SLA jumping/unstable; slowdown reported by end users,Nordex SE 751519,371,Closed,"Eha, Allan",Unassigned,10/2/23 7:44,Customer,12/29/23 9:33,,,2-High,None,"Nordex ([https://nordex.nifprd.nordex-online.com|https://nordex.nifprd.nordex-online.com/]) is seeing an issue with their measurement SLA's.  They would like to have the core nodes lookd at and possibly restarted: 
From about 4pm CET time we can see growing SLA (measurement write delay - see the attached graph for last about 12h). As there is no overall change in the system I suggest that we need a rolling restart of all the core nodes. 

At this moment we noticed 2 short SLA violations and the system is slowing down from end user perspective. 

FYI: We restarted APAMA that started to build up queues again - you do not need to do anything with it any more. 

------------------- 

More information from customer: 

After APAMA queues on core nodes got emptied (after my APAMA restart) system behaves a bit better, but I still recommend core node rolling restart, as system was unstable earlier even when the queues were still empty."
Defect,CSOIOT-8223,[Telstra] Jemena - Request to change tenant Owner,Telstra Corporation Limited 751491,372,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",10/12/23 8:12,Customer,1/15/24 10:05,,,3-Medium,3-Medium,"*Affected system:* 

Telstra Jemena PROD 

*Description of the Problem:* 

This ticket is regarding the issue of tenant owner for Jemena which we discussed in the call 1-2 weeks ago. 

 So, we have received a request from Jemena and they wish to replace Tejas as the Tenant owner for Jemena PROD tenant. 

Could you please perform the request in backend? Below are the details: 

 ID: jemena 

URL: [jemena.iot.telstra.com|http://jemena.iot.telstra.com/] 

Domain: Production 

Current tenant Owner: [tejas.vadera@jemena.com.au|mailto:tejas.vadera@jemena.com.au] 

{*}New tenant Owner email{*}: [Casey.Koutsounis@jemena.com.au|mailto:Casey.Koutsounis@jemena.com.au] 

{*}New tenant Owner Contact{*}: +61404533412 

Jemena has advised they have already created a local account in Jemena PROD for Casey, kindly check and let us know if any further information require. 

So, can you please arrange for the change of Owner of the Jemena PROD tenancy to Casey?"
Defect,CSOIOT-8222,Add microservice: lwm2mshim to the trusted list for tenant ID: t3118904,"Itron, Inc. 751854",372,Closed,"Talbert, Kent","Vukman, Tomislav",9/29/23 13:37,Customer,12/28/23 9:40,,,3-Medium,None,"Tenant Name: envt765476 
Tenant URL:  **  [https://envt765476.c8y.sag.idealabs.cloud|https://envt765476.c8y.sag.idealabs.cloud/] 
  

Customer would like to enable microservice to Itron internal services communication, via ExpressRoute, can you please ask SAG Cloud Ops to add microservice: lwm2mshim (Id: 557, Version: 0.0.1-0.1696976.dev.1.931fca0) to the trusted list. This microservice is found in tenant ID: t3118904."
User Story,CSOIOT-8219,"CLONE - Itron: Device registers successfully, then transitions from ""LWM2M Device Created Event"" to ""Device Not Connected"" in about 5 minutes.","Itron, Inc. 751854",372,Closed,"Saha, Sourajit","Kehayov, Boyan",10/2/23 8:53,Customer,10/2/23 8:53,,,3-Medium,None,"Tenant url:  envd417247.c8y.sag.idealabs.cloud 

Tenant ID:  t3119081 

lwm2m agent:  10.18.230.0  

  

Not sure if this is related to [https://itrac.eur.ad.sag/browse/IOT-17848] or if this is a new issue.  Customer was testing to verify IOT-17848 was fixed and is reporting the following issue now: 

  

When my modem is in eDRX (Extended Discontinuous Reception) mode, the server successfully registers the device. However, the event log shows a transition from ""LWM2M Device Created Event"" to ""Device Not Connected"" in about 5 minutes. 

Additionally, the server fails to read any object values, and the device is also not receiving any server request during this period. 

I have attached the server event log & modem wireshark logs for your reference, 

  

[^eDRX_enabled_Modem_log-1.pcapng][^Server_event_log-2.docx] 

  

Please let me know if you need any other information from the customer."
Defect,CSOIOT-8213,"State of object ""FW Update /5/0"" doesn't goto 0 from 2 after successful FW Download. On reading the object state went to 0 from 2.","Itron, Inc. 751854",372,Closed,"Herzog, Christian",Unassigned,10/6/23 11:38,Customer,5/21/24 10:43,,,3-Medium,None,"I have working a tunnel to the management tenant of us.cumulocity.com 

Putty shows: 

Using username ""christianherzog"". 
Authenticating with public key ""rsa-key-20201112"" 
Further authentication required 
Keyboard-interactive authentication prompts from server: 
| Verification code: 
End of keyboard-interactive prompts from server 
Last login: Tue Sep 26 07:44:08 2023 from 195.219.62.188 
[christianherzog@cumulocity-jumphost ~]$ 

I can open [http://localhost:8111/apps/administration/index.html#/tenants]  
and see login page. I add: 
Tenant ID: management 
Username: chh 
Password: <secret> 
But I get ""Invalid credentials"". 
Can you please check if my user ""chh"" or ""christian.herzog@softwareag.com"" is active?"
Defect,CSOIOT-8204,problems with SmartREST and sending measurements,Modern Drive Technology GmbH 751945,376,Closed,"Schon, Gregor","Vukman, Tomislav",9/28/23 13:54,Customer,9/28/23 13:54,,support_question,1-Critical,2-High,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _EMEA ________________ Domain __________________ Version __________________ 



*Affected tenant* 

*https://moderndrive.machines.cloud/apps/devicemanagement*  

System accessible by R&D? Yes  Support user access can be used 
_________ 

*Issue associated device, application and/or microservice* 

). 

*Device: TCG4-193354091002* 

*https://moderndrive.machines.cloud/apps/devicemanagement/index.html#/device/8278752444/device-info* 
* Device manufacturer and type: _________________ 
* Number affected: Single, Few, All devices. 
* Device is Certified? Yes / No 
* C8Y provided Agent? Type _______________ Version ______________ 

  

*Protocol used?* 
* Smart REST  

*Time period error was observed:* 
* since about our last update (12. 13, September) our customers have problems with their devices sending measurements. Not all devices are affected, but not only new ones either.  

  

*Description of the Problem:* 

since about our last update (12. 13, September) our customers have problems with their devices sending measurements. Not all devices are affected, but not only new ones either. There were also no changes in the firmware or the like. Were there any changes in version 1016 for SmartREST? If yes, is it possible to go back to latest version before? 

thx 

Helmut 

  

from Tech forum [https://tech.forums.softwareag.com/t/any-changes-in-smartrest-with-version-1016/283682] 

  
[Helmut Gansmüller|https://tech.forums.softwareag.com/u/hgansmueller]   
  
Our devices create the template and contains only “NUMBERS”. It seems that numbers like 092117262023 make now the problems, see the leading zero. But we didn´t that problem before. 
Unfortunately I do not have the exact error message. 
greets 
Helmut 
  
  
[Philipp Emmel |https://tech.forums.softwareag.com/u/Philipp_Emmel]  
  
Numbers with leading zeroes are generally not allowed in JSON data. This also applies to data sent via SmartREST because the data ultimately ends up in a JSON based document. So I’d recommend ensuring that numbers are sent without leading zeros. 

I do however recognize that in earlier versions we allowed such data and simply ignored leading zeroes before persisting. In fact we have already have already discovered this exact case and changes to allow leading zeros again are already underway."
Defect,CSOIOT-8198,Get core logs from APJ,Kallipr Pty Ltd 751685,376,Closed,"Neale, Robert","Vukman, Tomislav",10/2/23 8:53,Customer,10/2/23 8:53,25-Sep-23,,1-Critical,3-Medium,Can I have the core logs from the APJ environment?
Defect,CSOIOT-8193,Delete the tenants for Mayer & Cie. GmbH on EMEA instance,Mayer & Cie. GmbH & Co. KG 751827,378,Closed,"Bhatt, Vikas","Zeier, Patrick",10/4/23 14:14,Customer,10/4/23 14:14,,,3-Medium,3-Medium,"*Affected system:* 

Mayer & Cie. GmbH sub-tenants on EMEA instance 

*Description of the Problem:* 

Delete the following 10 tenants for Mayer & Cie. GmbH on EMEA instance. 
Customer updated to a custom domain recently. Hence he recreated these with new domain URLs and these old ones need to be deleted. 

-------------------------------------------- 
1. Albstoffe 

albstoffe 

albstoffe.emea.cumulocity.com 

2. DITF Deutsche Institute für Textil- und Faserforschung Denkendorf 

t24330760 

ditf.emea.cumulocity.com 

3. MCT-Feldtest 

mct-feldtest 

mct-feldtest.emea.cumulocity.com 

4. Maxime Knitting 

t16730796 

knitlink-maxime.emea.cumulocity.com 

5. Mayer&Cie Itma2023 

t145647387 

itma2023.emea.cumulocity.com 

6. RWTH-AACHEN-UNIVERSITY 

t17155367 

knitlink-rwth-aachen.emea.cumulocity.com 

7. Skytex 

t18044145 

knitlink-skytex.emea.cumulocity.com 

8. al rasael 

t84320627 

knitlink-al-rasael.emea.cumulocity.com 

9. hosiery 

t132568383 

knitlink-hosiery.emea.cumulocity.com 

10. itma23.adamos.com 

t143807193 

itma23.emea.cumulocity.com 

11. knitlink-byborre 

t72626249 

knitlink-byborre.emea.cumulocity.com 

12. toraman tekstil 

t73265869 

knitlink-toraman-tekstil.emea.cumulocity.com 
--------------------------------------------"
Defect,CSOIOT-8184,Boston Sci: Would like to have status page for their hosted software cloud environments,Boston Scientific Corporation 810461,380,Closed,"Talbert, Kent","Schueller, Thomas",10/2/23 9:04,Customer,10/2/23 9:04,,,3-Medium,None,"Boston Scientific:  Would like to have status page for their hosted software cloud environments. 

From customer:  I have encountered the [status.cumulocity.com|http://status.cumulocity.com/] website. The information in there about uptime and responses would be very useful and helpful to BSC. Can this be implemented for our hosted cloud environment? 

--- 

Is there a cost involved?  Or is this free?"
Defect,CSOIOT-8181,[Telstra] Request to modify Parent Tenant as Management tenant,Telstra Corporation Limited 751491,381,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",9/19/23 15:00,Customer,12/25/23 9:43,,,3-Medium,3-Medium,"*Affected system* 

Telstra Dev Tenants 

*Description of the Problem:* 

As discussed in our OPS call last week, Telstra has raised this request to modify the Parent Tenant as Management tenant for below mentioned child tenancy. 
!image.png|thumbnail! 

+Tenant IDs+ 

t139382226 

t166932569 

t76762341 

t76762805 

t76763016 

Please see the attached image, spreadsheet and email for more details on this request. 

Hope this operation does not include any complexity and child tenants gets assign to new parent tenant as “Management” without any loss of data/modification in existing tenant’s configuration. 

Please let us know if any details requiring from Telstra''s end."
Defect,CSOIOT-8180,Cumulocity IoT Platform upgrade from 10.16 to 10.17 Plan,Industrial Scientific Corporation 752132,383,Closed,"Neale, Robert","Lisik, Milosz (External)",10/10/23 9:40,Customer,2/7/24 9:52,9-Oct-23,,3-Medium,3-Medium,"Customer Industrial Scientific are requesting their dev environment ([management.na-dev.inet.com|http://management.na-dev.inet.com/]) to be upgraded to 10.17. 

  

When can this be done?"
Defect,CSOIOT-8178,[Hilti] Verify Kubernetes Cluster Health,Hilti AG 315,383,Closed,"Bhatt, Vikas","Fuso, Luca",9/18/23 15:48,Customer,12/18/23 9:38,,,3-Medium,3-Medium,"*Affected system""* 

Hilti Prod: https://management.dmp.hilti.com/ 

*Description of the Problem:* 

+This is a request from CSM '[~olm] for Hilti's purpose.+ 

FYI, I provide regular Gafana KPI figures of Hilti’s custom microservices to the customer. I have seen that there are not KPIs of all custom microservices before September 12th (2023) available anymore and I have received a confirmation from Hilti that majority of services were up and running before this date. Therefore we presume a restart of this K8S cluster that deleted all logs.. 

Could you please check K8S health for Hilti environment and update? 

The customer wanted to know the root cause this lack of log entries before September 12.{*}{*}{*}{*}"
Defect,CSOIOT-8154,Delete the Eppendorf tenants on EMEA instance,Eppendorf SE 751760,385,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",9/14/23 10:48,Customer,12/14/23 9:52,,,3-Medium,3-Medium,"*Affected system:* 

Tenant IDs: t395471569, t389150174, t388103549, t386198155 

*Description of the Problem:* 

Please delete the following Eppendorf tenants on EMEA instance. 

Tenant IDs: 
t395471569 
t389150174 
t388103549 
t386198155"
Defect,CSOIOT-8149,[GardnerDenver] Full database backup required,CompAir Drucklufttechnik 751508,386,Closed,"Bhatt, Vikas","Vukman, Tomislav",10/2/23 8:54,Customer,1/9/24 9:03,,,3-Medium,3-Medium,"*Affected system* 

Tenant: https://industrials.cas.irco.com 

*Description of the Problem:* 

Customer is requesting a full database backup of the latest version of their Cumulocity cloud data."
Defect,CSOIOT-8146,URL redirect,CompAir Drucklufttechnik 751508,386,Closed,"Welsing, Michael","Lundsten, Alf",10/2/23 9:05,Customer,4/8/24 6:06,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA* Version *10.15* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: [https://industrials.cas.irco.com|https://industrials.cas.irco.com/] ** 

*Description of the Problem:* 

Hello OPS, 

Customer CompAir needs a URL redirect {+}{color:#FF0000}starting from 01.10.2023{color}{+}. 

Current software AG portal URL is:[https://industrials.cas.irco.com|https://industrials.cas.irco.com/] 

New URL mus be [https://www.connectedairsolutions.com|https://www.connectedairsolutions.com/] 

best regards 

Michael"
Defect,CSOIOT-8145,Please delete tenant t395856850 on EMEA instance.,Eppendorf SE 751760,387,Closed,"Talbert, Kent","Vukman, Tomislav",9/11/23 16:36,Customer,12/11/23 9:46,,,3-Medium,None,"Please delete the following tenant on EMEA instance for Eppendorf: 

  

Tenant ID:  t395856850 

URL:  b7b9776a22e148db89b2cbf10d464512.visionizedigitallabspace.eppendorf.com"
Defect,CSOIOT-8143,APAMA UI release shows 1016.0.67 on EMEA - should be 10.18.0.4.,WIKA Alexander Wiegand SE & Co. KG 752067,387,Closed,"Neale, Robert","Vukman, Tomislav",9/18/23 11:01,Customer,12/21/23 9:50,14-Sep-23,,3-Medium,3-Medium,"EMEA platform still has 10.16 Streaming Analytics app, despite it being a 10.17 environment. 

  

C8y prod which is also 10.17 has Streaming Analytics 10.18.0.4 - why hasn't EMEA?"
Defect,CSOIOT-8129,OEE is not working,Sony Semiconductor Solutions Corp. 751975,391,Closed,"Welsing, Michael","Vukman, Tomislav",9/11/23 14:15,Customer,4/23/24 10:59,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *APJ*  

*Affected tenant* 

Tenant: [https://pcd.ce-sssdev.aitrios.sony-semicon.com/]{*}{*} 

*Description of the Problem:* 

While investigating OEE issues on the named tenant if was figured that there some APAMA issues regarding license and setup. I was informed that OPS setup the system, so you might be able to help here. 

According to the log, the Apama license expired (""License has expired""; first occurrence: ""2023-07-23 00:00:53.746 CRIT  [140288397076224] - License has expired"", [https://grafana.monitor.c8y.io:3000/goto/AGX1eIzSg?orgId=1]). Can you renew it? 

Can you please provide some information on the setup? Which is the parent tenant where the oee-bundle is deployed to? Why is apama-oeeapp directly deployed to this tenant and not to the parent tenant (which is the typical setup)?"
Defect,CSOIOT-8128,device lost connection while update to 1017,Hans Turck GmbH & Co. KG 752018,392,Closed,"Herzog, Christian","Vukman, Tomislav",9/13/23 14:34,Customer,9/13/23 14:34,,,3-Medium,None,"emea.cumulocity.com was updated from 2023-09-05T03:00:00.000Z. on 10.17. 
The customer of 
[tenant https://turck-demo.emea.cumulocity.com/ (t251072207)|https://turck-demo.emea.cumulocity.com/] 
reported device errors on 05/Sep/2023 12:02 (UTC): 

Error message on the devices: 
""OpenSSL Error[0]: error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed Error: A TLS error occurred."" 
As they could not verify the server certificate, the devices lost the connection to the server. 
  
3 example devices: 
  
BB0001439000281791BB: 
[http://localhost:8111/apps/devicemanagement/index.html#/device/826568931/device-info]  
last updated 2023-09-05T12:24:34.346Z 

AA000143C000306421AA 
[http://localhost:8111/apps/devicemanagement/index.html#/device/18421209/device-info]  
last updated 2023-09-05T12:24:54.349Z 

TX715Testlab 
[http://localhost:8111/apps/devicemanagement/index.html#/device/788142258/device-info]  
last updated 2023-09-06T14:30:06.367Z 

Device reboot brought no direct improvement. 
Later the devices were connected again, as you see on ""last updated"". 
This is not an expected behavior while an update, correct? 
Can you please investigate the root cause? 
 "
Defect,CSOIOT-8127,[GardnerDenver] New user account needed for backup purpose,CompAir Drucklufttechnik 751508,392,Closed,"Bhatt, Vikas","Lundsten, Alf",9/13/23 8:03,Customer,9/13/23 8:03,,,3-Medium,3-Medium,"*Affected system* 

Tenant URL: https://industrials.cas.irco.com/ 

*Description of the Problem:* 

A customer from GardnerDenver has raised the below request. 

---------------------- 
This person needs a user account in order to be able to order and download a full database backup. 
Michael Busch – michael.busch@irco.com 

He needs to open a ticket to ask you for a tenant backup similar to the ones I have been requesting you. 
Once you do the back up, he will download it. 

I believe I cannot create him as user in this getsupport.softwareag.com 

The final goal is that he must be able to download a full backup of our tenant. 
---------------------- 

Could you please help on above?"
Defect,CSOIOT-8125,Unable to deploy Microservice,Edwards Vacuum 751066,392,Closed,"Neale, Robert","Makowski, Pawel (External)",9/13/23 14:29,Customer,12/25/23 9:46,6-Sep-23,,3-Medium,3-Medium,"I can't deploy microservices on edwardsvacuum environment ([https://live.edcentra.edwardsvacuum.com/]). 
  
kubeworkwer node shows error... 
  
""mongodb: server returned error on SASL authentication step: BSON field 'saslContinue.mechanism' is an unknown field"""
Defect,CSOIOT-8122,Activate the licenses for custom domains (https://mayercie-mgmt.emea.cumulocity.com & https://mayerandciemgmt.eu-latest.cumulocity.com),Mayer & Cie. GmbH & Co. KG 751827,393,Closed,"Bhatt, Vikas","Vukman, Tomislav",9/18/23 11:05,Customer,12/20/23 9:42,,,3-Medium,3-Medium,"*Affected system* 

PROD: [https://mayercie-mgmt.emea.cumulocity.com|https://mayercie-mgmt.emea.cumulocity.com/] 
DEV: [https://mayerandciemgmt.eu-latest.cumulocity.com|https://mayerandciemgmt.eu-latest.cumulocity.com/] 

*Description of the Problem:* 

Customer Mayer&Cie has set the custom domains by uploading the required certs on their Prod and Dev tenants as below.  

PROD Environment: 
* Tenant URL: [mayercie-mgmt.emea.cumulocity.com|http://mayercie-mgmt.emea.cumulocity.com/] 
* Custom domain: [iot.knilink.io|http://iot.knilink.io/] 

Same for DEV environment: 
* Tenant URL: [mayerandciemgmt.eu-latest.cumulocity.com|http://mayerandciemgmt.eu-latest.cumulocity.com/] 
* Custom domain: [iot-dev.knilink.io|http://iot-dev.knilink.io/] 

Please activate the licenses for these custom domains."
Defect,CSOIOT-8112,[EdwardsVacuum] Redirect on URL takes us to feature-microservice-hosting/index.html and returns 404 Not Found,Edwards Vacuum 751066,393,Closed,"Bhatt, Vikas","Vukman, Tomislav",9/5/23 15:10,Customer,12/5/23 9:42,,,2-High,2-High,"*Affected system* 

Tenant ID: t1260692845 
Tenant URL: https://live.edcentra.edwardsvacuum.com/ 

*Description of the Problem:* 

Customer raised the following issue: - 

""In our management tenant yesterday, I had to subscribe the feature-microservice-hosting application to the t1260692845 tenant to allow us to deploy microservices. Since doing so now when you go to the URL to login - https://live.edcentra.edwardsvacuum.com instead of being redirected to the Cockpit application the redirect takes you to https://live.edcentra.edwardsvacuum.com/apps/feature-microservice-hosting/index.html which returns a 404 Not Found page. 

We need this fixed so it takes us back to the Cockpit as it did previously before subscribing this tenant. 

I had the same issue a few weeks ago when we had to subscribe the feature to resolve an issue with updating user roles and ended up unsubscribing again; but now we need it subscribed."""
Defect,CSOIOT-8111,Hilti: add index to device managed object,Hilti AG 315,393,Closed,"Neale, Robert","Bieniak, Arkadiusz",10/6/23 9:30,Customer,5/31/24 10:32,2-Oct-23,,3-Medium,2-High,"Hilti request. 

  

We need to add 2 index on fragments (or to check if there is already an index, it seems not): 
# ""source"" this filter is usually used in filtering across all devices 
# “com_hilti_FwV.v” this filter fragment is used in combination with “type“ 

* *Tenant Name:* 

t978904552 * 
*Tenant URL:* 
[https://iot.dmp.hilti.com/]"
User Story,CSOIOT-8110,"CLONE - LWM2M: State of object ""FW Update /5/0"" doesn't goto 0 from 2 after successful FW Download. On reading the object state went to 0 from 2.","Itron, Inc. 7518541",394,Completed,"Lekarov, Grigor","Kehayov, Boyan",9/7/23 16:05,Customer,9/7/23 16:05,,,3-Medium,None,"Customer Itron, Inc. says: 

""In C8Y ""State"" resource of object ""FW Update /5/0"" doesn't goto 0 from 2 after successful FW Download. On reading the object state went to 0 from 2. 
Screenshot(image.png) tells State was 2 after FW Download finished. 
Screenshot(image-1) tells State went to 0 on reading Object."" 

My comment: 

I was not able to test this with CumulocityLwm2mClientDemo-jar-with-dependencies.jar, because my test get stuck before. 
Please let me know how we can help the customer. 

Details: 
I tried to test this with [https://globalsupport.lwm2m-x509.c8y.io/apps/devicemanagement/index.html#/device/383200/objects] and downloaded for it [https://raw.githubusercontent.com/OpenMobileAlliance/lwm2m-registry/prod/5.xml] . 

For test purpose I uploaded a fake firmware file. 
In the objects tab I could read Firmware /5/0 successfully. 
But execute firmware update leads in my test to ""Operation execution failed on device side with error code: NOT_FOUND(404)..."" (Thats my error, not the customers issue){{{}{}}}"
Defect,CSOIOT-8093,Please delete some Tenants for us on our PROD environment,Eppendorf SE 751760,394,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",9/4/23 11:21,Customer,12/4/23 9:37,4-Sep-23,,3-Medium,3-Medium,"Eppendorf request to delete tenants on their PROD environement. 

  

{color:#00875a}Tenant ID{color} 

{color:#00875a}t379430873{color} 

{color:#00875a}t367080307{color}"
Defect,CSOIOT-8092,Set DEBUG level on APJ MQTT.,Kallipr Pty Ltd 751685,394,Closed,"Neale, Robert","Vukman, Tomislav",9/11/23 14:11,Customer,2/20/24 10:10,11-Sep-23,,1-Critical,None,"Following on from [https://itrac.eur.ad.sag/browse/CSOIOT-7122,] fix has been implemented but no improvement in device connectivity seen. 

Need DEBUG logging on MQTT for a period of time to see if timeouts still occurring after fix."
Defect,CSOIOT-8091,Delete Tenants from eatonnubisnet,Eaton Industries GmbH 7518586,395,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",9/4/23 11:16,Customer,12/5/23 9:43,,,4-Low,None,"Please delete these tenants on emea.cumulocity.com, confirmed by the customer. 
All tenants are already suspended by the customer. 
I said the customer the tenants are deleted automatically by a script within 4 weeks, but he wants the deletion now. I don't have enough privilege's. 

Tenant list: 

Clevertech t87403626 clevertech.dbt.machinery-monitoring.com 
Eaton (Brightlayer Industrial App) t135542913 brightlayer-ind-test.dbt.machinery-monitoring.com 
MacWarren Medical t58739859 macwarren.dbt.machinery-monitoring.com 
Prod_TestRetailTenant t330462830 prodtestretail.dbt.machinery-monitoring.com 
Retail-Tenant t355848488 network.dbt.machinery-monitoring.com 
Retail-Tenant-1 t355867732 nub.dbt.machinery-monitoring.com 
Tenant-Device t371039985 xpv.dbt.machinery-monitoring.com 
Tenant-Device-flex-plus t371136432 trp.dbt.machinery-monitoring.com 
Test-tenant t366801077 fwedf.dbt.machinery-monitoring.com 
Test_PA_SA_Dashboard2 t382494990 flex-ggg-ggg.dbt.machinery-monitoring.com 
Test_PA_Service_Dashboard1 t382469894 test-domain.dbt.machinery-monitoring.com 
Test_PA_Service_Dashboard2 t382474620 felx-plus-test.dbt.machinery-monitoring.com 
Test_PA_Service_Dashboard3 t382474638 test-retail.dbt.machinery-monitoring.com 
Test_retail_tenant t287053355 eatontest.dbt.machinery-monitoring.com 
VIJAY-TENANT t317729962 tenant1.dbt.machinery-monitoring.com 
test-dash t366266017 vyc.dbt.machinery-monitoring.com"
Defect,CSOIOT-8090,Request for GainSight tracking in one of our tenant,Solenis LLC 7512378,395,Closed,"Neale, Robert","Lundsten, Alf",9/18/23 16:00,Customer,9/18/23 16:00,4-Sep-23,,3-Medium,3-Medium,"We would like to track one of our tenants using the GainSight tool, aiming to obtain user metrics throughout the tenant's usage. 

Additionally, we would appreciate having the GainSight feedback features enabled, if possible. I have reached out to the PS team, and they mentioned that in order to initiate GainSight tracking, we need to create a ticket. This would allow the team to export the data and provide us with a clearer understanding of the information. 

Tenant - [https://dev1.iot-dev.solenis.com|https://dev1.iot-dev.solenis.com/]"
Defect,CSOIOT-8084,Request to update our dev instance to 10.16,Solenis LLC 7512378,397,Closed,"Neale, Robert","Lisik, Milosz (External)",9/8/23 10:28,Customer,12/15/23 9:39,4-Sep-23,,3-Medium,3-Medium,"From Solenis.... 

{*}""{*}We have a c8y dev instance which we would like to upgrade from 10.15 to 10.16. 
Instance - *[i|http://iot-dev.solenis.com/]ot-dev.solenis.com"""
Defect,CSOIOT-8057,Delete tenant t401727098,Eppendorf SE 7517606,398,Closed,"Moon, Swai","Luczyszyn, Mikolaj (External)",9/1/23 10:53,Customer,12/4/23 9:37,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: EMEA 

Customer: Eppendorf SE 7517606 

*Description of the Problem:* 

Hi, the customer has asked us to delete the tenant *t401727098* 

The tenant is on *EMEA instance*"
Defect,CSOIOT-8054,eu-latest recover password not working,Utonomy Ltd 7516334,398,Closed,"Neale, Robert","Schueller, Thomas",10/2/23 8:55,Customer,12/28/23 9:48,25-Sep-23,,3-Medium,3-Medium,"From customer... 

  

""When trying to recover my password in [https://utonomy.eu-latest.cumulocity.com/] the message “{*}Password reset request has been sent. Please check your email.”{*} is displayed. 

However, I never receive the email with instructions to reset my password."" 

  

eu-latest mail log reveals.. 

  
[root@c8y-smtp-fra ~]# grep alvaro.valderrama@utonomy.co.uk /var/log/maillog 
Aug 30 09:28:11 c8y-smtp-fra postfix/smtp[21358]: 0EB2D409D35: to=<alvaro.valderrama@utonomy.co.uk>, relay=aspmx.l.google.com[173.194.76.27]:25, delay=0.37, delays=0/0/0.05/0.32, dsn=5.7.1, status=bounced (host aspmx.l.google.com[173.194.76.27] said: 550-5.7.1 A policy required TLS transmission, but a TLS connection could not be 550-5.7.1 established. Learn more: [http://support.google.com/a/answer/2640490] - 550 5.7.1 gcdp i4-20020a5d5584000000b00316eabfef45si3690583wrv.299 - gsmtp (in reply to end of DATA command)) 
Aug 30 09:28:16 c8y-smtp-fra postfix/smtp[21372]: 567F5401914: to=<alvaro.valderrama@utonomy.co.uk>, relay=aspmx.l.google.com[173.194.76.27]:25, delay=0.24, delays=0/0/0.04/0.19, dsn=5.7.1, status=bounced (host aspmx.l.google.com[173.194.76.27] said: 550-5.7.1 A policy required TLS transmission, but a TLS connection could not be 550-5.7.1 established. Learn more: [http://support.google.com/a/answer/2640490] - 550 5.7.1 gcdp l18-20020adff492000000b003176aed8c4asi5387207wro.187 - gsmtp (in reply to end of DATA command)) 
Aug 30 09:28:19 c8y-smtp-fra postfix/smtp[21345]: 698FE409D35: to=<alvaro.valderrama@utonomy.co.uk>, relay=aspmx.l.google.com[173.194.76.27]:25, delay=0.25, delays=0.01/0/0.06/0.18, dsn=5.7.1, status=bounced (host aspmx.l.google.com[173.194.76.27] said: 550-5.7.1 A policy required TLS transmission, but a TLS connection could not be 550-5.7.1 established. Learn more: [http://support.google.com/a/answer/2640490] - 550 5.7.1 gcdp w5-20020adfde85000000b003196cd0db4csi5060020wrl.802 - gsmtp (in reply to end of DATA command))"
Defect,CSOIOT-8053,Deletion of a tenant,phios ag 7518987,398,Closed,"Neale, Robert",Unassigned,8/31/23 10:56,Customer,11/30/23 9:32,31-Aug-23,,3-Medium,3-Medium,"Had this from customer... 

  

can you please delete following subtenant, the subtenant is already deactivated: 

Domain: [emt-bauma.cumulocity.com|http://emt-bauma.cumulocity.com/] 
Tenant-Id: t1550544481"
Defect,CSOIOT-8042,Delete Tenants from eatonnubisnet,Eaton Industries GmbH 7518586,399,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",8/31/23 9:23,Customer,12/7/23 9:42,30-Aug-23,,3-Medium,3-Medium,"Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thanks a lot & have a nice day, 
Hrishikesh 

Eaton NubisNet (Sec) t16425532 [blim-sec.dbt.machinery-monitoring.com|http://blim-sec.dbt.machinery-monitoring.com/] 
Flex-Plus-Tenant t355877266 [top.dbt.machinery-monitoring.com|http://top.dbt.machinery-monitoring.com/] 
RetailTenant t393010717 [tht.dbt.machinery-monitoring.com|http://tht.dbt.machinery-monitoring.com/] 
Test-Tenant t306505356 [eatonnubisnet.dbt.machinery-monitoring.com|http://eatonnubisnet.dbt.machinery-monitoring.com/] 
Test-Tenant t364709856 [etns.dbt.machinery-monitoring.com|http://etns.dbt.machinery-monitoring.com/] 
uattest2Flex t299940625 [uattest2flex.dbt.machinery-monitoring.com|http://uattest2flex.dbt.machinery-monitoring.com/] 
uattest2FlexPlus t299972101 [uattest2flexplus.dbt.machinery-monitoring.com|http://uattest2flexplus.dbt.machinery-monitoring.com/] 
uattest2retail t299975757 [uattest2retail.dbt.machinery-monitoring.com|http://uattest2retail.dbt.machinery-monitoring.com/]"
User Story,CSOIOT-8040,"CLONE - Reading Objects in C8Y is going to pending state when FW_Size_15MB Download fails with setting of ""lwm2mRequestTimeout=900000"" in C8Y","Itron, Inc. 7518541",399,Completed,"Sobolewski, Jakub","Lundsten, Alf",8/31/23 16:28,Customer,8/31/23 16:28,,,3-Medium,None,We need logs from ITRON August 21st to investigate the parent issue.
Defect,CSOIOT-8039,MEA Report for Jul-23 and Aug-23,Kallipr Pty Ltd 7516856,400,Closed,"Moon, Swai",Unassigned,8/31/23 16:27,Customer,12/12/23 9:53,,,3-Medium,None,"SAG Cloud region: APJ 

Customer: Kallipr Pty Ltd 

Kallipr Pty LTD is asking to send through the MEA Report for Billing for {*}Jul-23 and Aug-23{*}. Let me know if you need any more info."
Defect,CSOIOT-8033,User Locked in Cumulocity Tenant,Software AG S.A. de C.V. 3157000,400,Closed,"Talbert, Kent","Saaban, Asshad",8/31/23 8:25,Customer,11/29/23 13:11,,,3-Medium,None,"Tenant URL:  [https://arhe.eu-latest.cumulocity.com/] 

tenant ID:  arhe 

  

Need user ahernandezb re-enabled.  It appears that the administrator user is also disabled as I am unable to access the tenant as the support user.  

  

Not sure if this is due to the tenant being created from Softwareag.Cloud, but now it is decoupled. 

  

Please re-enable the users. 

  

Thanks, 

Kent"
Defect,CSOIOT-7995,Delete Tenant ID t401629978 (dev-wika.wika.io),WIKA Alexander Wiegand SE & Co. KG 7520672,400,Closed,"Bhatt, Vikas","Vukman, Tomislav",8/30/23 11:21,Customer,11/29/23 13:12,,,3-Medium,3-Medium,"*Affected system* 

t401629978 (dev-wika.wika.io) 

*Description of the Problem:* 

Customer requested to delete tenant id t401629978 (dev-wika.wika.io) on *.cumulocity.com."
Defect,CSOIOT-7986,The platform is not accessible now.,"Micro Technology Co., Ltd. 7515608",404,Closed,"Welsing, Michael","Simeonova, Rumyana",9/12/23 10:22,Customer,12/13/23 9:55,,,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *APJ* Domain __________________ Version *10.16* 

*Description of the Problem:* 

Hi OPS, 

this is a customer complain about the outage yesterday for Cumunosu. As the SI is still in CRISIS state a quick explanation would be great. Customer is not satisfied with information that the MongoDB issue was unplanned and unforeseeable. 

See the complaint: We understood the DB node down is unpredictable. However, we would like to know why it took 1 hour to recover the system. As far as I guess, the restart of DB node is a kind of common procedure, and we expect it would become normal soon. However, because of the configuration with Cloudflare, it took one hour to get back to normal. It looks that it would be a lack of preparation for this incident. We would like to know the measurement to prevent it from happening again. Do you have any feedback on this?"
Defect,CSOIOT-7983,Please terminate the tenant (yaw2.cumonosu.com),"Micro Technology Co., Ltd. 7515608",405,Closed,"Moon, Swai","Luczyszyn, Mikolaj (External)",8/25/23 13:51,Customer,12/10/23 9:17,,,3-Medium,None,"SAG Cloud region: APJ ** 

Tenant: yaw2 

URL: [http://yaw2.cumonosu.com/] 

It should be on http://jp.cumulocity.com/ 

  

*Customer's Request:* 

Can you terminate the following tenant? 

Tenant ID: yaw2 

URL: [yaw2.cumonosu.com|http://yaw2.cumonosu.com/] 

Currently, this tenant is suspended, and there is no problem with terminating this tenant."
Defect,CSOIOT-7982,Need to have managed object deleted from database.,ZTR Control Systems 7520990,405,Closed,"Talbert, Kent","Vukman, Tomislav",8/28/23 7:53,Customer,11/24/23 9:34,,,3-Medium,None,"Tenant ID:  t458267135 

Tenant URL:  [https://development.railwayiot.com/] 

This is on the US instance. 

Managed Object that needs to be deleted is:  59025385  See [https://itrac.eur.ad.sag/browse/IOT-18122] for more details. 

we need connect to mongodb via mongos and execute: 
{code:java} 
use <tenantId> 
db.cmdata.updateOne({_id:""<managedObjectId>""}, {$unset:{""c8y_IsBinary"":""""}}){code}"
Defect,CSOIOT-7981,Delete Subtenants,Syntegon Technology Services AG 7520592,405,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",8/29/23 14:21,Customer,12/1/23 9:33,,,3-Medium,None,"Cumulocity.com environment 

  

Please delete the suspended subtenants on the following enterprise tenants:  [management.synexio.syntegon.com|http://management.synexio.syntegon.com/] and s[yntegon-dev.cumulocity.com|http://syntegon-dev.cumulocity.com/] 

They should all be named test+Number and the url testautomatisierung+number. 

  

Let me know if you need any further information. 

  

Thanks, 

Kent"
Defect,CSOIOT-7977,Alarms notifications not being received by users,CompAir Drucklufttechnik 7515080,405,Closed,"Neale, Robert","Lundsten, Alf",8/29/23 14:05,Customer,12/13/23 9:56,24-Aug-23,,1-Critical,1-Critical,"Customer complains they are getting no emails from their environment ([https://industrials.cas.irco.com/)] 

  

Ops chat... 

  


This is old Gardner-Denver iirc 
​ 


and they have been complaining about missing emails since we upgraded them to 10.15... 
​ 


They have a test tenant on EU-latest with their custom UI - do we know if Daniel P and Philipp E has finished their testing? 
​ 


/var/log/maillog on core3 is not happy 
​ 


Aug 24 09:18:12 gardnerdenver-core03 postfix/error[32206]: 42D4260141: to=<root@management.cas.irco.com>, relay=none, delay=0.02, delays=0.01/0.01/0/0, dsn=4.4.1, status=deferred (delivery temporarily suspended: connect to 52.58.146.111[52.58.146.111]:25: Connection timed out) 
​ 


And 52.58.146.111 is cepfra 
​ 
 "
Defect,CSOIOT-7971,Logs of jemena.iot.telstra,Telstra Corporation Limited 7514912,406,Closed,"Moon, Swai","Lundsten, Alf",8/25/23 10:34,Customer,12/12/23 9:54,,,3-Medium,None,"SAG Cloud region: APJ{*}{*} 

Tenant: Jemena 

URL: [jemena.iot.telstra.com|https://jemena.iot.telstra.com/] 

*Description of the Problem:* 

We will need the following logs: 
* CEP Core logs 
* apama-ctrl microservice logs 

If possible, we will need it for the date 3-9 August. If it's not possible, please provide it for 4 August."
Defect,CSOIOT-7966,Jemena LWM2M Logs,Telstra Corporation Limited 7514912,407,Closed,"Moon, Swai","Schueller, Thomas",8/25/23 13:32,Customer,12/10/23 9:18,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: APJ 

Tenant ID: jemena 

Tenant URL: [jemena.iot.telstra.com|http://jemena.iot.telstra.com/] 

Cumulocity version: *1011.0.17* 

Hi Ops, 
* Can you please provide us with maybe 1-2h of the LWM2M agent log data during busy hours? (03:00 - 05:00) 
* If possible, can we capture the HTTP traffic going into the *jemena-cbor-decoder* pod as pcap file? (tcpdump) "
Defect,CSOIOT-7951,https://developer.cumulocity.com/ not secure,DAC System SA 7520476,408,Closed,"Eha, Allan","Vukman, Tomislav",8/22/23 13:26,Customer,11/23/23 11:20,,,2-High,1-Critical,"* {*}Product Version:{*}10.16 
  

* {*}Severity:{*}Crisis 
  
* {*}Tenant Name:{*}t1684359976 

* *Tenant URL:* 
[https://dielectric.dacsystem-apollo.com/] 
  

we have trouble connecting to the platform from all our devices. 

We belive that the reason is because the certificate for [https://developer.cumulocity.com/] is self signed and not verifiable by our end. 

The change has happened on August 10. 

This is an very urgent matter, as none of our devices is able to send data to the platform. 

New certificate: 

!Invalid certificate.png|thumbnail! 

---------------------------- 

*According to the customer:* 

The error is thrown by the cumulocity sdk when it tries to access the platform (see attached). 

We haven't changed anything on the edge side. 

!Screenshot from 2023-08-21 20-53-00.png|thumbnail! 

I would like to reiterate that I think our certificate has nothing to do with the problem. 
We changed the certificate today (as we did 3 months ago) of our domain name but our customers, whom I contacted earlier, reported that they noticed the problem as early as last week. 

I could be wrong; I don't have a complete view of the problem, but can you check whether the previous certificate of your domain [developer.cumulocity.com|http://developer.cumulocity.com/] was also self-signed?"
Defect,CSOIOT-7946,Hilti: HTTPS certificate expiring,Hilti AG 3158,408,Closed,"Welsing, Michael","Lisik, Milosz (External)",8/22/23 11:47,Customer,11/23/23 11:20,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Version *10.13* 
** 

*Description of the Problem:* 

The http certificate of HILTI is expiring by 1st of September. New certificate is with Milosz Lisik. Please put it in place!"
Defect,CSOIOT-7925,[Hilti] Change the tenant URL from 'iot-prod.dmp.hilti.com' to 'iot-preprod.dmp.hilti.com',Hilti AG 3158,412,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",8/21/23 10:25,Customer,11/24/23 9:37,,,3-Medium,3-Medium,"*Affected system* 

Hilti Prod: https://management.dmp.hilti.com/ 

Subtenant: https://iot-prod.dmp.hilti.com/ 

*Description of the Problem:* 

Customer reported that they recently provisioned a new tenant t2798715 and gave the name: 

iot-prod 
https://iot-prod.dmp.hilti.com 

But they want to change the URL. 

Could you change this to the following? 

iot-preprod 
https://iot-preprod.dmp.hilti.com 

As this is not available via management tenant UI."
Defect,CSOIOT-7924,Cronjobs schedule in Telstra's DEV environment,Telstra Corporation Limited 7514912,412,Closed,"Moon, Swai","Lundsten, Alf",8/21/23 9:10,Customer,11/28/23 9:49,,,3-Medium,None,"Hi Ops, 

Related to https://itrac.eur.ad.sag/browse/CSOIOT-7096 

We would like to know the schedule of the two cronjobs in Telstra's *DEV* environment. 
* microservice.scheduled.tasks.cron=0 0 3 * * * (default) 
_Creates K8S resources if microservice known to MongoDB but not deployed_ 
* microservice.k8s.resources.cleanup.schedule=7 5 3 * * * (default) 
_Deletes K8S resources if microservice unknown to MongoDB but deployed_ 

Are they on default times?"
User Story,CSOIOT-7903,Itron: Custom object 34332 READ shows FAILED in UI,"Itron, Inc. 7518541",412,Completed,"Saha, Sourajit","Lundsten, Alf",8/17/23 13:21,Customer,8/17/23 13:21,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *AME*  Version *10.16* 

*Affected tenant* 

Tenant: [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html] OR System-wide issue. 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other *LwM2M* 

*Time period error was observed:* 
* Start: _________________ End: _________________ or {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi R&D 

customer has a custom object 34332. When a READ operation is performed on the object, they get a FAILURE message. they are currently sending NULL data for /34332/0/1. 

_Question: Could this be the cause of failure?_ 

Please note, this error started appearing recently and the READ used to pass in version 10.15. 

This is an LwM2M custom object and customer don't sees issues with any other object reads. 

They see the failure when they send below command from Shell tab. 

read /34332/0/2 

This resource is of type CORE_LINK. 

Attached is  the object XML for reference. 

Regards 
Michael 

  

 "
Defect,CSOIOT-7900,Uploaded logfile is cannot be displayed due to non-supported MIME type,DMG MORI Digital GmbH 7515505,413,Closed,"Herzog, Christian","Lundsten, Alf",8/17/23 9:54,Customer,4/9/24 10:59,,,3-Medium,None,"Please activate User chh2 on management.adamos-dev.com, it's needed to solve the assigned support ticket. 

I tried to reset password with email addresses [christian.herzog@softwareag.com|mailto:christian.herzog@softwareag.com] and [christian.herzog@cumulocity.com,|mailto:christian.herzog@cumulocity.com] but the emails said that no user is assigned to these email addresses. 

If the user is deleted please create a user [christian.herzog@softwareag.com|mailto:christian.herzog@softwareag.com]  with option ""Send password reset link as email"". 
Thanks!"
Defect,CSOIOT-7898,CLONE - [Jemena PROD] - Operation request - User with basic auth and SSO log-in is logged out from the platform every 10 mins despite active user session,Telstra Corporation Limited 7514912,413,Closed,"Lundsten, Alf","Zeier, Patrick",8/17/23 9:43,Customer,8/17/23 14:02,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ____{_}{{_}}APJ{{_}}{_}_____ Domain ____{_}{{_}}Telstra.com{{_}}{_}_____ Version ____{_}{{_}}10.11{{_}}{_}______ 
System Usage (Choose one of: Production / Test / Development): _{_}{{_}}Production{{_}}{_}__ 
Time Zone: _{_}{{_}}AEST{{_}}{_}__ 

*Affected tenant* 

Tenant: [PROD]  [https://jemena.iot.telstra.com|https://jemena.iot.telstra.com/]  

Enterprise Tenant? Yes 
System accessible by R&D? Yes 
UserID  [jakub.kotorowicz@softwareag.com|mailto:jakub.kotorowicz@softwareag.com] (Username: jkoto)  Password: _Please ask Jakub for the password_ 

*Time period error was observed:* 
* Start: Ongoing. 
* Repeatability? Logged out from platform every 10 minutes 
* Frequency - All the time 

*Description of the Problem:* 

Customer (jemena) using SSO for Cumulocity platform is experiencing log-out issue every 10 mins despite active user session. It is really impacting the customer's day-to-day activities. 

----{-}Operation Request from Telstra{-}----- 

After investigation in R&D iTrac IOT-17755 , considering the impact to the customer, Telstra has decided to change the ""{*}_auth.cookies.expiration.time_{*}"" parameter to *6 hours* from *10mins* (assuming that is what set currently) and hope this change will resolve the issue of customer (SSO enabled) getting kicked out every 10mins. 

  

Kindly proceed with the change in both the environments and confirm here. 

*{color:#FF0000}See first comment from Alf.{color}*"
Defect,CSOIOT-7895,Delete Tenants,Software AG 3101000,414,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",8/18/23 10:11,Customer,11/20/23 9:43,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA*  Version *10.17* 
** 

*Description of the Problem:* 

Hi Ops, 

please delete the following tenants: 

[*_atos-epl-training.eu-latest.cumulocity.com_*|http://atos-epl-training.eu-latest.cumulocity.com/] 
[*_edf-rd.eu-latest.cumulocity.com_*|http://edf-rd.eu-latest.cumulocity.com/] 
[*_solenis-tm.eu-latest.cumulocity.com_*|http://solenis-tm.eu-latest.cumulocity.com/] 
*_solenis_us.eu-latest.cumulocity.com_* 

[*_chkotenant.eu-latest.cumulocity.com_*|http://chkotenant.eu-latest.cumulocity.com/] 
[*_apmapi.eu-latest.cumulocity.com_*|http://apmapi.eu-latest.cumulocity.com/] 

best regards 

Michael"
Defect,CSOIOT-7893,Non-Prod Update Schedule Proposal,Boston Scientific Corporation 8104616,414,Closed,"Eha, Allan","Lisik, Milosz (External)",8/28/23 15:26,Customer,11/27/23 9:44,,,3-Medium,3-Medium,"From BSCI (Boston Scientific Corporation) : 

  

I’d like to get an upgrade for our non-prod environments to be upgraded to the latest version, either 10.17 or 10.18 (if it is available by the proposed time) 

We’d like to ideally have the upgrade done over the days of October 10th and October 11th 2023."
Defect,CSOIOT-7892,Itron: Add microservice: lwm2mshim to the trusted list,"Itron, Inc. 7518541",414,Closed,"Eha, Allan","Kehayov, Boyan",8/16/23 10:02,Customer,11/15/23 9:58,,,3-Medium,3-Medium,"* 
*Tenant Name:* 
envd417247 
* 
*Tenant URL:* 
[https://envd417247.c8y.sag.idealabs.cloud|https://envd417247.c8y.sag.idealabs.cloud/] 

  

To enable microservice to Itron internal services communication, via ExpressRoute, can you please ask SAG Cloud Ops to add microservice: lwm2mshim (Id: 477, Version: 0.0.1-0.1654916.dev.1.ddc5dbb) to the trusted list. This microservice is found in tenant ID: t3119081."
Defect,CSOIOT-7883,Upgrade of our (LwM2M) instance to 10.18.230.0,"Itron, Inc. 7518541",418,Closed,"Eha, Allan","Kehayov, Boyan",8/15/23 9:34,Customer,11/17/23 9:51,,,2-High,3-Medium,"* *Customer ITron* 
* 
*Tenant Name:* 
envd417247 
* 
*Tenant URL:* 
[https://envd417247.c8y.sag.idealabs.cloud/apps/administration] 

Can you please upgrade our (LwM2M) instance to (dev) version: 10.18.230.0 

 "
Defect,CSOIOT-7865,Cloud Remote Access microservice not available,ECLIPS Logistics Pty Ltd 7522225,419,Closed,"Moon, Swai","Lundsten, Alf",8/14/23 9:22,Customer,11/13/23 9:42,,,3-Medium,None,"SAG Cloud region: APJ 

Tenant URL: [https://eclipslogistics.apj.cumulocity.com/] 

Tenant ID: t31727851 

*Description of the Problem:* 

The customer has mentioned that they do not have access to Cloud Remote Access microservice. Can you please check if it is enabled for them?"
Defect,CSOIOT-7864,Itron Inc - Test to check that the DNS port is open,"Itron, Inc. 7518541",419,Closed,"Moon, Swai","Vukman, Tomislav",8/11/23 14:34,Customer,11/12/23 9:17,,,3-Medium,None,"*SAG Cloud region:* AME 

*URL:* https://envd417247.c8y.sag.idealabs.cloud/apps/administration 

In relation to setting up communications from (Itron developed) C8Y microservices to Itron interval services, via the ExpressRoute connection, the customer has asked SAG Cloud Ops to perform the following test from the LwM2M server (10.192.128.50) to check that the DNS port (53) has been correctly opened on the Itron firewall. 

Log into the LwM2M server and run the following nslookup command.  A tcpdump from the server would be really useful if it does not work. 

Command to run: _nslookup_ [_sjcinf7801vmw389.eng.ssnsgs.net_|http://sjcinf7801vmw389.eng.ssnsgs.net/] _10.57.201.202_ 

  

Expected result: 

_Server:         10.57.201.202_ 

_Address:        10.57.201.202#53_ 

_Name:_   [_sjcinf7801vmw389.eng.ssnsgs.net_|http://sjcinf7801vmw389.eng.ssnsgs.net/] 

_Address: 10.57.216.206_ 

TCP dump (assumes interface is eth0, change to suit): 

_sudo tcpdump -i eth0 udp port 53_"
Defect,CSOIOT-7863,Update tenant domain name on US instance.,Novanta Inc. 7522110,419,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",8/11/23 9:49,Customer,11/13/23 9:42,,,3-Medium,None,"US Instance 

Tenant ID:  t491610964 

Please update the [novanta-trial.us.cumulocity.com|http://novanta-trial.us.cumulocity.com/] domain to [novanta.us.cumulocity.com|http://novanta.us.cumulocity.com/] 

  

Let me know if you need any other information. 

  

Thanks, 

Kent 

 "
Defect,CSOIOT-7853,Delete the Eppendorf tenants from EMEA instance,Eppendorf SE 7517606,419,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",8/11/23 9:37,Customer,11/9/23 9:37,,,3-Medium,3-Medium,"*Affected system* 

Eppendorf tenants on EMEA instance 

*Description of the Problem:* 

Please delete the following Eppendorf tenants on EMEA instance. 

|ExternalTenantId| 
|t148968688| 
|t149061122| 
|t152534993| 
|t244505135| 
|t252077791| 
|t252087620| 
|t273177021| 
|t275402352| 
|t299708854| 
|t305712168| 
|t320898282|"
Defect,CSOIOT-7852,Microservices down in dev instance,Solenis LLC 7512378,419,Closed,"Neale, Robert","Vukman, Tomislav",8/10/23 17:51,Customer,11/9/23 9:37,,,2-High,1-Critical,"Solenis having problems with microservices....""Today i updated one of our microservice which is deployed on our dev instance and the microservice is still in down status. Also all the new micorservices i’m trying to add to our dev instance is not working, i believe the same issue (resource overuse) has occurred as we got in the production instance few weeks back. Please check why it is causing so much CCU and add additional resource to make it work. [https://dev1.iot-dev.solenis.com/""|https://dev1.iot-dev.solenis.com/%22] 
Edited 
​ 


Can their dev environement be checked?"
Defect,CSOIOT-7832,Delete Eppendorf tenants on EMEA instance,Eppendorf SE 7517606,420,Closed,"Bhatt, Vikas",Unassigned,8/10/23 10:29,Customer,11/9/23 9:37,,,3-Medium,3-Medium,"*Affected system* 

Tenants on EMEA instance 

*Description of the Problem:* 

Please delete the following Eppendorf tenants on EMEA instance. 

t344500075 

t338021869"
Defect,CSOIOT-7796,Enabling Cumulocity Notification 2.0 API in Nordex QAL,Nordex SE 7515195,441,Closed,"Welsing, Michael","Shuaib, Gyunay",8/11/23 14:33,Customer,11/13/23 9:53,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 


Time Zone: *CET* 

*Affected tenant* 

Tenant: *System-wide issue.* 

*Description of the Problem:* 

Hi Ops, 

Olaf Meier requested an OPS iTrac to enable Cumulocity Notification 2.0 API in Nordex QAL. Attached are the details of the request. 

--- 

""Hi support team, FYI, we have received the following request from Nordex (Albert Frischmann, Jakub Daneki; see attched email as well): 

>>>thank you very much for the manual (10.13 Messaging Service Installations and Operations Guide) . According to Jakub, we have the needed reserves in QAL, where we can install it immediately. 

As for the rest of environments, esp. for Prod, we would need some experience data for sizing, that we can obtain from experiments on QAL. 

Can we proceed with installation on QAL? 

<<< 

Can you please please raise an iTrac ticket for our CloudOps team (Arkadiusz Bieniak and Gyuany Shuaib) to enable the Notification 2.0 feature in Nordex QUAL? Please add Jakub Danecki and Albert Frischmann to this ticket as well. 

Thank you very much! 

Olaf"" 

Please contact me if you need more informations."
Defect,CSOIOT-7792,Blockwise data transfer from device to the platform throws error || Dev 10.15.0.386,Telstra Corporation Limited 7514912,427,Closed,"Moon, Swai","Radzali, Basyar",8/8/23 6:07,Customer,12/27/23 9:45,,,3-Medium,None,"*This ticket is related to* *[https://itrac.eur.ad.sag/browse/CSOIOT-7554]* 

We had enabled Trace capturing in Telstra's Dev environment to capture some logs. However, Telstra was not able to contact their customer to reproduce the issue. So they have now asked us to turn off Trace."
Defect,CSOIOT-7789,Delete the Eppendorf tenant ‘t334700308’ on EMEA instance.,Eppendorf SE 7517606,427,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",8/3/23 15:16,Customer,11/4/23 11:36,,,3-Medium,3-Medium,"*Affected system* 

Instance: EMEA 
Tenant ID: t334700308 
Tenant URL: 21a49d896def44cf98b0d02e5be645df.visionizedigitallabspace.eppendorf.com 

*Description of the Problem:* 

Please delete the Eppendorf tenant ‘t334700308’ from EMEA instance. 

Tenant ID: t334700308 
Tenant URL: 21a49d896def44cf98b0d02e5be645df.visionizedigitallabspace.eppendorf.com"
Defect,CSOIOT-7788,Problem with microservices on eu-latest,eBase Solutions 7500703,427,Closed,"Talbert, Kent","Pham, Hoang",8/2/23 21:46,Customer,11/4/23 11:37,,,3-Medium,None,"eu-latest instance 

  

Seeing the following errors with microservices: 

  

Was having quite a few strange issues with Application Builder simulators.  One of the issues was that even though all my simulators were paused, I was still getting simulated measurements.  Decided to unsubscribe and resubscribe the corresponding microservices.  I didn’t have any issues that I’m aware of with the unsubscribe; however, when I went to re-subscribe to the microservices, I am getting the error I pasted at the end of this message whenever I try to access the Logs for the microservice.  I then decided to delete the microservices altogether and try adding back them again from the original zip files, but am getting the same error.  When I access the status page, it says its in a unhealthy state and the below alarm is active.  

----ALARM IN STATUS PAGE 

(combined from similar events): Failed to create pod sandbox: rpc error: code = Unknown desc = failed pulling image ""registry.k8s.io/pause:3.2"": open /var/lib/docker/tmp/GetImageBlob079873614: no such file or directory 

  

----ERROR MESSAGE WHEN ACCESSING LOGS 

Failure executing: GET at: https://localhost:6443/api/v1/namespaces/cumulocity-trial-prod/pods/simulator-app-builder-scope-t1556518733-deployment-964bc79kqp77/log?pretty=true&tailLines=2000&timestamps=true. Message: container ""simulator-app-builder-scope-t1556518733-pod"" in pod ""simulator-app-builder-scope-t1556518733-deployment-964bc79kqp77"" is waiting to start: ContainerCreating. Received status: Status(apiVersion=v1, code=400, details=null, kind=Status, message=container ""simulator-app-builder-scope-t1556518733-pod"" in pod ""simulator-app-builder-scope-t1556518733-deployment-964bc79kqp77"" is waiting to start: ContainerCreating, metadata=ListMeta(_continue=null, remainingItemCount=null, resourceVersion=null, selfLink=null, additionalProperties={}), reason=BadRequest, status=Failure, additionalProperties={}). 

  

{ 

  ""error"": ""general/internalError"", 

  ""message"": ""Failure executing: GET at: https://localhost:6443/api/v1/namespaces/cumulocity-trial-prod/pods/simulator-app-builder-scope-t1556518733-deployment-964bc79kqp77/log?pretty=true&tailLines=2000&timestamps=true. Message: container \\""simulator-app-builder-scope-t1556518733-pod 
"" in pod \\""simulator-app-builder-scope-t1556518733-deployment-964bc79kqp77 
"" is waiting to start: ContainerCreating. Received status: Status(apiVersion=v1, code=400, details=null, kind=Status, message=container \\""simulator-app-builder-scope-t1556518733-pod 
"" in pod \\""simulator-app-builder-scope-t1556518733-deployment-964bc79kqp77 
"" is waiting to start: ContainerCreating, metadata=ListMeta(_continue=null, remainingItemCount=null, resourceVersion=null, selfLink=null, additionalProperties={}), reason=BadRequest, status=Failure, additionalProperties={})."", 

  ""info"": https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting 

}"
Defect,CSOIOT-7787,Dremio SQL job is stuck,Solenis LLC 7512378,427,Closed,"Talbert, Kent","Vukman, Tomislav",8/4/23 9:17,Customer,1/26/24 9:51,,,2-High,None,"management.iot.solenis.com 
  
Solenis is currently having a crisis issue with Datahub. Seems to be similar to [https://itrac.eur.ad.sag/browse/CSOIOT-7509] Last time restarting dremio-executor-0 adn dremio-executor-etl-0 helped."
Defect,CSOIOT-7784,Unable to deploy microservice - Feature-microservice-hosting needed,DMG MORI Digital GmbH 7515505,427,Closed,"Neale, Robert","Vukman, Tomislav",8/3/23 14:53,Customer,11/4/23 11:37,2-Aug-23,,3-Medium,3-Medium,"Dmg Mori need Feature-microservice-hosting on... 

  

 [iotdevices-dev.eu-latest.cumulocity.com|http://iotdevices-dev.eu-latest.cumulocity.com/] and [iotdevices-test.eu-latest.cumulocity.com|http://iotdevices-test.eu-latest.cumulocity.com/]."
Defect,CSOIOT-7783,Need lwm2m agent log from Itron env,"Itron, Inc. 7518541",428,Closed,"Talbert, Kent","Pham, Hoang",8/1/23 23:16,Customer,11/4/23 11:39,,,3-Medium,None,Need lwm2m agent log from Itron env from today 1- August.
Defect,CSOIOT-7746,Autosen - io-key-Firmware Updates are not possible,Autosen GmbH 7516454,430,Closed,"Sobala, Kamil","Kehayov, Boyan",7/31/23 14:24,Customer,7/10/24 9:57,,support_question,2-High,3-Medium,"customer autosen reports a critical issue:  
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
Autosen uses the autosen.cloud based on Cumulocity to display data received from io-keys and perform device management. Cumulocity is furthermore the only possible way to perform firmware updates over the air. 

There has been a FW update problem in the end of last year which has been solved by Vikas Bhatt. 

Currently, it is not possible to perform firmware updates using an uploaded binary. We did not change anything on the device, nor did we change the binaries or the method. It is just that since the latest Cumulocity update, all update attempts fail. We could clearly identify that this is not a UI problem by testing with a 10.15 frontend. 

When using an external link to the firmware file, the updates are possible. 

Please use dj.autosen.cloud and the device 357142090086892 for testing. There is a firmware version called 1.1.30OTA that has to be working. Also, IOKey-EU has to be working, too. Both could be used until January 2023. 

This is a highly critical issue, so I’d be glad if a developer that already has worked on this topic and is experienced with autosen would take over this task. 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

The preceding ticket, the customer refers to, is probably    
Support IncidentsSI-479199 ( https://getsupport.softwareag.com/browse/SI-479199 )  io-key firmware changes are not possible using c8y  
with https://itrac.eur.ad.sag/browse/IOT-14893   and https://cumulocity.atlassian.net/browse/MTM-48010 

 where Yaroslav Herod and  Kamil Sobala worked on. 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

I performed some checks on the Affected system (cumulocity.com)  
  
Tenant              ID         Domain                Parent tenant    Contact name    Created        External reference    Status      
Dennis Jansen    t1451181579    dj.autosen.cloud    autosen           Dennis Jansen    3 May 2022    111112223334       (green)      
                                          
Tenant is accessibe with  Support user access. TENANT ID: T1451181579  /  BACKEND: 1015.0.278 /  UI: 1015.0.278 
and I can see the device  
http://localhost:8111/apps/devicemanagement/index.html#/device/1106247/device-info   

Current firmware 
  
Logged messages: 
  
Update firmware to: ""1.1.31OTA"" (version: SveitTest)"" 
24 Mar 2023, 10:55:33 
IOKey-EU 
VERSION 

1.1.31.1ND 

Single Operation Details: 
{ 
""delivery"": { 
""log"": [ 

{ ""time"": ""2023-03-24T09:55:33.520Z"", ""status"": ""PENDING"" } 
, 
{ 
""time"": ""2023-03-24T09:55:33.546Z"", 
""status"": ""SEND"" 
} 
], 
""time"": ""2023-03-24T09:55:33.602Z"", 
""status"": ""DELIVERED"" 
}, 
""creationTime"": ""2023-03-24T09:55:33.476Z"", 
""deviceId"": ""1106247"", 
""deviceName"": ""357142090086892-io-key"", 
""self"": ""http://t1451181579.cumulocity.com/devicecontrol/operations/1537466"", 
""id"": ""1537466"", 
""status"": ""FAILED"", 
""c8y_Firmware"": { 
""name"": ""1.1.31OTA"", 
""version"": ""SveitTest"", 
""url"": ""https://t1451181579.cumulocity.com/inventory/binaries/1567763"" 
}, 
""description"": ""Update firmware to: \""1.1.31OTA\"" (version: SveitTest)"" 
} 
24 Mar 2023, 10:59:03 
Operation updated.device_io-key-357142090086892 
Operation updated: status: ""FAILED"", failure reason: ""null"", description: ""Update firmware to: ""1.1.31OTA"" (version: SveitTest)"""", device name: ""357142090086892-io-key"". 


 My next step will be a review of the cumulocity.com platform logs, but I see some access problems . 
  
I do not have a quick hint for now, Any ideas from your side, what could be helpful? 
####################################### 


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
In  Graylog https://log.monitor.c8y.io:9000/streams/5bed2c655a215f6a212a374f/search?q=357142090086892&rangetype=relative&streams=5bed2c655a215f6a212a374f&relative=28800 
I see 

 All Messages 

timestamp 
source 
2023-03-24 10:55:37.310 +01:00 
c8ycore-sts-1 
Channel closed: DISCONNECT=true, TIMEOUT=false, FAILURE=false, clientID=t1451181579:io-key-357142090086892 

2023-03-24 10:12:35.658 +01:00 
c8ycore-sts-1 
2023-03-24T09:12:35.658+0000 I  COMMAND  [conn115] command t1451181579.cmdata command: find \{ find: ""cmdata"", filter: { $and: [ { externalIds: { $elemMatch: { type: ""c8y_Serial"", value: ""357142090086892-AT001-1"" } } } ] }, sort: \{ creationTime.date: 1 }, projection: \{ _id: 1 }, limit: 1, batchSize: 1, maxTimeMS: 120000, $db: ""t1451181579"", $clusterTime: \{ clusterTime: Timestamp(1679649155, 330), signature: { hash: BinData(0, 2281018FB2D21E67C21A1D9647D6F21EB9064F97), keyId: 7182818892543164865 } }, lsid: \{ id: UUID(""813bf303-1b2e-4dc3-aa91-407b04721474"") } } nShards:3 cursorid:3928796257658530829 numYields:0 nreturned:1 reslen:257 protocol:op_msg 323ms 

2023-03-24 07:05:18.565 +01:00 
c8ycore-sts-1 
2023-03-24T06:05:18.564+0000 I  COMMAND  [conn210] command t1451181579.cmdata command: find \{ find: ""cmdata"", filter: { $and: [ { externalIds: { $elemMatch: { type: ""c8y_Serial"", value: ""357142090086892-AT001-1"" } } } ] }, sort: \{ creationTime.date: 1 }, projection: \{ _id: 1 }, limit: 1, batchSize: 1, maxTimeMS: 120000, $db: ""t1451181579"", $clusterTime: \{ clusterTime: Timestamp(1679637918, 542), signature: { hash: BinData(0, 869E26B529AF559F83691F4CAC976F7E1813A2C9), keyId: 7182818892543164865 } }, lsid: \{ id: UUID(""ebd136e1-8344-47e7-9ff8-9473350f7fa6"") } } nShards:3 cursorid:130868273430611619 numYields:0 nreturned:1 reslen:257 protocol:op_msg 209ms 


In the Google chat I got some additional information already (https://mail.google.com/chat/u/0/#chat/space/AAAAvnc5o90) 

Tristan Bastian added this info: 
The devices (running on some small micro controllers) are quite sensitive to changes in the responses.. If I remember correctly we previously introduced a change that answered these requests with status 200 instead of 200 OK which is still http protocol conform but the firmware on these devices actually checked for the OK part as well.. 😀 

In the ticket Stefan Veit added this info,  which may explain their debug problem 

Stefan Veit added a comment  24/Mar/23 1:05  
INTERNAL 
Additional information: 
""failure reason: null"" is written by the agent. Autosen has currently no real possiblity to debug the agentside behaviour. 
There was also some investigation that the header structure of the response changed with the latest update/version. Autosen rely on the header ""WWW-Authenticate"" which now comes in a different order/position as response header. But Autonsen ans SAG PS is not sure if this is the root cause of the behaviour. 
Customer should be aware of this.. 

Jaroslaw Herod, 14 Min.: In past they have issue that our platform have changed the handling of content-length. Does that mean that they still can't download the firmware with new version? 
  
Answer: I checked the size of the bin's  in file repository -  IOKEY_EU_OTA_1.1.30.1ND.bin  /  application/octet-stream / 332.6 kB  /   dja@autosen.com 
The descriptiion is that the thay cannot upload the firmware from the repository but from an external link. 
And it seems that they could do it in the meantime after the preceding ticket had been closed and  before the last update of the platform.  Quote ""Vikas Bhatt added a comment - 18/Oct/22 3:43 PM  Resolution: -  Customer confirmed that the FW functionality worked fine after upgrade to 10.14.0.172.""  


Device: 357142090086892-io-key 
apps/devicemanagement/index.html#/device/1106247/identity"
Defect,CSOIOT-7745,Itron: Increase C8Y.lwm2m.fwupdate.firmwareDeliveryTimeout on iTron's environment,"Itron, Inc. 7518541",432,Closed,"Lekarov, Grigor","Kehayov, Boyan",7/31/23 9:48,Customer,7/31/23 9:48,,,3-Medium,3-Medium,"Hello, 

Itron are having a network issues, which leads their FOTA PUSH process to continue more than 4 hours for firmware binary of 2MB. By default  
{code:java} 
C8Y.lwm2m.fwupdate.firmwareDeliveryTimeout {code} 
is set to 1 hour, which leads the LWM2M agent to mark the FOTA operation as failed, because it exceeds the operation timeout. Could you please update (if this parameter missing, then add)  
{code:java} 
C8Y.lwm2m.fwupdate.firmwareDeliveryTimeout=21600000{code} 
 to the  
{code:java} 
/etc/lwm2m/lwm2m-agent-server.properties{code} 
 This requires a restart of the LWM2M-agent process. This parameter will extend the FOTA timeout to 6 hours, which should be enough in this slow network to deliver the firmware to the device successfully and if there are no other issues, then lwm2m-agent to complete the FOTA operation with success. 

Thank you!"
Defect,CSOIOT-7715,Please delete some Tenants for us on our Beta environment,Eppendorf SE 7517606,432,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",7/31/23 12:06,Customer,11/4/23 11:48,28-Jul-23,,3-Medium,3-Medium,"Had this request from customer... 

  
Please delete the following Tenants from our Beta Environment 

[https://management.vnlsbeta.eppendorf.com/] 

t51074778 
t44565839 
t109820722 
t72102110 
t44564055 
t59402221 
t44564876 
t115869838 
t115869934 
t72101651 
t51075382 
t34122683 
h4."
Defect,CSOIOT-7714,Please delete some Tenants for us on our Staging environment,Eppendorf SE 7517606,432,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",7/31/23 12:14,Customer,11/4/23 11:48,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: *EMEA*  Version *10.16* 
Time Zone: *CET* 

*Affected tenant* 

Tenant: *see list in description* 

*Description of the Problem:* 

Eppendorf needs to have some tenants deleted: 

{color:#172b4d}t19282594 
{color}{color:#172b4d}t14699897 
{color}{color:#172b4d}t20091236 
t10027404 
t10027406 
t151657938 
t156569943 
t159117084 
t156689767 
t156608888 
t153124225 
t153128082 
t153128942 
t153132376 
t153132811 
t153596542 
t153608570{color} 

Thanks 

Michael"
Defect,CSOIOT-7702,Management tenant tunnel access fails,"Micro Technology Co., Ltd. 7515608",433,Closed,"Herzog, Christian","Vukman, Tomislav",7/31/23 13:36,Customer,12/20/23 9:47,,,2-High,None,"Hi, 
I try to access the tunnel but run into an error, see fat message below. 
Do the client keys have changed? 
You can ignore the customer data above, the customer has another issue and to check it I need the tunnel. 
*************************************************************************************************** 
EUR+y1224@SAG-3RC4GG3 MINGW64 ~ 
$ bash gs-setup-security-group-access-to-UI-hosts-tunnel-in-c8y-aws.sh tunnel-chh 
  
As per AWS Security group rule limit for IPV4 address for egress – it is 60 rules per SG. 
Hence it is important to remove individual's OLD ip when updating the new one 

********************************************************************************************* 
This script does removal of OLD IP and adding the NEW IP to all the 4 Remote Access Servers. 
********************************************************************************************* 
  
./script.sh description(mandatory) current-ip-address-to-be-updated(optional one) 
example invokation: gs-setup-security-group-access-to-UI-hosts-tunnel-in-c8y-aws.sh 'gs-santosh-home-ip' 123.45.67.098 
In case do not want to REMOVE the OLD IP, simply remove the IP address entry from the storage file ./.gs-setup-security-group-access-to-UI-hosts-tunnel-in-c8y-aws.log 
  
About to invoke the functions.. 
  
Now the script gs-setup-security-group-access-to-UI-hosts-tunnel-in-c8y-aws.sh is invoked with description as ""tunnel-chh"" 
Regions: eu-central-1 us-west-2 
Security Group IDs: sg-03134253903491333 sg-0e289a7afebf43199 
Ports: 22 8111 
regions length: 2 
security group ids length: 2 
Ports' length: 2 
Current IP address is >80.231.71.154< 
OLD Ip address to remove is >80.231.71.154< 
Old IP persistent storage file name is ./.gs-setup-security-group-access-to-UI-hosts-tunnel-in-c8y-aws.log 
  
As there is NO OLD IP in the file storage (or) OLD IP and NEW IP are SAME, nothing to clean up here.. 
  
---------------------------------------------{-}Allow NEW IP{-}------------------- 
index is 0 
eu-central-1 
sg-03134253903491333 
About to add new ip with region eu-central-1 and security group id sg-03134253903491333 for port 22 
  
*An error occurred (AuthFailure) when calling the AuthorizeSecurityGroupIngress o* 
*peration: AWS was not able to validate the provided access credentials* 
About to add new ip with region eu-central-1 and security group id sg-03134253903491333 for port 8111 
  
An error occurred (AuthFailure) when calling the AuthorizeSecurityGroupIngress o 
peration: AWS was not able to validate the provided access credentials 
index is 1 
us-west-2 
sg-0e289a7afebf43199 
About to add new ip with region us-west-2 and security group id sg-0e289a7afebf43199 for port 22 
  
An error occurred (AuthFailure) when calling the AuthorizeSecurityGroupIngress o 
peration: AWS was not able to validate the provided access credentials 
About to add new ip with region us-west-2 and security group id sg-0e289a7afebf43199 for port 8111 
  
An error occurred (AuthFailure) when calling the AuthorizeSecurityGroupIngress o 
peration: AWS was not able to validate the provided access credentials 
  
Completed"
Defect,CSOIOT-7693,Need LWM2M agent logs from Itron environment.,"Itron, Inc. 7518541",434,Closed,"Talbert, Kent","Korolev, Ivan",7/27/23 1:16,Customer,11/4/23 11:56,,,3-Medium,None,"{color:#000000}Need LWM2M agent logs from Itron environment from the following times:{color} 

{color:#000000}2023-07-25 16:50 EDT  to  {color}{color:#000000}2023-07-25 21:30  EDT{color} 

  

{color:#000000}Thanks,{color} 

{color:#000000}Kent{color}"
Defect,CSOIOT-7665,CLONE - [UI] Solenis - Realtime API issue,Solenis LLC 7512378,436,Closed,"Chmiel, Slawomir","Zeier, Patrick",8/3/23 9:16,Customer,8/3/23 9:16,,,2-High,2-High,"Customer suffers real time API issue with failing web socket connections e.g with deviceOGIC-20200331127 with moID 168909775   

Please check for log files of this tenant  

Reported Version: 10.15       Operating System:  Hosted Software Cloud      cloud.iot.solenis.com 
DE - Dedicated Cloud ( the whole environment including the management tenant is for the customer itself )  Managed by Cumulocity Cloud Operations team  

compare:  [https://iwiki.eur.ad.sag/display/IOT/Public+Cloud+PAID+Customers]      us.cumulocity.com   

[tenant:  https://yankeemonitoring.iot.solenis.com/|https://yankeemonitoring.iot.solenis.com/]  

customer sees  in browser tools: 

                   *WebSocket connection to 'wss://dev.iot.solenis.com/notification/realtime' failed:       vendors~app.439fb68...* 

*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: us.cumulocity.com  _ Version  10.15   
System Usage: (Development: ____________ 
Time Zone: ?  Problem: time zone of platform and time zone of contact (browser messages) may be different 

*Affected tenant* 

Tenant: [yankeemonitoring.iot.solenis.com/|https://yankeemonitoring.iot.solenis.com/]  
Enterprise Tenant? Yes / No 
System accessible by R&D? S 

*Issue associated device,*  

Concerned Device is OGIC-20200331127  with moID  168909775     

Example URL with the issue:   

[https://dev.iot.solenis.com/apps/devicemanagement/index.html#/device/168909775/device-info] 

*Protocol used?* 
* REST  

*Time period error was observed:* 

   **   Yesterday  10.7  - 18:24  - (Current problem. timezone of contact is not logged in JSM  

!image-2023-07-11-09-05-32-034.png! 

  
* Start: _________________ End: _________________ or ongoing. 
* Repeatability? Always / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - All the time / First load of an application / Time of day: ________________ 

*Steps to reproduce* 
#   
#   
#   

*Attach log files...* 

*Description of the Problem:* 

  

Customer stated:  We use cockpit v- 10.15 for our frontend and created multiple custom widgets which fetches usually measurement API and show the data to the user. 

So we want all our custom widget to have the realtime feature to fetch data as it been ingested to the device but we are facing issue with its connection. 
# In local code we mostly get the WebSocket error. (Attached) 
# When we deploy the code in the prod and open the dashboard in chrome, it all looks good dashboard and the widgets updated realtime but soon as we move to another tab and do other task or like open youtube in the next tab and watch there for like 2-3 hr and gain go back to the dashboard we observe that realtime has stopped then i need to refresh the dashboard for the latest value. 
# Once we get a network error the realtime stopped and we get the WebSockets error but then soon as the network back again the dashboard or the realtime API does not auto start. Means once fails then you have to refresh the page it does not auto refresh. 

This issue persist and we have checked it multiple time and got the same issue. 

Here is the method - 

async realtimeData() { 

this.subscription=this.realtime.subscribe(`/measurements/` +this.config.selectedDevices.id, measurementNotification => { 

}) 

Regards, 

Saif"
Defect,CSOIOT-7656,[Telstra] Please deploy DataHub 10.15.0.7,Telstra Corporation Limited 7514912,437,Closed,"Herzog, Christian","Radzali, Basyar",7/27/23 3:01,Customer,11/6/23 9:50,,,3-Medium,None,"Telstra needs an update to datahub 10.15.0.7 to fix an issue. 
Please deploy it within the same maintenance window when they you the next C8y fix. 
Tenant - [https://telstrapurple.iotdev.telstra.com,|https://telstrapurple.iotdev.telstra.com/] but it is a system-wide issue, as all tenants are affected. 
{*}{*}{*}{*} 

Please let me know before when you have a date, that I can inform the customer."
Defect,CSOIOT-7649,How to get chrony configured in the environment instead of NTP in Cumulocity Platform,Software AG Bangalore Technologies 3265000,440,Closed,"Welsing, Michael","Vukman, Tomislav",7/27/23 15:39,Customer,11/4/23 12:18,24-Jul-23,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Time Zone: *APJ* 

*Affected tenant* 

Tenant: *System-wide issue* 

*Time period error was observed:* 
* Start: *ongoing* 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

SAG Bangalore did Monitoring 2.0 implementation for Cumulocity 10.14 platform. Alerts have been embedded in the system for any issues identified, triggered as notifications/alarms . 

For one of the alarms identified it is about the system clock on the servers not being in synchronization with each other .  

This was raised against an infrastructure request for the NTP service on customer side to make sure time is synchronized on the servers in the platform. 

It was figured out that the azure platforms uses chronyd for system clock synchronization.  

At platform level, chef overwrites the chronyd service with NTPD service cookbook. Therefore the clock synchronization gets disturbed. 

Can you elaborate how to get NTPD implemented for the azure platforms, so that synchronization can take place?"
Defect,CSOIOT-7647,Need LWM2M agent logs from ITron env.,"Itron, Inc. 7518541",440,Closed,"Talbert, Kent","Kehayov, Boyan",7/21/23 10:31,Customer,11/4/23 12:16,,,3-Medium,None,"Need LWM2M agent log from Itron environment.  Please provide the logs from today(07/20), starting at around 13:02 EDT to 16:00 EDT. 
  
Let me know if you need any other information. 

  

Thanks, 

Kent"
Defect,CSOIOT-7645,Hillrom - Request for TLS verification process,Baxter International inc. 7521523,440,Closed,"Eha, Allan",Unassigned,7/26/23 11:04,Customer,1/3/24 9:47,,,3-Medium,3-Medium,"  
*Tenant Name:* iot.hillrom.com 
*Tenant URL:* iot.hillrom.com 
  
Baxter security assessment team needs information to determine how we accurately ensure that Cumulocity IoT environments are set up with the correct TLS versions and ciphers. Please provide as much information as you can on: 
* How the TLS version and ciphers are set on the environment (e.g., nginx config file) 
* What process happens to verify that the TLS version and ciphers were set correctly 
* What tools are used and trusted for the verification process 
* Reasons why the verification process is trusted"
Defect,CSOIOT-7642,Delete Tenants from eatonnubisnet,Eaton Industries GmbH 7518586,440,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",7/20/23 14:21,Customer,11/4/23 12:17,,,3-Medium,3-Medium,"Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thanks a lot & have a nice day, 
Hrishikesh 

Dash-Tenant 
t341705861 
[dot-net.dbt.machinery-monitoring.com|http://dot-net.dbt.machinery-monitoring.com/] 

Demo-Ten 
t351647657 
[ttttt.dbt.machinery-monitoring.com|http://ttttt.dbt.machinery-monitoring.com/] 

Demo-Tenant 
t351642106 
[ccc.dbt.machinery-monitoring.com|http://ccc.dbt.machinery-monitoring.com/] 

ProdTestRetailTenant 
t330471753 
[prodtestretailtenant.dbt.machinery-monitoring.com|http://prodtestretailtenant.dbt.machinery-monitoring.com/] 

Retail-Tenant 
t351462604 
[com.dbt.machinery-monitoring.com|http://com.dbt.machinery-monitoring.com/] 

Test-Tenant-service 
t351443811 
[net.dbt.machinery-monitoring.com|http://net.dbt.machinery-monitoring.com/] 

new-tenant 
t359045439 
[tedx.dbt.machinery-monitoring.com|http://tedx.dbt.machinery-monitoring.com/] 

new-tenant-2 
t359070835 
[gov.dbt.machinery-monitoring.com|http://gov.dbt.machinery-monitoring.com/] 

test-dash 
t352445932 
[test-dash.dbt.machinery-monitoring.com|http://test-dash.dbt.machinery-monitoring.com/] 

test-dash-tenant 
t352411559 
[test-dev.dbt.machinery-monitoring.com|http://test-dev.dbt.machinery-monitoring.com/] 

test-retail-tenant 
t327191832 
[testvinay.dbt.machinery-monitoring.com|http://testvinay.dbt.machinery-monitoring.com/]"
Defect,CSOIOT-7641,Tenant operation performance slowness,Solenis LLC 7512378,440,Closed,"Herzog, Christian","Zeier, Patrick",7/25/23 9:56,Customer,11/4/23 12:17,,,3-Medium,None,"Domain [https://cloud.iot.solenis.com|https://cloud.iot.solenis.com/apps/commercial-cockpit/index.html] Version 10.11 

The customer says, all tenant actions are to slow for him, like the switching between the apps. 
Only standard functionality is affected, no custom functionality. 
The customer want to wait no longer than 5 seconds for each page load. 
I have a user on the affected tenant and checked the response times together with the customer in a remote session. 

Example steps: 
# open [https://cloud.iot.solenis.com/apps/commercial-cockpit/index.html#/] and login 
(not relevant, as login needs manual interaction) 
# open [https://cloud.iot.solenis.com/apps/devicemanagement/index.html#/]  
measured times 5,5 - 8,5 seconds (on customer and on my site) 
# open [https://cloud.iot.solenis.com/apps/commercial-cockpit/index.html#/]  
measured times about 5,5 seconds 
# open [https://cloud.iot.solenis.com/apps/administration/index.html#/]  
measured times 5 -  6,5 seconds 

The times are normal in my opinion. 
I said him that the loadings times can vary due to different data amounts which need to be loaded and I could not find abnormalities in his use cases or with his data. 
I tested similar environments in newer versions like [https://chh.cumulocity.com/] (version 10.16) or [https://chh.latest.stage.c8y.io/] (10.18), also here are the wait times only a little bit shorter. 

Do you have ideas from Ops perspective if we can speed up the environment, e.g. with more (paid) resources? 
As I said, I have not the same opinion as the customer, but I want to know your ideas to it."
Defect,CSOIOT-7634,Device bulk registration and cluster deletion operations for lwm2m are stuck in Pending status || Dev v10.15.0.386,Telstra Corporation Limited 7514912,441,Closed,"Reddy, Yerpula Bharath Bhushan","Radzali, Basyar",7/21/23 10:26,Customer,12/3/23 9:14,,,3-Medium,None,"Hi Ops team, 

R&D analyzed the issue reported in the linked iTrac.  

As a remedy, they want us to run a script in customer environment. Customer also requested the same. Since Ops maintains the environment, we are approaching you.  

Script to be run: Please check Script.txt 

Instructions: 

1. The prerequisite is to install python3 and the package {*}hazelcast-python-client 3.12.3{*}. 

2. Then the script can be executed with: 

  
{code:java} 
python3 cleanLockedTenantFromHazelcast.py <tenant-id>{code} 
  

Use the locked tenant id as an argument. 

Previously OPS team has run such scripts in the prod env. Ref. ticket [https://itrac.eur.ad.sag/browse/CSOIOT-7549] It should be done in the same way. 

Please assist."
Defect,CSOIOT-7623,Azure ExpressRoute bandwidth utilization statistics/metrics request,"Itron, Inc. 7518541",441,Closed,"Eha, Allan","Simeonova, Rumyana",7/26/23 7:47,Customer,11/4/23 12:20,,,3-Medium,3-Medium,"*Tenant Name:* All 3 tenants 
*Tenant URL:*  [https://envd417247.c8y.sag.idealabs.cloud/apps/cockpit/index.html]{*}{*} 
Could you please ask SAG Ops to provide the Azure ExpressRoute bandwidth utilization statistics/metrics ([https://learn.microsoft.com/en-us/azure/expressroute/expressroute-monitoring-metrics-alerts]) for the last week if possible. The reason is we want to rule out the ExpressRoute connection as possible limit on Firmware upload."
Defect,CSOIOT-7621,[Telstra] Request to check API call failure,Telstra Corporation Limited 7514912,441,Closed,"Welsing, Michael","Saaban, Asshad",7/26/23 7:48,Customer,11/4/23 12:23,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Time Zone: *APJ* 

*Affected tenant* 

Tenant: *t74274800* 
Enterprise Tenant? *Yes* / No 

*Protocol used?* 
* MQTT / *Rest* / Smart REST / Other _______________ 

*Time period error was observed:* 
* Start: {*}13{*}{^}*th*{^} *Jul between 6:30 AM*  End: {*}7:30 AM Brisbane time{*}. 

*Description of the Problem:* 

Hello Ops, 

Telstra has received a customer complaint for Unity Water(t74274800) regarding *TELSTRA API call which failed* while reading data from Alarms, ManagedObject and Measurement APIs on {*}13{*}{^}*th*{^} {*}Jul between 6:30 AM to 7:30 AM Brisbane time.{*}. 

 They have mentioned that following azure pipelines failed: 
- *CpyTelstraAllAlarms_delta_Sketch*  

- *PBI_Measurements_Delta_Sketch :* [https://adb-2563633823345117.17.azuredatabricks.net/?o=2563633823345117#job/952895385247169/run/1207777]. 

- *PBI_ManagedObjects_Delta_Sketch :* [https://adb-2563633823345117.17.azuredatabricks.net/?o=2563633823345117#job/952895385247169/run/1207777]. 

 Below is the error for reference- 

 {_}Failure happened on 'Source' side. ErrorCode=RestResourceReadFailed,'Type=Microsoft.DataTransfer.Common.Shared.HybridDeliveryException,Message=Fail to read from REST resource.,Source=Microsoft.DataTransfer.ClientLibrary,''Type=System.Net.Http.HttpRequestException,Message=An error occurred while sending the request.,Source=mscorlib,''Type=System.Net.WebException,Message=The remote name could not be resolved: '{_}[_t74274800.iot.telstra.com_|http://t74274800.iot.telstra.com/]{_}',Source=System,'{_} 

They also confirmed that they checked the API call again on same day at 1 PM and after that API call working fine. 

Telstra has tried to check at their end but they didn’t observe any issue which points out towards this API failure. 

 So they would like to double-check with OPS if there was any issue on 13th Jul between 6:30 AM to 7:30 AM Brisbane time which contribute for those API call failure. 

 Please let them know if any further details requiring from our end. 

 Thank You!"
Defect,CSOIOT-7588,[Telstra] [SEQWater] Please update Primary Admin User/Contact for SEQWater,Telstra Corporation Limited 7514912,442,Closed,"Bhatt, Vikas","Saaban, Asshad",7/24/23 13:06,Customer,11/4/23 12:29,,,3-Medium,3-Medium,"*Affected system* 

Telstra Prod subtenant 

Tenancy ID: seqwater 

Tenancy URL : https://seqwater.iot.telstra.com 

*Description of the Problem:* 

Telstra has received request from Seqwater to change the Seqwater admin user for Cumulocity to David Fox David.Fox@seqwater.com.au as the original contact Israt Chowdhury has moved on from Seqwater. 

So, could you please perform this action from backend and confirm? 

Please find below details:- 

Tenancy ID: seqwater 

Tenancy URL: seqwater.iot.telstra.com (Production environment) 

Primary contact email: David.Fox@seqwater.com.au 

Mobile: +61481095765 
Tel: +61481095765 

Please let us know if any further details are required."
Defect,CSOIOT-7585,[Jemena PROD] - Operation request - User with basic auth and SSO log-in is logged out from the platform every 10 mins despite active user session,Telstra Corporation Limited 7514912,443,Closed,"Song, Shaopeng (Jeffrey)","Zeier, Patrick",8/3/23 10:28,Customer,11/8/23 10:09,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _____{_}APJ{_}______ Domain _____{_}Telstra.com{_}______ Version _____{_}10.11{_}_______ 
System Usage (Choose one of: Production / Test / Development): __{_}Production{_}___ 
Time Zone: __{_}AEST{_}___ 

*Affected tenant* 

Tenant: [PROD]  [https://jemena.iot.telstra.com|https://jemena.iot.telstra.com/]  

Enterprise Tenant? Yes 
System accessible by R&D? Yes 
UserID  [jakub.kotorowicz@softwareag.com|mailto:jakub.kotorowicz@softwareag.com] (Username: jkoto)  Password: _Please ask Jakub for the password_ 

*Time period error was observed:* 
* Start: Ongoing. 
* Repeatability? Logged out from platform every 10 minutes 
* Frequency - All the time 

*Description of the Problem:* 

Customer (jemena) using SSO for Cumulocity platform is experiencing log-out issue every 10 mins despite active user session. It is really impacting the customer's day-to-day activities. 

-----Operation Request from Telstra------ 

After investigation in R&D iTrac [IOT-17755|https://itrac.eur.ad.sag/browse/IOT-17755] , considering the impact to the customer, Telstra has decided to change the ""{*}_auth.cookies.expiration.time_{*}"" parameter to *6 hours* from *10mins* (assuming that is what set currently) and hope this change will resolve the issue of customer (SSO enabled) getting kicked out every 10mins. 

  

Kindly proceed with the change in both the environments and confirm here."
Defect,CSOIOT-7583,Pull Method FW Upgrade Timing Issue,"Itron, Inc. 7518541",443,Closed,"Eha, Allan","Valkov, Milen",7/20/23 12:06,Customer,11/4/23 12:32,,logs,3-Medium,None,"R&D would like the ITron LWM2M server logs from the ITron production host.  From the time 13-Jul-2023 12:00:00 to 13-Jul-2023 12:59:59. 

  

 "
Defect,CSOIOT-7582,Need lwm2m logs from Itron environment.,"Itron, Inc. 7518541",443,Closed,"Talbert, Kent","Valkov, Milen",7/18/23 10:49,Customer,11/4/23 12:33,,,3-Medium,None,"Need lwm2m agent log from Itron environment.  Can you check to see if they are still at debug level?  Unfortunately the logs from Grafana arent't sufficient for R&D. 

  

We need them from 7 July starting around 21:20 EDT.   

  

Hopefully they are still available,"
Defect,CSOIOT-7569,Please delete a Tenant for us,Eppendorf SE 7517606,446,Closed,"Schon, Gregor","Luczyszyn, Mikolaj (External)",7/17/23 10:43,Customer,11/4/23 12:41,,,3-Medium,None," Customer requested deletion on EMEA Platform  emea.cumulocity.com  

""Please delete a Tenant for us 

{color:#172b4d}tenant ID: t322713000{color} 

{color:#172b4d}URL 636dd3f95699462e809163eaabccaad0.visionizedigitallabspace.eppendorf.com""{color} 

{color:#172b4d}~~~~~~~~~~~~~~~{color} 

Current status is suspended:  
||Tenant||ID||Domain||Parent tenant||Contact name||Created||External reference||Status|| || 
|[University of South Florida - Sun|http://localhost:8111/apps/administration/index.html#/tenants/t322713000]|t322713000|636dd3f95699462e809163eaabccaad0. 
visionizedigitallabspace.eppendorf.com|eppendorfag|Mei Sun|16 Jun 2023, 20:33:36| | | 

 "
Defect,CSOIOT-7567,[CRISIS] [Cumonosu] MQTT connection in all the tenants fails (jp.cumulocity.com instance),"Micro Technology Co., Ltd. 7515608",446,Closed,"Bhatt, Vikas","Vukman, Tomislav",7/17/23 9:06,Customer,10/13/23 10:26,,,1-Critical,1-Critical,"*Affected system* 

Cumonosu Prod: https://management.cumonosu.com/ on JAPAN instance 

*Description of the Problem:* 

Customer reported that all the MQTT connections in cumonosu.com do not work. Since MQTT connection does not work in all the tenants, this failure is severely damaging the customer’s business and is needed to be fixed as soon as possible. 

Can you look into it and resolve the problem asap? 

*Example*: 

Tenant ID: takenaka_kizai 
URL: takenaka_kizai.cumonosu.com 

Device ID: 524414301 

Device Link: https://takenaka_kizai.cumonosu.com/apps/devicemanagement/index.html#/device/524414301/device-info 

!MQTT Device Offline.png|thumbnail!"
Defect,CSOIOT-7555,Delete the tenants from Eppendorf on EMEA instance,Eppendorf SE 7517606,447,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",7/14/23 9:24,Customer,10/12/23 10:37,,,3-Medium,3-Medium,"*Affected system* 

Instance: EMEA 

- tenantID: t285471325 
URL: 5ae0413372c1439eb1df408582e195bf.visionizedigitallabspace.eppendorf.com 
- tenantID: t307040180 
URL: 5236ba242ab240649a87d3083a4230a0.visionizedigitallabspace.eppendorf.com 


*Description of the Problem:* 

Customer from Eppendorf has requested to delete these two suspended tenants: 

- tenantID: t285471325 
URL: 5ae0413372c1439eb1df408582e195bf.visionizedigitallabspace.eppendorf.com 
- tenantID: t307040180 
URL: 5236ba242ab240649a87d3083a4230a0.visionizedigitallabspace.eppendorf.com"
Defect,CSOIOT-7554,Blockwise data transfer from device to the platform throws error || Dev 10.15.0.386,Telstra Corporation Limited 7514912,447,Closed,"Moon, Swai","Abdul Majid, Mohd Shahmi",7/24/23 9:42,Customer,12/27/23 9:45,,,2-High,2-High,"Hi Ops, 

This is regarding https://itrac.eur.ad.sag/browse/IOT-17863 

from Telstra Corporation Limited 7514912  Dev 10.15.0.386 

  

From the attached exception it looks like the server expects a TLV data and what it gets is not a valid TLV. RnD will need detailed LWM2M logs to analyze the issue further. 

At first glance it looks like a device issue, but to be sure, RnD will need some coordination between the Customer and Operations team to: 

1) configure LWM2M agent logs to output TRACE information from Californium stack to have all the details about COAP connections 

*<logger name=""org.eclipse.californium"" level=""trace""/>* 
*<logger name=""org.eclipse.leshan"" level=""trace""/>* 

2) Restart the agent, connect test device and execute read operation again 

3) Attach the logs for further analysis. 

Let me know if you need any further information. 

*Please check the latest comment*"
Defect,CSOIOT-7553,Bax/Hillrom Compromise assessment - need access.log files,"HILL-ROM Holdings, Inc. 7517970",447,Closed,"Talbert, Kent","Simeonova, Rumyana",7/21/23 13:01,Customer,11/4/23 12:42,,,2-High,None,"Production environment - iot.hillrom.com 

Baxter is currently investigating a Compromise assessment that may involve SAG-hosted resources, and they need SAG's assistance gathering info.  

They are requesting the Access logs from June 11th or June 12th until today.  Is this something we can provide to them? 

  

They’re doing this compromise assessment because they were informed by a bug bounty hunting company that they have access to Baxter’s C8Y environment through some major vulnerability. They are convinced that the report is credible.  

  

 "
Defect,CSOIOT-7551,Gardner Denver - Database backup,CompAir Drucklufttechnik 7515080,447,Closed,"Eha, Allan","Luczyszyn, Mikolaj (External)",7/26/23 7:47,Customer,11/4/23 12:43,,,4-Low,None,"Gardner Denver would like another backup of their database. 

Tenant:  [https://industrials.cas.irco.com/] 

For large files you can share with the customer: 

[https://sagportal.sharepoint.com/sites/IT-Self-Service/SitePages/SAG-External-Sharing.aspx] 

  

  

 "
User Story,CSOIOT-7549,CLONE - [Prod] LwM2M agent throwing exception when Jemena devices connect to the platform,Telstra Corporation Limited 7514912,448,Completed,"Saha, Sourajit","Radzali, Basyar",7/13/23 7:27,Customer,7/13/23 7:27,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ___{_}APJ{_}________ Domain _____{_}Telstra.com{_}_______ Version _____{_}10.11{_}________ 
System Usage (Choose one of: Production / Test / Development): ___{_}Production{_}_____ 
Time Zone: ___{_}AEST{_}______ 

*Affected tenant* 

Tenant: _Jemena 
Enterprise Tenant? Yes 
System accessible by R&D? Yes 
UserID _______________ Password _______________ 

*Device:* 
* Device manufacturer and type: ___{_}LwM2M{_}_____ 

*Time period error was observed:* 
* Start: ongoing. 

*Description of the Problem:* 

This is continue of iTrac IOT-17480   .Previously handled by Saha and Akin where the root cause has been identified and a *script* was used to fix the issue. 

Telstra discovered 2 additional Jemena devices which are showing these errors again, and they have not been included in the previous batch as these errors only occurred after the script was ran. 
{noformat} 
2023-06-30 06:07:04.736 ERROR 88782 --- [CoapServer(main)#85] o.e.l.c.californium.LwM2mCoapResource : Exception while handling request [CON-POST MID=37399, Token=550001, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""lt=3000"",""lwm2m=1.0"",""ep=urn:imei:355946526898627"",""b=UQ""]}, ""</4827/0>,</30002/0>,</3"".. 96 bytes] on the resource /rd from Identity /172.29.0.143:59020[psk=0355946526898627] java.lang.NullPointerException: null{noformat} 
The 2 devices we found are: 
* urn:imei:355946526898627 
* urn:imei:355946526856542 

Need to check with R&D if there are other devices have missed since last time ran that script? SAG was able to find additional ones to the devices we previously reported. 

If so, Telstra want to ask SAG to *run that script again* for these devices so they can connect back to the platform."
Defect,CSOIOT-7548,[CRISIS] Loriot-agent DOWN | Cumulocity Loriot Endpoint not working anymore,WAINS GmbH 7518016,448,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",7/12/23 16:51,Customer,10/11/23 10:37,,,1-Critical,1-Critical,"*Affected system* 

Instance: **.cumulocity.com* 
Tenant ID: t1105226074, t1393509389 
Tenant URL: traptice.wains.info, apc-ag.wains.info 

*Description of the Problem:* 

WAINS GmBH raised the issue that sending Data with the Standard Output Plugin from Loriot to Cumulocity is not working anymore. This is crucial for them and needs to be fixed asap. 

See attached the Screenshots with the Error 502 Bad Gateway. 

It seems that the Endpoint on the Cumulocity side is down. 

It’s happening on multiple tenants 

t1105226074 and t1393509389 

System user which is configured in Loriot to authenticate to Cumulocity is still able to login. 

--> Upon checking, we can clearly see the that Loriot-agent is DOWN. 
Please fix this ASAP. This issue is present in the whole instance."
Defect,CSOIOT-7544,[Jemena Prod] Request logs - Device status is shown as disconnected despite device is online,Telstra Corporation Limited 7514912,449,Closed,"Song, Shaopeng (Jeffrey)","Makowski, Pawel (External)",7/18/23 14:34,Customer,1/24/24 10:02,,logs,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: __{_}APJ{_}____ Domain ___{_}telstra.com{_}____ Version __{_}10.11{_}____ 
System Usage (Choose one of: Production / Test / Development): __{_}Production{_}_ 
Time Zone: __{_}AEST{_}____ 

*Affected tenant* 

Tenant: Jemena 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Device:* 
* Device manufacturer and type: ___{_}LwM2M{_}__ 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? seen in last days 
* Frequency - All the time 

*Description of the Problem:* 

Create this iTrac to Ops team to collect logs for iTrac [IOT-17584|https://itrac.eur.ad.sag/browse/IOT-17584] . 

Need to collect Lwm2m service log as well as logs from c8y-agents-1011.0.17/lwm2m-agent/server/src/main/java/com/cumulocity/lwm2m/agent/server/service/operation/DeviceSubscriptionServiceImpl.java#L68 

  

Btw. R&D already have access to this tenant via Jakub's account, but this user does not have permission to see logs from Microservice.  

  

*Customer issue:* 

In end customer (jemena) product tenant (tenant name: {*}Jemena, version 10.11.0.17{*}), it is recently observed that the devices are showing the push connection as “{*}inactive{*}” and connection status as “{*}Disconnected{*}” despite device is online and doing continuous registration updates. See attached screen shot ( Jemena Prod 10.11.png ) 

{*}Note{*}: In Jemena dev tenant ({*}t188211358, version 10.15.0.386{*}), customer was not seeing the above behavior. Device status is shown as “{*}Connected{*}” and push connection as “{*}Active{*}” which makes sense (See attached screen shot ""Jemena Dev 10.15.PNG""). 

  

No device impact reported by the customer. However, end customer would like to have clarifications for below queries. Although 10.11 is out of support, end customers of Telstra are still using 10.11. 
* Why does the device shows the push connection as “{*}inactive{*}” despite device being connected on 10.11? In the attached screen shot of 10.11, latest updated time is {*}June 5th 10:42{*}, while push connection is 'Inactive'. 
* Why does the device shows the status connection as “{*}Disconnected{*}” despite device being connected doing continuous registration updates? 
* Whether push connection and device connection status are related to each other? 
* Any device impact is expected to be observed due to the above behavior on 10.11?"
Defect,CSOIOT-7542,"Solenis - Datahub, APAMA, and Databroker-agent-server subscriptions not working for sub tenants",Solenis LLC 7512378,449,Closed,"Talbert, Kent","Pham, Hoang",7/17/23 8:46,Customer,11/4/23 12:52,,,2-High,None,"[https://management.iot.solenis.com/] 

  

Customer is trying to deploy Apama-1c-4g, Datahub, and Databroker-agent-server to multiple subtenants.  When they do, the microservices show as unhealthy and down.  Customer currently has around 29 subtenants and wants to increase it to 60 subtenants with these app subscribed. 

  

I talked to Hoang about this and he said that they don't have enough CPU.   
Need to add more workers or increase CPU"
Defect,CSOIOT-7541,How to login to Tenant URL,"MITSUI KNOWLEDGE INDUSTRY CO., LTD. 7521871",449,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",7/13/23 10:33,Customer,10/12/23 10:39,11-Jul-23,,3-Medium,3-Medium,"There needs to be a change to the defined administrator for tenant t334450491 mki.emea.cumulocity.com. 
  
Please make the Administrator [takanashi-tatsuya@mki.co.jp|mailto:takanashi-tatsuya@mki.co.jp] 
  
Tatsuya Takanashi 
  
Phone: +81- 80 6518 3121"
Defect,CSOIOT-7539,[Telstra Prod] New set of LwM2M Agent Exceptions Observed on 07/06/2023,Telstra Corporation Limited 7514912,451,Closed,"Song, Shaopeng (Jeffrey)","Abdul Majid, Mohd Shahmi",8/3/23 9:21,Customer,11/23/23 12:00,,logs,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 

This is a new occurrence of  issue in [IOT-17668|https://itrac.eur.ad.sag/browse/IOT-17668] . Since the original one iTrac was closed, creating a new one. 


*Affected system* 

SAG Cloud region: ______APJ______ Domain _____telstra.com_________ Version _____10.11_______ 
System Usage (Choose one of: Production / Test / Development): _____Production_____ 
Time Zone: ____AEST______ 

*Affected tenant* 

Tenant: Jemena 
Enterprise Tenant? Yes 
System accessible by R&D? Yes 
UserID   [jakub.kotorowicz@softwareag.com|mailto:jakub.kotorowicz@softwareag.com] (Username: jkoto)   Password ____Please ask Jakub for the password_____ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Device:* 
* Device manufacturer and type: ____LwM2M______ 

*Time period error was observed:* 
* Start: ______July 6th_______ End: ______July 6th_______  
* Repeatability? seen __ 600  times in last _1__ week). 

  

{*}Description of the Problem:{*}{*}{*} 

Telstra has observed a new set of LwM2M agent exception that is separate to the exceptions reported previously (see linked ticket [IOT-17668|https://itrac.eur.ad.sag/browse/IOT-17668] ). 

Telstra observed 600 of this new exception on July 6th. Need to confirm if these exceptions are related to those exceptions in old iTrac [IOT-17668|https://itrac.eur.ad.sag/browse/IOT-17668] , hence we are creating a new iTrac. 

This is a snippet of the exception found which affects hundreds of devices: 
{code:none} 
2023-07-06 02:03:39.411 ERROR 88782 --- [CoapServer(main)#873] o.e.l.c.californium.LwM2mCoapResource : Exception while handling request [CON-POST MID=50632, Token=120001, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""lt=3000"",""lwm2m=1.0"",""ep=urn:imei:359205106571823"",""b=UQ""]}, ""</4827/0>,</30002/0>,</3"".. 96 bytes] on the resource /rd from Identity /172.29.0.143:56923[psk=0359205106571823] 
com.cumulocity.sdk.client.SDKException: Http status code: 502 
Something went wrong. Failed to parse error message. 
at com.cumulocity.sdk.client.ResponseParser.checkStatus(ResponseParser.java:75) 
at com.cumulocity.sdk.client.ResponseParser.parse(ResponseParser.java:57) 
at com.cumulocity.sdk.client.RestConnector.get(RestConnector.java:110) 
at com.cumulocity.sdk.client.inventory.InventoryApiImpl.get(InventoryApiImpl.java:58) 
at jdk.internal.reflect.GeneratedMethodAccessor337.invoke(Unknown Source) 
at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 
at java.base/java.lang.reflect.Method.invoke(Method.java:566) 
at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) 
at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) 
at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) 
at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) 
at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) 
at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) 
at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) 
at com.sun.proxy.$Proxy163.get(Unknown Source){code} 
And this is what we currently know based on our investigation: 
* This seems to affect only psk devices 
* From the attached image, this exception first appeared on 17 June. Then on 29 June, 30 June, 2 July, and 6 July - which means it has been increasing recently. 
* It only occurs around 2 am AEST on those dates for a short period 
* The devices still do registration updates and observations after that time 

Similar to the previous ticket, would like to confirm what this exception mean? 

If there is anything to be concerned about - i.e. is it affecting agent load at peak time as the error seem to point to a server error (502). 

  

As mentioned in [IOT-17668|https://itrac.eur.ad.sag/browse/IOT-17668] , Telstra is targeting a *production update to 10.15* in August, can that upgrade resolve this exception? 

Kindly advise."
Defect,CSOIOT-7532,Need Error.log file from Solenis Dev environment.,Solenis LLC 7512378,450,Closed,"Talbert, Kent","Hou, Jiabin",7/17/23 4:33,Customer,10/13/23 10:27,,logs,3-Medium,None,"Need Error.log files from Solenis' Dev environment as they are not available in Grafana/Loki. 

  

 *.iot-dev.solenis.com* 

  

Can you get logs from this environment from the time around Thu, 29 Jun 2023 16:19:46 GMT? 

  

Thanks, 

Kent 

 "
Defect,CSOIOT-7510,CLONE - [Mohawk] 'processing is overloaded' on tenant t11553862 when it isn't.,Mohawk International Services BV 7518646,454,Closed,"Johnson, Matthew","Vukman, Tomislav",7/17/23 16:05,Customer,7/17/23 16:05,17-Jul-23,,3-Medium,3-Medium,"!image.png! 

  

This error has been occurring regularly for a while. Looking at the dashboard in Grafana there is no stress on Apama, so why the error. 

The Grafana input queue graph doesn't tally with that  produced by Apama Log analyzer either - see attached screenshots.  

  

Note log analyzer graph is in UTC, Grafana is UTC+1. 

  

Look at spikes at 8:55 on log analyzer graph. Where are they at 09:55 in Grafana?"
Defect,CSOIOT-7509,Unify microservice is unable to send any query to dremio,Solenis LLC 7512378,455,Closed,"Eha, Allan","Bizhev, Ivan",7/7/23 14:32,Customer,10/7/23 10:25,,support_question,1-Critical,1-Critical,"(SI-510801) Please help look into the Solenis platform to see if they are having problems? Customer is reporting ""Seems like something wrong with our platform or datahub our unify microservice is unable to run any query to dremio"". 

This has been resolved by restarting datahub. 

We need the logs that OPS saved. 

  

*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ____AME______ 

Version ____10.15________ 
System Usage (Choose one of: Production / Test / Development): ___Production_____ 

*Affected tenant* 

Tenant: [cloud.iot.solenis.com|http://cloud.iot.solenis.com/] 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Issue associated device, application and/or microservice* 

Example URL with the issue:  

Ex- API - [https://cloud.iot.solenis.com/service/unify/measurement/measurements/series?&dateFrom=2023-01-28T18:30:00.000Z&dateTo=2023-03-29T18:29:42.000Z&pageSize=1440&revert=true&series=sol_onguardMeasurement.12_analog&source=588843734] 

*Microservice:* 
* (URL in ""Own applications"" if not standard app): ____Datahub______ 

*Time period error was observed:* 
* Ongoing. 
* Repeatability? Always 
* Frequency - All the time 

*Description of the Problem:* 

Seems like something wrong with our platform or datahub our unify microservice is unable to run any query to dremio. 

Once i hit the API which fetches data to our dashboard the query run in the microsewrvice but it never went to the dremio to execute. 

It is currently impacting our production and we are now totally cut of from our datalake. 

Tenant- [cloud.iot.solenis.com|http://cloud.iot.solenis.com/] 

Ex- API - [https://cloud.iot.solenis.com/service/unify/measurement/measurements/series?&dateFrom=2023-01-28T18:30:00.000Z&dateTo=2023-03-29T18:29:42.000Z&pageSize=1440&revert=true&series=sol_onguardMeasurement.12_analog&source=588843734] 

  

*Update at 9:00AM GMT+2 July 6th:* 

Another tenant also having the issue. Currently it seems all not only one tenant were hit by this issue. 

Tenant: [https://pca.iot.solenis.com|https://pca.iot.solenis.com/] 

Kindly help check this."
Defect,CSOIOT-7505,Unable to register LwM2M device,"Itron, Inc. 7518541",455,Closed,"Neale, Robert","Kehayov, Boyan",7/6/23 8:02,Customer,10/4/23 10:41,,,1-Critical,1-Critical,"Trying to register LWM2M device, UI shows... 

!image-2023-07-05-11-24-17-898.png!"
Defect,CSOIOT-7499,Telstra Development environment - MQTT probe failing for statuspage,Telstra Corporation Limited 7514912,456,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",7/7/23 15:03,Customer,10/11/23 10:43,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _{_}{{_}}{{_}}APJ{{_}}{{_}}{_}__ Domain ___{_}{{_}}{{_}}telstra.com{{_}}{{_}}{_}_ Version __{_}{{_}}{{_}}10.15{{_}}{{_}}{_}____ 
System Usage (Choose one of: Production / Test / Development): ___{_}{{_}}{{_}}Development{{_}}{{_}}{_}___ 
Time Zone: __{_}{{_}}{{_}}AEST{{_}}{{_}}{_}____ 

*Affected tenant* 

Tenant: management.iotdev.telstra.com 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other __{_}{{_}}{{_}}MQTT{{_}}{{_}}{_}_____ 

*Time period error was observed:* 
* Start: __{_}{{_}}{{_}}start from more than 8 hours ago{{_}}{{_}}{_}____ ongoing. 
* Repeatability? Always 
* Frequency - All the time 

*Attachments:* 
# Email sent to Ops team 
# service is down since 1:30am AEST. Please see screenshot from status page *2023-07-05_081423.pdf* 
# It appears Kubemater CPU utilization dropped *2023-07-05_083430.pdf* 

*Description of the Problem:* 

Telstra just notified by status page that Dev MQTT services are down for 8+ hours. They have customer running business critical testing in Dev. 

Creating this Ops iTrac to check this issue urgently. 

Attached the email which Telstra has sent to Ops team. 

*Update from Telstra at 12:00PM AEST:* 

Some test clients in Dev are working OK now. 

Telstra had a look at AWS Dev and not much information they could find. So customer has concern that the alarms they have received from status page. 

Would that be something to do with SAG clients which are setup in Dev those was getting data into status page? 

Customer has concern to understand the logic setup for status page notification. It shows services are down since 1:35am AEST but notification Telstra received 6 hours later. 

I would like to check with Ops team to look into health of Dev core components if they are running as expected or any other alarm/error received."
Defect,CSOIOT-7498,Not able to Delete/Remove device from Cumulocity server,"Itron, Inc. 7518541",456,Closed,"Schon, Gregor","Jiang, Weiwei",7/11/23 9:10,Customer,11/4/23 13:08,,,2-High,None,"*Please provide*  *the lwm2m-agent and core logs from that timeframe.* 

*The deletion was attempted  ‎4 ‎July, ‎2023, ‏‎15:30  + 10 minutes abouts* 

*!EcosystemMicroservicesLwm2mAgent.png!* 

*Affected system* 

The platform is managed by  Managed by Cumulocity Cloud Operations team  (   *Itron         prod      Azure                [https://c8y.sag.idealabs.cloud/]* TENANT ID: *T3119081*   BACKEND: *1016.0.256*    UI: *1016.0.256* 

  

Managed services instance: _________________ Version: _______________ 
System Usage (Choose one of: Production / Test / Development): ____________ 
Time Zone: _______________ 

*Affected tenant  t3119081*  

 [https://envd417247.c8y.sag.idealabs.cloud/apps/cockpit/index.html] 

user account Gregor$ 

Tenant: _________________  
Enterprise Tenant?  No 
System accessible by R&D? Yes / No 
UserID _______________ Password _______________ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Device:* 

[https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/458836/device-info  |https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/458836/device-info]/  Edge-Gatewa-6000   /  *LwM2M [https://itron.com|https://itron.com/] urn:dev:os:1233-1201230323918561* 

[https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/381239/device-info]    LWM2M t3119081 connector 

  
*   

*Microservice:* 

(URL in ""Own applications""): 
[https://management.c8y.sag.idealabs.cloud/apps/administration/index.html#/microservices/46/properties]  ""Lwm2m-agent"" 

"" 

  

*Protocol used?* 
* LwM2M  

*Time period error was observed:* 
* Start: _________________ End: _________________ o 
* Repeatability? Always / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - All the time / First load of an application / Time of day: ________________ 

*Steps to reproduce* 

‎4 ‎July, ‎2023, ‏‎15:39:13 
#   
#   

*Attach log files...* 

*Description of the Problem:* 

*Device [458836|https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html#/device/458836/device-info]  is showing up in All devices list even after deleting the device from server. Also tried by executing Cleanup Cluster command with device name from Connector with no success. This is forcing us to rename device name every time after re-registration.*"
Defect,CSOIOT-7488,Delete potenknipper.io-key.ifm (t9745780) Subtenant on Cumulocity.com,Autosen GmbH 7516454,457,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",7/5/23 9:23,Customer,7/5/23 13:41,,,3-Medium,None,"Please delete potenknipper.io-key.ifm (t9745780) Subtenant on Cumulocity.com. 
Customer confirmed: 

the subtenant “potenknipper.io-key.ifm” shall be deleted immediately. Suspending and waiting for 60 days is not sufficient."
Defect,CSOIOT-7487,[Lyreco] VendMe App log files,Lyreco Switzerland AG 7514898,457,Closed,"Choudhury, Atishdev","Simeonova, Rumyana",7/6/23 8:43,Customer,7/6/23 13:01,,,2-High,2-High,"Please provide logs for vendme for below timeframe 

Timeframe: 
* 21 June 2023 0:00 hours TO 21 June 2023 23:59 hours 
* 12 June 2023 0:00 hours TO 13 June 2023 23:59 hours 
* 08 June 2023 0:00 hours TO 08 June 2023 23:59 hours 

Log files: 
* vendem-platofrm 
* vendme-order 
* cataline 
* access"
User Story,CSOIOT-7481,Itron - Object 34333 Read is going to pending state,"Itron, Inc. 7518541",457,Closed,"Saha, Sourajit","Kehayov, Boyan",7/10/23 10:57,Customer,7/10/23 10:57,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Domain [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html] Version *10.16* 

*Affected tenant* 

Tenant: [https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html] 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other *LwM2M* 

*Time period error was observed:* 
* {*}ongoing{*}. 
* Repeatability? *Always* / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi, 

customer uses LwM2"" protocol do perform a read operation on custom object 34333. 

Object read is getting succeeded sometimes, but going to pending state sometimes even when the acknowledgement is 205 (success). 

Sometimes pending state read is succeeded after 1hr. 

  
{code:java} 
Success case: 
Total number of resources = 46 
34333/0/0 = 2 resources 
34333/0/1 = 2 resources 
34333/0/2 = 1 resources 
34333/0/3 = 41 resources 
Payload: 564 bytes 
{code} 
  

  
{code:java} 
Failure case: 
Total number of resources = 62 
34333/0/0 = 2 resources 
34333/0/1 = 2 resources 
34333/0/2 = 1 resources 
34333/0/3 = 56 resources 
Payload: 772 bytes 
{code} 
Can you elaborate what is happening? 

 "
Defect,CSOIOT-7474,[PROD] Telstra - User with basic auth and SSO log-in is logged out from the platform every 10 mins despite active user session,Telstra Corporation Limited 7514912,458,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",7/6/23 9:44,Customer,11/8/23 10:17,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _____APJ_______ Domain ______telstra.com_______ Version _____10.11________ 
System Usage (Choose one of: Production / Test / Development): ___Production____ 
Time Zone: ____AEST______ 

*Affected tenant* 

Tenant: [https://jemena.iot.telstra.com|https://jemena.iot.telstra.com/]  
Enterprise Tenant? Yes 
System accessible by R&D? Yes 
UserID    [jakub.kotorowicz@softwareag.com|mailto:jakub.kotorowicz@softwareag.com] (Username: jkoto)  Password: _Please ask Jakub for the password_ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? Logged out from platform every 10 minutes 
* Frequency - All the time 

*Attach log files...* 

Customer generated a .HAR file with Chrome regarding the jemena.iot.telstra.com_sso_session . 

*Description of the Problem:* 

  

Customer (jemena) using SSO for Cumulocity platform is experiencing log-out issue every 10 mins despite active user session. It is really impacting the customer's day-to-day activities. 

Please help look into this issue on priority. 

Also, as Telstra mentioned end customer is still using Basic auth though. 

  

As checked first in [IOT-17755|https://itrac.eur.ad.sag/browse/IOT-17755] , the cookie expiration time is 10 minutes. 
The cookie generated: Tue, 04 Apr 2023 07:23:54 GMT 

has an expiration time Tue, 04-Apr-2023 07:33:54 GMT. 

So create this Ops iTrac to check this environment variable: _`auth.cookies.expiration.time` of tenant [https://jemena.iot.telstra.com|https://jemena.iot.telstra.com/] ._ 
This is an option responsible for the lifetime of the SSO cookie. 


Note: value is in seconds and can be edited in runtime. 

Kindly help check this and let me know if you require any further details."
Defect,CSOIOT-7473,"[Gardner Denver] After the upgrade from 10.7 to 10.15, most of the alarms are not delivered to recipients as email notifications",CompAir Drucklufttechnik 7515080,458,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",7/13/23 12:16,Customer,11/4/23 13:13,,,2-High,2-High,"*Affected system* 

GD Prod: https://industrials.cas.irco.com/ 
Version: 10.15 

*Description of the Problem:* 

Gardner Denver has reported the following issue in their upgraded environment. 

""Please offer us support and investigate the issues related to the recent upgrade of Cumulocity, from 10.7 to 10.15. 

After the upgrade from 10.7 to 10.15, most of the alarms are not delivered to recipients as email notifications. 

Please let us know if from our side is anything we can do."""
Defect,CSOIOT-7440,Delete io-key.ifm Subtenants,Autosen GmbH 7516454,460,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",7/3/23 11:41,Customer,10/2/23 10:31,,,3-Medium,None,"Please delete these tenants on management.cumulocity.com: 

meyerton-mill.io-key.ifm 
delelie-weitank.io-key.ifm 
credimex.io-key.ifm 

I don't have the needed privileges, I could only suspend them. 
The customer confirmed twice to delete the tenant and is aware that no restore is possible. 

The customer asked: 
These subtenants have been created with an error and shall be deleted. We need the urls to be free, so that we can re-setup those subtenants. Thus, I’d be happy to have them deleted quicker than in 2 months."
Defect,CSOIOT-7437,VPC Peering Upgrade on Cumulocity production instance,GREENFLEX 7517499,460,Closed,"Herzog, Christian",Unassigned,7/7/23 14:37,Customer,10/12/23 10:43,,,4-Low,None,"Currently, Greenflex has 2 instances hosted in a Greenflex AWS dedicated cloud but managed by SAG: 
* RD/PP Env: management.dev.iot.greenflex.com 
* PROD Env: management.iot.greenflex.com 

VPC peering is currently configured between Cumulocity instances an Greenflex environments (RD/PP/PROD). 

Following the contract renewal, Greenflex will keep only one instance of Cumulocity: 
* RD/PP/PROD: *management.iot.greenflex.com* 

The purpose of this ticket is, referring to the attachment, to upgrade the current VPC peering configuration to the new one (all VPC peering connected to Cumulocity prod instance). 

Actions must be done both on Greenflex and SAG side. 

Eric Barault will be the referent for the actions on Greenflex side. 

************************************************************************** 
My comment: 
Is there something I can help or can this be done only by Ops ? 
Please let me know when you have updates. Thanks."
Defect,CSOIOT-7432,[Itron] Increase the Coap Perferred Block Size to 1024,"Itron, Inc. 7518541",461,Closed,"Talbert, Kent","Pham, Hoang",7/6/23 20:21,Customer,10/5/23 10:45,,,3-Medium,None,"Itron environment 

LwM2M 

  

To enable further optimization of the firmware update process can you please ask SAG Ops to increase the Coap Preferred Block Size (eclipse.californium.coap.preferredBlockSize) to 1024. It is currently set to 512. 

  

Please let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-7404,[Flexco] Platform Critical Performance Issue and Timeouts,Flexible Steel Lacing Company Inc 7519586,462,Closed,"Bhatt, Vikas","Pham, Hoang",7/3/23 8:45,Customer,10/7/23 10:27,,,2-High,2-High,"*Affected system* 

Flexco Prod: [https://prod.flexcoelevatedashboard.com/] 

Version: 10.15 

*Description of the Problem:* 

Customer reported that they are experiencing a system wide issue with the C8Y platform that is impacting their business and customers. 

The system is extremely slow and whenever they are performing queries, they get a timeout! 
Please see the attached screenshot. 
  

Customer contact: +1 630-946-9034 (USA)"
Defect,CSOIOT-7401,Enercon: Implement daily cron job to automate script for clearing existing alarms,Enercon GmbH 7507550,463,Closed,"Simeonova, Rumyana","Vukman, Tomislav",6/28/23 9:27,Customer,6/28/23 9:27,,,2-High,1-Critical,"Requested to have an iTrac opened for this issue. 

  
Envrionment: [https://main.iot.enercon.de/] 

Device: 264519023 

c8y inventory get --id 264519023 --select c8y_ActiveAlarmsStatus 
|c8y_ActiveAlarmsStatus.critical|c8y_ActiveAlarmsStatus.major|c8y_ActiveAlarmsStatus.warning| 
|---------------------------------|------------------------------|--------------------------------| 
|1                              |1                           |5                             | 

""c8y_ActiveAlarmsStatus"": { 
""critical"": 1, 
""major"": 1, 
""warning"": 5 
} 

c8y alarms list --device 264519023 --status ACTIVE --severity CRITICAL -p 1 --withTotalPages --select self,statistics.totalPages                                                      | self                                                                                  | statistics.totalPages | 
|---------------------------------------------------------------------------------------|-----------------------| 

[https://t130430.iot.enercon.de/alarm/alarms?severity=CRITICAL&pageSize=1&source=2645…|https://t130430.iot.enercon.de/alarm/alarms?severity=CRITICAL&pageSize=1&source=2645%E2%80%A6] 
|0                    | 

Also see at: [https://main.iot.enercon.de/apps/controlcenter/index.html#/device/264519023/alarms] 

---------------------------------------------------------------------------------- 
We are currently running on: 

BACKEND: *1016.0.214* 
UI: *1016.0.205* 

We are not using Data Broker as far as i know. It is a single tenant environment without any thick edge. One important thing i have forgotten to mention is that we are running a script deleting all alarms: 

#!/bin/bash 
while true 
do 
    c8y alarms deleteCollection --dateTo -7d -f 
    echo ""$(date '+%Y-%m-%d %H:%M:%S') - Deleted Alarms older than 7 days"" 
    echo ""$(date '+%Y-%m-%d %H:%M:%S')  -Count current alarms: $(c8y alarms list -p 1- -withTotalPages | jq .statistics.totalPages)"" 
    sleep 3600 
done 

The reason for that: Retention rules remove only cleared alarms. For the time beeing a lot of alarms get created and the service technician are not yet working with the system. Enercon wants current created alarms removed, doesn’t matter in which state it is. 

 "
Defect,CSOIOT-7399,Delete Autosen subtenants on cumulocity.com.,Autosen GmbH 7516454,463,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",6/28/23 14:05,Customer,9/27/23 10:36,,,3-Medium,None,"SAG Cloud region:  Cumulocity.com 

Please delete the following subtenants: 

spenergynetworks.autosen.cloud 
smartbelt2023.autosen.cloud 
smartbelt23.autosen.cloud 
sveit.autosen.cloud 
sveit1.autosen.cloud 
sveit2.autosen.cloud 
sveit3.autosen.cloud{*}{*} 

  

Thanks, 

Kent"
Defect,CSOIOT-7397,Please delete a Tenant for us,Eppendorf SE 7517606,463,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",6/28/23 14:25,Customer,9/29/23 10:34,,,3-Medium,None,"Hi OPS; 

there is a tenant deletion request for Eppendorf: 

  
{code:java} 
tenantID: t212582491 
URL: 933a8274f0f240b2ac 7440a6d3d0f8fc.visionizedigitallabspace.eppendorf.com 
{code} 
Please perform the deletion. 

Thank you 

Michael 

 "
Defect,CSOIOT-7396,Use of SMS with Microservice SDK,"Micro Technology Co., Ltd. 7515608",463,Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,6/28/23 13:29,Customer,10/11/23 10:45,,,2-High,None,"In the linked iTrac R&D is requesting. 
Need Cumulocity UI -> Administration -> Ecosystem -> Microservices -> Sms-gateway -> Logs. 
Can you please provide us with it logs spanning the dates from 22nd to till date. 

Tenant: [https://hitachi-kenki.cumulocity.com|https://hitachi-kenki.cumulocity.com/] 

I understand there is a possibility that GS can these logs. Unfortunately, GS members from APJ are not able to tunnel management tenants. This is still to be sorted. I am posting here due the urgency behind the issue. Please assist."
Defect,CSOIOT-7395,[Syntegon] Service is restarting without warning and we lose logs,Syntegon Technology Services AG 7520592,463,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",7/4/23 15:42,Customer,10/5/23 10:47,,,3-Medium,3-Medium,"*Affected system* 

Tenant URL: https://management.synexio.syntegon.com on *.cumulocity.com 
Tenant ID: t1394552929 
Version: 10.16.0.259 

*Description of the Problem:* 

Syntegon is currently facing the behaviour as seen in the attached picture below. They have not had any Syntegon triggered deployments at the Cumulocity. 
!MicrosoftTeams-image (5).png|thumbnail! 

*1*. We do not understand what kind of rules are applied for the deployment (load balancing of Cumulocity)? 
*2*. If this happens, all application logs are gone and if there is a problem, it is a failure. If we do not have any logs to check what the problem is. 

It would be very helpful to get more insights about this topic. 

Could you please check and advise on above points?"
Defect,CSOIOT-7394,CLONE - Receive LWM2M SENML JSON Timeseries Data - Wrong Timestamps,Autosen GmbH 7516454,463,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",6/28/23 14:29,Customer,6/28/23 14:29,,,3-Medium,3-Medium,"Autosen is seeing the same issue that they reported earlier that generated iTrac ([IOT-16756|https://itrac.eur.ad.sag/browse/IOT-16756]), that was fixed in 10.16.0.237, they are on:[|https://itrac.eur.ad.sag/browse/IOT-16756] 

!Screenshot 2023-06-23 153242.png|thumbnail! 

Did this fix make it in to the release?  What new information do you need? 

 "
Defect,CSOIOT-7393,Hilti: query take to long time,Hilti AG 3158,463,Closed,"Welsing, Michael","Bieniak, Arkadiusz",7/13/23 7:24,Customer,11/5/23 9:24,,,2-High,None,"Hi Ops, 

Hilfe had an issue: 

From the logs they see that the following query was taking a huge amount of time and always Return with error (402): 
{code:java} 
$filter=((has(c8y_IsDevice)) and (materialNumber eq '2271348')){code} 
To my last knowledge there should be an index on this field. Can you please checkin that is true and if not add it? 

The good thing is that is not happening any more. 

Last time it happened: 

*Jun 26, 2023 at 14:34:13.364* 

Used query: 
{noformat} 
WebRequest to GET https://iot.dmp.hilti.com/inventory/managedObjectsForUser failed with com.hilti.iot.dmp.core.exceptions.HiltiDmpRestApiException with message Could not load managed objects with query $filter=((has(c8y_IsDevice)) and (materialNumber eq '2271348')){noformat} 
with exception: 
{noformat} 
com.hilti.iot.dmp.masterdata.controllers.InventoryController.getManagedObjectsForUser(InventoryController.java:105) 
jdk.internal.reflect.GeneratedMethodAccessor308.invoke(Unknown Source) 
java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 
java.base/java.lang.reflect.Method.invoke(Method.java:564) 
org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) 
org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) 
org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) 
org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) 
org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) 
org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) 
org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) 
org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) 
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) 
org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) 
javax.servlet.http.HttpServlet.service(HttpServlet.java:655) 
org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) 
javax.servlet.http.HttpServlet.service(HttpServlet.java:764) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
com.cumulocity.microservice.security.token.CumulocityOAuthMicroserviceFilter.doFilter(CumulocityOAuthMicroserviceFilter.java:86) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) 
org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) 
org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) 
org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
com.cumulocity.microservice.security.filter.PostAuthenticateServletFilter$1.run(PostAuthenticateServletFilter.java:43) 
com.cumulocity.microservice.context.ContextServiceImpl$CallableRunnableWrapper.call(ContextServiceImpl.java:119) 
com.cumulocity.microservice.context.ContextServiceImpl$CallableRunnableWrapper.call(ContextServiceImpl.java:109) 
com.cumulocity.microservice.context.ContextServiceImpl.callWithinContext(ContextServiceImpl.java:78) 
com.cumulocity.microservice.context.ContextServiceImpl.runWithinContext(ContextServiceImpl.java:66) 
com.cumulocity.microservice.context.ContextServiceImpl$4.run(ContextServiceImpl.java:129) 
com.cumulocity.microservice.security.filter.PostAuthenticateServletFilter.doFilterInternal(PostAuthenticateServletFilter.java:78) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
com.cumulocity.microservice.security.filter.PreAuthenticateServletFilter$1.run(PreAuthenticateServletFilter.java:42) 
com.cumulocity.microservice.security.filter.PreAuthenticateServletFilter.doFilterInternal(PreAuthenticateServletFilter.java:75) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
com.cumulocity.microservice.security.token.CumulocityOAuthMicroserviceFilter.lambda$doFilter$0(CumulocityOAuthMicroserviceFilter.java:68) 
com.cumulocity.microservice.context.ContextServiceImpl$CallableRunnableWrapper.call(ContextServiceImpl.java:119) 
com.cumulocity.microservice.context.ContextServiceImpl$CallableRunnableWrapper.call(ContextServiceImpl.java:109) 
com.cumulocity.microservice.context.ContextServiceImpl.callWithinContext(ContextServiceImpl.java:78) 
com.cumulocity.microservice.context.ContextServiceImpl.runWithinContext(ContextServiceImpl.java:66) 
com.cumulocity.microservice.security.token.CumulocityOAuthMicroserviceFilter.doFilter(CumulocityOAuthMicroserviceFilter.java:64) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) 
org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) 
org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) 
org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) 
org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) 
org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) 
org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) 
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) 
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) 
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) 
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) 
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) 
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) 
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) 
org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) 
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) 
org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) 
org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) 
org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) 
org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) 
org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) 
org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) 
org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) 
org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) 
java.base/java.lang.Thread.run(Thread.java:832){noformat} 
Was there any issue with the platform? 

Cheers 

Michael"
Defect,CSOIOT-7391,Delete the Eppendorf tenant t301559584,Eppendorf SE 7517606,464,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",6/27/23 10:39,Customer,9/26/23 10:44,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: t301559584 
Tenant URL: ae8c2b4605084604a1badbfcfe99a48b.visionizedigitallabspace.eppendorf.com 

*Description of the Problem:* 

Please delete the following Tenant requested by the customer. 

Tenant ID: t301559584 
Tenant URL: ae8c2b4605084604a1badbfcfe99a48b.visionizedigitallabspace.eppendorf.com"
Defect,CSOIOT-7390,Please Schedule Prod Upgrade to 10.15 from 10.13 for Boston Scientific,Boston Scientific Corporation 8104616,464,Closed,"Talbert, Kent","Lisik, Milosz (External)",7/3/23 8:46,Customer,10/5/23 10:48,,,3-Medium,None,"Please setup a tentative upgrade for our Prod tenants running on *.iot.bsci.com for the week of July 17th. 

  

Thanks, 

Kent"
Defect,CSOIOT-7388,Delete subtenant “oilgate1.autosen.cloud“,Autosen GmbH 7516454,464,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",6/27/23 10:38,Customer,9/26/23 10:44,,,3-Medium,None,"Need the following subtenant deleted from cumulocity.com: 

  

“oilgate1.autosen.cloud“ 

  

Thanks, 

Kent"
Defect,CSOIOT-7349,[Syntegon] Datahub not working,Syntegon Technology Services AG 7520592,464,Closed,"Welsing, Michael","Janus, Bartosz",7/3/23 8:46,Customer,10/12/23 10:44,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Domain *[https://mars.synexio.syntegon.com/*] Version *10.16* 

*Affected tenant* 

Tenant: *[https://mars.synexio.syntegon.com/*] OR System-wide issue. 

*Time period error was observed:* 
 * Start:  *ongoing* 
 * Frequency - *All the time* / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hello, 

Syntegon offloads the data with the datahub, but they are running in following error: 
{code:java} 
Failed to schedule offloading configuration. SYSTEM ERROR:Mkdirs failed to create /opt/dremio/data/results/1b6a6b53-976a-0a77-7887-b0f4df440500 SqlOperatorImpl ARROW_WRITER Location 0:0:3 SqlOperatorImpl ARROW_WRITER Location 0:0:3 Fragment 0:0 [Error Id: 77e62554-ff69-40e3-b371-b83eba7c8cb2 on dremio-executor-0.dremio-cluster-pod.cumulocity-multinode-central-1-prod-cdh.svc.cluster.local:0] (java.io.IOException) Mkdirs failed to create /opt/dremio/data/results/1b6a6b53-976a-0a77-7887-b0f4df440500 org.apache.hadoop.fs.RawLocalFileSystem.create():317 org.apache.hadoop.fs.RawLocalFileSystem.create():351 com.dremio.exec.store.dfs.PseudoDistributedFileSystem.create():371 org.apache.hadoop.fs.FileSystem.create():1118 org.apache.hadoop.fs.FileSystem.create():1098 org.apache.hadoop.fs.FileSystem.create():987 org.apache.hadoop.fs.FileSystem.create():975 com.dremio.exec.hadoop.HadoopFileSystem.create():226 com.dremio.exec.store.easy.arrow.ArrowRecordWriter.setup():111 com.dremio.sabot.op.writer.WriterOperator.setup():116 com.dremio.sabot.driver.SmartOp$SmartSingleInput.setup():256 com.dremio.sabot.driver.Pipe$SetupVisitor.visitSingleInput():73 com.dremio.sabot.driver.Pipe$SetupVisitor.visitSingleInput():63 com.dremio.sabot.driver.SmartOp$SmartSingleInput.accept():201 com.dremio.sabot.driver.StraightPipe.setup():103 com.dremio.sabot.driver.StraightPipe.setup():102 com.dremio.sabot.driver.StraightPipe.setup():102 com.dremio.sabot.driver.StraightPipe.setup():102 com.dremio.sabot.driver.Pipeline.setup():68 com.dremio.sabot.exec.fragment.FragmentExecutor.setupExecution():405 com.dremio.sabot.exec.fragment.FragmentExecutor.run():269 com.dremio.sabot.exec.fragment.FragmentExecutor.access$1600():94 com.dremio.sabot.exec.fragment.FragmentExecutor$AsyncTaskImpl.run():747 com.dremio.sabot.task.AsyncTaskWrapper.run():112 com.dremio.sabot.task.slicing.SlicingThread.mainExecutionLoop():243 com.dremio.sabot.task.slicing.SlicingThread.run():171{code} 
They found the error on multiple subtenants but the message from above is from mars.synexio.syntegon.com. 

On the UI it is displayed as is should be, but if you try to reactivate the Offloading the error occures 

Could you please investigate these as soon as possible? Customer needs the data for their customer. 

On OPS chat Allen raised the following additional questions on this: 


[8:11 AM] Eha, Allan(SI-509677) Syntegon is encountering errors in dremio: 
*SYSTEM ERROR:Mkdirs failed to create /opt/dremio/data/results/1b6a6b53-976a-0a77-7887-b0f4df440500* 
There is an old iTrac similar to this ([CDH-3928|https://itrac.eur.ad.sag/browse/CDH-3928]) where the disk was full.  They are on Cumulocity.com platform.  Is there a problem with the custom's disk space or is this external of the C8Y platform? 

best regards 

Michael"
Defect,CSOIOT-7314,CBOR Decoder Events Issue : Extn of SI-504495,Telstra Corporation Limited 7514912,467,Closed,"Reddy, Yerpula Bharath Bhushan","Radzali, Basyar",6/30/23 14:11,Customer,10/17/23 10:44,,,2-High,None,"Logs related to [[IOT-17713] CBOR Decoder Events Issue : Extn of SI-504495 - iTrac (ad.sag)|https://itrac.eur.ad.sag/browse/IOT-17713] 

As requested by Oezge, please retrieve the available LWM2M log files from the Telstra prod. environment to troubleshoot this."
Defect,CSOIOT-7313,[Enercon] Apama-ctrl microservice keeps restarting,Enercon GmbH 7507550,467,Closed,"Simeonova, Rumyana","Bieniak, Arkadiusz",6/23/23 12:48,Customer,6/23/23 12:48,,,1-Critical,1-Critical,"we are observing constant restarts in our apama-ctrl microservice. This began at around 6/20 23:00. 

We can see that the input queue for measurementSplitterContext is increasing rapidly after startup which also leads to an rapid increase in physical memory used. After about one minute, apama-ctrl runs into an OOM and restarts. 

We even disabled all customer EPL code, no custom code is running anymore at all. But the issue still remains."
Defect,CSOIOT-7312,Unable to install microservice,FRONIUS INTERNATIONAL GmbH 7519699,467,Closed,"Moon, Swai","Makowski, Pawel (External)",6/29/23 11:49,Customer,9/29/23 10:36,,,3-Medium,None,"Hi Cloud Ops team, 

The customer is not able to upload microservices after upgrading to 10.16 recently. 

Tenants used to test this: 

fronius-dev.adamos.com 

fr[onius-ms.adamos.com|http://fronius-ms.adamos.com/] 

When they try to upload the file, the error: *""Push failed on image: Push failed on await""* pops up. I have tried to upload the MS on another tenant (Frontend 1018.164.0 Backend 1018.86.0) and it seems to be working for me. 

There is a recent ticket with a similar issue: [https://itrac.eur.ad.sag/browse/CSOIOT-7230] 

The resolution here was: 

*Updated registry image to 2.8.2 and restart the pod* 

Maybe this will be helpful to you. 

I have attached the screenshots and the microservice used by the customer as well. Thanks!"
Defect,CSOIOT-7309,Slow inventory API calls and sporadic 401 errors from microservices,Schindler Management AG 7516305,468,Closed,"Talbert, Kent","Bieniak, Arkadiusz",6/28/23 9:17,Customer,11/5/23 9:30,,,2-High,2-High,"Schindler production environment. 

Tenant:  [https://main.dm-zz-p.ioee10-cloud.com/] 

  

They are seeing slow inventory API calls when using the “q” URL parameter, which is implicitly doing the device query: 
# GET [https://main.dm-zz-p.ioee10-cloud.com/inventory/managedObjects?query=%24filter%3Dhas(c8y_IsDevice)|https://main.dm-zz-p.ioee10-cloud.com/inventory/managedObjects?query=%24filter%3Dhas%28c8y_IsDevice%29] 
--> quick ~100-150 ms 
# GET [https://main.dm-zz-p.ioee10-cloud.com/inventory/managedObjects?q=%24filter%3Dhas(c8y_IsDevice)+%24orderby%3Dname|https://main.dm-zz-p.ioee10-cloud.com/inventory/managedObjects?q=%24filter%3Dhas%28c8y_IsDevice%29+%24orderby%3Dname] 
--> slow > 2 seconds 

Also microservices run into 401 errors, e.g. the “debian-integration” service. 

  

regarding 1. 

depending on the query, also using ""query"" is slow. e.g. 

GET [https://main.dm-zz-p.ioee10-cloud.com/inventory/managedObjects?query=%24filter%3Dtype+eq+%27c8y_Software%27+and+debian_type+eq+%27debian_package%27] 

--> takes > 5 seconds 

  

The issue appears to have started happening on  13th June. 0.15am CEST. 

  

Were there any changes made on the platform or issues seen on the environment that could be causing the slow response times?"
Defect,CSOIOT-7308,Delete subtenant oilgate1gmbh.autosen.cloud,Autosen GmbH 7516454,468,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",6/23/23 9:25,Customer,9/25/23 11:00,,,3-Medium,None,"Please delete subtenant oilgate1gmbh.autosen.cloud.  

This tenant is located on cumulocity.com. 

  

Thanks, 

Kent"
Defect,CSOIOT-7280,502 Bad Gateway errors with the Report-Agent microservice.,"HILL-ROM Holdings, Inc. 7517970",469,Closed,"Talbert, Kent",Unassigned,6/22/23 8:05,Customer,9/21/23 10:40,,,3-Medium,None,"management.iot.hillrom.com 

  

Report-Agent microservice isn't working, seeing the following in the log: 

  

2023-04-13 14:09:20.629 ERROR 13 --- [subscriptions-0] c.cumulocity.sdk.client.ResponseParser   : Failed to parse error message to json. Getting error string...  
2023-04-13 14:09:20.629 ERROR 13 --- [subscriptions-0] c.cumulocity.sdk.client.ResponseParser   : <html> 
<head><title>502 Bad Gateway</title></head> 
<body> 
<center><h1>502 Bad Gateway</h1></center> 
<hr><center>openresty</center> 
</body> 
</html> 

2023-04-13 14:09:20.629 ERROR 13 --- [subscriptions-0] .s.s.i.MicroserviceSubscriptionScheduler : Error while reacting on microservice subscription 

com.cumulocity.sdk.client.SDKException: Error invoking GET http://cumulocity:8111/application/currentApplication 
    at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.handleException(CurrentMicroserviceRepository.java:101) 
    at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getCurrentApplication(CurrentMicroserviceRepository.java:65) 
    at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.register(CurrentMicroserviceRepository.java:42) 
    at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.register(CurrentMicroserviceRepository.java:57) 
    at com.cumulocity.microservice.subscription.repository.MicroserviceSubscriptionsRepository.register(MicroserviceSubscriptionsRepository.java:110) 
    at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionsServiceImpl.registerApplication(MicroserviceSubscriptionsServiceImpl.java:169) 
    at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionsServiceImpl.subscribe(MicroserviceSubscriptionsServiceImpl.java:114) 
    at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionScheduler.lambda$schedulePeriodicSubscription$0(MicroserviceSubscriptionScheduler.java:81) 
    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) 
    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) 
    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) 
    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) 
    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) 
    at java.base/java.lang.Thread.run(Thread.java:829) 
Caused by: com.cumulocity.sdk.client.SDKException: Http status code: 502 
Something went wrong. Failed to parse error message. 
    at com.cumulocity.sdk.client.ResponseParser.checkStatus(ResponseParser.java:75) 
    at com.cumulocity.sdk.client.ResponseParser.parse(ResponseParser.java:57) 
    at com.cumulocity.sdk.client.RestConnector.get(RestConnector.java:110) 
    at com.cumulocity.microservice.subscription.repository.application.CurrentApplicationApi.get(CurrentApplicationApi.java:22) 
    at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getCurrentApplication(CurrentMicroserviceRepository.java:63) 
    ... 12 common frames omitted"
Defect,CSOIOT-7270,Enable remote management feature on our production EMEA tenant t11553862,Mohawk International Services BV 7518646,470,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",6/21/23 10:44,Customer,9/29/23 10:39,,,3-Medium,3-Medium,Please subscribe Cloud-remote-access to tenant t11553862 on the emea platform.
Defect,CSOIOT-7269,Delete the Eppendorf tenant t302354888,Eppendorf SE 7517606,471,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",6/22/23 10:42,Customer,9/25/23 11:02,,,3-Medium,3-Medium,"*Affected system* 

Tenant URL: 73e80f44a36b4b87a891204bc7c343cc.visionizedigitallabspace.eppendorf.com 

Tenant ID: t302354888 

*Description of the Problem:* 

Please delete the following Tenant requested by the customer. 

Tenant URL: 73e80f44a36b4b87a891204bc7c343cc.visionizedigitallabspace.eppendorf.com 

Tenant ID: t302354888"
Defect,CSOIOT-7265,"Alberto Zennaro has left our company, please remove his accounts",Airedale International Air Conditioning 7521144,472,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",6/26/23 10:18,Customer,9/29/23 10:39,,,3-Medium,None,"Hi Ops, 

please change tenant admin from Alberto Zennaro ([alberto.zennaro@airedale.com|mailto:alberto.zennaro@airedale.com]) to Philip Holden ([Philip.A.Holden@airedale.com|mailto:Philip.A.Holden@airedale.com]) on tenants [airedale.cumulocity.com|http://airedale.cumulocity.com/] and [https://airedale-poc.eu-latest.cumulocity.com/]. 

Thanks 

Michael"
Defect,CSOIOT-7264,Need SMS Gateway and Connectivity-Agent-Server microservices subscribed to Hillrom environments.,"HILL-ROM Holdings, Inc. 7517970",474,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",6/22/23 10:36,Customer,11/5/23 9:35,,,2-High,None,"Need SMS-Gateway and Connectivity-Agent-Server microservices subscribed to both the sandbox and production Hillrom environments.  It also needs to be subscribed to all subtenants on these environments. 

  

Please let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-7262,[Lyreco] VendMe App and VendMe raport incorrect sales from VendMe App to Lyreco SAP,Lyreco Switzerland AG 7514898,474,Closed,"Bhatt, Vikas","Lundsten, Alf",6/22/23 8:04,Customer,11/14/23 9:48,,,2-High,2-High,"*Affected system* 

[https://lyreco.cumulocity.com/apps/vendme/index.html] 

*Description of the Problem:* 

Customer has reported the following issue with VendMe App. 

----------------------------------- 

Our operating team together with our back office team had to make the following recognitions. 

The quantity of products entered in the VendMe app is not correctly transferred to our SAP. 

We have so-called free sales routes, through which our employee defines a quantity of products to be transferred to VendMe via the VendMe app. 
The VendMe in turn transmits the received data overnight to the Lyreco SAP. The transferred quantity is then invoiced by the Lyreco SAP to our customer. 

As already mentioned, we have noticed that the quantities entered in the VendMe app do not correspond to the quantities that were last effectively transferred in VendMe. 

At the same time, some of the quantities entered in the VendMe do not correspond to the quantities transferred to Lyreco SAP. 

As attachment we send you an Excel file in which is clearly divided who has reported what and what has been reported to VendMe and what has been received by SAP. 
# the number of pieces and products that the employee has effectively entered in the app and transmitted. 
# the number of pieces and products that were transmitted to VendMe. 
# the number of pieces and the product that was sent from VendMe to Lyreco SAP. 

From this you can see that there are several discrepancies. 

We ask you to analyze this case and fix the problem. 

----------------------------------- 

!Device Management.JPG|thumbnail! 
!Machine.JPG|thumbnail! 
[^Dosenbach Allmendstrasse 25_5061728 _Gratisabgabe_30.05.2023.xlsx]"
Defect,CSOIOT-7247,CLONE - Device bulk registration and cluster deletion operations for lwm2m are stuck in Pending status || Dev v10.15.0.386,Telstra Corporation Limited 7514912,476,Closed,"Akin, Oezge","Radzali, Basyar",6/19/23 10:12,Customer,6/19/23 10:12,,,2-High,None,"Telstra reported below issue, and they raised urgency flag as the production upgrade dates are announced. 

Description: 
----- 
It is observed that the operations involving lwm2m connector - bulk registration and device cluster deletion are stuck in ‘Pending’ status and are never processed. The issue seems to continue despite manually failing the pending operations. 

Note: It was working fine for sometime until issue occurred and it never got back to working status again. 

Tenant Id - t110339840 

Tenant URL - https://enhancedpvt2.iotdev.telstra.com/ 

Please note, this would be a critical issue as Customers will be deprived of the performing device bulk registrations. 
-----"
Defect,CSOIOT-7246,Increase C8Y.lwm2mMaxRequestTimeout on iTron's environment,"Itron, Inc. 7518541",476,Completed,"Lekarov, Grigor","Kehayov, Boyan",6/19/23 9:30,Customer,6/19/23 9:30,,,3-Medium,3-Medium,"Hello Boyan, 

Could you please increase the `C8Y.lwm2mMaxRequestTimeout` in the `/etc/lwm2m/lwm2m-agent-server.properties` with the following value: 
{code:java} 
C8Y.lwm2mMaxRequestTimeout=10800000{code} 
This will give iTron the possibility to increase their device operations timeout to 3 hours, which should be enough time to transfer big binary data over the network with a high latency. 

Keep in mind that this change require restart of the LWM2M agent service. Also could you please make sure this change won't be overwritten in the future. If iTron has more than one LWM2M agent, then please apply this setting to all the agents they use. 

Thank you in advance!"
Defect,CSOIOT-7239,[Hilti] Extract data from MongoDB,Hilti AG 3158,477,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/28/23 9:18,Customer,9/27/23 10:41,23-Jun-23,,3-Medium,3-Medium,"*Affected system* 

Hilti Tenant: [https://iot.dmp.hilti.com/] 

Tenant ID: t978904552 

Version: 10.13 

{*}Description of the Problem:{*}{*}{*} 

  
Customer from Hilti has raised the following query on {*}Extracting Data from MongoDB{*}. Could you check and advise? 

--------------------------------------------- 

We need to reimport devices to fix some synchronization issue and we need to extract some data to generate the imports. 

From the device manage object we need to extract a de-duplicated list of the following: 
* customerId 
* sapCustomerId 
* sapCustomerCountries 

I could extract them via API and deduplicate the list myself using 

  
{code:java} 
curl --location 'https://iot.dmp.hilti.com/inventory/managedObjects?withTotalPages=true&pageSize=10&currentPage=0&query=%24filter%3Dhas(customerId)%20and%20%20not%20(customerId%20eq%20%27-%27)%20and%20(customerId%20eq%20%27*%27)%20%20and%20(has(sapCustomerCountries.0))%20and%20(has(sapCustomerId))%20'{code} 
  

but I would have to process almost 4 million device and perform almost 500k API calls. 

Would it be possible to perform such a query on DB with “distinct“ equivalent for MongoDB? 

---------------------------------------------"
Defect,CSOIOT-7230,Unable to upload microservice: Push failed on image : Push failed on await,"Itron, Inc. 7518541",477,Closed,"Talbert, Kent","Pham, Hoang",6/19/23 9:32,Customer,9/15/23 10:40,,,3-Medium,None,"Tenant Name:  t3119081 
Tenant URL:  https://envd417247.c8y.sag.idealabs.cloud 

User is unable to deploy any micro services to the Cumulocity tenant. 

The zip uploads, but the error being reported is just ""Push failed on image : Push failed on await"" and the microservice is not deployed. 

  

This stopped working after the environment was upgraded to 10.16 last week. 

  
Not sure if this is still a relevant solution, but we've seen this in the past and the following was the resolution:The root cause is the internal errors in the registry. 

  

Delete the registry pod to spawn a new one to resolve this issue. 

  

 "
Defect,CSOIOT-7229,Provisioning service and software updating is currently down,Boston Scientific Corporation 8104616,477,Closed,"Talbert, Kent","Pham, Hoang",6/14/23 8:29,Customer,9/12/23 11:15,,,2-High,None,"Tenant:  [https://management.iot.bsci.com/] 

Production Env 

  

Provisioning service and software updating is currently down. 

  

Seeing the attached error on apama.   

 "
Defect,CSOIOT-7214,No logs displayed after analytics update,Netze BW GmbH 7518036,477,Closed,"Welsing, Michael",Unassigned,6/14/23 10:02,Customer,9/12/23 11:15,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _________________ Domain __________________ Version __________________ 
Edge instance: _______________ Version: _______________ 
Managed services instance: _________________ Version: _______________ 
System Usage (Choose one of: Production / Test / Development): ____________ 
Time Zone: _______________ 

*Affected tenant* 

Tenant: _________________ OR System-wide issue. 
Enterprise Tenant? Yes / No 
System accessible by R&D? Yes / No 
UserID _______________ Password _______________ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Device:* 
* Device manufacturer and type: _________________ 
* Number affected: Single, Few, All devices. 
* Device is Certified? Yes / No 
* C8Y provided Agent? Type _______________ Version ______________ 

*Application:* 
* (URL in ""Own applications"" if not standard app): _________________ 
* Application origin: (choose one) 
* Cumulocity product application 
* GCS application Author/Contact: ______________ 
* Customer application: yes / no 

*Microservice:* 
* (URL in ""Own applications""): _________________ 
* Microservice origin: (choose one) 
* Cumulocity product microservice. Version _______________ 
* GCS custom microservice. Author/Contact _______________ 
* Customer microservice. Yes / No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other _______________ 

*Time period error was observed:* 
* Start: _________________ End: _________________ or ongoing. 
* Repeatability? Always / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - All the time / First load of an application / Time of day: ________________ 

*Steps to reproduce* 
#   
#   
#   

*Attach log files...* 

*Description of the Problem:*"
Defect,CSOIOT-7209,[Itron] SSL certificate renewal for the Itron instance,"Itron, Inc. 7518541",478,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/16/23 10:06,Customer,9/15/23 10:41,,,3-Medium,1-Critical,"*Affected system* 

Itron Prod: https://c8y.sag.idealabs.cloud/ 

*Description of the Problem:* 

The SSL certificate for Itron instance (*.c8y.sag.idealabs.cloud) is due to expiry on Tue, 13 Jun 2023 23:59:59 GMT. 

Could you please update the cert? 
Customer has sent the attached required file 'c8y_cert.json'."
Defect,CSOIOT-7208,LwM2M is not working since last night's database upgrade,"Itron, Inc. 7518541",478,Closed,"Eha, Allan","Pham, Hoang",6/14/23 10:02,Customer,9/13/23 10:50,,,2-High,None,"R&D are asking for the lwm2m-agent logs for the ITron agents. 

They would also like to have the  
for the /etc/lwm2m/cumulocity.json and /etc/lwm2m/lwm2m-agent-server.properties."
Defect,CSOIOT-7204,Perform deletion of tenant zueblin-beta on c8y prod,Liebherr-Werk Nenzing GmbH 7516355,478,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",6/13/23 12:33,Customer,9/15/23 10:42,,,3-Medium,3-Medium,"Please delete the following tenant including stored data 

Tenant ID: t1714607403 
Tenant Name: zueblin-beta 
Tenant URL: [zueblin-beta.myjobsite.com|http://zueblin-beta.myjobsite.com/]"
Defect,CSOIOT-7194,Sony: Excluding management Tenant Memory from the Storage Limits,Sony Semiconductor Solutions Corp. 7519751,479,Closed,"Reddy, Yerpula Bharath Bhushan","Schueller, Thomas",6/14/23 10:03,Customer,9/18/23 10:44,,,2-High,None,"Background: 
Sony raised a support ticket to understand how the memory consumed by management tenant is considered for the storage limits set for the customer. Please refer attached iTrac for the details. 
As R&D mentioned, technically there are no enforcements done, we had an internal call on 7th on how to proceed. 

Participants: Jelle, Matthew, Jakub, Asit Soni (Sales), Bharath 

In the call, we understood that there is a contract with Sony where a set of tenants are provisioned and there is a storage limit set for these tenants together (It seems 3500 GB and sales team has a calculation for that). 
In the call, it was decided, it is sales decision on how to include/exclude memory used by management tenant into the storage limit statistics. Finally, it was decided we should make a proposal to exclude certain amount or memory that is occupied by management tenant while calculating this limits. In otherwords, an amount of memory (say 10 GB) will be given for free to the management tenant without adding to storage limits. 

What is needed from Ops: 
Since Ops is maintaining Sony tenants, Sales team needs a opinion or suggestion about how much memory generally (An average with experience of similar customers like Nordex) management tenant occupies and how much memory we can propose to give it for free to Sony."
Defect,CSOIOT-7193,[Gardner Denver] Cumulocity platform is displaying a false offline status,CompAir Drucklufttechnik 7515080,479,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/14/23 10:01,Customer,9/15/23 10:42,,,2-High,1-Critical,"*Affected system* 

Gardner Denver Prod: cas.irco.com 

*Description of the Problem:* 

Customer complaint they received many complaints from users that devices are online, but the Cumulocity platform is displaying a false offline status. 

Please provide immediate assistance and reset the MQTT core to resolve this issue."
Defect,CSOIOT-7180,[Production]Microservice is Freezing and not Reacting any more,Syntegon Technology Services AG 7520592,483,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",6/8/23 10:14,Customer,1/8/24 4:06,,,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ___{_}EMEA{_}_____ Domain ____{_}{{_}}[management.synexio.syntegon.com|https://management.synexio.syntegon.com/]{{_}}{_}______ Version ____{_}10.16{_}_____ 
System Usage (Choose one of: Production / Test / Development): __{_}Production{_}_ 
Time Zone: ___{_}Germany time{_}___ 

*Affected tenant* 

Tenant: _[management.synexio.syntegon.com|https://management.synexio.syntegon.com/]_ 
Enterprise Tenant? Yes 

*Microservice:* 
* MS name: Custom microservice ""{_}Production-planner{_}"" (microservice ID: 43778) 
* GCS custom microservice. Author/Contact __{_}{{_}}[Matthias.Burkert@syntegon.com|mailto:Matthias.Burkert@syntegon.com]{{_}}{_}__ 
* Customer microservice. Yes 

*Time period error was observed:* 
* Start: ___{_}a few hours after MS restart{_}_____ End: ___{_}restarting MS{_}_____ 
* Repeatability? Intermittent (seen _1_ times in last {_}1{_}_ day). 
* Frequency - everyday since May 

*Attach log files... MS log on June 8th* 

*Description of the Problem:* 

  

Problem at Prod system (microservice used by end customers) Every morning the system seems to be (API ultra slow, and delivering 500 errors for some requests) slow. 

This leads to microservices to freeze. There are no error logs in the MS it is simply not responding any more. 

The MS is not restarted automatically. If user do it manually, it seems to work until the next morning. 

  

Additionally customer observed multiple deployment events which they cannot recognize. See attached screen shot. 

Customer request urgent support on this matter because our customer systems are running there. 

Issue is now occurring . Customer will not restart it for some time if R&D require any info. 

The Problem is not reproduceable at the dev or the Test system."
Defect,CSOIOT-7156,Delete Tenants from eatonnubisnet on EMEA,Eaton Industries GmbH 7518586,483,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",6/7/23 14:45,Customer,6/8/23 10:15,,,3-Medium,3-Medium,"This from customer.... 

  

Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thanks a lot & have a nice day, 
Hrishikesh 

t287048101 [eaton.dbt.machinery-monitoring.com|http://eaton.dbt.machinery-monitoring.com/] 
t286102738 [testhgasfd.dbt.machinery-monitoring.com|http://testhgasfd.dbt.machinery-monitoring.com/] 
t293331636 [uat.dbt.machinery-monitoring.com|http://uat.dbt.machinery-monitoring.com/] 
t287843393 [supriyatest.dbt.machinery-monitoring.com|http://supriyatest.dbt.machinery-monitoring.com/] 
t306524640 [blim-eaton-test.dbt.machinery-monitoring.com|http://blim-eaton-test.dbt.machinery-monitoring.com/] 
t306504695 [ertf.dbt.machinery-monitoring.com|http://ertf.dbt.machinery-monitoring.com/] 
t300898764 [456.dbt.machinery-monitoring.com|http://456.dbt.machinery-monitoring.com/] 
t286086620 [test.dbt.machinery-monitoring.com|http://test.dbt.machinery-monitoring.com/] 
t293392128 [testeaton.dbt.machinery-monitoring.com|http://testeaton.dbt.machinery-monitoring.com/] 
t280811724 [uattestdashboardflex.dbt.machinery-monitoring.com|http://uattestdashboardflex.dbt.machinery-monitoring.com/] 
t281416334 [uattestretailtenant.dbt.machinery-monitoring.com|http://uattestretailtenant.dbt.machinery-monitoring.com/] 
t287707320 [jjhj.dbt.machinery-monitoring.com|http://jjhj.dbt.machinery-monitoring.com/] 
t286111626 [werwer.dbt.machinery-monitoring.com|http://werwer.dbt.machinery-monitoring.com/]"
Defect,CSOIOT-7151,CLONE - Enercon: Alarm counter at Managed Object different to current existing alarms,Enercon GmbH 7507550,484,Closed,"Sobala, Kamil","Vukman, Tomislav",6/8/23 6:45,Customer,6/28/23 10:05,,,2-High,1-Critical,"Requested to have an iTrac opened for this issue. 

  
Envrionment: [https://main.iot.enercon.de/] 

Device: 264519023 

c8y inventory get --id 264519023 --select c8y_ActiveAlarmsStatus 
|c8y_ActiveAlarmsStatus.critical|c8y_ActiveAlarmsStatus.major|c8y_ActiveAlarmsStatus.warning| 
|---------------------------------|------------------------------|--------------------------------| 
|1                              |1                           |5                             | 

""c8y_ActiveAlarmsStatus"": { 
""critical"": 1, 
""major"": 1, 
""warning"": 5 
} 

c8y alarms list --device 264519023 --status ACTIVE --severity CRITICAL -p 1 --withTotalPages --select self,statistics.totalPages                                                      | self                                                                                  | statistics.totalPages | 
|---------------------------------------------------------------------------------------|-----------------------| 

[https://t130430.iot.enercon.de/alarm/alarms?severity=CRITICAL&pageSize=1&source=2645…|https://t130430.iot.enercon.de/alarm/alarms?severity=CRITICAL&pageSize=1&source=2645%E2%80%A6] 
|0                    | 

Also see at: [https://main.iot.enercon.de/apps/controlcenter/index.html#/device/264519023/alarms] 

---------------------------------------------------------------------------------- 
We are currently running on: 

BACKEND: *1016.0.214* 
UI: *1016.0.205* 

We are not using Data Broker as far as i know. It is a single tenant environment without any thick edge. One important thing i have forgotten to mention is that we are running a script deleting all alarms: 

#!/bin/bash 
while true 
do 
    c8y alarms deleteCollection --dateTo -7d -f 
    echo ""$(date '+%Y-%m-%d %H:%M:%S') - Deleted Alarms older than 7 days"" 
    echo ""$(date '+%Y-%m-%d %H:%M:%S')  -Count current alarms: $(c8y alarms list -p 1- -withTotalPages | jq .statistics.totalPages)"" 
    sleep 3600 
done 

The reason for that: Retention rules remove only cleared alarms. For the time beeing a lot of alarms get created and the service technician are not yet working with the system. Enercon wants current created alarms removed, doesn’t matter in which state it is. 

 "
Defect,CSOIOT-7150,LwM2M Server is unresponsive,"Itron, Inc. 7518541",484,Closed,"Eha, Allan","Pham, Hoang",6/12/23 8:09,Customer,9/7/23 10:41,,,2-High,2-High,"All ITron tenants. 

  

The LwM2M server is not responding to multiple clients. The last reliable response time was 5 June 21:53:11 (PDT). See screen shot. Bootstrap does seem to be working, but reads, registration updates etc are not. I am aware that our environment is being upgraded to 10.16 this week, but this is not meant to start until 7th of June 03:00 CEST. 

  

I’ve done a bit more debugging on my side & it seems to be now limited to LwM2M traffic hitting the public IP address: 20.109.19.84 i.e. traffic flowing via Express Route seems fine. Has there been an address change or something like that? 

 "
Defect,CSOIOT-7145,Questions on sending SMS via Microservice from HITACHI,Hitachi Construction Machinery Co. 7312187,484,Closed,"Reddy, Yerpula Bharath Bhushan","Simeonova, Rumyana",6/7/23 18:47,Customer,10/4/23 10:51,,,2-High,None,"Opening this iTrac to track the fix deployment.  

As per the discussions two options are considered.  
# Full blown GA version when it is available. 
# Only the microservice version (This will lead to maintaining seperate versions for Microserivce and platform)  

As per the discussions, Ops will consider deployments once the related fixes are available. These fixes will follow regular fix roll out process.  

Please keep the iTrac updated with the progress of fix roll out."
Defect,CSOIOT-7144,[Gardner Denver] No device is sending data,CompAir Drucklufttechnik 7515080,484,Closed,"Welsing, Michael","Simeonova, Rumyana",6/12/23 8:09,Customer,9/13/23 10:54,,,1-Critical,None,"Hi OPS! 

Gardner Denver needs support with an issue with the MQTT core. 

They have online IOT devices that are not displaying any information into Cumulocity. 

All of the active devices sent data last time yesterday evening. 

Last alarms were sent around 8 PM GMT. So it seems something is wrong with the system right now! 

Cheers 

Michael"
Defect,CSOIOT-7143,Change domain for existing tenant on emea platform.,Eaton Industries GmbH 7518586,484,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",6/6/23 13:43,Customer,9/7/23 10:42,6-Jun-23,,3-Medium,3-Medium,"This request from customer..... 

Change domain of tenant with id: *t16425532* and URL: [*https://eatonnubisnet-qa.emea.cumulocity.com/*] 

to 

[https://blim-dev.dbt.machinery-monitoring.com/] 

Our Enterprise tenant is already at similar domain. 

[https://management.dbt.machinery-monitoring.com/]"
Defect,CSOIOT-7141,Nordex Prod performance issues - seems may be DB IO - ticket to PlusServer needed,Nordex SE,485,Closed,"Bieniak, Arkadiusz","Bieniak, Arkadiusz",6/9/23 9:39,Customer,6/9/23 9:39,,NORDEX,3-Medium,3-Medium,"Customer submitted performance issues, first look at OpsManager and grafana graphs shows io_wait, high disks util (with fairly low iops). 

This indicate potential IO issues -> PlusServer ticket will be created."
Defect,CSOIOT-7133,SSL certificates of cumonos.com and bodenexam.com,"Micro Technology Co., Ltd. 7515608",485,Closed,"Moon, Swai","Luczyszyn, Mikolaj (External)",6/12/23 10:16,Customer,9/7/23 10:43,,,2-High,None,"Hi Cloud Ops, 

The customer from Micro Technology wants to get their SSL Certificates for [cumonosu.com|http://cumonosu.com/] and [bodenexam.com.|http://bodenexam.com/] 

The customer had already requested Ops to gather and apply the certificates to their Enterprise Tenant but they will need to use these certificates for their system. Will it be possible to provide these SSL Certificates? 

Thanks for the help!"
Defect,CSOIOT-7122,Devices getting SSL error.,Kallipr Pty Ltd 7516856,485,Closed,"Neale, Robert","Makowski, Pawel (External)",7/3/23 8:46,Customer,2/20/24 10:11,22-Jun-23,,1-Critical,1-Critical,"Customer has asked.. 

  

""There are a cohort of devices that are experiencing connectivity issues and we are noticing an event which is intermittent, specifically CME Error 1005 - SSL Socket Error, which we are trying to investigate further. 

As part of that investigation, we wanted to know if there were any Cumulocity side server logs that could give us a better idea of what is causing that issue, at what stage of the device connecting to Cumulocity, etc."" 

  

This is on APJ cumulocity, tenant t6732232. 

  

See attached screenshots of device events showing error 'CME Error 1005 - SSL socket error'. Note times are for Australia. 

  

Is there any evidence in our logs of problems the tenant and devices may experience that would account for the events raised? 

 "
Defect,CSOIOT-7120,"Delete the Autosen tenant ""toro.io-key.ifm""",Autosen GmbH 7516454,486,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/6/23 13:40,Customer,9/6/23 10:51,,,3-Medium,3-Medium,"*Affected system* 

Autosen Tenant: https://toro.io-key.ifm (on C8Y Prod instance - *.cumulocity.com) 
Version: 10.16 

*Description of the Problem:* 

Autosen has asked to delete the tenant https://toro.io-key.ifm on C8Y Prod instance - *.cumulocity.com. 
Please suspend and then delete it permanently."
Defect,CSOIOT-7115,Trying to offload and getting configuration invalid error,Flexible Steel Lacing Company Inc 7519586,488,Closed,"Eha, Allan","Janus, Bartosz",6/5/23 9:00,Customer,9/4/23 10:55,,,3-Medium,3-Medium,"{color:#011f3d}increase the memory of both the coordinator (dremio-master-0) and the executor from 8 GB to 16 GB.{color} 

{color:#011f3d}-----------------------------------------------{color} 

{color:#011f3d}I understand you have been working with FlexCo where they were having memory errors.  Tim Doernemann recommended upgrading the memory for Flexco to work around their data issue.  Do you want an iTrac for this?{color} 

{color:#011f3d} {color} 

_Just to clarify: the amount of available memory hasn’t been increased yet. What happened so far is that [@Janus, Bartosz (External)|mailto:Bartosz.Janus@softwareag.com] did introduce a safety margin between the available memory and the “hard limit” of memory the system may consume. That did help, but only to stop crashes of components because of Out-of-memory-kills._ 

_The total memory needs to be increased. Since FlexCo has purchased DataHub using the node-based pricing model, there’s no cost increase w.r.t. to licensing. The kubeworker nodes also do seem to have some more RAM available, thus there should be no direct cost impact._ 

_Recommendation: increase the memory of both the coordinator (dremio-master-0) and the executor from 8 GB to 16 GB._ 

{*}_Root cause analysis_{*}{_}: *the customer has attached custom data to devices which can become quite large:* the field is named “{*}data{*}” and contains a potentially very long encoded string (up to 340kB), e.g. “eJwtWAl4VkWyrXu7b…. /DzNvrhE=”{_} 

_When offloading these documents from MongoDB, Dremio must reserve data in memory for each attribute/field – that’s 340kB+X for each device – X here is the amount of RAM needed for any other field per device. This applies to 15965 out of 25863 documents in the inventory._ 

_The Java Virtual Machine splits the memory into different sections (here: off heap memory is relevant) and thus only a part of the available 8 GB can be used._"
Defect,CSOIOT-7112,[Prod] Problem with Digital Twin Manager after 10.16 upgrade on *.cumulocity.com,Syntegon Technology Services AG 7520592,488,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/6/23 19:54,Customer,9/6/23 10:52,,,3-Medium,3-Medium,"*Affected system* 

All possible tenants on *.cumulocity.com instance which has subscribed to Digital Twin Manager already 

*Description of the Problem:* 

Syntegon reported a problem after upgrade to 10.16. Something weird happened with ""Digital Twin Manager"". It seems the older version 10.14 wasn't unsubscribed. So now all their subtenants have 2 DTM apps and DTM icon from app switcher is gone! Of course, unsubscribing to both DTMs and re-subscribing resolves the issue; but there are several tenants having same problem! 

*Note*: I have manually corrected the subscription for all Syntegon tenants. However, all other tenants on prod instance need to be checked and corrected via script."
Defect,CSOIOT-7101,Autosen expects upgrade to 10.16.0.237 version due to the fix they need!,Autosen GmbH 7516454,489,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/7/23 17:25,Customer,9/7/23 10:44,,,3-Medium,3-Medium,"*Affected system* 

Autosen tenant ""https://lwm2m.autosen.cloud"" on *.cumulocity.com (C8Y Prod) 

https://lwm2m.autosen.cloud/ 

*Description of the Problem:* 

Autosen reported an issue on LWM2M in 10.15.0.279 in March 2023 which was resolved in 10.16.0.237 version as part of fix provided in IOT-16756. 

iTrac: https://itrac.eur.ad.sag/browse/IOT-16756 
MTM: https://cumulocity.atlassian.net/browse/MTM-52252 

Ops upgraded *.cumulocity.com C*Y prod instance to 10.16.0.214 on 31st May. https://status.cumulocity.com/incidents/brcybrvf5j6r 

But, customer wants to have 10.16.0.237 or higher which has fix for their issue. 

Next approved GA2 is 10.16.0.256 as per Jens' email recently. 

Could you upgrade the platform to a release which has above fix included for customer? 
"
Defect,CSOIOT-7099,"Delete the Autosen tenant ""nexindio.autosen.cloud""",Autosen GmbH 7516454,490,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/2/23 14:08,Customer,11/30/23 5:04,,,3-Medium,3-Medium,"*Affected system* 

Autosen tenant ""nexindio.autosen.cloud"" (on *.cumulocity.com) 

*Description of the Problem:* 

Customer has asked to delete the autosen subtenant ""nexindio.autosen.cloud"", since it is no longer in use. 

Therefore, please delete the tenant ""nexindio.autosen.cloud"". 
"
Defect,CSOIOT-7094,Upgrade SBD environment to 10.16.,Stanley Black and Decker 7513816,490,Closed,"Talbert, Kent","Lisik, Milosz (External)",6/2/23 17:42,Customer,11/30/23 5:04,,,3-Medium,None,Upgrade SBD environment to 10.16.
Defect,CSOIOT-7082,A Connection from a C8Y Microservice to an Internal Server Timeout,"Itron, Inc. 7518541",491,Closed,"Talbert, Kent","Vukman, Tomislav",6/6/23 9:15,Customer,9/15/23 10:50,,,3-Medium,None,"Here's another question from Itron with regards to the network and Express Route.  Let me know if we need to push back on the customer. 

  

Itron is trying to connect to an application running on an internal server from a C8Y microservice, “Lwm2mshim-paul”, that we have developed. Unfortunately the connection is not successful, due to a timeout. The internal server has an IP address of: 10.59.89.206 and the IP port being used is 9501 (tcp). Itron communicates to/from C8Y via an Express Route connection. The URL being called from the microservice is: [https://10.59.89.206:9501/lwm2mcms/lwm2mcms/data|https://10.59.89.206:9501/lwm2mcms/lwm2mcms/data%22:] 

Can you please answer the following questions: 
# Is the network routing even in place to direct a call from the microservice to our internal server on IP address: 10.59.89.206 over the Express Route connection 
# If the answer to 1 is yes, can you please ask SAG OPs to do a traceroute from the server running the microservice to IP address: 10.59.89.206 so that we can determine where the packets are being blocked. 

Note: The microservice can successfully connect to the same port (9501) on the same application running on a server that is accessible from the Internet. 

  

Thanks, 

Kent"
User Story,CSOIOT-7071,CLONE - LwM2M agent throwing exception which is impacting Jemena Device connection to the platform,Telstra Corporation Limited 7514912,492,Completed,"Akin, Oezge","Radzali, Basyar",5/31/23 9:39,Customer,5/31/23 9:39,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ____APJ_____ Domain _____Telstra.com______ Version ____10.11_____ 
System Usage (Choose one of: Production / Test / Development): ___Production__ 
Time Zone: __AEST___ 

*Affected tenant* 

Tenant: jemenaprod 
Enterprise Tenant? Yes 
System accessible by R&D? Yes 
Jakub's email has access to Jemena's tenant. Please ask Jakub for the access.  

If you want to create access for your own email, please share your phone number together. 

*Device:* 
* Device manufacturer and type: __LwM2M__ 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? Since May 18th 

*Description of the Problem:* 

Jemena has reported significant reduction of their gateway stopped communicating with platform predominately since 18th May. 

So far 118 gateways stopped connecting since 18th May. Please see *attached email* that has additional information including device ID and last communication date/time. 

Telstra has done some analysis and found out a particular exception been thrown since 18th May by the Agent 1 (Please see attach *splunk analysis* on exception count). 

----------------------------------- 

2023-05-19 23:57:02.450 ERROR 88782 --- [CoapServer(main)#1214] o.e.l.c.californium.LwM2mCoapResource : Exception while handling request [CON-POST MID=38986, Token=8F0001, OptionSet=\{""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""lt=3000"",""lwm2m=1.0"",""ep=urn:imei:355946526909564"",""b=UQ""]}, ""</4827/0>,</30002/0>,</3"".. 96 bytes] on the resource /rd from Identity /172.29.0.143:36129[psk=0355946526909564] java.lang.NullPointerException: null 

-------------------------- 

Please find attached email that Telstra has sent to Ozge. This has additional information on the issue and the investigation Telstra has done."
Defect,CSOIOT-7070,[Gardner Denver] Unable to login as admin,CompAir Drucklufttechnik 7515080,492,Closed,"Bhatt, Vikas",Unassigned,6/1/23 14:17,Customer,9/4/23 10:59,,,2-High,2-High,"*Affected system* 

GD Prod: https://industrials.cas.irco.com/ 

*Description of the Problem:* 

As admin of the platform, customer is not able to login to the platform. 
He tried multiple times to login, but without success. 

Is there something that can be done as soon as possible?"
Defect,CSOIOT-7067,CLONE - Jemena Production - FOTA is failing for Jemenapreprod (Production) Tenancy,Telstra Corporation Limited 7514912,493,Closed,"Akin, Oezge","Vukman, Tomislav",6/5/23 13:02,Customer,6/5/23 13:02,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _{_}{{_}}APJ{{_}}{_}____ Domain __{_}{{_}}tesltra.com{{_}}{_}__ Version _{_}{{_}}10.11{{_}}{_}___ 
System Usage (Choose one of: Production / Test / Development): _{_}{{_}}Production{{_}}{_} 
Time Zone: _{_}{{_}}AEST{{_}}{_}_ 

*Affected tenant* 

Tenant: *jemenapreprod* 
Enterprise Tenant? Yes 
System accessible by R&D? Yes 
UserID  [jakub.kotorowicz@softwareag.com|mailto:jakub.kotorowicz@softwareag.com] (Username: jkoto)  Password {_}{{_}}Please ask Jakub for the password{{_}}{_}_ 

*Device:* 
* Device manufacturer and type: LwM2M 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? Always 
* Frequency - All the time  

*Description of the Problem:* 

Reporting another issue related to Jemena Production. The first Jemena Production issue was reported in IOT-17261 . 

End customer was experiencing FOTA failure for the gateway since {*}19th May 2023{*}. 

The same gateway had successful FOTA update before with same FOTA file. They are getting error code 4 connection lost . 

Device is connected and sending measurements which means the device is in reasonable coverage area and device is connected to the platform 

Debugging one of the gateways it appears that there is no response from the Firmware server once the URL (coap://172.29.0.143:5683/b70be582) is provided by C8Y.   FYI - The gateway makes 5 attempts within a minute to reach the firmware server before it gives up and fails the FOTA (error code 4 – connection lost) 

 IMEI: 355946526877696 

ICCID: 89610185003093331141 

Attached FOTA sequence of events for reference also screenshot of successful and unsuccessful FOTA update 

Last successful FOTA update on that device was *16:34 AEST* {*}18/05.{*}{*}{{*}} 

Telstra has restarted below instances on 18th May 12:15 AEST and the issue might not be related as Telstra saw they have done successful FOTA at 13:25 and 16:34 AEST on the 18th May which is after the restart. 

Restarts of below machines – Completed 
* i-0da094b24c647a788 (Telstra-Production-NEW-DB01) 
i-0c7c5abf58197905b (Telstra-Production-NEW-KubeWorker03) 
* i-059447fb5c1b6ec52 (Telstra-Production-NEW-agents-2) 
** *LWM2M Startup time* : _1620.737 seconds (JVM running for 1621.942)_ 
* i-0707175a7db5bace2 (Telstra-Production-NEW-KubeWorker02) 

Example log from Splunk for failed FOTA: 

----------------------------------- 

2023-05-23 07:37:25.930 DEBUG 88782 --- [CoapServer(main)#1564|#1564] c.c.l.a.s.s.f.FirmwareUpdateServiceImpl : Handling firmware update result change in device: ID [type=com_cumulocity_model_idtype_GId, value=6394], urn:imei:355946526877696 
2023-05-23 07:37:25.930 DEBUG 88782 --- [CoapServer(main)#1564|#1564] c.c.l.a.s.s.f.FirmwareUpdateServiceImpl : Creating corresponding firmware event for device ID [type=com_cumulocity_model_idtype_GId, value=6394] 
2023-05-23 07:37:25.950 ERROR 88782 --- [CoapServer(main)#1564|#1564] c.c.l.a.s.s.f.FirmwareUpdateServiceImpl : Firmware update is failed on device with result code: 4, current firmware update state: DELIVERING_FIRMWARE: Firmware Update Result: CONNECTION_LOST 
2023-05-23 07:37:25.950 DEBUG 88782 --- [CoapServer(main)#1564|#1564] c.c.l.a.s.s.f.FirmwareUpdateServiceImpl : Finishing firmware update process for device: ID [type=com_cumulocity_model_idtype_GId, value=6394] with error: Firmware update is failed on device with result code: 4, current firmware update state: DELIVERING_FIRMWARE: Firmware Update Result: CONNECTION_LOST 
2023-05-23 07:37:25.950 DEBUG 88782 --- [CoapServer(main)#1564|#1564] c.c.l.a.s.s.f.FirmwareUpdateServiceImpl : Creating corresponding firmware event for device ID [type=com_cumulocity_model_idtype_GId, value=6394] 
2023-05-23 07:37:25.962 DEBUG 88782 — [CoapServer(main)#1564|#1564] c.c.l.a.s.s.f.FirmwareUpdateServiceImpl : Canceling observation of /5/0/3 resource on device: ID -[type=com_cumulocity_model_idtype_GId, value=6394] 

---------------------------------- 

If you need other access to the tenant then please provide  with usename/email and phone number then I will ask Telstra to create for you. 

Since the issue is occurring in Production environment, please help check it in high propriety."
Defect,CSOIOT-7061,[DataHub] Offloading failures observed after the cumulocity platform upgrade from v10.15.0.358 to v10.15.0.386,Telstra Corporation Limited 7514912,495,Closed,"Song, Shaopeng (Jeffrey)","Radzali, Basyar",6/1/23 15:19,Customer,9/6/23 10:57,,,2-High,None,"h3. *Affected system* 

Installation type (Choose one of: Cloud/on-prem / Edge)? ____Cloud___ 

System Usage (Choose one of: Production / Test / Development): ___Test___ 

Version of Cumulocity IoT platform (or Edge): __10.15___ 

Version of Cumulocity IoT DataHub: ___10.15___ 

Version of Cumulocity IoT DataHub Engine (=Dremio): ___10.15___ 

Time Zone: ___AEST_____ 
h3. *Cloud details (only answer for Cloud/on-prem installation)* 

SAG Cloud: Region __APJ_____ Domain ____tesltra.com___ Version ___10.15____ 

Managed by (usual options: OPS / PS / customer): ____Customer____ 

Affected tenant: System-wide issue. 

DataHub Roles of affected user (choose (multiple) from administration/management/query, if none that may be the problem): _____query___ 

Enterprise Tenant? Yes 

System accessible by R&D? No 
h3. *Time period error was observed* 
* Start: ongoing. 
* Repeatability? Always 
* Frequency - All the time 

h3. *Description of the Problem* 

Is the problem related to periodic tasks (offloading) or ad-hoc tasks (queries, using the UI, …): ____Yes, Offloading failures___ 

In which context does the problem occur (data lake/DataHub UI/Dremio UI/API call): ___DataHub UI___ 

  

Please describe the problem in detail: 

Since the Cumulocity platform upgrade *from v10.15.0.358 to v10.15.0.386* in Telstra dev environment, customers are observing Offlaoding task failures in Datahub application. 

Also noticed errors in the datahub microservice since after the upgrade. 

Attached CDH microservice logs and screenshots for the same. 

Please look into this on priority as this is impacting customer's Datahub validation. 

  

Comment from Tim Doernemann: 

We think this is an {*}deployment issue{*}. Obviously, Dremio wasn't updated with the 10.15.0.4 upgrade. See attached screen shot Dremio.jpg."
Defect,CSOIOT-7049,"Please help subscribe Datahub microservice for GS test tenant ""jeanne.apj.cumulocity.com""",Telstra Corporation Limited 7514912,496,Closed,"Song, Shaopeng (Jeffrey)","Saaban, Asshad",5/29/23 8:21,Customer,11/15/23 10:16,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ___APJ_____ Domain ____cumulocity.com_____ Version ___10.16______ 
** 

*Description of the Problem:* 

Hello Ops team, 

Please help subscribe Datahub microservice for GS test tenant ""jeanne.apj.cumulocity.com"". 

This is for support internal test. 

Thanks, 

Jeffrey"
Defect,CSOIOT-7035,Nobody at Itron can register with any Cumulocity tenant,"Itron, Inc. 7518541",497,Closed,"Talbert, Kent",Unassigned,5/26/23 7:58,Customer,11/22/23 5:05,,,2-High,None,"This is across the express route, which the entire company uses. IP = 10.192.128.50. We simply need someone to do a packet capture for us on the SAG hosted side. We see the traffic get to the point to where we are sending the cipher suite (TLS_PSK_WITH_AES_ 128_CCM_8) from the client, but we never get a response back. 

  

 "
Defect,CSOIOT-7026,[Gardner Denver] The platform is very slow,CompAir Drucklufttechnik 7515080,497,Closed,"Bhatt, Vikas","Simeonova, Rumyana",5/30/23 8:06,Customer,11/27/23 5:05,,,2-High,2-High,"*Affected system* 

GD Prod: https://industrials.cas.irco.com/ 

*Description of the Problem:* 

Customer has raised the concern that their tenant is running very slow on performance. 

Please see the short video showing how slow the platform is. 

They cannot access assets, the one in the video is just an example. 

Is there anything that can be done to make it better? 


*Video*: 

!Recording 2023-05-24 at 09.57.00.gif!"
Defect,CSOIOT-7005,Delete Subtenant test-perdok.io-key.ifm,Autosen GmbH 7516454,498,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",5/23/23 14:19,Customer,11/20/23 5:06,,,3-Medium,3-Medium,"please delete the subtenant test-perdok.io-key.ifm. 

  

This on cumulocity prod.  

  

!image-2023-05-23-10-37-34-199.png!"
Defect,CSOIOT-7001,Delete Eppendorf tenants on EMEA instance,Eppendorf SE 7517606,499,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",5/25/23 13:30,Customer,11/22/23 5:05,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: t148472472, t275282025, t69848633 

*Description of the Problem:* 

Customer has requested to delete the following tenants on EMEA instance: 

Tenant ID: t148472472, t275282025, t69848633"
Defect,CSOIOT-6944,SSO not possible,Syntegon Technology Services AG 7520592,502,Closed,"Welsing, Michael","Vukman, Tomislav",5/25/23 8:22,Customer,11/29/23 5:05,,,1-Critical,2-High,"Tenant ID: t1412560088  
Tenant URL: syntegon-test.cumulocity.com 

Syntegon has issues with their SSO login on their tenants. (C8Y PROD Instance - *.cumulocity.com) 
Here is the list of their management tenants which have several sub-tenants under these. 
!Syntegon Tenants.png|thumbnail! 

SSO is no longer working on all their tenants. This affects also all the customer tenants of Syntegon. 

Screenshots of the errors they got: 
!image-1-19.png|thumbnail! 
!image-38.png|thumbnail!"
Defect,CSOIOT-6931,We receive security errors.,Kemin Europa 7517950,504,Closed,"Welsing, Michael","Vukman, Tomislav",5/22/23 15:48,Customer,11/27/23 5:06,,,1-Critical,None,"Hi Ops, 

customer complains that they did no changes to system or the microservice ""ewon"", but runs into a security exceptions from our api when doing a re-deploy of the mentioned microservice. 
{code:java} 
2023-05-16 14:37:40.990 ERROR 89486 — [TaskScheduler-1] c.c.a.e.repository.IdentityRepository : 
com.cumulocity.sdk.client.SDKException: Http status code: 401 
{error=""security/Unauthorized"",message=""Invalid credentials! : Bad credentials"",info=""[https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"",details=""null""} 
|https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting%22,details=%22null%22%7D] 
at com.cumulocity.sdk.client.ResponseParser.checkStatus(ResponseParser.java:75) 
at com.cumulocity.sdk.client.ResponseParser.parse(ResponseParser.java:57) 
at com.cumulocity.sdk.client.RestConnector.get(RestConnector.java:118) 
at com.cumulocity.sdk.client.identity.IdentityApiImpl.getExternalId(IdentityApiImpl.java:72) 
at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 
at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) 
at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 
at java.base/java.lang.reflect.Method.invoke(Method.java:566) 
at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) 
at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) 
at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) 
at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) 
at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) 
at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) 
at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) 
at com.sun.proxy.$Proxy140.getExternalId(Unknown Source) 
at com.cumulocity.agent.ewon.repository.IdentityRepository.getIdentity(IdentityRepository.java:29) 
{code} 
For them this is a critical issue as without this microservice up and running production environment is not taking in data anymore! 

— 

After this initial report by Kemin I asked for more details on what they did: 

They use internal SDK code. So normally an internal user is being used. They receive this user upon application subscription. It is ther impression that this internal user is not able to get the correct permissions. 

Did anything change on the platform that can trigger this? 

— 

Next they provided some more HTTP debug. They state they call the service with security info. 

Can you explain why we receive the security exception? 
{noformat} 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> GET /inventory/managedObjects/10667513 HTTP/1.1 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> Authorization: Basic dDcyMTg5OTM4OS9zZXJ2aWNlX2V3b246b0hVaWZKN0gwZngxVVVDYjdKUHJybDlPNzRmUkM2elo= 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> Accept: application/vnd.com.nsn.cumulocity.managedObject+json;charset=UTF-8;ver=0.9 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> X-Cumulocity-Application-Key: ewon 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> User-Agent: Jersey/2.33 (Apache HttpClient 4.5.13) 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> Host: management.dev.keminconnect.com 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> Connection: Keep-Alive 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 >> Accept-Encoding: gzip,deflate 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""GET /inventory/managedObjects/10667513 HTTP/1.1[\r][\n]"" 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""Authorization: Basic dDcyMTg5OTM4OS9zZXJ2aWNlX2V3b246b0hVaWZKN0gwZngxVVVDYjdKUHJybDlPNzRmUkM2elo=[\r][\n]"" 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""Accept: application/vnd.com.nsn.cumulocity.managedObject+json;charset=UTF-8;ver=0.9[\r][\n]"" 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""X-Cumulocity-Application-Key: ewon[\r][\n]"" 
2023-05-16 16:04:41.401 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""User-Agent: Jersey/2.33 (Apache HttpClient 4.5.13)[\r][\n]"" 
2023-05-16 16:04:41.402 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""Host: management.dev.keminconnect.com[\r][\n]"" 
2023-05-16 16:04:41.402 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""Connection: Keep-Alive[\r][\n]"" 
2023-05-16 16:04:41.402 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""Accept-Encoding: gzip,deflate[\r][\n]"" 
2023-05-16 16:04:41.402 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 >> ""[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""HTTP/1.1 401 Unauthorized[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Date: Tue, 16 May 2023 14:04:41 GMT[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Content-Type: application/vnd.com.nsn.cumulocity.error+json;charset=UTF-8 ;ver=0.9[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Content-Length: 200[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Connection: keep-alive[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Cache-Control: no-cache, no-store, max-age=0, must-revalidate[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Pragma: no-cache[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Expires: 0[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""X-XSS-Protection: 1; mode=block[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""X-Frame-Options: DENY[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""X-Content-Type-Options: nosniff[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""WWW-Authenticate: Basic realm=""Name of Your Realm""[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""Strict-Transport-Security: max-age=31536000; includeSubDomains[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""[\r][\n]"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.wire : http-outgoing-3 << ""{""error"":""security/Unauthorized"",""message"":""Invalid credentials! : Bad credentials"",""info"":""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting""}"" 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 << HTTP/1.1 401 Unauthorized 
2023-05-16 16:04:41.432 DEBUG 99991 --- [subscriptions-0] org.apache.http.headers : http-outgoing-3 << Date: Tue, 16 May 2023 14:04:41 GMT{noformat} 
If they use a curl command like the following it works perfectly: 

curl --location '[https://management.dev.keminconnect.com/inventory/managedObjects/10667513'] 
--header 'Authorization: Basic dDcyMTg5OTM4OS9zZXJ2aWNlX2V3b246b0hVaWZKN0gwZngxVVVDYjdKUHJybDlPNzRmUkM2elo=' 

--- 

In the meantime, customer reported that the unsubscribe/subscribe is working again and R&D did a first analysis: 

— for customers (please think if this is not too detailed) — 

In case of resubscribe there is a rare known issue with user cache in core. 

More precisely, for every microservice there is a special ""service user"" created during subscription with generated password (in this situation it is ""service_ewon""). Users are cached on each platform node in distributed system and during any changes or deleting the user, caches are synchronized by internal requests between nodes. 

In rare situations there is a possibility that one of nodes does not receive the broadcasted message and cache on this node is not evicted. After resubscription the same user is deleted and created, and one of nodes can have old credentials memorized. We need to manually evict particular cache or restart the core (then all caches are evicted, but this is a heavier operation). 

— for Ops team — 

I have gathered the information from logs: 
tenantId: t721899389 
user: service_ewon 

We need to send following request from inside of the k8s cluster to each core node on this environment: 
{code:java} 
url --location --request POST ""http://<node_ip>:8181/broadcast/?tenantId=t721899389&cacheName=userByName&key=service_ewon""  \ --header ""Broadcast-Tenant: t721899389"" --header ""Broadcast-Channel: evict"" --header ""Content-Type: application/json"" --header ""Source-NodeAddress: localhost"" 
{code} 
* please fill in <node_ip> for each platform node 
* in ""Source-NodeAddress"": you can use ""localhost"" or IP of one of existing nodes (then request simulates broadcast from Source-NodeAddress to all other nodes) 

-- 
h1. *QUESTIONS TO OPS:* 
# *Were core nodes restarted recently?* 
# *Was the above command executed yesterday or this morning?* 
# *If not, what was the root cause for the issue seen by customer?* 

 "
Defect,CSOIOT-6929,RSA ERROR,Syntegon Technology Services AG 7520592,505,Closed,"Welsing, Michael","Vukman, Tomislav",5/23/23 16:19,Customer,11/29/23 5:05,,,1-Critical,None,"Hello OPS, 

Syntegon is facing the Attached Error on their Productive Customertenants. 
{noformat} 
""error"": ""security/Unauthorized"", 
""message"": ""Incorrect access token : RSA Signature did not match content"", 
""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
}{noformat} 
It appears no mather if SSO or Local login. 

Please check urgently!"
Defect,CSOIOT-6927,Problem with Oauth authentication cumulocity.com,Liebherr-Werk Nenzing GmbH 7516355,505,Closed,"Neale, Robert","Vukman, Tomislav",5/22/23 8:03,Customer,9/13/23 11:00,17-May-23,,1-Critical,3-Medium,"Currently on cumulocity prod when I use Oauth authentication .. 
  
!image-2023-05-17-08-26-48-907.png! 
  
Appears sporadically. 
  
Seeing lots of calls in the UI fail with http 401, then same call work moments later. 
!image-2023-05-17-08-27-49-752.png!"
Defect,CSOIOT-6925,Enable TLS 1.3 on Hillrom Production enviroment,"HILL-ROM Holdings, Inc. 7517970",505,Closed,"Talbert, Kent","Pham, Hoang",5/23/23 7:24,Customer,11/19/23 5:05,,,3-Medium,None,"Hillrom Production Environment. 

  

Below is the TLS setup customer would like on the production tenant at your earliest convenience: 

TLS 1.0 and 1.1 – These must remain disabled due both being considered unsecure. 

TLS 1.2 – This must remain enabled to support devices that use 1.2 today. 

TLS 1.3 – This should be enabled to support the devices that are 1.3 capable or will be in the future. 

  

Please let me know if you have any questions or need any further information from the customer. 

  

Thanks, 

Kent"
Defect,CSOIOT-6918,Request to update our production instance to 10.15,Solenis LLC 7512378,505,Closed,"Welsing, Michael","Lisik, Milosz (External)",5/25/23 9:21,Customer,11/22/23 5:06,25-May-23,,4-Low,None,"Hello OPS, 

SOLENIS is asking for an update to 10.15 version? 

Instance- [management.iot.solenis.com|http://management.iot.solenis.com/] 

Current version - 10.14 

Update needed for - 10.15 

They want to have it early next week. I know this time frame is wishful thinking and I will let them know, that this will most probably not happen within tis short period, but it is highly appreciated if you can tell me what time frame would be possible or if an update is planned already. 

Thanks!"
Defect,CSOIOT-6879,Trying to offload and getting configuration invalid error,Flexible Steel Lacing Company Inc 7519586,506,Closed,"Eha, Allan","Pham, Hoang",5/26/23 7:58,Customer,11/27/23 5:06,,,3-Medium,3-Medium,"Flexco 

https://staging.flexcoelevatedashboard.com/ 

You may need the Dremio admin user access.  We think that the customer is bumping into the ""store.plugin.max_metadata_leaf_columns"" setting that is at 20000. 

Can you please increase this number?"
Defect,CSOIOT-6878,EPL app is not stable when listening the event that sending every 1-2 seconds,AiFlux Limited 7520194,506,Closed,"Schon, Gregor","Lundsten, Alf",5/29/23 8:20,Customer,9/12/23 11:35,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region:  EMEA , 

Platform is  apj.cumulocity.com (Sounds strang but that is what I found. 

*Affected tenant* 

  

*EPL app named “Core - DrawDataFMC125ToEvent” in the tenant* {*}t27005814{*}{*}{*} 

*I myself do not have access currently.*  

*Issue associated device, application and/or microservice* 

*EPL app named “Core - DrawDataFMC125ToEvent”* 

*: !_thumb_440658.png|thumbnail!* 
*   

*Protocol used?* 
* MQTT / Rest / Smart REST / Other _______________ 

*Time period error was observed:* 
* Start: __on Friday___  suppose to be  ongoing. 
* Repeatability?   I will ask that Frequency - All the time / First load of an application / Time of day: ________________ 

*Description of the Problem:* 

Hi there, 

I have deployed the EPL app named “Core - DrawDataFMC125ToEvent” in the tenant *t27005814* which is to listen the event “\{{c8y_receivDataFromDeviceFMC125” }}having raw data from the device . This EPL app will read the raw data and send: 
* 1 event message for location 
* 1 measurement message 
* 1 ignition ON/OFF for the vehicle. 

This EPL is not stable at all , sometimes work , sometimes stop working without any notification ( EPL still active but no longer receive and publish any messages above , I need to reactivate this EPL and everything works fine again). 

Together with Incident *SI-505435 , I believe something wrong with this tenant, pls help urgently check and resolve,* 

Attached the image to show that raw event “c8y_receivDataFromDeviceFMC125” stil can be received and stored, but EPL could not listen ( could not find out any log in Apama-ctrl-1c-4g for this ) 

P/s: “{*}c8y_receivDataFromDeviceFMC125{*}” have spelling but confirm it’s correct defined event name ."
Defect,CSOIOT-6877,Revert DTLS changes and increase DTLS restransmissionTimeout,,506,Closed,"Lekarov, Grigor","Valkov, Milen",5/16/23 13:40,Customer,5/16/23 13:40,,,3-Medium,None,"This request comes from iTron regarding the IOT-17258. The LWM2M agent DTLS configuration is false set, which in network latency leads lwm2m agent to flood the device during the DTLS handshake. 

Could you please remove the following lines from  /etc/lwm2m/lwm2m-agent-server.properties   configuration file: 
{code:java} 
eclipse.californium.scandium.dtlsConnector.retransmissionTimeout=300 
eclipse.californium.scandium.dtlsConnector.maxRetransmissionTimeout=300 
eclipse.californium.scandium.dtlsConnector.maxRetransmissions=300 
eclipse.californium.scandium.dtlsConnector.maxConnections=300 {code} 
and replace them with the follwing: 
{code:java} 
# Initial retransmission timeout (in milliseconds) 
eclipse.californium.scandium.dtlsConnector.retransmissionTimeout=10000 
# Maximum retransmission timeout (in milliseconds). This value must not be lower than eclipse.californium.scandium.dtlsConnector.retransmissionTimeout valie 
# eclipse.californium.scandium.dtlsConnector.maxRetransmissionTimeout=60000 
# Maximum numbers of DTLS retransmissions 
eclipse.californium.scandium.dtlsConnector.maxRetransmissions=10 
# Maximum active connections supported by the connector 
# eclipse.californium.scandium.dtlsConnector.maxConnections=150000 {code} 
After this change a restart of the lwm2m-agent service is required. 

Thank you! 

 "
Defect,CSOIOT-6875,[Post Luxemburg] Provide the CSR file to renew TLS certificate,POST Telecom S.A. 7515101,506,Closed,"Bhatt, Vikas","Vukman, Tomislav",5/22/23 10:44,Customer,11/19/23 5:05,,,3-Medium,3-Medium,"*Affected system* 

post-iot.lu (Post Luxemburg) 

*Description of the Problem:* 

post-iot.lu (Post Luxemburg) was recently migrated to Public Cloud on EMEA instance. 

They have raised a ticket saying their TLS certificate is expiring in July. 


{code:java} 
Certificate name Certificate expiration date Order number 
*.post-iot.lu 07/10/2023 228555942 
Additional URLs/SANs Order expiration date 
2 07/12/2023 
{code} 

So we asked them to request their custom domain provider with a new certificate. 

But, to renew the cert, they need the .CSR file generated on C8Y side(server side) to proceed further. 

Could you please provide us with .CSR? 
"
Defect,CSOIOT-6868,[Gardner Denver] Trace the IP address activities of a user,CompAir Drucklufttechnik 7515080,506,Closed,"Bhatt, Vikas","Vukman, Tomislav",5/23/23 16:17,Customer,11/20/23 5:07,,,3-Medium,3-Medium,"*Affected system* 

Tenant: https://industrials.cas.irco.com/ 
Version: 10.7 

*Description of the Problem:* 

Customer has asked to provide them the support to track the activity of a platform user. 

Is it possible to trace the IP address activities of user: ""*Aniello.Vitola@comair.it*""? 
Basically from which IP he logged in and perform any activity in the Cumulocity portal starting with April 1st, 2023. 

*Note from Support*: - 

I told customer that most of the users' activities are available in the 'Audit Logs' in 'Administration > Accounts > Audit Logs' section in the UI. 

So I asked him to clarify the purpose behind tracking the IP of this particular user. 

Then customer sent this answer: - 

""One of our distributors from Italy requested the IP addresses used by his user for an internal investigation. 
I don’t have too many details on that, but I assume he did something wrong that might impact the distributor. 
Audit logs is showing the activity within the platform and that information has been sent to the distributor, but do you have any information about the IP addresses that the username used to connect?"""
Defect,CSOIOT-6865,LoRaWAN Device Protocol decoding not working (OPS),WAINS GmbH 7518016,509,Closed,"Eha, Allan","Bizhev, Ivan",5/17/23 19:09,Customer,11/14/23 5:03,,,3-Medium,3-Medium,"* *Tenant Name:* 
t551217243 
* 
*Tenant URL:* 
[https://wains.eu-latest.cumulocity.com/] 

  

R&D are asking for LoRaWAN logs for this tenant.  I assume include 4-May to 6-May would be good: 

{color:#0747a6}_We would like to have logs before the 5th of May and after the 5th of May. On analysis of the logs, we can get an understanding of why the measurements werent getting created before the 5th. It could be that the core is unreachable. The logs at least before the 5th of May would be very helpful for us._{color}  

 "
Defect,CSOIOT-6864,Failed to connect Pulsar producer Pulsar NotificationPublishService,AiFlux Limited 7520194,509,Closed,"Welsing, Michael","Vukman, Tomislav",5/25/23 9:19,Customer,9/12/23 11:35,,,1-Critical,None,"Hi Ops, 

a customer has issues with Pulsar. 

The customer gets the error *“Failed to connect Pulsar producer Pulsar NotificationPublishService”.* 

He gets this when creating a new epl app or updating an existing one. 

On the screenshots you can see that return code is 500 Internal Server Error. 

tenantID: *t27005814* 
tenantURL: \{*}https://adsb-poc.apj.cumulocity.com/{*}{*}{*} 

Customers sees this as blocker!"
Defect,CSOIOT-6769,Install a license for your domain,phios ag 7518987,510,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",5/15/23 14:37,Customer,11/23/23 5:04,,,2-High,None,"  
Hey, 

can you rename two subtenants: 

*Tenant-Id:* 
t1189211355 
*Old-tenant-domain:* 
[emt-prod.cumulocity.com|http://emt-prod.cumulocity.com/] 
*New-tenant-domain:* 
[bmp.emt.connect.liebherr.com|http://bmp.emt.connect.liebherr.com/] 

*Tenant-Id:* 
t1179904024 
*Old-tenant-domain:* 
[emt-staging.cumulocity.com|http://emt-staging.cumulocity.com/] 
*New-tenant-domain:* 
bmp-staging.emt.connect.liebherr.com 

thanks 

Michael"
Defect,CSOIOT-6767,INVESTIGATION NEEDED - [Itron] Add DNS servers to enable resolving of the FQDN for Itron Internal Servers,"Itron, Inc. 7518541",510,Closed,"Simeonova, Rumyana",Unassigned,5/11/23 12:20,Customer,5/11/23 12:20,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: envd417247 
Tenant URL : https://envd417247.c8y.sag.idealabs.cloud/ 

*Description of the Problem:* 

Customer has requested the following from the Ops: - 

For development purposes, Itron would like to establish connections from our C8Y instance to various applications running on Itron internal servers. To enable resolving of the fully qualified domain name (FQDN) of these applications; can you please add the following DNS servers to the resolve.conf file of the Linux machines hosting the Itron C8Y instance? 
The IPs of the Itron DNS servers are: 

10.57.132.15 

10.57.132.16 

10.57.201.202 

10.57.201.203 

10.57.132.28 

As a test, once the above DNS servers have been added: 
*team-slv04-install-3.eng.ssnsgs.net* should resolve to 10.59.89.206"
User Story,CSOIOT-6766,CLONE - Ticket escalated to Hot -- Jemena Production tenancy- critical alarm 946,Telstra Corporation Limited 7514912,510,Completed,"Lundsten, Alf","Lundsten, Alf",5/11/23 14:40,Customer,5/15/23 6:11,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: {_}{{_}}{{_}}{{_}}{{_}}APJ{{_}}{{_}}{{_}}{{_}} Version {{_}}{{_}}{{_}}{{_}}10.15{{_}}{{_}}{{_}}{{_}}{_}_ 
Time Zone: {_}{{_}}{{_}}{{_}}ADET{{_}}{{_}}{{_}}{_} 

*Affected tenant* 

Tenant: Jemena’s production tenancy. 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Please let me know if you need login to the tenant. If yes, please provide the username and phone number of the person who want to log as Telstra enabled TFA for users.* 

*Attach files...*   Please find the communication email between Ops and Telstra. 

*Description of the Problem:* 

As per discussion over email, raising this ticket regarding alarms related to Jemena’s production tenancy. 

As SAG moved Jemena from cep-small to cep-medium but alarm did not cleared and it is still coming. 

So as suggested, creating this iTrac to Ops/R&D to check where the bottleneck is. 

Please find attached email for more information. I noticed Alf has been aware of this issue. 

*Device type: LwM2M.* 

*Latest status:*  

End customer Jemena is observing massive delay in data processing. Jemena has confirmed that whilst gateways have been sending meter readings on a daily basis (and the objects are being received), No meter measurement data has been processed since the 1st of May. 
# Need to understand if there is a processing limit of Cep Medium application and if we are hitting those thresholds. 
# How do improve application event processing capacity e.g. do we have CEP Large? or what is next progression path 
# What is the impact as customer has reported no data processed since 1st May, are those data going to be lost? 

Attached application log. 

  

Also, Jemena ran a report to extract the measurement data from all meters from the period 1 May to today.  

The report for 1 May returned 30,547 meter reading measurements, (There are ~100,000 meters) and no meter readings measurements for 2nd, 3rd, 4th, 5th of May. 

Jemena ran the 1st May report again 30 minutes later and there was +*no increase in the number of readings.*+  

It appears something has stopped rather than slowed down. 

Please check the Jemena communication email in attachment (RE Jemena performance.oft)."
Defect,CSOIOT-6764,Need lwm2m-agent log from Itron environment.,"Itron, Inc. 7518541",511,Closed,"Talbert, Kent","Lundsten, Alf",5/11/23 15:55,Customer,10/16/23 10:57,,,3-Medium,None,"Can you capture the lwm2m-agent log from Itron environment from yesterday (9-May) for me?  I need it from around 14:00 to 20:00. 

  

Thanks, 

Kent"
Defect,CSOIOT-6753,[Gardner Denver] Users reported that they are not able to login,CompAir Drucklufttechnik 7515080,512,Closed,"Bhatt, Vikas","Janus, Bartosz",5/12/23 10:18,Customer,8/19/23 10:05,,,2-High,2-High,"*Affected system* 

industrials 

https://industrials.cas.irco.com/apps/cockpit/index.html#/ 

*Description of the Problem:* 

Customer reported they are experiencing major issues with the login to the Cumulocity platform. 

Even Admin user is not able to login. 

Please let us know what’s going on and resolve this issue."
Defect,CSOIOT-6750,Delete Unused Tenants from EU-Latest instance,Software AG 3101000,512,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",5/12/23 10:51,Customer,11/9/23 5:07,,,3-Medium,3-Medium,"*Affected system* 

summit2022.eu-latest.cumulocity.com 
cutraining.eu-latest.cumulocity.com 
damay.eu-latest.cumulocity.com 
acustomer.eu-latest.cumulocity.com 

*Description of the Problem:* 

Please delete following 4 tenants from eu-latest instance: - 

summit2022.eu-latest.cumulocity.com 
cutraining.eu-latest.cumulocity.com 
damay.eu-latest.cumulocity.com 
acustomer.eu-latest.cumulocity.com 

""Pilatus-Keller, Anne"" from Learning and Certification department has asked for this request."
Defect,CSOIOT-6748,Please delete a Tenant for us,Eppendorf SE 7517606,512,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",5/9/23 13:51,Customer,11/6/23 5:04,9-May-23,,3-Medium,3-Medium,"This request from Eppendorf...... 

  

Delete customer subtenant from PROD on our emea instance 

URL: [651a6b0d16b741e0b0eb97d1e13a68cd.visionizedigitallabspace.eppendorf.com|http://651a6b0d16b741e0b0eb97d1e13a68cd.visionizedigitallabspace.eppendorf.com/] 

TenantID: t285471322"
Defect,CSOIOT-6734,Please delete some Tenants for us on eu-latest,Eppendorf SE 7517606,512,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",5/10/23 10:49,Customer,11/8/23 5:04,,,3-Medium,None,"Hi Ops, 

Eppendorf came up with a huge request for tenant deletion on eu-latest environment. Please delete all of these below tenants for them. 

This should be 69 tenants and all of them are suspended. One tenant of this management tenant shall not be deleted. 
{noformat} 
epptenant001 
epptenant002 
epptenant003 
epptenant004 
epptenant005 
t1027011521 

t1143568454 
t1143586969 
t1145449471 
t1153335933 
t1153422911 
t1164833595 
t1180250604 
t1180418380 
t1192268710 
t1192278490 
t1193609681 
t1193654597 
t1193689963 
t1193764533 
t1194085871 
t1194106420 

t1194131189 
t1200729162 
t1200754289 
t1200769899 


t1228273922 
t1228288290 
t1401596549 
t1401602742 
t145666859 

t176285680 
t204951204 
t204971378 
t241561442 
t241656948 

t254254749 
t25691805 

t283650128 
t283654567 

t288467618 
t288485170 
t288636111 

t306467454 
t311859152 
t311923859 

t312206825 
t312212805 
t313217391 

t314389138 

t350138743 

t356015297 

t460924253 
t49592776 
t50753791 
t51217869 
t531188866 
t532591799 
t657736136 
t698354049 
t790508871 
t814277587 
t88264916 
t986935251 
t986960828 
t986971113 
t986985407 
t987050070 
t991889860{noformat} 
thanks 

Michael"
Defect,CSOIOT-6729,[Hilti] Prod - Provide the generated heapdump,Hilti AG 3158,513,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",5/9/23 15:59,Customer,11/20/23 5:07,,,2-High,2-High,"*Affected system* 

Hilti Prod Tenant 

Tenant ID: t978904552 
Tenant URL: https://iot.dmp.hilti.com/apps/administration/index.html#/microservices/49/logs 

*Description of the Problem:* 

Customer has requested the following from Ops: - 

We have an issue in one microservice in PROD that is running out of memory, we generated the heapdump. It should be in heap dumps 
/var/log/dmp-masterdata-service/heap-dump-pid.hprof 

Could you please get it for us as it will be important to find the leak? 

Path of microservice: 

Ecosystem>Microservices>Dmp-masterdata-service 

*Note*: 

They had a similar issue/request few weeks ago in CSOIOT-5856 

It would be excellent to fulfil this request since we are currently in the negotiation phase for the contract prolongation (3 years). 
"
Defect,CSOIOT-6721,Plattform down - 502 Bad Gateway,A1 Digital International GmbH 7515651,513,Closed,"Schon, Gregor","Valkov, Milen",5/10/23 9:42,Customer,9/4/23 11:06,,,1-Critical,None,"*Necessary iTrac information*  
*Affected system* 
  **   *(management.iot.a1.digital)* 

lease suspend tenant → t1573623 

Vienna (DR Frankfurt) 

*Affected tenant* 

Tenant: ___t1573623______________ OR System-wide issue. 
** 

*Description of the Problem:* 

Hi guys, 
due to many api requests our platform crashes (management.iot.a1.digital) 

Please suspend tenant → t1573623 

Boyan K. has prepared 2 additional cores which have to be activated. 

Please proceed with activation. 

Thx, 

Dejvid"
Defect,CSOIOT-6710,Reset the changes done for mqtt.max.message.size (aitrios.sony-semicon.com),Sony Semiconductor Solutions Corp. 7519751,514,Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",5/9/23 6:02,Customer,11/13/23 5:05,11-May-23,,2-High,2-High,"This extn of IOT-17018/IOT-16749 and CSOIOT-6329 
1. Customer is suspecting some side effects after changing the values for mqtt.max.message.size CSOIOT-6329. 

Since this became a blocking issue, they want to revert the changes done for mqtt.max.message.size 

Tenant: *.aitrios.sony-semicon.com 

Please revert the changes done and set the value to the default value. 

  

2. Also to investigate the issue, IOT-17018 

R&D is looking for the access to the environment. If this can be provided, can you please connect with R&D to what level of access they need. Also, if we have access to the tenant is it possible to create a user for R&D to check it further? 

 "
Defect,CSOIOT-6708,"Not receiving password creation/reset emails when using no-reply@itron.com as sender email address,","Itron, Inc. 7518541",516,Closed,"Talbert, Kent",Unassigned,5/12/23 9:24,Customer,11/19/23 5:06,,,3-Medium,None,"Itron environment 

https://management.c8y.sag.idealabs.cloud/ 

  
Itron wants to change the sender email address to no-reply@itron.com instead of [no-reply@itrondashboard.com|mailto:no-reply@itrondashboard.com] 
  
When changing it in the management tenant to use no-reply@itron.com, we don't receive any emails. If we use something like no-reply@itron55.com, it works. 
  
Is itron.com blocked by the mail server somehow?  Or some other reason that doesn't work?"
Defect,CSOIOT-6706,Install a license for your domain,phios ag 7518987,516,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",5/11/23 14:42,Customer,11/23/23 5:04,,,2-High,None,"Hey, 

customer wants to change domain. I was told, that if customer has uploaded a valid certificate you can change the license. A valid license is in place, so can you check emt.cumlocity.com for which domain name a license is needed and put that in place? 

thanks a lot 

Michael"
Defect,CSOIOT-6705,General slowness critical performance on tenant Tralux,POST Telecom S.A. 7515101,516,Closed,"Welsing, Michael","Pham, Hoang",5/15/23 14:10,Customer,11/9/23 5:07,,,1-Critical,None,"Hi Ops, 

POST Telecom sees a huge slowness on the environment. Can you please check if there is anything suspicious ongoing? A video on the behavior can be found on dracoon! 

Thanks 

Michael"
Defect,CSOIOT-6700,[Itron] Add DNS servers to enable resolving of the FQDN for Itron Internal Servers,"Itron, Inc. 7518541",517,Closed,"Bhatt, Vikas",Unassigned,5/25/23 8:27,Customer,11/26/23 5:04,29-May-23,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: envd417247 
Tenant URL : https://envd417247.c8y.sag.idealabs.cloud/ 

*Description of the Problem:* 

Customer has requested the following from the Ops: - 

For development purposes, Itron would like to establish connections from our C8Y instance to various applications running on Itron internal servers. To enable resolving of the fully qualified domain name (FQDN) of these applications; can you please add the following DNS servers to the resolve.conf file of the Linux machines hosting the Itron C8Y instance? 
The IPs of the Itron DNS servers are: 

10.57.132.15 

10.57.132.16 

10.57.201.202 

10.57.201.203 

10.57.132.28 

As a test, once the above DNS servers have been added: 
*team-slv04-install-3.eng.ssnsgs.net* should resolve to 10.59.89.206"
Defect,CSOIOT-6699,Need lwm2m agent 10.15.0.369 installed on Itron environment.,"Itron, Inc. 7518541",517,Closed,"Talbert, Kent","Kehayov, Boyan",5/15/23 14:11,Customer,11/12/23 5:04,,,2-High,None,"Please install lwm2m agent 10.15.0.369 on Itron environment.  Can you let me know when it can be done and how long it will take?  I'm assuming there will be some down time. FYI, customer would like to have this done as soon as possible. 

  

Thanks, 

Kent"
Defect,CSOIOT-6698,[GD] Database backup,CompAir Drucklufttechnik 7515080,517,Closed,"Eha, Allan",Unassigned,5/12/23 9:22,Customer,10/12/23 10:50,,,3-Medium,3-Medium,"Tenant: [https://industrials.cas.irco.com/] 

Gardner Denver would like to have a backup made of their tenant. 

""we finally were not able to extract data from the last backup you provided us in ticket [SI-495019|https://transfer.softwareag.com/node/281042]  . My colleagues told me they couldnt because it appeared to them as corrupted. I wonder if the format you gave us for that file was different from the backup in ticket SI-486555 that we were able to get it. Would it be possible to get a new updated backup with similar format as the file .gz file in ticket SI-486555?"" 

  
Gardner Denver just looked at the backup you made for them back at the end of February and they are stating that ""we finally were not able to extract data from the last backup you provided"". 
Can we provide a small sample of a backup and then when they confirm it is the right format, then create the full backup? 
Is there some way to create several smaller files for a backup to cover everything?"
Defect,CSOIOT-6693,LwM2M agent provisioning,WIKA Alexander Wiegand SE & Co. KG 7520672,518,Closed,"Talbert, Kent","Lundsten, Alf",5/9/23 6:14,Customer,11/2/23 5:04,,,3-Medium,None,"EMEA environment 

Please enable lwm2m agent on tenant:  

Tenant URL: [management.wika.io|http://management.wika.io/] 

Tenant ID:  t134331102 

  

Thanks, 

Kent"
Defect,CSOIOT-6692,Data push results in a response ACK 404,"Itron, Inc. 7518541",518,Closed,"Eha, Allan","Kehayov, Boyan",5/9/23 15:37,Customer,11/13/23 5:05,,,3-Medium,3-Medium,"We need some LWM2M logs for Itron. 

[https://envd417247.c8y.sag.idealabs.cloud/apps/devicemanagement/index.html] 

Please check between epoch time *1683124500* and {*}1683124568{*}. 

End time is 2023-05-03 14:48 

In other words the logs from today."
Defect,CSOIOT-6689,Please delete some Tenants for us,Eppendorf SE 7517606,518,Closed,"Welsing, Michael","Lundsten, Alf",5/4/23 16:26,Customer,11/1/23 5:03,,,2-High,None,"Hi Ops, 

please delete the following tenants: 

t126624677 
t127120921 
t204467409 
t231912929 

They belong to [https://management.visionizedigitallabspace.eppendorf.com/]. 

Thanks 

Michael"
Defect,CSOIOT-6687,"Please delete tenant Eppendorf tenant ""676eb42465b941cc8dd77affc7cea77c.visionizedigitallabspace.eppendorf.com"" on EMEA instance",Eppendorf SE 7517606,519,Closed,"Bhatt, Vikas","Lundsten, Alf",5/4/23 8:22,Customer,11/1/23 5:03,,,3-Medium,3-Medium,"*Affected system* 

Eppendorf tenant URL: 676eb42465b941cc8dd77affc7cea77c.visionizedigitallabspace.eppendorf.com 
Tenant ID: t268510569 

*Description of the Problem:* 

Customer asked to delete the following tenant on EMEA instance. 

Eppendorf tenant URL: 676eb42465b941cc8dd77affc7cea77c.visionizedigitallabspace.eppendorf.com 
Tenant ID = t268510569"
Defect,CSOIOT-6669,[Syntegon] Deployment not possible (Not possible to deploy local fixes to their tenants' apps/microservices),Syntegon Technology Services AG 7520592,519,Closed,"Bhatt, Vikas","Vukman, Tomislav",5/4/23 15:16,Customer,11/2/23 5:04,,,1-Critical,1-Critical,"*Affected system* 

t1394552929 - https://management.synexio.syntegon.com 
t1412552437 - https://syntegon-dev.cumulocity.com 
t1412560088 - https://syntegon-test.cumulocity.com 

*Description of the Problem:* 

Syntegon reported a CRISIS issue saying they have a software problem on their systems and want to fix this and deploy it as their customers are keenly waiting for a fix. 

However, at the moment, they are no longer able to deploy local fixes to all their Prod/Dev/Test systems. 

t1394552929 - https://management.synexio.syntegon.com 
t1412552437 - https://syntegon-dev.cumulocity.com 
t1412560088 - https://syntegon-test.cumulocity.com 

Here the traced message of the error they got: 


{code:java} 
2023-05-02T05:51:34.0002200Z error: 'applications/Internal Server Error', 
2023-05-02T05:51:34.0002731Z message: 'Handling onUpdate listener failed ReloadApplicationListener with error Partition is migrating! this: [10.64.3.6]:5701, partitionId: 40, operation: com.hazelcast.map.impl.operation.PutOperation, service: hz:impl:mapService', 
2023-05-02T05:51:34.0003226Z info: 'https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting' 
{{2023-05-02T05:51:34.0003419Z }}} 
{code} 

Attached file contains this message at the end of the file. 
[^deployent-error-stacktrace.txt] 

Could you please check and advise on this issue? This seems to be related to hazelcast. 

Here is the screenshot when they last time successfully deployed the software on dev/test/and production. 
!image.png|thumbnail! 

{code:java} 
error: 'applications/Internal Server Error', 
2023-05-02T05:51:34.0002731Z message: 'Handling onUpdate listener failed ReloadApplicationListener with error Partition is migrating! this: [10.64.3.6]:5701, partitionId: 40, operation: com.hazelcast.map.impl.operation.PutOperation, service: hz:impl:mapService' 
{code} 

*Partition is migrating* 
It seems to suggest that we have some issue with the platform? Status page shows no indication of anything though."
Defect,CSOIOT-6653,Troubleshoot Azure network VPN between Itron and Cumulocity,"Itron, Inc. 7518541",520,Closed,"Talbert, Kent","Fuso, Luca",5/5/23 9:18,Customer,10/30/23 5:03,,,3-Medium,None,"Most of the private networks at Itron are working across the NAT VPN link between Itron and Cumulocity. However, we found one network that makes it across the VPN, but never comes back from the Cumulocity side. This network is 10.70.16.0/23. We need someone to help troubleshoot the Azure networking on the Cumulocity side. 

 "
Defect,CSOIOT-6652,Setup of Express route between Itron and Cumulocity,"Itron, Inc. 7518541",520,Closed,"Talbert, Kent","Fuso, Luca",5/23/23 7:25,Customer,9/13/23 11:04,,,3-Medium,None,"Itron has identified the following networks to be used for the express route setup between Cumulocity and Itron: 

IPv4: 10.192.128.0/20 

IPv6: 2620:CB:A:1000::/56 

We need a session with Cumulocity Azure networking support to assist in setting up this express route to eventually replace our VPN connection once it has been validated. This new connection will allow IPv6 traffic Cumulocity and shouldn’t have any overlapping address space. 

  

Customer would like to have a call to work on this. "
Defect,CSOIOT-6650,Tenant is not available,FRONIUS INTERNATIONAL GmbH 7519699,520,Closed,"Eha, Allan","Pham, Hoang",5/4/23 9:08,Customer,11/1/23 5:03,,,3-Medium,3-Medium,"Opening this since there was no reply on the OPS chat. 
  
Tenant: fronius-htw12.adamos.co 
  
Fronius International is seeing a 404 openrsty error on their tenant fronius-htw12.adamos.co 
  
I checked on the old OP chat and saw something: 
_{color:#0747a6}Jaroslaw Herod{color}_ 
_{color:#0747a6},{color}_ 
_{color:#0747a6}Jun 18, 2018, 6:15 AM{color}__{color:#0747a6}, Edited{color}_ 
_{color:#0747a6}that means that network is down for docker containers{color}_"
Defect,CSOIOT-6648,Assign OPCUA-mgmt-service to my Tenant,Nordischer Maschinenbau Rud. Baader 7521771,523,Closed,"Neale, Robert","Janus, Bartosz",4/28/23 15:28,Customer,10/26/23 6:04,,,3-Medium,3-Medium,"please assign the application “OPCUA-mgmt-service” to my tenant. 

tenantId: t212540701 

  

https://baader.emea.cumulocity.com"
Defect,CSOIOT-6646,[Gardner Denver] Alarms email notifications not being received by the users,CompAir Drucklufttechnik 7515080,523,Closed,"Bhatt, Vikas","Simeonova, Rumyana",5/9/23 6:04,Customer,11/12/23 5:05,,,1-Critical,1-Critical,"*Affected system* 

Gardner Denver - Ingersoll Rand 
https://industrials.cas.irco.com/ 

*Description of the Problem:* 

GD raised this issue just now. 

The Cumulocity platform ceased to send alarms to the users this morning. 

For the new installed units the dashboards are not being displayed. 

Not sure if the CEP engine restart will have any effect. 

Please let us know if you have a solution for us."
Defect,CSOIOT-6642,Change name and domain for existing tenant,Eaton Industries GmbH 7518586,524,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",5/4/23 13:22,Customer,11/6/23 5:05,,,3-Medium,None,"This is on the EMEA environment. 

Change domain of tenant with id: *t16425532* and URL: [*eatonnubisnet-sec.emea.cumulocity.com*|http://eatonnubisnet-sec.emea.cumulocity.com/] 

to 

[https://blim-sec.dbt.machinery-monitoring.com/] 

Customer's Enterprise tenant (where the above is a subtenant,  is already at similar domain. 

[https://management.dbt.machinery-monitoring.com/] 

  

Please let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-6641,Delete sub tenants on emea,Eaton Industries GmbH 7518586,524,Closed,"Eha, Allan","Korolev, Ivan",4/28/23 23:27,Customer,10/30/23 5:03,,,3-Medium,None,"Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

  

Test_ui_automation_tenant_1 t237746493 [eaton.dbt.machinery-monitoring.com|http://eaton.dbt.machinery-monitoring.com/] eatonnubisnet 
Test_ui_automation_tenant_2 t237745989 [eatont.dbt.machinery-monitoring.com|http://eatont.dbt.machinery-monitoring.com/] eatonnubisnet 
Test_ui_automation_tenant_3 t237747082 [eatonte.dbt.machinery-monitoring.com|http://eatonte.dbt.machinery-monitoring.com/] eatonnubisnet 
Test_ui_automation_tenant_4 t238460372 [eatontech.dbt.machinery-monitoring.com|http://eatontech.dbt.machinery-monitoring.com/] eatonnubisnet 
Test- Tenant Hrishikesh t269027784 [hrishi-blim-qa.dbt.machinery-monitoring.com|http://hrishi-blim-qa.dbt.machinery-monitoring.com/] eatonnubisnet 
Test-Supriya-Tenant t245270671 [qwe.dbt.machinery-monitoring.com|http://qwe.dbt.machinery-monitoring.com/] eatonnubisnet 
Test-Tenant-1 t223190649 [machinery.dbt.machinery-monitoring.com|http://machinery.dbt.machinery-monitoring.com/] eatonnubisnet"
Defect,CSOIOT-6640,Delete Subtenants on cumulocity.com,Syntegon Technology Services AG 7520592,524,Closed,"Talbert, Kent","Korolev, Ivan",5/2/23 18:21,Customer,10/31/23 5:09,,,3-Medium,None,"Please delete the following tenants on cumulocity.com: 

  

syntegon-dev-identity.cumulocity.com 

pentest.synexio.syntegon.com 

syntegon-test-identity.cumulocity.com 

hannes-test.cumulocity.com"
Defect,CSOIOT-6639,Devices losing HTTP-Connection,Eppendorf SE 7517606,524,Closed,"Schon, Gregor",Unassigned,5/3/23 8:28,Customer,10/30/23 5:03,,support_question,2-High,2-High,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system:* ** *Platform EMEA ,  eppendorf*   

*Affected tenant: t40349851*  

{*}Issue associated device,{*}{*}{{*}} 

*The effect is occuring sometimes, occurences are logged in attache log file.* 

*Protocol used?* 
* / Rest / 
* *Time period error was observed: Last weeks* 
* Intermittent (see log file) 

*Description of the Problem:* 

the customer currently has an issue with stable HTTP-Connections of some of their devices. From time to time (the customer states every ~2h40min), the connection to c8y gets lost due to some timeouts (logs attached). The timeouts occur, when the device is trying to update managed objects (ids: 116741841, 116740828, 108973331, 108974219). The logfile shows the failed attempts. 

When the device was not able to update its managed objects regularly, an offline event will get created for this device. The offline event is created, when the “lastMessage” of the device is further than 5 minutes in the past, so when the device could not update its managed objects regularly. The log file is also annotated with the timestamps at which time we detected, that the c8y_Availability has changed to UNAVAILABLE. 

Can we analyze the http traffic from platform side to find out why the requests are failing? I could also see some 502 responses in the log file, but according to the customer they are recovered in time and do not trigger the offline event. The problem seems to be that too many communication attempts in a row are failing so that the “lastMessage” does not get updated. 

 He also added some explanation on the logs. He is trying to find out why the REST requests sent from the agent to c8y are timing out and asking if we can see some problem on the platform in that regards. Here are his explanations on the log file: 
* The request timeout is 300 seconds. so the sending of a failing request started is 5 minutes before the log entry is generated. 
* When the message ""switching to state READY"" appears, the state was in error, and the cloud connection could successfully transmit a fragment. 
* The Timeouts without a device offline event occur if a request is sent, but not answered within 5 mins. => state will be set to ERROR. 
Immediately after that the gateway will try it again. If this succeeds, the state switches back to READY. 
The c8y_Availability.lastMessage timestamp will then only not be updated for 5 minutes during waiting for the request response. That is not enough to trigger the device offline event, since it is configured to 10 minutes. 
Only if there are 2 subsequent Timeouts or more, the 10 minute limit will be exceeded and the device offline event triggered on the cloud side. 

#################################################################### 

log  file 'system_1218.log' covers  from  
[2023-04-22 11:15:31.180] [ble-agent] [warning] Something went wrong checking device config C6:21:23:25:CD:D7 (config: 34):<br/>bufferEncrypted length has to be a multiple of sessionKey 
to [2023-04-25 11:50:11.350] [cloud_connection] [info] received cloud operation 142293937 

Header : Check tenantId t40349851; nestlepurina.visionizedigitallabspace.eppendorf.com; Tenant creation time: 2021-10-06T07:14:32.193Z 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

Excerpt from log file: 
[2023-04-24 21:31:39.205] [cloud_connection] [error] could not send fragment 'visionize:///06cd1259-4b2d-5611-823f-573ca132e8c7/v2/items/common.Unit/Functions/battery/Modes/battery_percentage/AlarmMonitor': communication error: Timeout 
2023-04-24 21:31:39.205] [cloud_connection] [warning] error while updating eai: std::exception 
[2023-04-24 21:31:39.257] [status-led] [info] *switching to state ERROR* 
[2023-04-24 21:34:49.929] [ble-agent] [warning] Something went wrong checking device config C6:21:23:25:CD:D7 (config: 34):<br/>bufferEncrypted length has to be a multiple of sessionKey 
[2023-04-24 21:36:46.404] [cloud_connection] [error] could not send fragment 'visionize:///06cd1259-4b2d-5611-823f-573ca132e8c7/v2/items/common.Unit/': communication error: Timeout 
[2023-04-24 21:36:46.405] [cloud_connection] [warning] error while updating eai: std::exception 
[2023-04-24 21:41:30.896] [ble-agent] [warning] Something went wrong checking device config C6:21:23:25:CD:D7 (config: 34):<br/>bufferEncrypted length has to be a multiple of sessionKey 
[2023-04-24 21:41:53.605] [cloud_connection] [error] {*}could not send fragment 'visionize:///06cd1259-4b2d-5611-823f-{*}573ca132e8c7/v2/items/common.Unit/': communication error: Timeout 
[2023-04-24 21:41:53.605] [cloud_connection] [warning] error while updating eai: std::exception 
[2023-04-24 21:44:10.005] [status-led] [info\\{*}]{{*}} *switching to state READY{*} 
[2023-04-24 21:58:13.337] [ble-agent] [warning] Something went wrong checking device config E2:72:D 

##################################################### 

Please focus on the time frame of the excerpt of the log file *[2023-04-24 21:31:39.205  to [2023-04-24 21:58:13.337]* 

I could not ses httpcode 502 errors on teh platform. "
Defect,CSOIOT-6638,[Gardner Denver] Errors while accessing Groups,CompAir Drucklufttechnik 7515080,524,Closed,"Bhatt, Vikas","Pham, Hoang",5/9/23 6:05,Customer,11/2/23 5:04,,,3-Medium,3-Medium,"*Affected system* 

Gardner Denver - Ingersoll Rand 

https://industrials.cas.irco.com/apps/cockpit/index.html#/ 

*Description of the Problem:* 

Customer has requested to support them to fix these errors that appear when they access different assets. Please see the attached screenshot for the ID 14982412845, as an example. 

They saw this behavior for the first time today. 

For this user: denis.grosselin@sanders.fr , customer cannot assign it any Inventory Roles in the ADMINSTRATION section. 
Also the errors keep coming."
Defect,CSOIOT-6637,Remove non-editable retention rule in Utonomy tenant,Utonomy Ltd 7516334,524,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",5/5/23 10:18,Customer,11/2/23 5:04,,,3-Medium,3-Medium,"*Affected system* 

Tenant URL: https://trial.utcloud.uk (On *.cumulocity.com) 
Tenant ID: t83242887 
Version: 10.15.0.278 

*Description of the Problem:* 

Customer would like to change the retention rule in their sub-tenant 'trial.utcloud.uk' (t83242887), but it is not editable. 

So he has created a new rule (365 days), but would like to remove the non-editable rule (30 days). 
Please see the attached screenshot. 

Could you please delete this retention rule? 

- Either delete the un-editable retention rule of 30 days. 
- Or update this un-editable retention rule from 30 days to 365 days. In that case, customer can just remove the rule that he created. 

*Note*: 

In past, a similar thing was done for Autosen in IOT-9036. R&D provided a script to update the retention rule via DB. So Ops did that in SC-22081."
Defect,CSOIOT-6636,CLONE - [Schindler] Core Node MQTT overall queue length increasing on Core 6 without any particular reason,Schindler Management AG 7516305,524,Closed,"Chmiel, Slawomir","Valkov, Milen",4/28/23 10:44,Customer,4/28/23 10:44,,,2-High,2-High,"*Affected system* 

Schindler Prod 

*Description of the Problem:* 

Emil Stoykov from Managed Services has raised this issue on behalf of Schindler. He raised the problem in a C8Y Escalation meeting and they figured this was somewhere seen in the past in other clients but it is not the same case scenario. 

Unlike in the past, what they understood from Mathew Garling is that this issue was appearing where the load on the cores was uneven, and this is not the case with Schindler. 

The load on the core is ok ~50% CPU utilization and there is nothing abnormal., The problem started to appear after 29.03.2023. Please check the following Grafana link and also the attachments. 
https://grafana.monitor.c8y.io:3000/d/hqZ6lwR7k/schindler-prod?orgId=1&from=now-30d&to=now&viewPanel=29 

This issue is very Critical because we have recently seen two major drops of 1/3 of the fleet around 80+k devices and this might be a contributing factor. Even if this speculation is utterly wrong, this is not expected behavior and having such queue length just drains the processing power of the core and the system instead of spreading it evenly across all other 8 Core Nodes. 

The last upgrade was done on March 8th and since then there were no changes or manual interventions introduced to the platform whatsoever, and definitely nothing in particular for Core 6."
Defect,CSOIOT-6633,"Notification 2.0 activation on Itron dedicated instance,","Itron, Inc. 7518541",525,Closed,"Talbert, Kent","Saaban, Asshad",4/28/23 8:28,Customer,10/26/23 6:04,,,3-Medium,None,Customer would like notifications 2.0 activated on the Itron dedicated instances.
Defect,CSOIOT-6632,Please unsubscribe Machine Learning functionality and microservices from tenant.,Bruhati Solutions Ltd 7518738,525,Closed,"Talbert, Kent","Saaban, Asshad",4/28/23 8:27,Customer,10/26/23 6:04,,,3-Medium,None,"Tenant ID: t74469016 

Tenant URL:  bruhati.emea.cumulocity.com 

  

Please unsubscribe the following from the above tenant: 

machine learning 

machine learning workbench 

Mlw 

Nyoka 

Onnx 

Zementis-small 

  

Unfortunately, I don't have permissions on EMEA instance to do the unsubscribe, 

  

Thanks, 

Kent"
Defect,CSOIOT-6631,[Gardner Denver] Obsolete export configurations found,CompAir Drucklufttechnik 7515080,525,Closed,"Kotorowicz, Jakub","Vukman, Tomislav",4/27/23 14:30,Customer,4/27/23 14:30,,,2-High,2-High,"*Affected system* 

Gardner Denver Prod system 

Tenant Name: Gardner Denver - Ingersoll Rand 
Tenant URL: [https://industrials.cas.irco.com/] 

*Description of the Problem:* 

This is the extension of CSOIOT-6509. CEP was restarted by Ops on 17th April, but customer came back with below issues in their reports in Cockpit. 

---------------------------------- 
I monitored the platform after the CEP restart and it has been a small improvement, there is an issue with reports. 

Not sure how to delete these reports: 
[https://industrials.cas.irco.com/inventory/managedObjects/9900640124/] 
{code:java} 
{""additionParents"":{""self"":""https://industrials.cas.irco.com/inventory/managedObjects/9900640124/additionParents"",""references"":\[\]},""owner"":""gary@airmac-gdi.co.uk"",""childDevices"":{""self"":""https://industrials.cas.irco.com/inventory/managedObjects/9900640124/childDevices"",""references"":\[\]},""childAssets"":{""self"":""https://industrials.cas.irco.com/inventory/managedObjects/9900640124/childAssets"",""references"":\[\]},""creationTime"":""2021-10-19T06:00:30.387Z"",""type"":""c8y_PrivateSmartRule"",""lastUpdated"":""2022-06-06T12:58:43.248Z"",""childAdditions"":{""self"":""https://industrials.cas.irco.com/inventory/managedObjects/9900640124/childAdditions"",""references"":\[\]},""name"":""Export \""CUSTOMER_REPORT_2233804_1070388588\"" report and send it via e-mail"",""assetParents"":{""self"":""https://industrials.cas.irco.com/inventory/managedObjects/9900640124/assetParents"",""references"":\[\]},""deviceParents"":{""self"":""https://industrials.cas.irco.com/inventory/managedObjects/9900640124/deviceParents"",""references"":\[\]},""self"":""https://industrials.cas.irco.com/inventory/managedObjects/9900640124"",""id"":""9900640124"",""cepModuleId"":""9187"",""enabledSources"":[""9900639613""],""ruleTemplateName"":""sendExportViaEmail"",""config"":{""exportConfiguration"":{""name"":""CUSTOMER_REPORT_2233804_1070388588"",""id"":""9900639613""},""hour"":""8"",""month"":"""",""exportConfigurationId"":""9900639613"",""subject"":""Export \""CUSTOMER_REPORT_2233804_1070388588\"" report"",""weekday"":""1"",""to"":""enquiries@airmac-gdi.co.uk"",""text"":""File with exported data can be downloaded from {host}/inventory/binaries/{binaryId}"",""day"":"""",""minute"":""0""},""c8y_Context"":{""context"":""exportConfiguration"",""id"":""9900639613""},""enabled"":true} 
{code} 
It is unusual that from COCKPIT exports I am not able to see all the Reports created by the users. 

Is there any way to visualize them all? 
---------------------------------- 

*What we need from Ops in this clone CSOIOT ticket is (from one of comments in original ticket):* 



{color:#1f497d}Then I took all the Reports-Exports having a private smart rule and deleted the Scheduling.{color} 

{color:#1f497d}After I completed that, I identified some private smart rules that can’t be accessed/deleted{color} 
# {color:#1f497d}Please offer support to delete the scheduling or the report itself of the following ID’s{color} 
{color:#1f497d}16598108615{color} 
{color:#1f497d}16812271341{color} 
{color:#1f497d}16837504979{color} 
{color:#1f497d}17172546391{color} 
{color:#1f497d}17507130710{color} 
{color:#1f497d}18623387746{color} 
{color:#1f497d}18910613674{color} 
{color:#1f497d}19341056922{color} 
{color:#1f497d}19621937733{color} 
{color:#1f497d}20530915588{color} 
{color:#1f497d}21116532299{color} 
{color:#1f497d}2.{color} {color:#1f497d}Please delete the Smart Rules referring to ""{color}{color:#1f497d}*Calculates energy consumption*{color}{color:#1f497d}"". It seems that the objects don’t exist anymore, but the smart rule is still active{color} 
{color:#1f497d}3.{color} {color:#1f497d}Please delete the Smart Rules referring to ""{color} {color:#1f497d}*When alarm is received then SMS is sent*{color}{color:#1f497d}"" and “{color}{color:#1f497d}*Bei Alarm wird E-Mail gesendet*{color}{color:#1f497d}”. It seems that the objects don’t exist anymore, but the smart rule is still active.{color} 
{color:#1f497d}Please delete the Smart Rules referring to ""{color} {color:#1f497d}*When alarm is received then email is sent*{color}{color:#1f497d}"" It seems that the objects don’t exist anymore, but the smart rule is still active.{color} 

You can allign with R&D from PlatformManagement team (Jakub Kotorowicz or Iaroslav Iarovyi) for this delete maintenance. L1 supporter did not receive entry to this tenant."
Defect,CSOIOT-6629,Reset subtenant,Utonomy Ltd 7516334,525,Closed,"Neale, Robert","Janus, Bartosz",5/2/23 8:17,Customer,10/31/23 5:09,27-Apr-23,,3-Medium,2-High,"Could you please reset our development subtenant [utonomydev.utcloud.uk|http://utonomydev.utcloud.uk/] (t77850617). 

  

As discussed in teams customer wants to reset this tenant - best way is to delete and recreate it, with the same id (via REST).  

  

Please note this is a sub tenant of tenant 'utonomy' and so should the recreated tenant. 

  

 "
Defect,CSOIOT-6621,Need subtenant renamed on cumulocity.com,Utonomy Ltd 7516334,526,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",4/27/23 10:57,Customer,10/26/23 6:05,,,3-Medium,None,"Please change the subtenant t83242887 name and domain from: 
* name: UtonomyQa 
* domain/URL: utonomyqa.utcloud.uk 

to: 
* name: [trial|https://management.utcloud.uk/apps/administration/index.html#/tenants/t83242887] 
* domain/URL: [trial.utcloud.uk|https://management.utcloud.uk/apps/administration/index.html#/tenants/t83242887] 

This tenant is located in cumulocity.com 

  

Please let me know if you need any other information. 

  

Thanks, 

Kent"
Defect,CSOIOT-6617,[Gardner Denver] All users are unable to login to the tenant,CompAir Drucklufttechnik 7515080,526,Closed,"Bhatt, Vikas","Janus, Bartosz",4/25/23 12:38,Customer,10/23/23 6:06,,,2-High,1-Critical,"*Affected system* 

Gardner Denver - Ingersoll Rand 
https://industrials.cas.irco.com/ 

*Description of the Problem:* 

Customer just reported that all users are not able to login to the Cumulocity platform. 
https://industrials.cas.irco.com/ 

Please see the attached screenshot for error message. 
Could you please check and fix this issue?"
Defect,CSOIOT-6611,[Log Request] Service restarting several times a day,DAC System SA 7520476,526,Closed,"Hofmann, Hannes","Lundsten, Alf",4/25/23 10:27,Customer,4/25/23 10:27,,,2-High,None,"Hi R&D, 

customer has noticed that one of their microservices (apollo-remote 1.0.0) is being restarted several times a day. 

They are not redeploying the microservice. Can you explain us why there are all these restarts? Is it a resource issue? 

They don't know exactly when it started. In the Status > Events view of the microservice is is possible to navigate back to April 19 only, but in the last 2 days it happened 38 times. 

Other microservices are not affected. 

It is a custom microservice developed by them. 

This is the content of the manifest: 
{code:json} 
{ 
""apiVersion"": ""v1"", 
""version"": ""1.0.0"", 
""provider"": { 
""name"": ""DAC System"" 
}, 
""isolation"": ""MULTI_TENANT"", 
""resources"": { 
""cpu"": ""0.5"", 
""memory"": ""2G"" 
} 
}{code}"
Defect,CSOIOT-6610,Want to delete subtenant,FactoryPuls GmbH 7521006,527,Closed,"Welsing, Michael","Pham, Hoang",4/26/23 18:49,Customer,10/24/23 6:05,,,3-Medium,None,"Can you please delete tenant [kramer.factoryvisual.eu (|http://kramer.factoryvisual.eu/]tenant id t269206996). 

Parent tenant is [management.factoryvisual.eu|http://management.factoryvisual.eu/]. 

Thanks 

Michael"
Defect,CSOIOT-6609,Request logs for issue that Telstra failed to upload microservice zip file,Telstra Corporation Limited 7514912,527,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",5/4/23 16:25,Customer,11/21/23 5:05,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ___APJ____ Domain _____telstra.com____ Version ___10.15.0.278____ 
System Usage (Choose one of: Production / Test / Development): __Development__ 
Time Zone: __AEDT___ 

*Affected tenant* 

Tenant: management 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Microservice:* 
* Customer microservice. Yes 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? Intermittent (seen 2 times in last 3 tests). 
* Frequency - All the time 

*Description of the Problem:* 

While uploading the latest zip file for exiting microservice on Cumulocity UI portal in the Administration >  *Ecosystem* > {*}Microservices{*}“. 

Below two errors observed: 
# Initially it will try to upload the zip file but after some time we are getting the error ""A server error occurred"" as notification. this is intermittent error sometimes. User is not able to upload successfully. It occurred 2 times out of 3 retries. Tested on another server the same error appeared. 
# 10.15.0.278 version doesn’t has zip uploading percentage. 

Have created iTrac [IOT-17067|https://itrac.eur.ad.sag/browse/IOT-17067] to R&D.  

Need to collect: 
* logs of all core instances capturing the period of a failed microservice upload 
* logs of the kube registry capturing the period of a failed microservice upload 

Since Telstra is operated by Ops team, create this iTrac to ask for above logs file. 

----------- 

Customer tried to replicate the upload error on the UI to capture the timestamp( in {*}Sydney time{*}). 

*upload start time* - 21-04-2023T20:45pm and *upload failed/end time* - 21-04-2023T21:00 pm. 

Kindly help capture platform logs for above timestamp."
Defect,CSOIOT-6608,Need to change the list of current user username to all lowercase,Solenis LLC 7512378,527,Closed,"Talbert, Kent","Pham, Hoang",5/4/23 9:06,Customer,11/12/23 5:05,,,3-Medium,None,"cloud.iot.colenis.com 

  

Customer needs to have the attached list of usernames modified to all be lowercase.  Please let me know when this can be done as the customer will need to schedule changes on his side.  They need to make the changes at the same time so that users will not get access denied and SSO does not duplicate.  They need only the username changed to lowercase, no other changes should be made to the users. 

  

See attached spreadsheet for the list of usernames. 

  

Please let me know if you need more information and when this can be scheduled. 

  

Thanks, 

Kent"
Defect,CSOIOT-6607,Custom enterprise tenant domain not routing on 8883,"Software AG USA, Inc. 3150000",527,Closed,"Talbert, Kent","Lundsten, Alf",4/25/23 16:45,Customer,10/23/23 6:06,,,3-Medium,None,"Customer ZTR has an enterprise tenant on [us.cumulocity.com|http://us.cumulocity.com/] with a custom domain [development.railwayiot.com|http://development.railwayiot.com/]. Thin Edge is not able to connect, and we believe it’s a cloud ops configuration issue. 

Port 443 is returning the correct cert that ZTR uploaded, but 8883 is returning the original [us.cumulocity.com|http://us.cumulocity.com/] cert. 

CLI Example (working correctly): 
openssl s_client -showcerts -servername development.railwayiot.com -connect development.railwayiot.com:443 </dev/null 

Port 8883 Example (not working): 
openssl s_client -showcerts -servername [development.railwayiot.com|http://development.railwayiot.com/] -connect [development.railwayiot.com:8883|http://development.railwayiot.com:8883/] </dev/null 

Curl example showing wrong cert coming back: 
h4. Text 
{noformat} 
% curl https://development.railwayiot.com:8883 -v 
* Trying 172.65.164.82:8883... 
* Connected to development.railwayiot.com (172.65.164.82) port 8883 (#0) 
* ALPN: offers h2 
* ALPN: offers http/1.1 
* CAfile: /etc/ssl/cert.pem 
* CApath: none 
* [CONN-0-0][CF-SSL] (304) (OUT), TLS handshake, Client hello (1): 
* [CONN-0-0][CF-SSL] (304) (IN), TLS handshake, Server hello (2): 
* [CONN-0-0][CF-SSL] (304) (IN), TLS handshake, Unknown (8): 
* [CONN-0-0][CF-SSL] (304) (IN), TLS handshake, Request CERT (13): 
* [CONN-0-0][CF-SSL] (304) (IN), TLS handshake, Certificate (11): 
* [CONN-0-0][CF-SSL] (304) (IN), TLS handshake, CERT verify (15): 
* [CONN-0-0][CF-SSL] (304) (IN), TLS handshake, Finished (20): 
* [CONN-0-0][CF-SSL] (304) (OUT), TLS handshake, Certificate (11): 
* [CONN-0-0][CF-SSL] (304) (OUT), TLS handshake, Finished (20): 
* SSL connection using TLSv1.3 / AEAD-CHACHA20-POLY1305-SHA256 
* ALPN: server did not agree on a protocol. Uses default. 
* Server certificate: 
* subject: CN=*.us.cumulocity.com 
* start date: Aug 20 19:29:01 2022 GMT 
* expire date: Sep 21 19:29:01 2023 GMT 
* subjectAltName does not match development.railwayiot.com 
* SSL: no alternative certificate subject name matches target host name 'development.railwayiot.com' 
* Closing connection 0 
curl: (60) SSL: no alternative certificate subject name matches target host name 'development.railwayiot.com' 
More details here: https://curl.se/docs/sslcerts.html 
curl failed to verify the legitimacy of the server and therefore could not 
establish a secure connection to it. To learn more about this situation and 
how to fix it, please visit the web page mentioned above.{noformat} 
h4.   

Let me know if you need more information. 

  

Thanks, 

Kent"
Defect,CSOIOT-6605,c8y_ActiveAlarmsStatus recalculate - run script on customer tenants.,Kemin Europa 7517950,527,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",5/2/23 9:51,Customer,10/30/23 5:04,28-Apr-23,,3-Medium,3-Medium,"Previously a script was created to correct alarm counts that were incorrect. 

[https://itrac.eur.ad.sag/browse/CSOIOT-5265] 

  

Can this now be run on c8y prod for these tenants? 

  
* t1053843873 
* t1070694369 
* t1070673080 
* t1132225176 
* t1446302684 
* t721899389 
* t789132470 
* t789546043 
* t1723267302 

Regards, 

  

Robert 

  

 "
Defect,CSOIOT-6602,[Itron] Upgrade Itron environment to 10.15 latest minor release due to bug fixes needed,"Itron, Inc. 7518541",528,Closed,"Bhatt, Vikas","Lisik, Milosz (External)",4/25/23 10:54,Customer,11/15/23 5:03,,,3-Medium,3-Medium,"*Affected system* 

Itron Prod: https://c8y.sag.idealabs.cloud/ 

*Description of the Problem:* 

Itron had raised a known issue as below: - 
------------------------- 
While trying to write to an Opaque Resource, the return message indicates that it is an unsupported data type. 
Does C8Y 10.15 using LwM2M 1.1 support Opaque data types? 
------------------------- 

From our research, we found writing to LWM2M Opaque resources is supported from 10.15.0.279 version onwards. 
https://itrac.eur.ad.sag/browse/IOT-14085 --> https://cumulocity.atlassian.net/browse/MTM-47107 

Itron tenant 'https://c8y.sag.idealabs.cloud/' has 10.15.0.172 version currently. 

Therefore, we need to upgrade their environment to latest minor release of 10.15 to fix these bugs. 

Could you check and advise about upgrade window for Itron?"
Defect,CSOIOT-6599,Critical connection issue in Turkey with 92 devices after migration event,Hitachi Construction Machinery Co. 7312187,528,Closed,"Reddy, Yerpula Bharath Bhushan","Simeonova, Rumyana",4/26/23 14:40,Customer,12/12/23 10:06,,,2-High,None,"Ops team, 

Turkcell reported that 92 devices are failing to connect to platform after the migration. 

Here I am assuming (Based on my knowledge), the migration refers to migration of the platform to eu-latest. 

If that is the case can you please provide logs related to the tenant https://hitachi.iot.turkcell.com.tr/ after the migration so that we can investigate further? 

"
Defect,CSOIOT-6597,our URL Redirect stopped working after the platform was upgraded,Flexible Steel Lacing Company Inc 7519586,530,Closed,"Talbert, Kent","Vukman, Tomislav",4/24/23 16:09,Customer,10/25/23 6:04,,,2-High,None,"Prior to the upgrade when someone went to [https://[flexcoelevatedashboard.com|https://[flexcoelevatedashboard.com/]|http://flexcoelevatedashboard.com] or [https://www.flexcoelevatedashboard.com|https://www.flexcoelevatedashboard.com/] they would get redirected to [prod.flexcoelevatedashboard.com|http://prod.flexcoelevatedashboard.com/]. However, when they do that now after the upgrade, they are taken to a login screen which requests the tenant id. Can you please reenable the redirect. This is having an impact on our business and end users! 

-------- 

Is there some config setting that would control this and got reset with the upgrade to 10.15 last week? 

  

See attached screen prints. 

 "
User Story,CSOIOT-6596,CLONE - Loriot Microservice not responding on eu-latest,SAG Deutschland GmbH 3102000,530,Completed,"Lundsten, Alf","Pham, Hoang",4/24/23 10:22,Customer,4/24/23 10:22,,,3-Medium,None,"The Loriot Microservice on eu-latest seems to have some hiccups.  Rahul Miryala a restart of the microservice on management eu-latest might help with this issue. 

As of right now we don't get any response from the ms and a 500 on the /health endpoint. 

For this ticket - a heap dump of the java process would be needed."
Defect,CSOIOT-6569,New user - automatic email with the login details is not received,CompAir Drucklufttechnik 7515080,531,Closed,"Welsing, Michael","Vukman, Tomislav",4/27/23 13:18,Customer,10/25/23 6:04,,,3-Medium,None,"Hi Ops. 

CompAir Drucklufttechnik is reporting an issue with eMail sending. 

When a new user is being created, the system is not sending an automatic email with the login details. 

They have two ways of creating new users: 
# ADMINISTRATION - Users - New user 
# COCKPIT - “+“ sign in the top right-hand side - Add new customer 

Could you please check if there is any issue with eMail sending on the named system? Maybe because of the slowness they reported a few days back?"
Defect,CSOIOT-6565,Need to upload SSL certificate for ic-certtest.iotnonprod.bsci.com,Boston Scientific Corporation 8104616,531,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",4/27/23 8:13,Customer,11/29/23 5:06,,,3-Medium,None,"BSci wants to test what happens with an expired certificate on one of there tenants.  I've got the attached certificates and license key from logistics.  

  

They want to use this custom domain:   *.iottest.bsci.com. 

  

Can you help verify that we have the correct license key for this?  I can get a new one from Logistics if this license key is incorrect. 

  

Also, the customer sent me the certificates, but they don't appear to be in the correct format.  Can you take a look at what he sent.  He also sent the following password for the key:   niG!%C9l82Da  So I'm guessing they created a key with a password, which won't work. 

  

 "
Defect,CSOIOT-6564,Add LwM2M agent to management tenants,Industrial Scientific Corporation 7521326,531,Closed,"Talbert, Kent","Staykov, Petar",5/2/23 8:13,Customer,10/29/23 5:03,,,3-Medium,None,"Request to add LwM2M agent to Industrial Scientific instances 

[https://management.na-qa.inet.com|https://urldefense.com/v3/__https:/management.na-qa.inet.com/__;!!KPww_GFiJXw!cG6UnYP4EAHCQH55m8RJXvtHqhp7c7RdEnTvuruDsJc-IAOOEXx8A0Mi_O_zYEsH7X7eZulAb_bL_dRcT1OBOw$]  

[https://management.na-dev.inet.com|https://urldefense.com/v3/__http:/management.na-dev.inet.com/__;!!KPww_GFiJXw!cG6UnYP4EAHCQH55m8RJXvtHqhp7c7RdEnTvuruDsJc-IAOOEXx8A0Mi_O_zYEsH7X7eZulAb_bL_dSy9O0-HQ$]  

[https://management.na.inet.com|https://urldefense.com/v3/__https:/management.na.inet.com/__;!!KPww_GFiJXw!cG6UnYP4EAHCQH55m8RJXvtHqhp7c7RdEnTvuruDsJc-IAOOEXx8A0Mi_O_zYEsH7X7eZulAb_bL_dSUinZAWg$] 

  

Thanks, 

Kent"
Defect,CSOIOT-6523,Data flow and data received from MQTT broker has changed significantly,Flexible Steel Lacing Company Inc 7519586,533,Closed,"Eha, Allan",Unassigned,4/20/23 8:39,Customer,10/18/23 6:05,,,3-Medium,3-Medium,"Flexco is seeing some errors in their AWS pipeline. This seems to have started after the upgrade from 10.9 to 10.15 

prod.flexcoelevatedashboard.com 

""{_}We have an AWS pipeline that subscribes to Events and Managed Objects and is causing our pipleline to error out.{_}"" ""{_}Basically, our AWS pipeline was working with the data from the Cumulocity MQTT broker when we were on 10.9. After the upgrade to 10.15, our AWS pipeline is erroring out due to a change in possibly the MQTT payload{_}!"" 

Can someone take a look to see if Flexco is having problems since the upgrade?"
Defect,CSOIOT-6520,Smart Rules Do not send emails,SAG Consulting Services GmbH 3103000,533,Closed,"Welsing, Michael","Lisik, Milosz (External)",4/20/23 15:50,Customer,10/19/23 6:04,,,1-Critical,None,"Hi Ops, 

there is a CRISIS issue on several environments, because Smart Rules can't sent eMails. Looks like the same issue Itron hat on Friday on their environment! 

Affected environments reported by Kai Reinhardt: 

[psfactory.eu-latest.cumulocity.com|http://psfactory.eu-latest.cumulocity.com/] 

[https://visionize-test.replica-prod.c8y.io|https://visionize-test.replica-prod.c8y.io/] 

[https://main.iot.enercon.de|https://main.iot.enercon.de/] 

Can you downgrade Apama on those environments on short notice to the last working version? 

Thanks 

Michael"
Defect,CSOIOT-6513,[Gardner Denver] Platform is slow and issues with alarms and reports,CompAir Drucklufttechnik 7515080,534,Closed,"Bhatt, Vikas","Pham, Hoang",4/21/23 9:50,Customer,10/25/23 6:04,,,2-High,2-High,"*Affected system* 

Gardner Denver Prod system 

Tenant Name: Gardner Denver - Ingersoll Rand 
Tenant URL: https://industrials.cas.irco.com/ 

*Description of the Problem:* 

This is the extension of CSOIOT-6509. CEP was restarted on 17th April, but customer came back with more issues as below. 

---------------------------------- 
*+Issue 1:+* 

The platform is slow, especially the ADMINISTRATION section -> selection of the Inventory Roles. 
A simple task to assign Inventory Roles takes sometimes 30 min. 

*+Issue 2:+* 
The CEP engine is not able to process all the email alarms notifications. 
Probably tomorrow I will receive a lot of complaints from users that haven’t received their alarms. 

Two weeks ago, your colleague Allan sent me some instructions on how to manage the Private Smart Rules. 
The place to visualise the Private Smart Rules is this: 
https://industrials.cas.irco.com/inventory/managedObjects?pageSize=200&type=c8y_PrivateSmartRule 

So, we decided eliminate some of the smart rules, created by users. We asked our users repeatedly through announcements not to use the Smart rules creation feature, but the feature is there and they are doing it anyway. 

I monitored the platform after your previous email and it has been a small improvement, but still not all the alarms are distributed. 
----------------------------------"
Defect,CSOIOT-6512,General slowness of post-iot.lu ,POST Telecom S.A. 7515101,534,Closed,"Schon, Gregor","Vukman, Tomislav",5/9/23 6:09,Customer,11/19/23 5:06,,support_question,2-High,2-High,"post-iot.lu  slowWhich platform is  [post-iot.lu|http://post-iot.lu/] ? Iit is Migrated to Public Cloud but not to cumulocity prod  
Alessandro.DallaTorre@post.lu complains about general slowness 
​[16:11] Lundsten, Alf 
IIRC - emea.cumulocity.com (where we have Eppendorf & Mohawk...) 
please create a ticket and we'll have someone have a look 
*customer describes* 
** 

ear support, 

All our tenants are in general very slow today. 

We remark 2/3 times the normal loading time for all pages. 

Clients are complaining. 

Could you please take a look and help ? 

Kind regards, 

Alessandro"
Defect,CSOIOT-6511,OTA updates not working after upgrade to 10.15,Flexible Steel Lacing Company Inc 7519586,534,Closed,"Talbert, Kent","Pham, Hoang",4/21/23 9:24,Customer,10/19/23 6:04,,,2-High,None,"Need to have Device Management application on both prod and staging tenants downgraded to 10.9 version. 

  

I worked with Hoang on this issue last Friday evening.  Tested this on their elevatetest.us.cumulocity.com and downgrading the DM application resolved the issue they were seeing on that tenant. 

Customer would like to have this done as soon as possible. 

  

Please let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-6509,[Gardner Denver] Alarms email notifications not being received by the end customer,CompAir Drucklufttechnik 7515080,534,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",4/17/23 13:06,Customer,10/25/23 6:04,,,2-High,2-High,"*Affected system* 

Gardner Denver Prod system 

Tenant Name: Gardner Denver - Ingersoll Rand 
Tenant URL: https://industrials.cas.irco.com/ 

*Description of the Problem:* 

GD reported they are experiencing problems receiving the alarms notifications on emails and the platform is slow when they try to access different sections of it. 

Please restart the CEP engine. 

In addition, when the platform is slow, the C8Y IoT default interface starts appearing. 
!UI.jpg|thumbnail!"
Defect,CSOIOT-6508,bug in repository-connect - 404 response intermittently.,Software AG France 3108000,534,Closed,"Neale, Robert",Unassigned,4/18/23 14:34,Customer,10/16/23 6:05,17-Apr-23,,3-Medium,3-Medium,"Calling the repository-connect application intermittently gets http 404 response. 

e.g.  

[https://neale.eu-latest.cumulocity.com/apps/sag-ps-iot-pkg-lora-package@0.31.9/cumulocity.json?nocache=168146553825] 

  

!image-2023-04-17-10-14-29-586.png! 

  
Always core-sts-0 according to Graylog. Other cores return http 200 as expected. 

  

!image-2023-04-17-10-14-40-284.png!"
User Story,CSOIOT-6507,CLONE - [LwM2M] Previously working Lwm2m devices are stuck in bootstrapping process since after the platform upgrade to v10.15,Telstra Corporation Limited 7514912,535,Completed,"Saha, Sourajit","Lundsten, Alf",5/3/23 9:10,Customer,5/3/23 9:10,,lwm2m,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ____{_}APJ{_}____ Domain __{_}telstra.com{_}____ Version __{_}10.15.0.278{_}____ 
System Usage (Choose one of: Production / Test / Development): _{_}Development{_}_ 
Time Zone: __{_}AEDT{_}___ 

*Affected tenant* 

Tenant: sewdev.iotdev.telstra.com 

  and     

watercorp.iotdev.telstra.com 

Enterprise Tenant? Yes 
System accessible by R&D? No 

*Device:* 
* Device manufacturer and type: __{_}LwM2M{_}___ 
* Number affected: Single, All devices except one 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other __{_}LwM2M{_}___ 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? Always 
* Frequency - All the time 

*Description of the Problem:* 

Several end customers of Telstra have identified a critical issue with one of their LWM2M device types (Multix datalogger) across several Telstra Cumulocity v10.15 instances. 

*+Background+* 

Once the Cumulocity environment is upgraded to v10.15, *only one of pre-existing registered devices continues to communicate and all other pre-existing registered devices try to re-bootstrap with error.* 

Here is an example of a device *LwM2M South_East_Water urn:imei:867723030628241* and the corresponding the event log. 

Please see attached screen shot. 

The devices have been failing bootstrap since 23-feb-2023 

*+Related+* 

The same device specific issue across 2 iotdev environments: 
# *sewdev.iotdev.telstra.com* 
# *watercorp.iotdev.telstra.com* 

  

End customer have attempted to do the delete and re-add steps above in both environments. 

{*}Sample devices{*}: 

urn:imei:867723030617335 (watercorp) 
urn:imei:867723030626443 (watercorp) 
urn:imei:867723030628241 (sew) 

*+Actions+* 

Tried removing and re-adding the affected device using the new v10.15 of Cumulocity platform twostep process mentioned below steps: 

_Lwm2m Device Deletion Steps:_ 

_Step 1:_ 

_Hover over the row of the device you want to delete in “All devices” list and Click the delete icon at the right of the row (this will delete the device from the tenant, but tenant route info is still maintained)_ 

 __  

_Step 2:_ 

_Clean-up cluster tenant object for the above device endpoint (this removes the tenant route info for the device endpoint)_ 

_Detailed information at - [https://cumulocity.com/guides/protocol-integration/lwm2m/#cleanup-cluster-tenant-objects-for-endpoint]_ 

  

_Please note, Step 2 needs to be performed inside the lwm2m connector device (it is an automatically generated device for tenants). More information in the below link,_ 

_[https://cumulocity.com/guides/protocol-integration/lwm2m/#connector-device]_ 

  

However, doing the steps above with the *LWM2M sewdev connector* and *LWM2M watercorp connector* {+}has not resolved the issue{+}. 

  

Also noted that the step2 command failed in the *sewdev.iotdev.telstra.com* envirnment: _cleanupClusterTenantObjectsForEndpoint urn:imei:867723030628241_ 

And when re-adding the device the failed (presumable because the cleanup failed: 

{ ""message"" : ""Bulk registration operation execution completed"", ""numberOfDevicesSuccessfullyProcessed"" : 0, ""numberOfDevicesFailed"" : 1, ""issues"" : \\{ ""urn:imei:867723030628241"" : ""Endpoint urn:imei:867723030628241 already exists for another device"" } 

} 

  

cleanupClusterTenantObjectsForEndpoint has worked successfully in the watercorp.iotdev.telstra.com 

  

*+Two questions:+* 
# Please investigate why these devices are failing bootstrap? 
# Help investigate why the cleanupClusterTenantObjectsForEndpoint is failing for device urn:imei:867723030628241 on sewdev.iotdev.telstra.com? 

If any further files required please let me know."
Defect,CSOIOT-6502,Production Binary File url HTTP and not HTTPS,"HILL-ROM Holdings, Inc. 7517970",537,Closed,"Talbert, Kent","Pham, Hoang",4/24/23 9:39,Customer,10/19/23 6:04,,,2-High,None,"Production Binary File self link url is returning HTTP instead of HTTPS. 

  

Worked with Hoang on this issue and Nagesh from PS team.   

  

Found that the linkTemplateProcessor.baseURL = controls this.  We tested this on the Hillrom Sandbox environment and found that setting it to https works and the binary url is now https. 

  

We will need to schedule this change on the customer's production environment as it requires a rolling restart.  Once I have a date and time from the customer, I will update Ops so that the change can be made. 

  

Thanks, 

Kent"
Defect,CSOIOT-6501,Issues with OTA Updates and EPL Monitors and receiving emails,Flexible Steel Lacing Company Inc 7519586,537,Closed,"Talbert, Kent","Pham, Hoang",4/19/23 9:31,Customer,10/22/23 6:04,,,1-Critical,None,"Tenant ID:  t114121 

Tenant url:  prod.flexcoelevatedashboard.com 

  

After our platform was upgraded to 10.15, we are now experiencing issues with our Apama EPL monitors and Alarms including sending emails from the monitor (AlarmSettingsManager). The other issue is that we are unable to send over the air updates to our IoT devices. We keep getting an error called \{{""failureReason"": ""Delete not supported"". }} 

  

I don't see any errors in the Apama logs.  Checking with customer for more clarification on the issues they are seeing with the EPL and where exactly they are seeing the error they mentioned. 

  

 "
Defect,CSOIOT-6500,emea.cumulocity.com: Please activate the Advanced Remote Access Feature,Hans Turck GmbH & Co. KG 7520183,555,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",4/26/23 8:18,Customer,11/1/23 5:04,,,3-Medium,None,"setting in: [http://localhost:8111/tenant/options/configuration] 
option: system.remoteaccess.pass-through.enabled 
This option is currently ""false"", please set it to ""true""."
Defect,CSOIOT-6471,Change the property file (baseURL) in SSA server (agent.cumonosu.com),"Micro Technology Co., Ltd. 7515608",538,Closed,"Reddy, Yerpula Bharath Bhushan","Fröhling, Daniel",4/24/23 10:04,Customer,12/14/23 10:10,,,3-Medium,None,"Request from Micro Technologies: 

Based on SAG security policy, non-secure connection will not be available, but only secure connection will be possible in jp.cumulocity.com this September. So, we would like to change the connection from non-secure (http) to secure (https) between SSA server (agent.cumonosu.com) and the platform (cumonosu.com). While baseURL should be changed from http to https, it can be done only by SAG Ops, not by us. In addition, since the environment is production, we need to watch the change in real time and let SAG Ops know if there would be a problem on the change. 

If you let us know in advance on when this change is planned, we can let customer know to be prepared. 

"
Defect,CSOIOT-6470,[Liebherr] Temporary outage of Microservices on production tenant,Liebherr-Werk Nenzing GmbH 7516355,538,Closed,"Bhatt, Vikas","Valkov, Milen",4/26/23 8:15,Customer,11/2/23 5:05,,,2-High,3-Medium,"*Affected system* 

Tenant: cll.myjobsite.com 
Version: 10.16 

*Description of the Problem:* 

Liebherr reported the following critical issue in their prod environment. 

We again had problems with the availability of the service at a customer. This can be seen in our Healthchecks Chart. Exactly at this point in time, the customer reported that our application was not working. 

Based on the log, it looks to us that several MicroServices were unavailable at this point, including the central health check service. 
From all Azure regions that continuously ping the health-check service, it was unavailable for a certain period of time. 

Were there problems on the cluster at this time? 

Please analyze the situation based on your logs. 
"
Defect,CSOIOT-6465,Loriot Microservice not responding on eu-latest,SAG Deutschland GmbH 3102000,538,Closed,"Talbert, Kent","Lundsten, Alf",4/18/23 8:21,Customer,10/12/23 6:03,,,3-Medium,None,"The Loriot Microservice on eu-latest seems to have some hiccups.  Rahul Miryala a restart of the microservice on management eu-latest might help with this issue. 

As of right now we don't get any response from the ms and a 500 on the /health endpoint."
User Story,CSOIOT-6461,CLONE - Preprod - Unable to fetch LwM2M registration template and Missing bootstrap parameters for registered devices (v10.15.0.207),Telstra Corporation Limited 7514912,539,Closed,"Saha, Sourajit","Radzali, Basyar",4/18/23 10:05,Customer,4/18/23 10:05,,,3-Medium,None,"Hi RnD, 

The customer cannot retrieve the Bootstrap parameters of their existing lwm2m devices. The customers comment regarding the issue: 

********************************************* 

*Additionally, the bootstrap parameters for the currently registered devices went missing/deleted as well. Upon testing, our leshan clients are unable to connect to the platform and we are thinking this missing bootstrap parameter is the issue.* 

********************************************* 

*!image.png|thumbnail!* 

A screenshot has been attached that shows the error when trying to retrieve the Bootstrap parameter. 

Before this, they had an issue with not being able to retrieve the templates for registering LWM2M devices but Cloud Ops had restarted their LWM2M agent which fixed the issue. However, this issue is still there. 

Can you please take a look? Your help is much appreciated."
Defect,CSOIOT-6457,Delete suspended subtenants of Syntegon,Syntegon Technology Services AG 7520592,539,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",4/13/23 11:30,Customer,10/15/23 6:03,,,3-Medium,3-Medium,"*Affected system* 

Suspended sub-tenants under 'management.synexio.syntegon.com' and 'syntegon-test.cumulocity.com'. 

*Description of the Problem:* 

Customer has requested to delete the suspended sub-tenants under 'management.synexio.syntegon.com' and 'syntegon-test.cumulocity.com'. 

- There is only one suspended subtenant under 'management.synexio.syntegon.com' as below that can be deleted. 

Tenant: dupontdisigny2.synexio.syntegon.com 
Tenant ID: t1928420794 

- Please see the screenshots attached for suspended subtenant under 'syntegon-test.cumulocity.com'. There are total 11 suspended subtenants. 
!suspended tenants.png|thumbnail!"
Defect,CSOIOT-6448,iTron: Update Azure return networks,"Itron, Inc. 7518541",540,Closed,"Talbert, Kent","Fuso, Luca",4/17/23 15:45,Customer,10/15/23 6:04,,,2-High,1-Critical,"According to the customer, Luca Fuso is aware of this and requested ITron open a ticket for this in a meeting earlier today (11-April). 

Itron environment 

Need to allow the following networks: 

10.136.68.0/23 – Edge Gateways 
10.230.32.0/21 – Thuy’s PC 
192.168.132.0/22 (Smart WiFi), 
192.168.17.0/24 (ethernet) 
192.168.18.0/24 (ethernet)"
Defect,CSOIOT-6432,CLONE - Question on (Alarm) API response.,"Micro Technology Co., Ltd. 7515608",541,Closed,"Sobala, Kamil","Vukman, Tomislav",4/18/23 11:33,Customer,4/18/23 11:33,12-Apr-23,,3-Medium,None,"Micro technologies reported below issue 

After the upgrade from 10.10.0 to 10.15.0 on jp.cumulocity.com (cumonosu.com) last week, we got a different API response from the previous version. 

When executing the API (https://ydm.cumonosu.com/alarm/alarms?status=ACTIVE&pageSize=2000&withTotalPages=true), we got the response as in the attached file that includes the records with status=CLEARED even though API indicates only status=ACTIVE. Could you please look into it and give us your feedback? 

URL: https://ydm.cumonosu.com/ 
ID: sagsupport 
PW: gZ2VE#aH 
Basic eWRtL3NhZ3N1cHBvcnQ6Z1oyVkUjYUg= 

Please see attached -cumonosu.txt 

From GS: 
When I tested in apj.cumulocity.com instance, I do not see this issue. Same query does not return Cleared Alarms. 
Please see apj1.txt, apj2.txt 

When I tested in the customer environment I could see similar results. I could get 7 Cleared Alamrs, though query has filter of ACTIVE"
Defect,CSOIOT-6397,Telstra Preprod - Unable to fetch LwM2M registration template and Missing bootstrap parameters for registered devices (v10.15.0.207),Telstra Corporation Limited 7514912,545,Closed,"Moon, Swai","Radzali, Basyar",4/12/23 9:13,Customer,1/22/24 9:57,,,3-Medium,None,"Hi Ops team, 

Customer said: 

**************************************** 

Hi Customer Support, 

Our preprod tenancy is again unable to fetch the registration templates when registering LwM2M devices. This is the same issue which we raised awhile back ([SI-495782|https://getsupport.softwareag.com/servicedesk/customer/portal/2/SI-495782]). 

Additionally, the bootstrap parameters for the currently registered devices went missing/deleted as well. Upon testing, our leshan clients are unable to connect to the platform and we are thinking this missing bootstrap parameter is the issue. 

Can you please investigate this issue? Thank you 

Kind regards, 

Laudemhir Jan 

{*}{*}{*}**************************************{*}{*}{*} 

The customer referred to [https://itrac.eur.ad.sag/browse/IOT-16408] where they had the same issue. Their bootstrap parameters for already registered devices are missing as well. Can you please check this? Your help is appreciated. 

 "
Defect,CSOIOT-6396,Delete subtenant flux01.autosen.cloud/t1883246106,Autosen GmbH 7516454,545,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",4/6/23 11:57,Customer,10/4/23 6:03,,,3-Medium,3-Medium,"Had this from customer..... 

  

Dear support-team, 

please delete the subtenant flux01.autosen.cloud with tenant id t1883246106 since it is no longer in use. 

Best regards, 

Dennis Jansen"
Defect,CSOIOT-6395,eu-latest: Tracker Agent status?,Software AG 3101000,546,Closed,"Welsing, Michael","Lundsten, Alf",4/18/23 9:10,Customer,10/22/23 6:04,,,1-Critical,None,"Hi Ops, 

can you please check on .eu-latest.cumulocity.com the following: 
# tracker agent is running 
# port 9090 and 9091 are open 

Thanks 

Michael"
Defect,CSOIOT-6380,Microservice fails to deploy,Sony Semiconductor Solutions Corp. 7519751,546,Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",4/18/23 9:11,Customer,10/16/23 6:05,,,3-Medium,None,"Customer is trying to enable ""Get-global-ip“ micro service for this tenant and they are getting attached error. 

https://pcd.ce-sssdev.aitrios.sony-semicon.com/apps/administration/index.html#/ 

Can you please check?"
Defect,CSOIOT-6369,Deletion of tenants on eu-latest,Software AG 3101000,546,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",4/5/23 13:54,Customer,10/3/23 6:04,5-Apr-23,,3-Medium,3-Medium,"on eu-latest, please delete following tenants: 
{quote}t1072300720 
t1501098343 
t1536828226 
t19330498 
t472261341 
t683992982 
t683997927 
t684007336 
t684016122 
t684021795 
t684022235 
t684026946 
{quote} 
  

... on behalf of Kai Sieben."
Defect,CSOIOT-6357,Need debug logging enabled on ITron lwm2m agent again.,"Itron, Inc. 7518541",547,Closed,"Talbert, Kent",Unassigned,4/5/23 6:37,Customer,10/2/23 6:03,,,3-Medium,None,"Hi guys, 

  

I need to have debug logging enabled on lwm2m agent for Itron environment for R&D again.  

  

Please let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-6354,Telstra: Timezone discrepancy between Dev and Prod tenancies,Telstra Corporation Limited 7514912,547,Closed,"Moon, Swai","Radzali, Basyar",4/17/23 11:19,Customer,10/10/23 6:07,,,3-Medium,None,"Hi Cloud Ops, 

The customer said they have a discrepancy in time zones between *Prod (UTC)* and *Dev (AEST/AEDT)* tenants. 

He said: 

************************************************** 

Recently we have observed a discrepancy in the display of device related time between Dev and Prod tenancies. The Dev tenancies displays the time in the AEST/AEDT timezone while the Prod tenancies are displaying the time in the UTC timezone. 

Note: Similar behaviour is observed with APIs as well. 

Attached screenshot from both Dev and Prod showing the discrepancy observed. 

Could you please let us know the reason for this time display discrepancy between the environments? and if this timezone is configurable? 

  

************************************************** 

Any ideas on this? Thanks a lot for the help in advance!"
Defect,CSOIOT-6353,Facing issue on Apama-ctrl-1c-4g service log monitoring,Tata Consultancy Services Saudi Arabia 7516520,547,Closed,"Welsing, Michael","Vukman, Tomislav",4/6/23 14:16,Customer,10/4/23 6:03,,,1-Critical,None,"Hi Ops. 

is there an issue on eu-latest? 

After update to 10.16. customer Tada is not able to check the apama-ctrl-1c-4g logs any more. 

It is showing the error ""Cannot find microservice instance 'apama-ctrl-1c-4g-scope-management-deployment-6b4b4dd858-rlstg' (see screenshot). 

The microservice seems to be up and running (see screenshot). 

Quick help is appreciated as customer raised this as a critical issue. 

Thanks 

Michael"
Defect,CSOIOT-6352,State of microservices,Software AG Italia S.P.A. 3110000,547,Closed,"Neale, Robert","Vukman, Tomislav",4/5/23 16:11,Customer,10/3/23 6:04,,,2-High,2-High,"Customer complains that oee-bundle on eu-latest is not working. 

  

When checking it looks like there are many microservices not working. 

  
- onnx, zementis-medium, zementis-small, nyoka."
Defect,CSOIOT-6350,Run Manual Table Schema Re-Index,Stanley Black and Decker 7513816,555,Closed,"Talbert, Kent","Pham, Hoang",4/6/23 13:50,Customer,10/4/23 6:04,,,3-Medium,None,"Tenant:  surepath-dev 
Tenant ID:  t10466386 
Tenant URL:  [https://surepath-dev.sbdconnect.io|https://surepath-dev.sbdconnect.io/] 
Dremio host:  [https://datahub.sbdconnect.io/] 
  

Need to have the attached Python script run using the dremio Admin user account for SBD. "
Defect,CSOIOT-6349,Need to turn on debug logging for LwM2M agent,"Itron, Inc. 7518541",548,Closed,"Herzog, Christian","Kehayov, Boyan",5/3/23 15:19,Customer,9/27/23 10:48,,,3-Medium,None,"Please turn on login again as you did in: 
[https://itrac.eur.ad.sag/browse/CSOIOT-6247] 
and let me know when its done, then I the customer can do the next test."
Defect,CSOIOT-6345,Reason system is down with jp.cumulocity.com 22:48 to 23:35 (JST) on March 30,"Micro Technology Co., Ltd. 7515608",548,Closed,"Neale, Robert","Vukman, Tomislav",4/4/23 11:20,Customer,10/2/23 6:04,3-Apr-23,,3-Medium,3-Medium,"Asking again as CSOIOT-6344 was prematurely closed (the referred to Itrac https://itrac.eur.ad.sag/browse/CSOIOT-6315 was for a different period of downtime). Customer response... 

  
|No, the comment you gave me is the answer for the first downtime occurred from 11:11 to 11:42am (JST) on March 29, because this is answered by Bharath. I am asking you the cause of the downtime happened from 22:48 to 23:35 (JST) on March 30, at the end of upgrade. I guess it would be intentionally caused by Ops team to fix an issue, but we need to know what happened and how you are going to cope with it in the next upgrade. So, I suppose your comment does not answer for my question.|"
Defect,CSOIOT-6344,Reason for downtime jp.cumulocity.com March 2023 upgrade to 10.15,"Micro Technology Co., Ltd. 7515608",549,Closed,"Neale, Robert","Simeonova, Rumyana",4/4/23 15:05,Customer,10/2/23 6:04,3-Apr-23,,3-Medium,3-Medium,Customer asking for reason there was downtime during upgrade to 10.15 on jp.cumulocity.com in March 2023.
Defect,CSOIOT-6343,Change administrator for Cumulocity Enterprise Tenant https://demo-iot-dach.cumulocity.com,SAG Deutschland GmbH 3102000,549,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",4/17/23 10:19,Customer,10/15/23 6:04,,,3-Medium,3-Medium,"*Affected system* 

https://demo-iot-dach.cumulocity.com 

*Description of the Problem:* 

This is the change requested like the one done in CSOIOT-6308. 

Currently the primary Admin user for the enterprise tenant 

https://demo-iot-dach.cumulocity.com 

is ""sebastian.buettner@softwareag.com"" i.e. sebu 

Sebastian has left the company; therefore, could you please change the admin name and email to following user in the UI? 

Admin Name: Christof Strack 
Admin Email: christof.strack@softwareag.com 

*Currently we are not able to delete the user ""sebu"" as it's primary ID. Please delete this user.* 

Please see screenshot attached for more clarity."
Defect,CSOIOT-6332,LwM2M 1.1 FW Update Pull not working on ITron env.,"Itron, Inc. 7518541",551,Closed,"Talbert, Kent","Lundsten, Alf",4/17/23 12:56,Customer,10/25/23 6:05,,,3-Medium,None,"Itron environment 

Firmware update with PULL is not working for this tenant because of a CONNECTION_LOST issue. R&D think it's because of a wrong configuration in the agent's config file. Can you please check the lwm2m agent's config file? 

 "
Defect,CSOIOT-6329,To increase the maximum size of MQTT accepted payload from 16KB to 128KB,Sony Semiconductor Solutions Corp. 7519751,551,Closed,"Reddy, Yerpula Bharath Bhushan","Valkov, Milen",4/17/23 15:47,Customer,10/16/23 6:05,11-Apr-23,,3-Medium,None,"Is it possible to increase the maximum size of the MQTT accepted payload from 16KB to 128KB? 

We are aware of this limitation from the following specification: 

https://cumulocity.com/guides/10.14.0/device-sdk/mqtt/ 

We send a maximum of 90KB of base64 data converted from the image via Event. 
I would like to know if it is possible to change this upper limit. 

If possible, could you please change the configuration on all instances that we use?"
Defect,CSOIOT-6328,Whole platform down,Kemin Europa 7517950,552,Closed,"Herzog, Christian","Simeonova, Rumyana",3/31/23 11:18,Customer,10/9/23 6:05,,,1-Critical,1-Critical,"Again, all our PRODUCTION environments are currently down, all our customers are affected! 

Second time in less than 48 hours! 

12 tenants on *.cumulocity.com domain 

We have seen the notification about degraded availability, but we have nothing any more, we can’t even inform our customers. 

Please resolve asap and provide root cause! 

[management.americas.keminconnect.com|http://management.americas.keminconnect.com/] 

[my.americas.keminconnect.com|http://my.americas.keminconnect.com/] 

[management.emea.keminconnect.com|http://management.emea.keminconnect.com/] 

[my.emea.keminconnect.com|http://my.emea.keminconnect.com/] 

[adesco-ie.emea.keminconnect.com|http://adesco-ie.emea.keminconnect.com/] 

[management.apac.keminconnect.com|http://management.apac.keminconnect.com/] 

[my.apac.keminconnect.com|http://my.apac.keminconnect.com/] 

[management.dev.keminconnect.com|http://management.dev.keminconnect.com/] 

[development.dev.keminconnect.com|http://development.dev.keminconnect.com/] 

[internal.dev.keminconnect.com|http://internal.dev.keminconnect.com/] 

[integration.dev.keminconnect.com|http://integration.dev.keminconnect.com/]"
Defect,CSOIOT-6327,We receive httpexception regulary when creating objects/measurements in c8y,Mohawk International Services BV 7518646,552,Closed,"Welsing, Michael","Vukman, Tomislav",5/2/23 8:22,Customer,11/5/23 5:04,,,1-Critical,None,"Hi Ops, 

as CSOIOT-6260 was closed without waiting for customer feedback, this is a follow up to that. Customer is still seeing the error and is very unhappy about it: 

[2023-03-28T07:29:11.817+02:00 ERR] failed to push following event: 
""{""Type"":""activeorder-STRUCTURE_UP"",""time"":""2023-03-28T05:29:11.922Z"",""text"":""9JB"",""source"":{""Type"":""c8y_Device"",""Name"":""ALG"",""Owner"":""AngularUser"",""CreationTime"":""2023-03-20T16:14:08.614Z"",""LastUpdated"":""2023-03-20T16:14:08.777Z"",""ChildDevices"":{""References"":[],""Self"":""[https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/childDevices\\""},\\""ChildAssets\\"":{\\""References\\"":[|https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/childDevices/%22%7D,/%22ChildAssets/%22:%7B/%22References/%22:[],\\""Self\\"":\\""https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/childAssets\\""},\\""ChildAdditions\\"":\{\\""References\\"":[],\\""Self\\"":\\""https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/childAdditions\\""},\\""DeviceParents\\"":\{\\""References\\"":[],\\""Self\\"":\\""https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/deviceParents\\""},\\""AssetParents\\"":\{\\""References\\"":[],\\""Self\\"":\\""https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/assetParents\\""},\\""AdditionParents\\"":\{\\""References\\"":[],\\""Self\\"":\\""https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/additionParents\\""},\\""Id\\"":\\""15905697504\\"",\\""Self\\"":\\""https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504\\"",\\""c8y_IsDevice\\"":{},\\""mhk_AssetHierarchy\\"":\{\\""floc\\"":[\\""0100\\"",\\""QS\\"",\\""QS11\\"",\\""ALG\\""]}},\\""0100_QS_QS11_ALG\\"":{\\""activeorder-STRUCTURE_UP\\"":\\""9JB 
""}}""|https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/childDevices%5C%22%7D,%5C%22ChildAssets%5C%22:%7B%5C%22References%5C%22:%5B%5D,%5C%22Self%5C%22:%5C%22https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/childAssets%5C%22%7D,%5C%22ChildAdditions%5C%22:%7B%5C%22References%5C%22:%5B%5D,%5C%22Self%5C%22:%5C%22https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/childAdditions%5C%22%7D,%5C%22DeviceParents%5C%22:%7B%5C%22References%5C%22:%5B%5D,%5C%22Self%5C%22:%5C%22https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/deviceParents%5C%22%7D,%5C%22AssetParents%5C%22:%7B%5C%22References%5C%22:%5B%5D,%5C%22Self%5C%22:%5C%22https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/assetParents%5C%22%7D,%5C%22AdditionParents%5C%22:%7B%5C%22References%5C%22:%5B%5D,%5C%22Self%5C%22:%5C%22https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504/additionParents%5C%22%7D,%5C%22Id%5C%22:%5C%2215905697504%5C%22,%5C%22Self%5C%22:%5C%22https://t11553862.emea.cumulocity.com/inventory/managedObjects/15905697504%5C%22,%5C%22c8y_IsDevice%5C%22:%7B%7D,%5C%22mhk_AssetHierarchy%5C%22:%7B%5C%22floc%5C%22:%5B%5C%220100%5C%22,%5C%22QS%5C%22,%5C%22QS11%5C%22,%5C%22ALG%5C%22%5D%7D%7D,%5C%220100_QS_QS11_ALG%5C%22:%7B%5C%22activeorder-STRUCTURE_UP%5C%22:%5C%229JB%5C%22%7D%7D%22] 

System.AggregateException: One or more errors occurred. (An error occurred while sending the request.) 
---> System.Net.Http.HttpRequestException: An error occurred while sending the request. 
---> System.IO.IOException: The response ended prematurely. 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
— End of inner exception stack trace — 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
at System.Net.Http.AuthenticationHelper.SendWithNtAuthAsync(HttpRequestMessage request, Uri authUri, Boolean async, ICredentials credentials, Boolean isProxyAuth, HttpConnection connection, HttpConnectionPool connectionPool, CancellationToken cancellationToken)"
Defect,CSOIOT-6324,[Flexco] Platform Critical Lag,Flexible Steel Lacing Company Inc 7519586,552,Closed,"Bhatt, Vikas","Pham, Hoang",4/3/23 7:16,Customer,10/1/23 6:04,,,2-High,2-High,"*Affected system* 

Tenant URL: https://prod.flexcoelevatedashboard.com/ 
Version: 10.9.0.12 
Environment: Managed by Cumulocity Cloud Operations team 

*Description of the Problem:* 

Customer from Flexco reported they have a serious platform lag in the Events process between Server creation time and Time. 

Please see attached image. 

As a result, when there is an alarm, and they are sending the email the event has already occurred hours before. This defeats the effectiveness of the system entirely. 

Could you please check and advise to resolve this issue?"
Defect,CSOIOT-6319,Please update owner of management and sub tenancies,Boston Scientific Corporation 8104616,553,Closed,"Eha, Allan","Luczyszyn, Mikolaj (External)",4/4/23 9:25,Customer,10/2/23 6:04,,,3-Medium,None,"The customer would like the 2 management Tenants ([management.iot.bsci.com|http://management.iot.bsci.com/] and [management.iotnonprod.bsci.com|http://management.iotnonprod.bsci.com/]) and all sub-tenants to have the Tenant properties changed to: 
* Contact name to be : ""CDM Team"" 
* Administrator's email to be : ""connecteddevice@bsci.com"" 
* Administrator's username changed CDMTeam 

Please let me know if you need more information."
Defect,CSOIOT-6315,The system is not accessible (jp.cumulocity.com),"Micro Technology Co., Ltd. 7515608",554,Closed,"Reddy, Yerpula Bharath Bhushan","Simeonova, Rumyana",4/3/23 7:17,Customer,10/3/23 6:04,,,2-High,None,"Micro technologies reported that jp.cumulocity.com instance was down for almost 30 minutes and their end users complained about it. 

They have raised below questions in this regard: 

Regarding the unintentional unavailability during the upgrade for more than 30 minutes, our customer complains it because this system stop generated many alarms. 
Since the application generates alarms when the devices do not connect to the platform for more than 30 minutes, this unavailability is a problem. 

While we heard the restart of microservice is required during the upgrade, we do not expect non-accessible situation to happen during the upgrade. 

Would this kind of unavailability occur again? Do we need to prepare and take some measurement for this kind of problems? In addition, there is a problem that Ops team does not notice this system unavailability until we raise this ticket. Can you check the system availability during the upgrade? 

From GS: 
I checked status.cumulocity.com. I notice that we do not report jp instance in this page. 
I have also not seen any alert of info related to jp instance upgrade and any downtime in this regard. 
As I see the upgrade note for eu-latest, I am expecting that upgrade of jp instance also should not cause any downtime. 
But, there could be a valid reason. 
"
Defect,CSOIOT-6311,How to change the karaf limit.conf file,Software AG Bangalore Technologies 3265000,554,Closed,"Neale, Robert",Unassigned,3/28/23 15:19,Customer,10/9/23 6:05,28-Mar-23,,3-Medium,3-Medium,"A follow on from https://itrac.eur.ad.sag/browse/CSOIOT-6273 

Few queries from customer side, 

How the chef-client changes the above value by running chef-client? 
They want to see how the chef-client changes files, not how to change karaf limit? 
The point is chef-client should create dot file temporally when chef-client change file? 
Below is the understanding from the customer side, 
Here is customer current understanding, 

1) Create temporary file with new configuration such as .chef-\{{filenametimestampstringstring.conf}} 
2) Remove existing configuration file 
3) Rename temporary file. In this case, the temporary file should be renamed with karaf_limits.conf 
   is this make sense with you?  
Can you please confirm us on this?"
Defect,CSOIOT-6308,"Change primary Admin user for Cumulocity Enterprise Tenant ""https://sag-dach.cumulocity.com""",SAG Deutschland GmbH 3102000,554,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",3/29/23 7:49,Customer,10/15/23 6:04,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: t74484347 
Tenant URL: https://sag-dach.cumulocity.com/ 

*Description of the Problem:* 

Currently the primary Admin user for the enterprise tenant 

t74484347 

https://sag-dach.cumulocity.com 

is ""sebastian.buettner@softwareag.com"". 

Sebastian has left the company; therefore, could you please change the admin to following user in the UI? 

Admin Name: Christof Strack 
Admin Email: christof.strack@softwareag.com 

Please see screenshot attached for more clarity. 
"
Defect,CSOIOT-6305,Error with FindMeasurement (APAMA) in version 10.15.0,"Micro Technology Co., Ltd. 7515608",555,Closed,"Welsing, Michael","Vukman, Tomislav",3/31/23 11:54,Customer,10/3/23 6:04,,,1-Critical,None,"Hi Ops, 

currently there is an APAMA issue in version 10.15, which is blocking the update for jp.cumulocity.com for MicroTechnology (see PAB-3858). 

Yesterday a fix for that issue was released (see CSOIOT-6302). 

Based on this, the following tasks must be performed: 
# *{color:#FF0000}TODAY:{color}* Update eu-latest environment to Apama version 10.15.0.6 mentioned in CSOIOT-6302 
# inform GS once it is done, so that GS can update customer. Customer then needs to remove current workaround on eu-latest and test the fixed version. 
# *{color:#FF0000}DURING UPDATE OF jp.cumulocity.com:{color}* Do the update of the environment with the fixed Apama version 10.15.0.6 mentioned in CSOIOT-6302 

Thanks for your help. 

Michael"
Defect,CSOIOT-6304,Datahub - need script run to fix missing columns that are in data,Baxter International inc. 7521523,555,Closed,"Talbert, Kent","Bieniak, Arkadiusz",3/31/23 16:14,Customer,9/28/23 6:04,,,2-High,None,"Need to have the attached Python script run using the dremio Admin user account for Hillrom.  Running the script should help fix the problem the customer is seeing with the missing columns. 

  

There are instructions for running the script in the attached. 

This is on Hillrom production environment. 

Tenant ID;  t128564 
Tenant URL:  [https://servicehub.iot.hillrom.com/] 
Dremio host:  [https://datahub.iot.hillrom.com:9447/] 

 "
Defect,CSOIOT-6293,Need support for LoadBalancer relate queries from Customer,Software AG for Information Technology 3184000,556,Closed,"Welsing, Michael","Simeonova, Rumyana",3/28/23 15:34,Customer,10/1/23 6:04,,,3-Medium,None,"Hi Ops, 

a customer is asking for below information. All questions are regarding the loadbalancer: 
# Which deployment mode is chosen; Reverse Proxy, Transparent, True transparent or Offline? 
# Are the web servers deployed in one network/switch in each data center?  If not, please provide more details about the HTTP/HTTPs traffic flow for each data center. 
# What is the number of web servers per data center that need to be protected?, please advise if the servers are in the same server farm 
# What is the expected number of HTTP transactions per seconds to the web servers at peak time for each data center? 
# What is the expected HTTP throughput at peak time for each data center? 
# What is the expected number of HTTPS transactions per second to the web servers at peak time for each data center? 
# What is the expected HTTPS throughput at peak time for each data center? 
# What is the type of applications to protect? 
# Is SSL offloading required? 
# When deployed in Reverse Proxy, upon SSL offload, is it required to open an encrypted connection to the backend server or can it be clear text? 
# Is HA Required? → Yes HA is required 
# What is the type and number of interfaces required? 

Thank you in advance for the support."
Defect,CSOIOT-6282,Delete picomagcloudtest.autosen.cloud on c8y production,Autosen GmbH 7516454,558,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",3/24/23 15:01,Customer,9/21/23 6:03,24-Mar-23,,3-Medium,3-Medium,"Please delete tenant ** picomagcloudtest.autosen.cloud on c8y production, id picomagcloudtest. 

It is no longer needed. 

id is picomagcloudtest. 

  

!image-2023-03-24-11-59-42-250.png!"
Defect,CSOIOT-6274,Delete Eppendorf tenants,Eppendorf SE 7517606,559,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",3/24/23 9:45,Customer,9/21/23 6:03,,,3-Medium,3-Medium,"*Affected system* 

Eppendorf on EMEA instance. 

*Description of the Problem:* 

Customer has requested to delete following Eppendorf tenants: - 

- t157288521 
c13dd0cc207144458cac1386877a031f.visionizedigitallabspace.eppendorf.com 
- t209542278 
e212e11557584cb498ea8935363e6b2a.visionizedigitallabspace.eppendorf.com 
- t214577472 
39af2be828cd491298243c2496eabe45.visionizedigitallabspace.eppendorf.com 
- t215524168 
40210959146643419e195085896ee04b.visionizedigitallabspace.eppendorf.com"
Defect,CSOIOT-6273,How to change the karaf limit.conf file,Software AG Bangalore Technologies 3265000,559,Closed,"Neale, Robert","Vukman, Tomislav",3/31/23 8:20,Customer,10/9/23 6:06,23-Mar-23,,3-Medium,3-Medium,"Customer wants to change the karaf limit.conf file, but we manually edit the file and ran chef-client it overrides with the default values, as below, 
{code:java} 
# Limits settings for karafkaraf soft nofile 20240 
karaf hard nofile 30480karaf soft nproc 3072 
karaf hard nproc 8000 
{code} 
Chef-client overrides the karaf limit file , please find the below command line outputs. 
{code:java} 
[20230317T14:30:49+09:00]INFO:template[/etc/security/limits.d/karaf_limits.conf] updated file contents /etc/security/limits.d/karaf_limits.conf - update content in file /etc/security/limits.d/karaf_limits.conf from 4f664b to b51fa5 
--- /etc/security/limits.d/karaf_limits.conf 2023-03-17 14:30:22.541767960 +0900 +++ /etc/security/limits.d/.chef-karaf_limits20230317-16979-1yf1lmk.conf 
2023-03-17 14:30:49.209322065 +0900 @@ -4,7 +4,7 @@ 
karaf hard nofile 30480 
karaf soft nproc 3072 

-karaf hard nproc 7000 
+karaf hard nproc 8000 

In this case, we would like to be understood how to modify file by chef-client.{code} 
* *Kindly let us know how to change the karaf limits.conf file.*  

  

Please note version is 10.6."
Defect,CSOIOT-6266,"Logs needed for ""hedenkamp.synexio.syntegon.com"" from 22nd March 12:00 am onward",Syntegon Technology Services AG 7520592,559,Closed,"Bhatt, Vikas","Kehayov, Boyan",3/24/23 7:39,Customer,9/25/23 6:04,,,3-Medium,3-Medium,"*Affected system* 

Tenant: https://hedenkamp.synexio.syntegon.com/ (On *.cumulocity.com instance) 

*Description of the Problem:* 

Customer has asked to provide the logs from yesterday 22nd March 12:00am from Apama on this tenant. 

https://hedenkamp.synexio.syntegon.com/"
Defect,CSOIOT-6265,Delete unused tenants for customer 'Dormakaba' on prod instance,Dormakaba USA Inc. 7516335,560,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",3/23/23 13:12,Customer,9/20/23 6:04,,,3-Medium,3-Medium,"*Affected system* 

dormakabablue.cumulocity.com 
dormakabastaging.cumulocity.com 

*Description of the Problem:* 

Dormakaba has identified that they do not use two tenants that exist on our public cloud. Please delete the following two tenants. 

dormakabablue.cumulocity.com 
dormakabastaging.cumulocity.com"
Defect,CSOIOT-6263,Non-secure connection with jp.cumulocity.com and eu-latest.cumulocity.com (bodenexam.com),"Micro Technology Co., Ltd. 7515608",560,Closed,"Song, Shaopeng (Jeffrey)","Fröhling, Daniel",3/23/23 14:06,Customer,9/28/23 6:04,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: ___{_}Japan{_}_____ Domain ___{_}jp.cumulocity.com{_}____ Version: __{_}10.15{_}___ 
System Usage (Choose one of: Production / Test / Development): {_}Test{_}__ 
Time Zone: __{_}GMT+9{_}___ 

*Affected tenant* 

Tenant: System-wide issue. 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other _{_}MQTT{_}____ 

*Description of the Problem:* 

This is a consulting question raised by Micro Technology regarding the upcoming upgrade of {*}jp.cumulocity.com{*}. 

Question about the usage of *non-secure connection ( http and mqtt )* in the coming upgrade in [jp.cumulocity.com|http://jp.cumulocity.com/] 

Research: 

Customer is now testing on [bodenexam.com|http://bodenexam.com/] ([eu-latest.cumulocity.com|http://eu-latest.cumulocity.com/]) .  

For eu-latest tenant,confirmed with customer the device cannot connect to it via HTTP . 

Regarding MQTT, the device can successfully connect to eu-latest via mqtt. 

Questions: 
# Can customer keep using non-secure connection of http and mqtt on [cumunosu.com|http://cumunosu.com/] ([jp.cumulocity.com|http://jp.cumulocity.com/]) after the coming upgrade? Customer will migrate to jp.cumulocity.com . Kindly help confirm. 
# Additionally, please help clarify if the use of http and mqtt in [eu-latest.cumulocity.com|http://eu-latest.cumulocity.com/] is correct? Can customer verify the function of non-secure connection (http and mqtt) on eu-latest? 

Kindly help clarify the questions. 

Background: 

While most of devices are connected to the platform via secure connections, some devices are still connecting to the platform via non-secure connections. When the base url is specified with http, the device connects to the platform with non-secure connections based on device SDK provided by Cumulocity. Some devices connected to the platform more than five years ago often use non-secure connections and customer cannot change it anymore because their location is distributed far away. In addition, some server-side agents are using non-secure connections. Since the base url is specified with http, Java SDK provided by Cumulocity makes the ssa connected to the platform with non-secure way. Therefore, Micro Technology needs to test non-secure connections like http and mqtt in [eu-latest.cumulocity.com|http://eu-latest.cumulocity.com/] to make sure that the new version does not affect the existing connections to [cumonosu.com|http://cumonosu.com/] ([jp.cumulocity.com|http://jp.cumulocity.com/]). 

 "
Defect,CSOIOT-6260,We receive httpexception regulary when creating objects/measurements in c8y,Mohawk International Services BV 7518646,560,Closed,"Welsing, Michael","Simeonova, Rumyana",3/24/23 7:43,Customer,11/5/23 5:04,,,2-High,None,"Hello R&D, 

our customer Mohawk regularly gets the following exception when creating measurements and managed objects in C8Y cloud. 
{code:java} 
2023-03-12 04:22:04.282 +01:00 [ERR] DescriberService: unforeseen exception occured: 
System.AggregateException: One or more errors occurred. (An error occurred while sending the request.) 
---> System.Net.Http.HttpRequestException: An error occurred while sending the request. 
---> System.IO.IOException: The response ended prematurely. 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
— End of inner exception stack trace — 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
at System.Net.Http.AuthenticationHelper.SendWithNtAuthAsync(HttpRequestMessage request, Uri authUri, Boolean async, ICredentials credentials, Boolean isProxyAuth, HttpConnection connection, HttpConnectionPool connectionPool, CancellationToken cancellationToken) 
at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken) 
at System.Net.Http.AuthenticationHelper.SendWithAuthAsync(HttpRequestMessage request, Uri authUri, Boolean async, ICredentials credentials, Boolean preAuthenticate, Boolean isProxyAuth, Boolean doRequestAuth, HttpConnectionPool pool, CancellationToken cancellationToken){code} 
Customer usea the C8Y .net sdk and send the measurements over http. The same is true for the managed objects they create. 

.net c8y sdk and then over http create. 

Customer needs an explaination why this happens and a solution to this problem. The rolling restart done in the past didn't solve the issue. 

See: 

[2023-03-21T14:40:19.796+01:00 ERR] failed to push following event: 
""{""Type"":""paperinfo-station1_paperinfo_code"",""time"":""2023-03-21T13:40:19.782Z"",""text"":""PAL010M000222065208003"",""source"":{""Type"":""c8y_DeviceSubgroup"",""Name"":""PERS1"",""Owner"":""AngularUser"",""CreationTime"":""2023-03-20T16:14:01.263Z"",""LastUpdated"":""2023-03-21T02:24:53.543Z"",""ChildDevices"":{""References"":[],""Self"":…….. 

System.AggregateException: One or more errors occurred. (An error occurred while sending the request.) 
---> System.Net.Http.HttpRequestException: An error occurred while sending the request. 
---> System.IO.IOException: The response ended prematurely. 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
— End of inner exception stack trace — 
at System.Net.Http.HttpConnection.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
at System.Net.Http.AuthenticationHelper.SendWithNtAuthAsync(HttpRequestMessage request, Uri authUri, Boolean async, ICredentials credentials, Boolean isProxyAuth, HttpConnection connection, HttpConnectionPool connectionPool, CancellationToken cancellationToken) 
at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken) 
at System.Net.Http.AuthenticationHelper.SendWithAuthAsync(HttpRequestMessage request, Uri authUri, Boolean async, ICredentials credentials, Boolean preAuthenticate, Boolean isProxyAuth, Boolean doRequestAuth, HttpConnectionPool pool, CancellationToken cancellationToken) 
at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken) 
at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken) 
— End of inner exception stack trace — 
at Unilin.IIOT.Utils.Retry.ExponentialBackoff.Try[TException](Action action, TimeSpan maxBackoffTime, Int32 maxAttempts, ILogger logger) 
at MQTTService.Services.ProcessingService.PushEvent(EventRepresentation e, String topic) 

less regularly but still sometimes we see this error. 

Also this night around 4 o’clock we received 502 gateway errors. 

-> (Inner Exception #1) Cumulocity.SDK.Client.Rest.SDKException: Http status code: 502 
ErrorMessageRepresentation 
<html> 
<head><title>502 Bad Gateway</title></head> 
<body> 
<center><h1>502 Bad Gateway</h1></center> 
<hr><center>openresty</center> 
</body> 
</html> 

at Cumulocity.SDK.Client.ResponseParser.checkStatus(HttpResponseMessage response, Int32[] expectedStatusCodes) 
at Cumulocity.SDK.Client.ResponseParser.parse[T](HttpResponseMessage response, Type type, Int32[] expectedStatusCode) 
at Cumulocity.SDK.Client.RestConnector.Post[T](String path, CumulocityMediaType mediaType, T representation) 
at MQTTService.Services.ProcessingService.<>c_{_}DisplayClass7_0.<PushEvent>b{_}_0() 
at Unilin.IIOT.Utils.Retry.ExponentialBackoff.<>c_{_}DisplayClass1_0{{1.<TryAsync>b{_}_0() at Unilin.IIOT.Utils.Retry.ExponentialBackoff.TryAsync[TReturn,TException](Func}}1 action, TimeSpan maxBackoffTime, Int32 maxAttempts, ILogger logger, CancellationToken cancellationToken)<--- 

---> (Inner Exception #2) Cumulocity.SDK.Client.Rest.SDKException: Http status code: 502"
Defect,CSOIOT-6255,Application down alarm at 3am most days.,Eppendorf SE 7517606,581,Closed,"Neale, Robert","Bizhev, Ivan",3/27/23 8:15,Customer,10/30/23 5:04,24-Mar-23,,3-Medium,3-Medium,"Every other day (mostly at ~ 3 AM UTC) one of the deployed microservices (apama-proxy) is triggering an alarm “Application down” and via smart rules defined emails are getting sent out to the customer. When looking at the status page of this microservice I can see, that kubernetes seems to try cancelling deletion of the pod and the pod just keeps running (see attachment). In the logs I can also see, that the pod just keeps running. The alarm clears itself afterwards but the notification mail is already sent and is leading to confusion. What is happening here?"
Defect,CSOIOT-6249,Trying to offload inventory collection and getting error,Flexible Steel Lacing Company Inc 7519586,561,Closed,"Eha, Allan","Janus, Bartosz",3/24/23 7:40,Customer,9/20/23 6:04,,,2-High,3-Medium,"Customer is encountering a limit exceeded in Dremio on the Flexco staging instance. 

t86675 staging.flexcoelevatedashboard.com 

Error: 

Caused by: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Field '{*}contents' exceeds the size limit of 32000 bytes.{*} 

  

Similar issues with other customers have been resolved in iTracs: 

[CSOIOT-4160|https://itrac.eur.ad.sag/browse/CSOIOT-4160] 

[CSOIOT-921|https://itrac.eur.ad.sag/browse/CSOIOT-921] 

  

--------------------------------------------------------- 
The workaround for this issue is the following: 

change that maximum value. 
- Log in to Dremio as admin. 
- go to the ?Admin? menu, then ?Support? 
- add the key ?limits.single_field_size_bytes"" and set it to 500000 
---------------------------------- 

  

 "
Defect,CSOIOT-6247,Need to turn on debug logging for LwM2M agent,"Itron, Inc. 7518541",561,Closed,"Talbert, Kent","Kehayov, Boyan",4/4/23 8:57,Customer,10/2/23 6:04,,,3-Medium,None,"Need to turn on debug logging for LwM2M agent on Itron instance.  We need this done to capture more information for an issue they are having.  Once debug is turned on, I will need to ask the customer to reproduce the issue.  Then we will need to capture the logs for R&D to investigate the issue further. 

  

Let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-6237,need to have the custom domain URL for enterprise tenant,Solenis LLC 7512378,562,Closed,"Welsing, Michael","Pham, Hoang",4/3/23 14:51,Customer,10/1/23 6:04,29-Mar-23,,1-Critical,2-High,"Hi Ops, 

customer Solenis has a dedicated edition where they want to create an enterprise tenant. 

On manangement tenant management.iot.solenis.com they created a subtenant and subscribed the following features to that tenant: 
* Feature-user Hierarchy 
* Feature-branding 
* Feature-broker 

For some reasons SSL-management is not available for subscription, which seems for now the reason why the created subtenant don't get the ""Enterprise tenant"" option available. 

Can you support, why SSL management is not available and how to get a running enterprise tenant on a dedicated environment? Is SSL management maybe not installed on that environment? 

Cheer 

Michael"
Defect,CSOIOT-6235,Logs needed for 'syntegon-test.cumulocity.com' between 17.03 12:00 till 20.3 10:00,Syntegon Technology Services AG 7520592,562,Closed,"Bhatt, Vikas","Pham, Hoang",3/21/23 10:33,Customer,9/19/23 6:04,,,3-Medium,3-Medium,"*Affected system* 



*Description of the Problem:* 

Customer has asked to provide the logs from 17.03 12:00 till 20.3 today 10:00 on syntegon-test.cumulocity.com. 

Customer is looking for deleted Events/managed Objects. 

Could you please extract and attach the logs?"
Defect,CSOIOT-6209,Analytics Builder Error- apama-ctrl-1c-4g,WIKA Alexander Wiegand SE & Co. KG 7520672,565,Closed,"Herzog, Christian","Louden, Timothy",3/21/23 13:04,Customer,4/4/23 9:00,,,3-Medium,None,"The customer Wika has a question for cloud.wika.io, this is t207116675 on emea.cumulocity.com: 
His microservice ""Apama-ctrl-1c-4g"" shows ""Stopping container"" and """"Created container apama-ctrl-1c-4g-scope-t207116675-pod"" on 5 Mar 2023, 02:49:31 

He had issues after this point of time, apama didn't create output until a restart of the microservice. 
The question is: What was the cause of this stop?"
Defect,CSOIOT-6197,Add Sigfox-agent in management.bodenexam.com,"Micro Technology Co., Ltd. 7515608",566,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",3/17/23 9:42,Customer,9/14/23 6:03,,,2-High,None,"Micro Technologies made the following request: 

We are now creating environment in test.bodenexam.com. 

In order to test our application with the new version in eu-latest.cumulocity.com, we need Sigfox-agent. 

Since Sigfox-agent does not exist in management.bodenexam.com, could you please add the Sigfox-agent in management.bodenexam.com as soon as possible? 

Note from CSM: 

Let me escalate this ticket, because this is related to the test of JP Instance update for them. 

SAG asked MT to do testing within two weeks from yesterday to 28{^}th{^}/Mar with having a long negotiation. They need to do test ASAP. This is the showstopper for starting their test. 

If we don’t solve it timely, they will negotiate again to delay our JP Instance update. 

Please cooperate."
Defect,CSOIOT-6196,Add Apama-ctrl-1c-4g in management.bodenexam.com,"Micro Technology Co., Ltd. 7515608",566,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",3/17/23 9:41,Customer,9/14/23 6:04,,,2-High,None,"Mico Technologies raised below request. 

Please Apama-ctrl-1c-4g in management.bodenexam.com as soon as possible? 

Please treat this with priority. 

Note from CSM: 

Let me escalate this ticket, because this is related to the test of JP Instance update for them. 

SAG asked MT to do testing within two weeks from yesterday to 28{^}th{^}/Mar with having a long negotiation. They need to do test ASAP. This is the showstopper for starting their test. 

If we don’t solve it timely, they will negotiate again to delay our JP Instance update. 

Please cooperate."
Defect,CSOIOT-6195,Alarms email notifications not being received by the end customer,CompAir Drucklufttechnik 7515080,566,Closed,"Eha, Allan","Pham, Hoang",3/17/23 14:21,Customer,9/17/23 6:04,,,2-High,2-High,"It looks like Gardner Denver is encountering CEP issues again.  Can you please check? : 

Please offer us support to investigate why the platform stopped sending alarms notifications, or is sending just a part of them. 

Apart form that after the ticket closed yesterday, in which I reported the same issue, and the CEP engine has been restarted, the platform became slow, having moments when it was quite unresponsive."
Defect,CSOIOT-6193,Need lwm2m agent log from Itron environment.,"Itron, Inc. 7518541",566,Closed,"Talbert, Kent","Korolev, Ivan",3/16/23 21:16,Customer,9/18/23 6:04,,,3-Medium,None,"Need the LwM2M agent log from Itron instance for 15 March.  Need it for iTrac [https://itrac.eur.ad.sag/browse/IOT-16536] 

  

Thanks, 

Kent"
Defect,CSOIOT-6173,Delete the Eppendorf tenant 't175115789',Eppendorf SE 7517606,566,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",3/20/23 8:43,Customer,9/17/23 6:04,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: t175115789 
Tenant URL: https://b1f07d97706c4b82a31fde426a744fd5.visionizedigitallabspace.eppendorf.com 

*Description of the Problem:* 

Please delete the following Eppendorf tenant on EMEA instance. 

Tenant ID: t175115789 
Tenant URL: https://b1f07d97706c4b82a31fde426a744fd5.visionizedigitallabspace.eppendorf.com 

*Additional Tenants to delete*: - 

t228123786 f84727ae44264d6091e8a10d22123a95.visionizedigitallabspace.eppendorf.com 
t228849344 928cbffbe02d4aa6a20ec28ae15dc1a5.visionizedigitallabspace.eppendorf.com 
t231853391 1bb60dbf9fdf4dc5ae1d58a7e35ab632.visionizedigitallabspace.eppendorf.com 
t231867629 f859d10658a843698bf9dafd04baa827.visionizedigitallabspace.eppendorf.com"
Defect,CSOIOT-6171,Please change subtenants domain names,DAC System SA 7520476,567,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",3/21/23 9:36,Customer,9/19/23 6:04,,,3-Medium,None,"on cumulocity.com a customer changed his domain from [dielectric.cumulocity.com|http://dielectric.cumulocity.com/] to [dielectric.dacsystem-apollo.com|http://dielectric.dacsystem-apollo.com/] successfully. C8y do not support migration of existing subtenants to a new domain.  
Please change these domain names manually: 
* t1684359976 dielectric.cumulocity.com ->  [dielectric.dacsystem-apollo.com|http://dielectric.dacsystem-apollo.com/]  
* t1358926305 dac-testing.cumulocity.com  dac-testing.[dacsystem-apollo.com|http://dielectric.dacsystem-apollo.com/]  
* t1523338844 dac-development.cumulocity.com ->  dac-development[.dacsystem-apollo.com|http://dielectric.dacsystem-apollo.com/]  

I would ask you if you can proceed with the changes in the European morning time and inform me (Christian Herzog) directly by chat. In this way, we’ll be able to check and notify our American customers about the changes."
Defect,CSOIOT-6170,LoRaWAN devices connected through loriot agent is not updating device connection status,WAINS GmbH 7518016,567,Closed,"Moon, Swai","Jiang, Weiwei",3/21/23 10:28,Customer,9/4/23 11:11,,,3-Medium,None,"*Request for Tenant* t1105226074 on cumulocity.com 
{*}Tenant URL:{*} traptice.wains.info 
Please add or change in the core. properties the parameter availability.datastatus.unavailable-device-alarm-delay-seconds=180 
Background: 
[https://itrac.eur.ad.sag/browse/IOT-16272] 
[https://cumulocity.atlassian.net/browse/MTM-34737] 
issue: The customer has devices where the required interval is equal to the time frame of the received data from the device 
Result: 
- a c8y_Unavailability alarm is created 
- Send connection is shown as ""offline"" 
cause: it is an issue with the synchronization in multi-node environments 
workaround: enlarge the value of the required interval (the exact value needs to be tested, 3 minutes or more should be fine) 
solution: the above mentioned parameter delaying the alarm creation 
Result: The alarm creation will be delayed by 180 seconds / 3 minutes."
Defect,CSOIOT-6168,[GardnerDenver] Alarms email notifications not being received - CEP engine not processing the Alarms,CompAir Drucklufttechnik 7515080,567,Closed,"Bhatt, Vikas","Pham, Hoang",3/16/23 15:22,Customer,9/13/23 6:04,,,2-High,1-Critical,"*Affected system* 

Tenant Name: Gardner Denver - Ingersoll Rand 
Tenant URL: https://industrials.cas.irco.com/apps/cockpit/index.html#/alarms 

*Description of the Problem:* 

Customer has requested the support to fix the following problem. 

Not all the users are receiving the alarms notification on their emails. 

Upon testing by simulating a test alarm and he did not receive the notification on email. 

As per customer's analysis, the platform is not generating email notification for all the alarms. 

Apart from this, this message is being displayed: “Real-time event processing is currently overloaded and may stop processing your events. Please contact support.“ 
Please see the screenshot attached. 

Could you please have a look and resolve this issue quickly? 
"
Defect,CSOIOT-6160,Security/Unauthorized error in login,"Micro Technology Co., Ltd. 7515608",568,Closed,"Reddy, Yerpula Bharath Bhushan","Simeonova, Rumyana",3/15/23 9:43,Customer,10/1/23 6:04,,,3-Medium,None,"Tenant: https://hitachi-kenki.cumulocity.com 

Customer reported that they are noticing the attached error in C8Y platfrom (Cockpit, Devicemanagement, etc) since 10th. 
They do not see any functionality break, but they would like to know the reason. 

For Ops team: 
Can you please provide associated logs so that R&D can look into? 
"
Defect,CSOIOT-6155,Delete the Eppendorf tenant 't233571765',Eppendorf SE 7517606,569,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",3/14/23 8:30,Customer,9/11/23 6:04,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: t233571765 
Tenant URL: 29543debb29e485195e19d9c59e77953.visionizedigitallabspace.eppendorf.com 

*Description of the Problem:* 

Customer has requested to delete the following tenant: 

Tenant ID: t233571765 
Tenant URL: 29543debb29e485195e19d9c59e77953.visionizedigitallabspace.eppendorf.com 

Please delete this. 

"
Defect,CSOIOT-6151,Need to downgrade our dev instance to match production,Solenis LLC 7512378,569,Closed,"Talbert, Kent","Lisik, Milosz (External)",3/20/23 15:10,Customer,9/17/23 6:04,,,2-High,None,"Customer would like to downgrade their Dev environment to be the same version as production. 

  

From customer: 

We just got our second enterprise instance last week and we need quick help with the version. 

The version we have allotted with the new instance is of latest 10.15 and it will be our development environment. 

Our current production environment instance is of 10.13 and will be updated to 10.14 in by next couple of days. 

We would like to match our both instance version so need a downgrade of the new instance. 

--- 

Let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-6149,Microservice issues: bad gateway,Kemin Europa 7517950,569,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",3/14/23 8:41,Customer,9/12/23 6:04,,,1-Critical,None,"Hi Ops! 

This morning Kemin noticed some strange behavior in their microservices. After monitoring some time, they decided to restart one of them. The result is even worse than before. Their Apama microservice (subscribed on two subtenants) only stared on one of the two subtenants. They are getting 502 Bad gateway errors when opening the status page of the microservice on the subtenant (see screenshot). 


On the other subtenant, they see in the logs a lot of GET errors. Probably also because of 502 Bad gateway issue (see attached logs). 

Also, since last week, they have a JAVA microservice (written by SAG) that does not show any logs (says it has no instance running), but there is data coming in from that microservice (see screenshot “Ewon”). 

Was there any changes over the last days on the [cumulocity.com|http://cumulocity.com/] environment? Are there currently any known issues? 

Customer considers this as a CRISIS!"
Defect,CSOIOT-6144,Delete Tenants from eatonnubisnet,Eaton Industries GmbH 7518586,572,Closed,"Eha, Allan","Luczyszyn, Mikolaj (External)",3/13/23 10:22,Customer,9/12/23 6:04,,,3-Medium,3-Medium,"* 
*Tenant Name:* eatonnubisnet 
* 
*Tenant URL:* [https://management.dbt.machinery-monitoring.com|https://management.dbt.machinery-monitoring.com/]{*}{*} 

  

Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Test-Tenant 
t223020596 
[hfu.dbt.machinery-monitoring.com|http://hfu.dbt.machinery-monitoring.com/] 
eatonnubisnet 
24 Feb 2023, 09:49:50 

Test-Tenant 
t231062082 
[rdsx.dbt.machinery-monitoring.com|http://rdsx.dbt.machinery-monitoring.com/] 
eatonnubisnet 
6 Mar 2023, 13:28:02 

Test-Tenant-1 
t223032039 
[wer.dbt.machinery-monitoring.com|http://wer.dbt.machinery-monitoring.com/] 
eatonnubisnet 
24 Feb 2023, 10:10:37 

Test-Tenant-1 
t234324726 
[etg.dbt.machinery-monitoring.com|http://etg.dbt.machinery-monitoring.com/] 
eatonnubisnet 
10 Mar 2023, 13:41:20 

Test-Tenant-p 
t234345309 
[htgc.dbt.machinery-monitoring.com|http://htgc.dbt.machinery-monitoring.com/] 
eatonnubisnet 
10 Mar 2023, 14:21:42 

Test-tenant-1 
t222373053 
[qws.dbt.machinery-monitoring.com|http://qws.dbt.machinery-monitoring.com/] 
eatonnubisnet 
23 Feb 2023, 14:01:36 

Test-tent-1 
t223171085 
[wes.dbt.machinery-monitoring.com|http://wes.dbt.machinery-monitoring.com/] 
eatonnubisnet 
24 Feb 2023, 14:28:20 

Test-tent-2 
t223026679 
[tyr.dbt.machinery-monitoring.com|http://tyr.dbt.machinery-monitoring.com/] 
eatonnubisnet 
24 Feb 2023, 09:56:45"
Defect,CSOIOT-6143,CLONE - Customer (Nucleus 3 Pty Ltd 7517935) requests LwM2M Server addresses information,Nucleus 3 Pty Ltd 7517935,572,Closed,"Saha, Sourajit","Lundsten, Alf",3/21/23 13:04,Customer,3/21/23 13:04,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: __{_}{{_}}APJ{{_}}{_}___ Domain __{_}{{_}}apj.cumulocity.com{{_}}{_}_ 
System Usage : {_}{{_}}Test{{_}}{_}_ 

*Affected tenant* 

Tenant: [https://nucleus3edge.apj.cumulocity.com/] 
System accessible by R&D? No 

*Device:* 
* Device manufacturer and type: __{_}{{_}}LwM2M{{_}}{_}__ 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other {_}{{_}}LwM2M{{_}}{_} 

  

*Description of the Problem:* 

Hello LwM2M R&D, 

Customer ( Nucleus 3 Pty Ltd 7517935 ) opened support ticket to request following information as they would like to register a LwM2M device. 

Checked with customer they have LwM2M agent subscribed to our Enterprise tenant from SAG. So they need the following details to register any LwM2M device and are confined to APJ region specifications. 
* DNS Settings- Primary and secondary IP addresses. 
* Bootstrap server address and 
* LwM2M server address 

On Mar. 9th, customer updated they had a meeting with LwM2M team and got the details. So no need to collect those details. Below are the details: 

Bootstrap is failing to coap://lwm2m.apj.cumulocity.com:5683 

Tenancy [https://utilities.apj.cumulocity.com/] 

C8y Device ID 81002 

Device Name urn:imei:867724031407684 

Register using _coap://lwm2m.apj.cumulocity.com:5783_ LwM2M server address in the tenant. 

  

But they were facing bootstrap failing issue. Kindly suggest on the LwM2M registering error. 

  

 "
Defect,CSOIOT-6135,All microservices returning 502 Bad Gateway,"HILL-ROM Holdings, Inc. 7517970",573,Closed,"Talbert, Kent","Simeonova, Rumyana",3/10/23 9:00,Customer,9/15/23 6:00,,,1-Critical,None,"Hillrom is seeing 502 bad gateway errors in their production environment.   
  
servicehub.iot.hillrom.com 
 "
Defect,CSOIOT-6134,Change tenant admin.,"Software AG USA, Inc. 3150000",574,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",3/9/23 9:14,Customer,9/6/23 6:04,,,3-Medium,None,"ZTR needs the tenant admin changed on 2 of their tenants.  The current admin will be leaving the company, thus the need for the change.  The admin that needs to be removed is edodd   edodd@ztr.com 

  

Please change the admin to:  j[dayus@ztr.com|mailto:jdayus@ztr.com] 

The tenants are on the US instance: 
* development.railwayiot.com  t458267135 
* test.railwayiot.com  t461248421    

  

Also, if there are any wiki pages where OPs keeps customer contact information (not sure if you keep that for public cloud customers) for ZTR that has [edodd@ztr.com|mailto:edodd@ztr.com.] as the contact, please change that to:  [Cumulocity_Alerts_Information@ztr.com|mailto:Cumulocity_Alerts_Information@ztr.com] 

Let me know if you need any other information. 

  

Thanks, 

Kent"
Defect,CSOIOT-6132,Add valid license for 'rsc40.cumulocity.com' (t435072610) and activate the custom domain,August Storm GmbH & Co. KG 7518165,574,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",3/29/23 8:11,Customer,10/19/23 6:05,,,3-Medium,3-Medium,"*Affected system* 

Instance: PROD (*.cumulocity.com) 
Tenant ID: t435072610 
Tenant URL: https://rsc40.cumulocity.com 

*Description of the Problem:* 

Customer has uploaded the wildcard SSL certificate and added the CNAME entry to the DNS. 

CNAME entry: 

*.storm-iot.services CNAME rsc40.cumulocity.com 

Please add the license for it in PROD instance in order to activate their custom domain."
Defect,CSOIOT-6130,[Greenflex] Microservices state after platform upgrade and loss of data,GREENFLEX 7517499,574,Closed,"Bhatt, Vikas","Pham, Hoang",3/24/23 7:40,Customer,9/20/23 6:04,,,3-Medium,3-Medium,"*Affected system* 

Greenflex: 
DEV: [https://iot.dev.iot.greenflex.com|https://iot.dev.iot.greenflex.com/] 
PROD: [https://iot.greenflex.com|https://iot.greenflex.com/]) 

*Description of the Problem:* 

Customer has reported this issue as below{*}: -{*} 

*------------------------------* 

SAG ops processed recently the upgrade 10.11 to 10.14 of our 2 platforms (dev [iot.dev.iot.greenflex.com|http://iot.dev.iot.greenflex.com/] + prod [iot.greenflex.com|http://iot.greenflex.com/]) 

To summarize what happened during the upgrade of our platform from 10.11 to 10.14 : 
* The Dev instance was upgraded on Feb. 15th. 

The next day the microservices were running OK, no problem. 
* The Prod instance was upgraded on march-1st, started at 5pm CET, ended at 8am the next day 

In the morning, I noticed that the microservices were running with errors, I had to trigger a restart for all of them at 10am to get a nominal behaviour. 

In the meanwhile we saw data holes from ~5pm to ~10am for the devices sending measurements via the microservices codecs 

This request aims to get an explanation of what happened during the upgrade of our prod instance causing loss of data, and to avoid it on upcoming maintenances. 

*------------------------------* 

Please see the attached email thread for internal discussion{*}.{*}"
Defect,CSOIOT-6128,IP Adresses of Cumulocity,WAINS GmbH 7518016,574,Closed,"Welsing, Michael","Simeonova, Rumyana",3/14/23 8:47,Customer,9/18/23 6:04,,,1-Critical,None,"Hello Ops, 

WAINS has a new customer who is very strict on his firewall rules. So WAINS now have the problem that they have to provide him the exact IP adresses which are used to connect to Cumulocity. 

WAINS thought every communication with our devices is done through our enterprise tenant domain [traptice.wains.info, b|http://traptice.wains.info/]ut it seems to be a cloudflare load-balancer in front of it. 

So is there some kind of network infrastructure documentation WAINS can send to the IT Admin of their customer on which he can see which ports and adresses he hast to allow for incoming traffic on his firewall? 

As said they are very strict and a ""*"" firewall rule for allowing all the traffic from the sending device is not possible. 

Cheers 

Michael"
Defect,CSOIOT-6126,Mail send delay,Netze BW GmbH 7518036,574,Closed,"Neale, Robert","Bizhev, Ivan",3/17/23 8:46,Customer,9/13/23 6:05,8-Mar-23,,3-Medium,None,"We had a Problem that our Mails were sent from Cumulocity with a delay. We have sent the Mails from Apama EPL and usually the sending is OK. On 17.02 we had a Problem that the Mails were sent delayed or were not sent at all. Mail sent at midday on 17th were only received 24+ hours later. 

  

Is there any evidence of a problem with Email sending on production cumulocity 17.02 - 19.02?"
Defect,CSOIOT-6123,inconsistency in notifications similar to CSOIOT-6084,INVIXIBLE LIMITED 7517715,575,Closed,"Herzog, Christian","Pham, Hoang",3/24/23 7:40,Customer,10/1/23 6:04,,,2-High,None,"A customer on demo-solutions.emea.cumulocity.com has issues with realtime notifications - connection type websocket. 
Details: 

************************************************ 

We'd like your support on an issue we're facing using Cumulocity's WEB SDK on our server. The issue we're facing, in particular, is concerning the realtime notifications feature not receiving notifications once deployed onto our AWS servers. Mind you, it works perfectly well when we're testing it on our local machines. The notifications come through quickly & swiftly and are handled. However, no notification seems to come in the pipeline once the same piece of code is deployed on AWS. No errors are thrown either. 

Our servers run on docker to be environment agnostic. We've checked all ports, firewalls, and application+network load balancers on AWS (to the best of our ability & understanding) to ensure nothing is blocking in-bound/out-bound requests on the WebSocket. 

We would like support from your team as to how we can proceed on resolving this challenge, as having real-time notifications is critical to the functioning of our application. This support could be in the form of a conference call where we can sit together and probe the issue, or any other approach you think would be most productive. 

************************************************ 

This is similar to: 
- Ops ticket [https://itrac.eur.ad.sag/browse/CSOIOT-6084]  
- R&D ticket [https://itrac.eur.ad.sag/browse/IOT-16623]  

Differences: 
- this ticket uses connection type websocket, the other long-polling 
- this ticket is to a tenant on .emea.cumulocity.com, the other to a tenant on .cumulocity.com  

I made this test below, same result as the other ticket, but I'm not sure if this is the poof of the issue: 

1. get the handshake session 
POST {\{url}}/cep/realtime 
body: 

[ 
    { 
        ""version"":""1.0"", 
        ""minimumVersion"":""0.9"", 
        ""channel"":""/meta/handshake"", 
        ""supportedConnectionTypes"":[""websocket""], 
        ""advice"":{ 
            ""timeout"":60000,""interval"":0 
        } 
    } 
] 
Response: 200 OK with '...  ""clientId"": ""70w1zpluhecw7oxrhrdtdzizxegwj""....""successful"": true....' 
2. subscribe to the device channel 
POST {\{url}}/cep/realtime 
body: 

[ 
    { 
        ""channel"":""/meta/subscribe"", 
        ""subscription"":""/managedobjects/122285724"", 
        ""clientId"":""70w1zpluhecw7oxrhrdtdzizxegwj"" 
    } 
] 
Response: 200 OK with '....""successful"": true....' 

3. Use long polling connection for retrieving data from a channel 
POST {\{url}}/cep/realtime 
body: 

[ 
    { 
        ""channel"":""/meta/connect"", 
        ""connectionType"":""websocket"", 
        ""clientId"":""70w1zpluhecw7oxrhrdtdzizxegwj"" 
    } 
] 
Although the device receives a lot of measurements, no response is listed here. "
Defect,CSOIOT-6120,Apama logs needed for tenant t685335763 on cumulocity prod.,Netze BW GmbH 7518036,575,Closed,"Neale, Robert",Unassigned,3/8/23 9:46,Customer,9/13/23 6:05,7-Mar-23,,3-Medium,3-Medium,Can someone get me all the Apama logs for tenant t685335763 on cunulocity prod?
Defect,CSOIOT-6105,"Delete the tenant ""t212582491"" on EMEA instance",Eppendorf SE 7517606,576,Closed,"Bhatt, Vikas","Vukman, Tomislav",3/6/23 16:23,Customer,6/5/23 10:50,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: t212582491 
Instance: EMEA 

*Description of the Problem:* 

Customer has requested to delete the Tenant with tenantID t212582491 on the EMEA Instance. 
Please delete this tenant. 

"
Defect,CSOIOT-6096,Please do rolling restart for adamos.com,DMG MORI Digital GmbH 7515505,579,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",3/3/23 13:25,Customer,9/29/23 10:54,,,1-Critical,None,"SSO in tenant [https://dmgmoridevices.adamos.com|https://dmgmoridevices.adamos.com/] does not work as expected again. 
The login itself works but afterwards the application throws again and again an error: ""Token 'xyz' not present for 'user'""  
This prevents users from working. 

[https://itrac.eur.ad.sag/browse/CSOIOT-5725] and [https://itrac.eur.ad.sag/browse/CSOIOT-5804] solved the same former issue with a rolling restart. Can you please do this again for adamos.com? 

Parallel I force R&D for a permanent solution in [https://itrac.eur.ad.sag/browse/IOT-15769] "
Defect,CSOIOT-6095,Retreive microservice logs,TOOLLIVE SAS 7520264,579,Closed,"Neale, Robert","Radzali, Basyar",3/6/23 1:06,Customer,6/10/23 11:37,3-Mar-23,,3-Medium,3-Medium,Can someone get me all available logs for the microservice Toollive-micro on EMEA tenant t66839513?
Defect,CSOIOT-6084,Microservices not receiving measurements on subscription,Kemin Europa 7517950,581,Closed,"Eha, Allan","Radzali, Basyar",3/10/23 9:06,Customer,9/13/23 11:07,,,1-Critical,1-Critical,"Tenant:  my.americas.keminconnect.com 

  

(SI-497957) Kemin is getting errors for the last few hours on t1132225176.cumulocity.com: 
2023-02-28 14:01:54.363  INFO 11 --- [subscriptions-0] o.apache.http.impl.execchain.RetryExec   : I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}->http://cumulocity:8111: The target server failed to respond 
2023-02-28 14:01:54.363  INFO 11 --- [subscriptions-0] o.apache.http.impl.execchain.RetryExec   : Retrying request to {}->http://cumulocity:8111 
This is causing problems with the microservices.  They are getting: 
{ 
  ""error"": ""Microservice/Bad gateway"", 
  ""message"": ""Microservice not available Connection refused : Connection for request a2fe5cea155a095eb9f2c01d756053a0 already closed"", 
  ""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
} 
Can someone look into this?"
Defect,CSOIOT-6076,DNS Change for Hillrom,"HILL-ROM Holdings, Inc. 7517970",582,Closed,"Talbert, Kent","Louden, Timothy",3/10/23 9:03,Customer,9/13/23 6:05,,,2-High,None,"We would like to understand the process and impact of changing Change [https://servicehub.iot.hillrom.com/] to [https://servicehub.iot.baxter.com/] 
We know this would require the below need new license 
DNS change 
Database change 
fixed url within binaries can break different version of firmware 
brief service interruption 

  

Tim Louden is aware of this please assign to him."
Defect,CSOIOT-6075,404 error when trying to set up Connectivity > Actility Connection on US instance.,AM General LLC 7500726,582,Closed,"Talbert, Kent","Pham, Hoang",3/2/23 7:16,Customer,9/12/23 6:04,,,2-High,None,"We are trying to create a connection between Cumulocity and Actility (LoRa Gateway) and we are getting a server error. 

We navigate to Administration > Settings > Connectivity and then we click on “Add Connection”. 

We are getting the following error message. 
{noformat} 
{ 
""status"": 404, 
""statusText"": """", 
""url"": ""https://amgeneral-mmc-qas.us.cumulocity.com/service/actility/lns-connection"" 
}{noformat} 
This issue is affecting multiple tenants.  I am seeing the same issue on my tenant."
Defect,CSOIOT-6074,"Deleting subtenants ""automatictenant05-24"" on *cumulocity.com",Syntegon Technology Services AG 7520592,582,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",2/28/23 15:38,Customer,5/30/23 10:48,,,3-Medium,3-Medium,"*Affected system* 

Parent Tenant: https://syntegon-test.cumulocity.com/ 
(DO NOT DELETE THIS) 

*Description of the Problem:* 

Customer has requested to delete the subtenants automatictenant05-24 on cumulocity.com. 

Please delete these tenants."
Defect,CSOIOT-6069,After upgrading SSL Certificate the application is not working,Kallipr Pty Ltd 7516856,583,Closed,"Song, Shaopeng (Jeffrey)","Hou, Jiabin",3/20/23 16:16,Customer,9/25/23 6:05,1-Mar-23,escalated,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: {_}{{_}}{{_}}APJ{{_}}  \{_}{{_}}Version ___{_}10.15{_}___ 
System Usage (Choose one of: Production / Test / Development): {_}{{_}}Prod{{_}}{_}_ 
Time Zone: {_}{{_}}{{_}}AEST{{_}}{{_}}{_} 

*Affected tenant* 

Tenant: System-wide issue. 
Enterprise Tenant? Yes 
System accessible by R&D?  No 

*Device:* 
* Device manufacturer and type: {_}{{_}}{{_}}MQTT{{_}}{{_}}{_} 
* Number affected: All devices. 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other __{_}{{_}}{{_}}MQTT{{_}}{{_}}{_} 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability? Always 
* Frequency - All the time  

*Attach log files...* 

Please find attached for the customer's monitoring logs : 

captis_026403_230228-124839_230228-124919_flt_iface 56_IP.pcap 

*Description of the Problem:* 

Kallipr is currently observing devices offline, potentially caused be recent update completed by Cumulocity on 28th Feb. Customer thought the SSL cert had expired and Cumulocity has now updated this. This appears to be incompatible with devices where SSL is enabled and thus causing these to fail to connect. 

*Customer expectation:* 

Kallipr seeks to have these changes reverted, before requesting a different cert applied that would be compatible with SSL being enabled. 

Please find tenants impacted: 

*Currently Affected (based on sudden increase in offline devices):* 

[watercare.spark.captis-iot.com|http://watercare.spark.captis-iot.com/] 

[citycare.spark.captis-iot.com|http://citycare.spark.captis-iot.com/] 

[nps.madisontech.captis-iot.com|http://nps.madisontech.captis-iot.com/] 

  

*Potentially Also Affected (TBC):* 

[adr.spark.captis-iot.com|http://adr.spark.captis-iot.com/] 

[greenbedemo.spark.captis-iot.com|http://greenbedemo.spark.captis-iot.com/] 

[management.spark.captis-iot.com|http://management.spark.captis-iot.com/] 

[watercheck.spark.captis-iot.com|http://watercheck.spark.captis-iot.com/] 

[madisontechcaptis-iot.apj.cumulocity.com|http://madisontechcaptis-iot.apj.cumulocity.com/] 

[management.miot.captis-iot.com|http://management.miot.captis-iot.com/] 

[dev.miot.captis-iot.com|http://dev.miot.captis-iot.com/] 

 "
Defect,CSOIOT-6067,Tenant deletion required.,"Micro Technology Co., Ltd. 7515608",583,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",2/27/23 15:35,Customer,5/29/23 10:34,27-Feb-23,,3-Medium,3-Medium,"Please delete this tenant on eu-latest.. 

  

!https://chat.google.com/u/0/api/get_attachment_url?url_type=FIFE_URL&content_type=image%2Fpng&attachment_token=AMzByC0Et2CjAsSTxdP6rnXUJ%2FmC6Ee4vL1SUQaybHKHt8Dvnx7uODsPSk%2FXESAvPikItyAqHXfcsj04Cy%2BBdQlWLhU%2F8YGcrGbcpXuoS25jh3z5xRIHv2g8mfGcWSxCojVkUk%2B1lFLthbA3LTxJxB32j5KYiVWmKqUrc6Y9V4a%2FGlQ2Hpk5PipcHMt5zCD4dFX%2FW47%2F54U3uG4bkx%2BizLd35PbiuOINoOBeJ9%2FjSq2W9VZePe2aiePRGqIpw4ccAvBVk798E3QBBUZhConWzFkjOxqdmStjiY7OqoppCUwOdHJ4I3hq7VnB5tpA26kxACZlceSUbsa7lfIpy5TLrM0YPnJp3CBV9oalGu%2FduQWIdyAQINC0%2FnNUkLOaYQ1pCntUOWvnKhyWm%2FdZMqAGH8oD%2FFgKTOYaFCpa14%2Bn%2BTbbLUFKrxs%2BNwcKzHFTESpgcmI%2B1xsWCMlOEA8um2Mih76XUQcvXGT4b4VConXYfeqy79uanHH7CGB7NlMDbYNiSUNrg0ivQY2lVKau2ohDUkQzwv8tLVh9TNAP93M%2Fw4I8Hcbyk8n33ejQeKISBQ%3D%3D&sz=w1920-h1032!"
Defect,CSOIOT-6064,Errors in applying APAMA,"Micro Technology Co., Ltd. 7515608",583,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",2/28/23 7:32,Customer,5/29/23 10:35,,,1-Critical,None,"We have just applied APAMA to six tenants used for development, but got errors in two tenants same as before reported in ticket SI-496728. Currently, we have waited for more than 30 min, but there are still errors generated in these tenants. I have attached the screenshots of errors in tenant: https://obayashi_dev.cumonosu.com and https://ydmdev.cumonosu.com/. 

Could you please investigate this and give us your feedback as soon as possible? Since we are going to apply APAMA to production tenants this Wednesday, we would like to make sure that we can apply APAMA with 100-percent sure."
Defect,CSOIOT-6060,SBD: c8y_Connection.status inconsistent,Stanley Black and Decker 7513816,586,Closed,"Eha, Allan","Lundsten, Alf",3/1/23 11:23,Customer,9/13/23 6:05,,,3-Medium,None,"R&D are requesting core logs from SBD: 

** 
* 
*Tenant Name:* 
t10466386 
* 
*Tenant URL:* 
surepath-dev.sbdconnect.io 
  
20-Feb for the full day."
Defect,CSOIOT-6059,Need lwm2m agent log from ITron instance.,"Itron, Inc. 7518541",587,Closed,"Talbert, Kent","Kehayov, Boyan",2/28/23 15:17,Customer,9/18/23 6:05,,,3-Medium,None,"Need lwm2m agent log from 22 February from the ITron instance. 

  

Thanks, 

Kent"
Defect,CSOIOT-6049,"""Node is not ready"" error in Apama-ctrl-starter in customer subtenant",Autosen GmbH 7516454,588,Closed,"Bhatt, Vikas","Bizhev, Ivan",3/14/23 9:58,Customer,9/21/23 6:04,,,2-High,2-High,"*Affected system* 

Tenant URL: https://ifm-customer-ca.io-key.ifm/ 
Version: 10.15.0.278 

Username: support 
Password: ru8R/93M?2wOl) 

Apama-model: RBCC-23F-DCW LD 
https://ifm-customer-ca.io-key.ifm/apps/streaminganalytics/index.html#/analyticsmodels/models/95080019 

*Description of the Problem:* 

In one of the Autosen’s c8y sub-tenant “https://ifm-customer-ca.io-key.ifm/; one of their Apama starter model ""RBCC-23F-DCW LD"" is not working since January 19th, 2023. 
There’s an alarm “*Node is not ready*” since the same day. On the same day, there was an update of C8Y to 10.15: https://status.cumulocity.com/incidents/xqy6v4r1wr5j 

Cockpit version: 
Backend: 1015.0.218 
UI: 1011.0.12 

*Is this an Apama issue or could be related to UI mismatch or anything else?* 


We’ve found that the Apama UI and backend are both 10.15, only the cockpit is still 10.11 which should not be a problem, should it? Either way, customer is using the same configuration on several subtenants and they are not facing any problems. 

What we can see is that data points generated in the Apama model are missing. e.g. on January 19th, 13:00. They start appearing later. The missing data points correspond to the “node not ready” alarm message. 
What is the reason for the “node is not ready” alarm? 

What is the reason for 116 alarms “node is not ready”? Last one was on 19.02.2023, 20:16:09 without any user action. There’s definitely something wrong. 

Please see the diagnostics logs attached."
Defect,CSOIOT-6032,Delete Tenants from eatonnubisnet,Eaton Industries GmbH 7518586,590,Closed,"Bhatt, Vikas","Radzali, Basyar",2/21/23 8:48,Customer,5/25/23 12:35,,,3-Medium,3-Medium,"*Affected system* 

Enterprise tenant eatonnubisnet in EMEA instance. 

*Description of the Problem:* 

Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Test-Tenant-Paridhi1-t216300234-machinery.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi2-t216308520-machinery1.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi2-t216316190-brightlayer1.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi3-t216309059-brightlayer.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi3-t216322256-brightlayer2.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi4-t216338403-brightlayer3.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi4-t216340465-brightlayer4.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi5-t216349434-brightlayer5.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi5-t216349575-brightlayer6.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi5-t216350064-blim.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi5-t216353599-blim1.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi6-t216370817-blim2.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi7-t216835653-blim01.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi7-t216835791-blim02.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi7-t216843392-blim03.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi8-t216852784-blim04.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi9-t216985125-blim05.dbt.machinery-monitoring.com 
Test-Tenent-Paridhi10-t216990488-testblim.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi11-t216993648-testblim01.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi12-t216994287-testblim02.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi13-t216999115-testblim03.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi14-t216999993-testblim04.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi14-t217048682-testblim06.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi15-t217048936-testblim1.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi16-t217667457-testblim2.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi17-t217694571-testblim3.dbt.machinery-monitoring.com 
Test-Tenant-Paridhi18-t220047760-testblim4.dbt.machinery-monitoring.com"
Defect,CSOIOT-6031,activation of LORIOT service,POST Telecom S.A. 7515101,590,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",2/20/23 11:58,Customer,5/25/23 12:36,,,3-Medium,3-Medium,"Please add loriot-agent to these tenants on EMEA. 
|{color:#000000}Tenant{color}|{color:#000000}ID{color}|{color:#000000}Domain{color}| 
|{color:#000000}showroom Post{color}|{color:#000000}showroom{color}|{color:#000000}'showroom.post-iot.lu{color}| 
|{color:#000000}'A+P Kieffer{color}|{color:#000000}t10314322{color}|{color:#000000}'apko.post-iot.lu{color}| 
|{color:#000000}GLOBAL FACILITIES{color}|{color:#000000}t220068887{color}|{color:#000000}'globalfacilities.post-iot.lu{color}| 
|{color:#000000}POST Luxembourg{color}|{color:#000000}t22757977{color}|{color:#000000}'corp.post-iot.lu{color}| 
|{color:#000000}LiveMat DEMO{color}|{color:#000000}t25304727{color}|{color:#000000}'livemat.post-iot.lu{color}| 
|{color:#000000}Villa Vauban{color}|{color:#000000}t9827604{color}|{color:#000000}'villavauban.post-iot.lu{color}|"
Defect,CSOIOT-6029,[Hilti] QAS - JVM args for microservices,Hilti AG 3158,590,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",2/20/23 11:10,Customer,5/25/23 12:37,,,3-Medium,3-Medium,"*Affected system* 

QAS tenant t543594485 

*Description of the Problem:* 

We have added jvm args to the microservices, but we can not see if they are added or not from logs. 

Could you please check and let me know the args of the following microservices in QAS tenant t543594485 for the following microservice: 

Dmp-swupdate-service"
Defect,CSOIOT-6028,Microservice - Out of Memory,Liebherr-Werk Nenzing GmbH 7516355,590,Closed,"Bhatt, Vikas",Unassigned,2/20/23 10:19,Customer,5/25/23 12:37,,,2-High,2-High,"*Affected system* 

Tenant ID: t1811909840 
Tenant URL: https://k-spezialtiefbau.myjobsite.com 

(Hosted on *.cumulocity.com) 

*Description of the Problem:* 


Liebherr raised this issue as below with their custom microservice. 

-------------------------------------------------- 
We have a Tenant (t1811909840 on *.cumulocity.com) with a strange behavior where we get a OOM 137 (out of memory) from Kubernetes. 

We increased our logging to see if our application has some memory leaks and we can’t see any Exception or anything. 

We have this problem with the ""Report"" Microservice. 

We realize that the MicroService is rebooting because we saw in the logs of the MicroSerivce was gone because everytime the pod restarts we lose the previous logs. This is a big issue for analyzing what is going on with the MicroService. 

After some time, we saw an Alarm in Cumulocity which states the following: Screen-Shot 1 

The [OOMKilled 137|https://komodor.com/learn/how-to-fix-oomkilled-exit-code-137/] states that the pod in the kubernetes cluster was using too much memory, therefore it was killed. 

Currently we gave this MicroService 1G of RAM. So we created a tool which calls periodically our health endpoint (every 200ms) to see how much RAM we were using. Then we call some endpoints on the MicroService to see if we exceed the RAM limits which we set. This are results of the memory consumption: Screen-Shot 2 

We are far away from 1GB of RAM. 

So for me it seems that kubernetes kills the pod to early. The problem is that we can‘t investigate further because we can’t see what is happing and if our pod really runs out of memory. 

Also, what is quite interesting that this only happens on this tenant and we always deploy the same docker image on all of our customer tenants with the same resources in the manifest file. 
--------------------------------------------------"
Defect,CSOIOT-6025,Events offload - Missing columns that are in data,Stanley Black and Decker 7513816,593,Closed,"Talbert, Kent","Janus, Bartosz",2/21/23 9:05,Customer,5/25/23 12:38,,,2-High,None,"Tenant:  surepath-dev 
Tenant ID:  t10466386 
Tenant URL:  [https://surepath-dev.sbdconnect.io|https://surepath-dev.sbdconnect.io/] 
Dremio host:  [https://datahub.sbdconnect.io/] 
  
Need to have the attached Python script run using the dremio Admin user account for SBD.  Running the script should help fix the problem the customer is seeing with the missing columns. 
  
  
 "
Defect,CSOIOT-6018,Activate custom domain - rename existing tenants.,Kemin Europa 7517950,593,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",2/21/23 13:54,Customer,5/25/23 12:39,,,3-Medium,3-Medium,"After implementing a custom domain customer want s existing sub tenants to be renamed.. 

  


I confirm that you can initiate renaming of tenants below to final names (matching our new certificate): 
t789132470 - final name: development.dev.keminconnect.com 
t789546043 - final name: internal.dev.keminconnect.com 
t1723267302 - final name: integration.dev.keminconnect.com 
Thank you very much! 

  

This is on cumulocity prod."
Defect,CSOIOT-6017,Rollback from APAMA to Esper,"Micro Technology Co., Ltd. 7515608",593,Closed,"Neale, Robert","Lundsten, Alf",2/20/23 9:50,Customer,5/25/23 12:39,17-Feb-23,,3-Medium,3-Medium,"We would like to rollback from APAMA to Esper for the following tenants: 
[https://hbs_toilet.cumonosu.com|https://hbs_toilet.cumonosu.com/] 
[https://hisys_gatecity.cumonosu.com|https://hisys_gatecity.cumonosu.com/] 
[https://hisys_pbx_dev.cumonosu.com|https://hisys_pbx_dev.cumonosu.com/]"
Defect,CSOIOT-5999,Need tenant restored on EMEA instance.,INVIXIBLE LIMITED 7517715,594,Closed,"Talbert, Kent","Fuso, Luca",2/22/23 9:37,Customer,5/25/23 12:41,,,2-High,None,"Tenant ID:  t1210372600 
Tenant URL:  demo-solutions.emea.cumulocity.com 
  
Customer deleted a number of device credentials and needs the tenant restored. 
From customer:  During a house keeping activity we accidentally deleted device credentials for following device ids. is it possible to kindly restore them somehow? as these devices are POC and with customers in different countries and is very difficult to reset them physically. 
these were generated through automated flow, requested by devices themselves. 

190423304 
190415242 
190418556 
190416113 
190407988 

191693067 
191696795 
191696761 
191696751 
191696725 
191696708 
191689851 
191693571 
191692651 
191693531 
191699148 
191689747 
191696453 
191696357 
191693424 

190190295 

--------------------- 

Pete Cole from Sales in UK is aware of this and has sent Alf and Thomas an email with regards to cost, etc."
Defect,CSOIOT-5997,Flexco: Staging tenant t86675 services are down,Flexible Steel Lacing Company Inc 7519586,594,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",2/16/23 16:15,Customer,5/20/23 10:09,,,2-High,None,"Flexco is reporting problems with microservices on staging tenant (t86675) being down. Services are  cp-provisioning, flexco-user-mgt-ms, etc. Unfortunately, I can't get into the tenant to take a look. 
  
  
[staging.flexcoelevatedashboard.com|http://staging.flexcoelevatedashboard.com/] 

  

This is preventing them from developing and testing."
Defect,CSOIOT-5996,Management tenancy not pulling usage stats on Feb. 1st for Telstra,Telstra Corporation Limited 7514912,594,Closed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",2/17/23 16:35,Customer,5/25/23 12:42,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: __APJ__  Version ___10.11____ 
System Usage (Choose one of: Production / Test / Development): __Production__ 
Time Zone: __AEST___ 

*Affected tenant* 

Tenant: management 
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Issue associated device, application and/or microservice* 

 Enterprise tenant > Usage stat 

*Application:* 
* Administration 

*Time period error was observed:* 
* Start: ____Feb. 1st___ End: ____Feb. 1st. 
* Repeatability? Once 
* Frequency - several times on the day Feb. 1st 

*Steps to reproduce* 
# When visit page Usage stat under Enterprise tenant  in Administration, no data showing in usage statistics. Throws an error “Errors occurred while running event processing rule”. Please check attached screen shot.  
# This error suggest an alarm has been created for more detail but there was no alarm under cockpit->alarm 

*Description of the Problem:* 

Customer had a brief chat with Ops team during weekly call. Event processing error actually related to esper deprecation. It coincidently showed up at the same time when I pulled usage stat and confused me. So customer is now OK with that error. 

However customer would like to know root cause of not having usage stat in display at the time. 

Customer didn’t come across this after that day even though user don’t look for it frequently. 

Question: 

Kindly help check this which occurred on Feb. 1st. if anything at the backend would tell what went wrong at the time."
Defect,CSOIOT-5995,Provide Missing Apama logs,Syntegon Technology Services AG 7520592,594,Closed,"Bhatt, Vikas","Bizhev, Ivan",2/17/23 16:33,Customer,5/28/23 10:15,,,3-Medium,3-Medium,"*Affected system* 

Tenant ID: t1673833537 
Tenant URL: https://hedenkamp.synexio.syntegon.com/ 

*Description of the Problem:* 

Customer is missing logs from the Apama-ctrl-1c-4g-Microservice. 
They need these logs to debug some problems at a customer. 

Could you please provide them with older logs from and before 14th February?"
Defect,CSOIOT-5991,Flexco: Our IOT devices are unable to communicate to the Cumulocity Platform: RCA needed,Flexible Steel Lacing Company Inc 7519586,595,Closed,"Eha, Allan","Vukman, Tomislav",2/17/23 16:09,Customer,6/20/24 23:52,,,1-Critical,None,"Flexco is having a problem with devices connecting. 

This is an issue that started this morning about an 90 minutes ago! No data in the device management. Basically the devices are unable to communicate with the Cumulocity platform. This is widespread and in all our subtenants!"
Defect,CSOIOT-5990,need core logs from flow.waterjetconnectiq.com,Flow International Corporation 7520690,595,Closed,"Herzog, Christian","Louden, Timothy",2/16/23 9:14,Customer,5/25/23 12:44,,,3-Medium,None,"Hello Ops collegueas, 

I need core logs from today from flow.waterjetconnectiq.com 
Please attach it to [https://itrac.eur.ad.sag/browse/IOT-16436]  

Thanks!"
Defect,CSOIOT-5988,Password Reset Email is not sent while creating a new user in https://dormakabacloud.cumulocity.com,Dormakaba USA Inc. 7516335,595,Closed,"Bhatt, Vikas","Vukman, Tomislav",2/27/23 7:21,Customer,9/11/23 6:05,,,2-High,2-High,"*Affected system* 

Tenant ID: dormakabacloud 
URL: https://dormakabacloud.cumulocity.com 
Version: 10.15.0.218 

*Description of the Problem:* 

This tenant is not sending Password Reset Emails for new user creation. Please see attached the settings for Email server and reset template. (exactly same as in my own tenant bhatt.cumulocity.com where it works well.) 
!Email Settings.png|thumbnail! 

Tested by creating a user with Gmail IDs also. No emails were sent for password reset! 

Customer mentioned these two new users they created earlier which didn't send any password reset emails. 

rkant.7767@gmail.com 
owner1@yopmail.com"
Defect,CSOIOT-5983,[Nordex] PROD Env. - JSON parsing and 502 Bad Gateway errors grouping,Nordex SE 7515195,596,Closed,"Bhatt, Vikas","Bieniak, Arkadiusz",2/21/23 8:48,Customer,9/12/23 6:04,,,2-High,2-High,"*Affected system* 

Tenant: https://nordex.nifprd.nordex-online.com 

*Description of the Problem:* 

Since last few hours, Nordex PROD is regularly experiencing JSON parsing and 502 Bad Gateway errors grouping as well as other errors. Please see the attached screenshots. 

Could you please check and resolve these errors?"
Defect,CSOIOT-5981,CLONE - Registering a LwM2M Device in Preprod tenant does not work,Telstra Corporation Limited 7514912,596,Completed,"Song, Shaopeng (Jeffrey)","Lundsten, Alf",2/23/23 9:44,Customer,2/23/23 9:44,,,3-Medium,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: __{_}APJ{_}___ Domain __{_}preprod.telstra.com{_}__ Version __{_}10.15{_}___ 
System Usage (Choose one of: Production / Test / Development): _{_}Test{_}__ 
Time Zone: __{_}AEST{_}___ 

*Affected tenant* 

Tenant: loadtest.iotpreprod.telstra.com  
Enterprise Tenant? Yes 
System accessible by R&D? No 

*Device:* 
* Device manufacturer and type: _{_}LwM2M{_}_ 
* Number affected: All LwM2M devices. 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other : LwM2M_ 

*Time period error was observed:* 
* Start:  ongoing. 
* Repeatability? Always 
* Frequency - All the time 

*Steps to reproduce* 
# When clicking on Register a General Device, it gives me a form to fill ({_}see{_} {*}_1. Register a General Device.png_{*}). 
# When I click on Register a LwM2M Device, it is stuck in loading a LwM2M form definition to fill ({_}see{_} {*}_2. Register a LwM2M Device.png_{*}). 
# Tried to wait for longer time, then received a “Failed to fetch” error. ({_}see{_} {*}_3. Failed to Fetch error.png_{*}) 

*Description of the Problem:* 

Telstra reported that user was not able to register any LwM2M devices in preprod environment. When trying to register a LwM2M device it is stuck on the loading page. Interestingly, registering a general device works, so it is only the LwM2M option that has the problem.  
* [https://loadtest.iotpreprod.telstra.com/apps/devicemanagement/index.html#/deviceregistration|https://loadtest.preprod.telstra.com/apps/devicemanagement/index.html#/deviceregistration]  "
Defect,CSOIOT-5936,Crisis: agents.cumonosu.com is down,"Micro Technology Co., Ltd. 7515608",602,Closed,"Bhatt, Vikas","Vukman, Tomislav",2/10/23 8:34,Customer,5/11/23 11:13,,,1-Critical,2-High,"*Affected system* 

Management tenant: https://management.cumonosu.com/ 

Tenant which is down: https://agents.cumonosu.com 

*Description of the Problem:* 

The server of https://agents.cumonosu.com used for SSA (Server-side Agent) is down and SSA does not work. 

Could you please check and fix it as soon as possible?"
Defect,CSOIOT-5934,nifqal (preprod) environment refuses to subscribe microservices,Nordex SE 7515195,603,Closed,"Talbert, Kent","Shuaib, Gyunay",2/10/23 9:28,Customer,9/8/23 6:00,,,2-High,None,"Tenant: https://nordex.nifqal.nordex-online.com 

  

Customer cannot subscribe and deploy microservices using the UI. Receive the following error: 
*Handling onSubscribe listener failed MicroserviceDeployListener with error Deployment failed dmms* 

and the microservice stays offline. 

It is the same for different MSes. They did not test them all for obvious reasons. 
Confirmed examples: dmms, parcom-ms (Ops: feel free to try to subscribe it yourself on nifqal system, it is not going to cause any issues). 

 "
Defect,CSOIOT-5867,Please check ngbr-backend-digestor-scope-t9763259-pod,Stanley Black and Decker 7513816,604,Closed,"Talbert, Kent","Louden, Timothy",2/13/23 19:33,Customer,5/25/23 13:02,,,2-High,None,"SBD instance. 

Tenant:   [https://ngbr-dev.sbdconnect.io|https://ngbr-dev.sbdconnect.io/apps/administration/index.html#/microservices/215] 

Need to gather the following information for R&D for the customer's ngbr-backend-digestor microservice.  Customer just reproduced the issue, so need to capture the following: 

On the worker node with the failing pod (right after the issue occurs): 

  $ journalctl -xeu docker 

  $ journalctl -xeu kubelet 

On a master node (right after the issue occurs): 

  $ kubectl logs  -n <namespace> kuberegistry-persistent-secure-xxxxxxxxxx-xxxxx 

   $ kubectl describe pod  -n <namespace> <failing pod name> 

  

Thanks, 

Kent 

 "
Defect,CSOIOT-5865,Enercon reported Prod to be slow,Software AG 3101000,604,Closed,"Eha, Allan","Abdul Majid, Mohd Shahmi",2/7/23 15:59,Customer,5/9/23 11:49,,,2-High,None,"*Affected tenant* 

Tenant:  ** 
[https://main.iot.enercon.de|https://main.iot.enercon.de/] 

Enterprise Tenant? Yes 
{*}{*}{*}{*} 

*Time period error was observed:* 
* ongoing. 

  

*Description of the Problem:* 

Enercon and also PS in parallel reported the Enercon Prod tenant to be slow since today. It's [https://main.iot.enercon.de|https://main.iot.enercon.de/] 

They reported it does not affect only certain calls or UI screens, it's more the entire system being slower than usual since today. PS confirmed this."
Defect,CSOIOT-5854,Delete Tenant t170844090 on EMEA,Eaton Industries GmbH 7518586,607,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",2/6/23 7:29,Customer,5/9/23 11:51,,,3-Medium,3-Medium,"Please delete tenant t170844090 ([http://dbt-qa.dbt.machinery-monitoring.com/)] on EMEA platform. 

  

It should already be suspended. 

  

 "
Defect,CSOIOT-5850,DataHub scheduler reported unhealthy on watercare.spark.captis-iot.com,Kallipr Pty Ltd 7516856,608,Closed,"Song, Shaopeng (Jeffrey)","Abdul Majid, Mohd Shahmi",2/3/23 6:02,Customer,5/5/23 11:28,,,1-Critical,None,"Hello Ops team, 
Customer Kallipr Pty Ltd 7516856  reported a Crisis issue which is they received the following notification via datahub alerts. Please find attached screenshots as well of what is visible within the tenant. 

Detected that DataHub scheduler on the tenant reported an unhealthy status. 

As customer mentioned Cumulocity Ops team has received an alert and is working on resolving the issue. Kindly let me know the process of the issue. 

Full text of the alarm: 
{noformat} 
  
DataHub scheduler status DOWN at https://watercare.spark.captis-iot.com/service/datahub/scheduler/health 
There were failed or suspended jobExecutions: 
  
STEADY: Job finished successfully: uuid=2e9236f6-f451-460e-972b-a2d0f2ab91db, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572532. (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=2e9236f6-f451-460e-972b-a2d0f2ab91db, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572532), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
STEADY: Job finished successfully: uuid=6c102306-ab30-41da-ac94-87d36d53da8b, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572536. (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=6c102306-ab30-41da-ac94-87d36d53da8b, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572536), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
STEADY: Job finished successfully: uuid=DremioJobDetailPersistence_OFFLOADING, jobType=JOB_DETAIL_PERSISTENCE, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572543. (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=DremioJobDetailPersistence_OFFLOADING, jobType=JOB_DETAIL_PERSISTENCE), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572543), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
STEADY: Job finished successfully: uuid=DremioJobDetailPersistence_QUERY, jobType=JOB_DETAIL_PERSISTENCE, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572544. (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=DremioJobDetailPersistence_QUERY, jobType=JOB_DETAIL_PERSISTENCE), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572544), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
STEADY: Job finished successfully: uuid=C8yBillingMetricsJob, jobType=C8Y_BILLING_METRICS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572540. (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=C8yBillingMetricsJob, jobType=C8Y_BILLING_METRICS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572540), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
  
CRITICAL: Job failed: uuid=142f3a1d-7249-46b3-8ebf-fd7476ee5f33, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572531 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=142f3a1d-7249-46b3-8ebf-fd7476ee5f33, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572531), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=43be6acb-32a5-482c-8c17-03b3610b7100, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572533 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=43be6acb-32a5-482c-8c17-03b3610b7100, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572533), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=4416d167-48a6-48d4-ba1b-ebada4afea90, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572534 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=4416d167-48a6-48d4-ba1b-ebada4afea90, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572534), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=5d85f39d-4b6c-4e6f-b304-442df0549c43, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572535 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=5d85f39d-4b6c-4e6f-b304-442df0549c43, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572535), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=704a00c5-312f-4ca6-947b-5eae650ef295, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572537 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=704a00c5-312f-4ca6-947b-5eae650ef295, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572537), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=73af4a6d-2652-472c-b499-92512bf2e831, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572538 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=73af4a6d-2652-472c-b499-92512bf2e831, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572538), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=96cac350-50aa-45c7-96e7-dd510f3975fb, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572539 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=96cac350-50aa-45c7-96e7-dd510f3975fb, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572539), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=d7092154-aab9-4f84-9f46-e9c33a864e1b, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572541 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=d7092154-aab9-4f84-9f46-e9c33a864e1b, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572541), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023) 
CRITICAL: Job failed: uuid=dfee75fa-eedb-40d8-92cf-4808037290df, jobType=CTAS, jobRunId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572542 (jobExecutionId=JobExecutionId(jobId=JobIdentifier(uuid=dfee75fa-eedb-40d8-92cf-4808037290df, jobType=CTAS), executionId=CDHScheduler_6d504d30-494d-47ee-9caf-389e3cd3b0c71670357572542), previousFireTime=Thu Feb 02 22:05:00 AEDT 2023, nextFireTime=Fri Feb 03 00:05:00 AEDT 2023){noformat}"
Defect,CSOIOT-5849,Missing project MLDT Mashine learning in Cumulocity,SAG Deutschland GmbH 3102000,608,Closed,"Schon, Gregor","Bizhev, Ivan",2/8/23 10:29,Customer,5/18/23 10:42,,support_question,2-High,2-High,"Customer DTAG wants to use or at least to export data from his tenant. This tenant was used for a Machine Learning Demo 

There was some data loss, but now the data is completely unreachable due to the missing mlw microservice. 
We asked Nikolaus Neuerburg: Although MLW may be deprecated in future versions, it is not correct that it is non-functional in current version.  
Please make the microservice available again. 

(Remark: It seems that DT was not clearly informed in the past that eu-latest is not a productive platform. We highlighted that last week) 

  

  

!MicroserviceMLWnotFound.png|thumbnail! 

Request from DTAG: 

Thomas Kühn 

  

*Deutsche Telekom IoT GmbH* 

IoT Application Enablement Platform 

*Thomas* Kühn 

IoT Solution Architect 

Am Fernmeldeamt 10, 45145 Essen 
+49 201 8145-2437 (Phone) 

+49 170 5785290 (Mobil) 
E-Mail: [thomas.kuehn@telekom.|mailto:thomas.kuehn@telekom]{+}de{+} 
Internet: [www.telekom.de|https://eur04.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.telekom.de%2F&data=05%7C01%7CAndre.Opitz%40softwareag.com%7C750b61b4a3f44b7af6a008dadd1222f5%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C638065367227486433%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=3ildgFMO%2BpFDHx1HDoGk5Oy3bEU1wTGELUud3TmEmPQ%3D&reserved=0] 

Request: 

We would like to present the machine learning component of Cumulocity in an internal DT IoT meeting. 
A colleague of mine (who has since left the company) is in the tenant for this purpose 
[https://dtag-ml-test.eu-latest.cumulocity.com|https://dtag-ml-test.eu-latest.cumulocity.com/] 
two of the SAG examples 
 Casting Defect Detection, and 
 Activity Recognition 
set up for ML. In April I took over the use cases with the tenant from him. 

Now I'm checking the tenant with the installed use cases. Apparently a new Cumulocity version 10.15. installed and the necessary components were probably not properly subscribed. 
From my point of view, at least those are missing 
 Machine Learning Workbench, and 
 Machine Learning Engine 

Could you please check what is still missing there and, if necessary, have the tenant restored for our presentation? 

Unfortunately, a project is missing in the tenant. I have another screenshot here, in which both projects are still available. The screenshot comes from a video from a meeting with SAG employees in the spring. 

The project CastingDefectProj is still contained in the tenant. Unfortunately, the MLDT project is missing. 
Can you please make the project available again? 

Our employee created the MLDT project with two Indian SAG employees and also saved it in the tenant. This means that the project was always saved and available in Cumulocity. There is a Microsoft Teams video that shows that the MLDT project was even created before CastingDefectProj. 

It would now be time for you to create a support case that clarifies the disappearance of projects from Cumulocity Tenants. It's definitely not acceptable to just let the project disappear like that. There may be major bugs in the Cumulocity software."
Defect,CSOIOT-5841,CLONE - [Utonomy] Microservice 502 Bad Gateway error,Utonomy Ltd 7516334,608,Closed,"Bhatt, Vikas","Vukman, Tomislav",2/6/23 11:15,Customer,2/6/23 11:15,6-Feb-23,,3-Medium,3-Medium,"*Affected system* 

Tenant: https://utonomydev.utcloud.uk 
Version: 10.15.0.218 
Username: vikas.bhatt@softwareag.com 
Password: Support@00&98 

*Description of the Problem:* 

One of the Utonomy's custom microservices is giving 502 Bad Gateway error intermittently. Basically the UI is querying the custom microservice to assess if some functionality (i.e. tabs) should be displayed in the UI and to decide if context dashboards should be overwritten. That is not only microservice that fails sporadically; they got the same error while trying to display smartRules. https://utonomydev.utcloud.uk/apps/operations_2_5_1001/index.html#/group/6575320/smart_rules 

Customer is a bit concerned that it is related to loading and that when the Apps are under stress the problem will surface affecting their users. 

What could be the reason of this issue? Anyway to debug and resolve this error?"
Defect,CSOIOT-5834,Database backup,CompAir Drucklufttechnik 7515080,609,Closed,"Eha, Allan","Vukman, Tomislav",2/14/23 8:36,Customer,9/29/23 6:00,,,3-Medium,3-Medium,"Customer needs backup copy of database. 

  

Same request as [https://itrac.eur.ad.sag/browse/CSOIOT-3834]"
Defect,CSOIOT-5833,Raise the limit for pod mem/cpu requests - all envs,Nordex SE 7515195,609,Closed,"Neale, Robert","Bieniak, Arkadiusz",2/7/23 10:59,Customer,9/5/23 6:05,,,3-Medium,3-Medium,"In Nordex specific case we have several microservices that use not only maximum limit for CPU and MEM, but also requests for minimal reservation is crucial to allow Kubernetes cluster to reserve those resources properly. Most important examples are APAMA and Event Processing (in-house developed MS). 

As discussed with Arkadiusz Bieniak (SAG DevOps) current setting in core nodes does not allow reserving more than 256MB of memory and 250m CPU. He also has the plan how it should be implement to work for Nordex. 

Please allow us to set those requests at: 
* *Maximum memory request: 20G (GB of RAM)* 
* *Maximum CPU request: 20 (CPU cores)* 

This will allow use to make sure that all the MSes will be better scheduled on the available worker nodes especially on our non-standard worker setup (with 2 worker nodes that are bigger that other 3). 

Please set it up for all our environments: nifdevops, nifdev, nifqal and nifprd (*.nordex-online.com)."
Defect,CSOIOT-5832,Measurements get created on devices but the do not show up in the dashboard/cockpit/devicemanagement UI,Mohawk International Services BV 7518646,609,Closed,"Neale, Robert","Vukman, Tomislav",2/13/23 9:31,Customer,6/10/23 12:05,17-Feb-23,,2-High,2-High,"I'm using ** REST call to store measurements on device ** HS4 (id ** 4794261877) on mohawk-iiot.emea.cumulocity.com but although I get a successful response, containing a measurement id, a REST call to retrieve that id returns.... 
{ 
    ""error"": ""measurement/Not Found"", 
    ""message"": ""Finding device data from database failed : No measurement for gid '12112348053'!"", 
    ""info"": ""https://www.cumulocity.com/guides/reference/rest-implementation//#a-name-error-reporting-a-error-reporting"" 
} 
  
In the tenant UI, the measurement can be seen on a data graph widget but I believe this is populated from the realtime channel. If I refresh the widget, then the measurement disappears because historic measurements come from the database, and the measurement does not exist here. 
  
Ids that should have been created.. 
  
12112348053 
12112417422 
12112604218 
12112752361 
  
Any sign of these in Mongo? 
  
For another device (id 12070255702)  can create persistent  measurements successfully with the same REST call."
Defect,CSOIOT-5831,Unlock user.,Hilti AG 3158,609,Closed,"Neale, Robert","Lundsten, Alf",2/2/23 7:16,Customer,2/2/23 7:16,,,3-Medium,3-Medium,Can someone unlock the user on management.dmp.hilti.com?
Defect,CSOIOT-5830,[Gardner Denver] Platform is very slow | Not sending email notification for alarms,CompAir Drucklufttechnik 7515080,609,Closed,"Bhatt, Vikas","Saaban, Asshad",2/3/23 9:16,Customer,2/3/23 9:16,6-Feb-23,,3-Medium,1-Critical,"*Affected system* 

Gardner Denver - Ingersoll Rand: https://industrials.cas.irco.com/ 

*Description of the Problem:* 

After the recent CEP restart, customer has complaint that the platform is very slow. 
For example: It took them 1 hour to create 5 user accounts. 
The Administration section is the most affected. 

In addition, the Cumulocity platform is not sending anymore the alarms. 

They generated a warning and were able to see it in the Cumulocity platform, but the email notification was not received. 

"
Defect,CSOIOT-5821,Unable to subscribe to Microservices in newly created tenants,Baxter International inc. 7521523,610,Closed,"Talbert, Kent","Pham, Hoang",2/6/23 7:28,Customer,5/9/23 11:57,,,3-Medium,None,"We have created couple of sub-tenants and subscribing to microservices which are working fine in another (old) sub-tenants, but not in new sub-tenants. 

new Tenant: [https://pcd.sandboxiot.hillrom.com/] 

Here is the issue we noticed on the status tab: 

0/7 nodes are available: 2 Insufficient cpu, 2 node(s) were unschedulable, 3 node(s) had taint {[node-role.kubernetes.io/master:|http://node-role.kubernetes.io/master:] }, that the pod didn't tolerate"
Defect,CSOIOT-5820,[C8Y PROD] Upgrade LWM2M Microservice to the latest 10.15 version,Autosen GmbH 7516454,610,Closed,"Bhatt, Vikas","Lundsten, Alf",2/1/23 10:03,Customer,5/17/23 11:12,,,2-High,2-High,"*Affected system* 

*.cumulocity.com 

*Description of the Problem:* 

The lwm2m-agent microservice is not working properly in *.cumulocity.com environment currently. 
It seems it wasn't upgraded/deployed properly after the recent upgrade to 10.15.0.218 version. 

Please refer the INFO part of ""Upgrade instructions"" section in Agent Installation Guide for additional changes that were made for 10.15 version of the agent. 

https://sagportal.sharepoint.com/sites/IoTAnalyticsRnDOps/Shared%20Documents/Forms/AllItems.aspx?OR=Teams%2DHL&CT=1675181719212&clickparams=eyJBcHBOYW1lIjoiVGVhbXMtRGVza3RvcCIsIkFwcFZlcnNpb24iOiIyNy8yMzAxMDEwMDkxMyIsIkhhc0ZlZGVyYXRlZFVzZXIiOmZhbHNlfQ%3D%3D&id=%2Fsites%2FIoTAnalyticsRnDOps%2FShared%20Documents%2FInstallation%20%26%20Operation%20guides%2F10%2E15%2E0%2FLWM2M%20agent%2DInstallation%20%26%20operations%20guide%2D10%2E15%2E0%2D2023%2D01%2D02%2Epdf&viewid=098b0d9e%2Ddae7%2D48c1%2Db389%2D213969f41a97&parent=%2Fsites%2FIoTAnalyticsRnDOps%2FShared%20Documents%2FInstallation%20%26%20Operation%20guides%2F10%2E15%2E0"
Defect,CSOIOT-5804,Single-Sign-On does not work,DMG MORI Digital GmbH 7515505,610,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",1/31/23 12:34,Customer,9/29/23 10:55,,,2-High,None,"SSO in tenant [https://dmgmoridevices.adamos.com|https://dmgmoridevices.adamos.com/] does not work as expected. 
The login itself works but afterwards the application throws an error: ""Token 'xyz' not present for 'user'""  
[https://itrac.eur.ad.sag/browse/CSOIOT-5725] solved the same former issue with a rolling restart. 
Can you please do this again for adamos.com? 

Parallel I force R&D for a permanent solution in [https://itrac.eur.ad.sag/browse/IOT-15769] "
Defect,CSOIOT-5802,[Gardner Denver] CEP engine overload,CompAir Drucklufttechnik 7515080,611,Closed,"Bhatt, Vikas","Lundsten, Alf",2/1/23 12:13,Customer,5/5/23 11:31,1-Feb-23,,3-Medium,None,"*Affected system* 

Gardner Denver - Ingersoll Rand: https://industrials.cas.irco.com/ 

*Description of the Problem:* 

Please offer us support and restart the CEP engine. Yesterday afternoon a new overload event occurred."
Defect,CSOIOT-5801,Please check ngbr-backend-digestor-scope-t9763259-pod,Stanley Black and Decker 7513816,611,Closed,"Talbert, Kent","Radzali, Basyar",2/6/23 7:30,Customer,5/25/23 13:08,,,3-Medium,None,"SBD environment: Can you check this pod? *ngbr-backend-digestor-scope-t9763259-pod* 
  
  
Customer is seeing this error: 
  
  
Failure executing: GET at: [https://localhost:6443/api/v1/namespaces/stanleybd-multinode-prod/pods/ngbr-backend-digestor-scope-t9763259-deployment-6c5cf757f7cjnz4/log?pretty=true&tailLines=2000&timestamps=true]. Message: container ""ngbr-backend-digestor-scope-t9763259-pod"" in pod ""ngbr-backend-digestor-scope-t9763259-deployment-6c5cf757f7cjnz4"" is waiting to start: trying and failing to pull image. Received status: Status(apiVersion=v1, code=400, details=null, kind=Status, message=container ""ngbr-backend-digestor-scope-t9763259-pod"" in pod ""ngbr-backend-digestor-scope-t9763259-deployment-6c5cf757f7cjnz4"" is waiting to start: trying and failing to pull image, metadata=ListMeta(_continue=null, remainingItemCount=null, resourceVersion=null, selfLink=null, additionalProperties={}), reason=BadRequest, status=Failure, additionalProperties={}). 
  
Is there a log file as we get this error when trying to view it from the UI?"
Defect,CSOIOT-5800,BSCI: Schedule upgrade for non-prod environment to 10.15,Boston Scientific Corporation 8104616,611,Closed,"Talbert, Kent","Lisik, Milosz (External)",2/7/23 15:34,Customer,5/20/23 10:13,,,3-Medium,None,"Customer would like to schedule an update to 10.15 for their non-prod tenants on .iotnonprod.bsci.com 

Preferably the week of April 10th. 

  

Let me know if you need any other information from the customer. 

  

Thanks, 

Kent"
Defect,CSOIOT-5769,I/O exception (org.apache.http.NoHttpResponseException),Kemin Europa 7517950,614,Closed,"Welsing, Michael","Vukman, Tomislav",1/31/23 8:36,Customer,9/25/23 6:05,,,1-Critical,None,"Hi Ops, 

Starting from 20.01.2023 all of Kemin microservices (on all tenants) are not working properly anymore. In the logs they are seeing the same exception every time: 
{code:java} 
2023-01-20 14:23:28.461 INFO 11 — [subscriptions-0] o.apache.http.impl.execchain.RetryExec : I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}->http://cumulocity:8111: The target server failed to respond 
2023-01-20 14:23:28.461 INFO 11 — [subscriptions-0] o.apache.http.impl.execchain.RetryExec : Retrying request to {}->http://cumulocity:8111{code} 
Is this due to the recent update? 
---- 
On 20.01.2023 Kemin added following information: 

""We are seeing this exception in our own custom microservices, as well as in the “Tenant-configuration” service that was provided by IFM (for the IO Keys). We have also restarted all of our custom microservices, but we have seen the exception again after we restarted."" 
---- 
And on 26.01.2023 the following update was provided: 

""In the logs of this microservice, it is still popping up. 

I have restarted this microservice several times over the last couple of days. 

[https://management.emea.keminconnect.com/apps/administration/index.html#/microservices/46306/logs] 

But it is occurring in almost all of our microservices. 

[https://management.emea.keminconnect.com/apps/administration/index.html#/microservices/40115/logs] 

[https://management.emea.keminconnect.com/apps/administration/index.html#/microservices/42369/logs] 

In the Ewon service as well (which is developed by Professional Services). 
[https://management.emea.keminconnect.com/apps/administration/index.html#/microservices/38110/logs] 

We can even see the exception in the default C8Y microservices. 

For example: the Provisioning micro service 

[https://management.emea.keminconnect.com/apps/administration/index.html#/microservices/37876/logs] 

This is happening on all our tenants 

[https://management.kae.keminconnect.com/apps/administration/index.html#/microservices] 

[https://management.emea.keminconnect.com/apps/administration/index.html#/microservices] 

[https://management.americas.keminconnect.com/apps/administration/index.html#/microservices] 

[https://management.apac.keminconnect.com/apps/administration/index.html#/microservices] 

We are also noticing a lot of requests returning a 502 Bad Gateway error. 

A simple script we created shows us that on average 22% of requests are failing."""
Defect,CSOIOT-5768,Network configuration between jp.cumulocity.com and SSA server,"Micro Technology Co., Ltd. 7515608",615,Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",2/7/23 9:17,Customer,5/14/23 10:12,,,2-High,None,"Micro technologies raised below question: 

We would like to know the detail of network configuration between jp.cumulocity.com and SSA server(agent.cumonosu.com). In order to mitigate risk of the upgrade coming soon, we would like to investigate the current system configuration of SSA server and discuss the way to test it before the upgrade. So, can you tell us the network configuration/setting of SSA server? 

Please asssit"
Defect,CSOIOT-5767,Delete Subtenants on cumulocity.com,Syntegon Technology Services AG 7520592,615,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",1/27/23 9:51,Customer,5/3/23 11:34,,,3-Medium,None,"Please delete the following subtenants of [https://syntegon-test.cumulocity.com/] 

automatictenant t1824177799 

automatictenant01 t1824191895 

automatictenant02 t1824204727 

automatictenant03 t1824213495 

automatictenant04 t1824226828 

  

Thanks, 

Kent"
Defect,CSOIOT-5759,Tenant deletion needed,POST Telecom S.A. 7515101,615,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",1/26/23 12:39,Customer,4/27/23 10:43,,,3-Medium,3-Medium,"*Customer erquest...* 

{*}""{*}Dear support, 

Could you please delete the suspended tenants below: 
# Essentiel t172349185 essentiel.post-iot.lu 
# Schmitzt 23177565 schmitzbmw.post-iot.lu 

Thanks ahead, 

Alessandro"" 

  

  

These are on EMEA platform."
Defect,CSOIOT-5741,Need Custom Domain Name license file uploaded on US instance.,ZTR Control Systems 7520990,617,Closed,"Talbert, Kent",Unassigned,1/25/23 8:49,Customer,4/27/23 10:44,,,3-Medium,None,"Attached is license file for the custom domain.  Please verify that this is correct and upload it to US instance,  Customer's certificate is already uploaded and is set for *.railwayiot.com, logistics created the license with railway.iot.com.  Hopefully this is correct, if not let me know. 

  

 "
Defect,CSOIOT-5731,Not able to install mongodb-enterprise version in Cumulocity iot v1014,Software AG Bangalore Technologies 3265000,617,Closed,"Welsing, Michael","Vukman, Tomislav",1/26/23 16:00,Customer,5/1/23 10:34,,,2-High,None,"Hi, 

Team Bangalore is installing a new Cumulocity IOT core platform v1014.0.172 with {*}mongodb-enterprise version{*}, here we are facing issue while installing mongodb-enterprise version on mongodb nodes. (mongo version 4.2.19) 
{code:java} 
================================================================================ 
    Error executing action `install` on resource 'yum_package[mongodb-enterprise]' 
    ================================================================================    Mixlib::ShellOut::ShellCommandFailed 
    ------------------------------------ 
    Expected process to exit with [0], but received '1' 
    ---- Begin output of [""yum"", ""-y"", ""install"", ""mongodb-enterprise-0:4.2.19-1.el7.x86_64""] ---- 
    STDOUT: Loaded plugins: fastestmirror 
    Loading mirror speeds from cached hostfile 
     * base: download.cf.centos.org 
     * extras: download.cf.centos.org 
     * updates: download.cf.centos.org 
    Resolving Dependencies 
    --> Running transaction check 
    ---> Package mongodb-enterprise.x86_64 0:4.2.19-1.el7 will be installed 
    --> Processing Dependency: mongodb-enterprise-tools = 4.2.19 for package: mongodb-enterprise-4.2.19-1.el7.x86_64 
    --> Processing Dependency: mongodb-enterprise-shell = 4.2.19 for package: mongodb-enterprise-4.2.19-1.el7.x86_64 
    --> Processing Dependency: mongodb-enterprise-server = 4.2.19 for package: mongodb-enterprise-4.2.19-1.el7.x86_64 
    --> Processing Dependency: mongodb-enterprise-mongos = 4.2.19 for package: mongodb-enterprise-4.2.19-1.el7.x86_64 
    --> Processing Dependency: mongodb-enterprise-cryptd = 4.2.19 for package: mongodb-enterprise-4.2.19-1.el7.x86_64 
    --> Running transaction check 
    ---> Package mongodb-enterprise.x86_64 0:4.2.19-1.el7 will be installed 
    --> Processing Dependency: mongodb-enterprise-cryptd = 4.2.19 for package: mongodb-enterprise-4.2.19-1.el7.x86_64 
    ---> Package mongodb-enterprise-mongos.x86_64 0:4.2.19-1.el7 will be installed 
    ---> Package mongodb-enterprise-server.x86_64 0:4.2.19-1.el7 will be installed 
    ---> Package mongodb-enterprise-shell.x86_64 0:4.2.19-1.el7 will be installed 
    ---> Package mongodb-enterprise-tools.x86_64 0:4.2.19-1.el7 will be installed 
    --> Finished Dependency Resolution 
     You could try using --skip-broken to work around the problem 
     You could try running: rpm -Va --nofiles --nodigest 
    STDERR: Error: Package: mongodb-enterprise-4.2.19-1.el7.x86_64 (omni-base) 
               Requires: mongodb-enterprise-cryptd = 4.2.19 
    ---- End output of [""yum"", ""-y"", ""install"", ""mongodb-enterprise-0:4.2.19-1.el7.x86_64""] ---- 
    Ran [""yum"", ""-y"", ""install"", ""mongodb-enterprise-0:4.2.19-1.el7.x86_64""] returned 1 {code} 
Please find the detailed error log of chef-client in the attachment. 

Also here are some more informations on the system setup: 

They are trying to install HA setup in offline mode. 

Mongo configuration: *PSS* with [mongodb-enterprise-4.2.19-1.el7.x86_64] 

Below are the node details : 
{code:java} 
chef: 1  
core karaf: 2 
Mongodb : 3 
kubernetes master :2 
kubernetes worker :2 
Load balancer : 1 {code} 
*NOTE:* Also we want to start NON-HA (standalone mongodb)  setup installation with same mongo configuration.  

  

*Any hints?*"
Defect,CSOIOT-5725,system does not work after Single-Sign-On,DMG MORI Digital GmbH 7515505,618,Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",1/24/23 12:40,Customer,9/29/23 10:55,,,1-Critical,1-Critical,"The issue of [https://itrac.eur.ad.sag/browse/CSOIOT-5584] occurs again: 

SSO in tenant [https://dmgmoridevices.adamos.com|https://dmgmoridevices.adamos.com/] does not work as expected. 
The login itself works but afterwards the application throws an error: ""Token 'xyz' not present for 'user'""  
Obviously all SSO user accounts are affected right now. 

Tomislav solved the former issue with a rolling restart. Can you please do this again for adamos.com? 

Parallel I force R&D for a permanent solution in [https://itrac.eur.ad.sag/browse/IOT-15769] "
Defect,CSOIOT-5723,Unable to Register with NOSEC LWM2M Client,"Itron, Inc. 7518541",618,Closed,"Eha, Allan","Lundsten, Alf",1/30/23 8:10,Customer,5/5/23 11:37,,,3-Medium,3-Medium,"*Affected tenant* 

Tenant: {*}{*}Pilot-IOTR 
** 
[https://pilot-iotr.c8y.sag.idealabs.cloud|https://pilot-iotr.c8y.sag.idealabs.cloud/] 
Enterprise Tenant? Yes 

*Device:* 
* Device is Certified? Tested both ways, secure works non secure fails 

*Protocol used?* 
* LWM2M 

  

*Description of the Problem:* 
After using the C8Y UI to register a LwM2M device, I am not able to get the device to connect with C8Y at port 5783: 

coap://lwm2m.c8y.sag.idealabs.cloud:5783 

Running the same LwM2M Client using PSKs at port 5784 works OK: 

coaps://lwm2m.c8y.sag.idealabs.cloud:5784 

  

{*}Question placed on OPS chat{*}: 
_{color:#202124}(SI-494078) Itron is seeing a problem with non secure registration and connection of LWM2M devices to port 5783. {color}[https://pilot-iotr.c8y.sag.idealabs.cloud|https://pilot-iotr.c8y.sag.idealabs.cloud/]{color:#202124} They are able to do a secure register and connect devices to port 5784. Can you check their 5783 port on their platform?{color}_"
Defect,CSOIOT-5698,SBD needs Datahub version 10.13.0.11 installed.,Stanley Black and Decker 7513816,621,Closed,"Talbert, Kent","Bizhev, Ivan",1/24/23 7:58,Customer,5/1/23 10:34,,,3-Medium,None,"SBD needs to have Datahub 10.13.0.11 installed on their environment. 

Any idea as to how long that will take to do the install? Any downtime?  Any when can it be done?  Once we have this information, we can schedule it with the customer. 

  

Thanks, 
Kent"
Defect,CSOIOT-5694,Delete unused testing tenants | Tenant not deleted even after 60 days of suspension!,Netze BW GmbH 7518036,621,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",1/20/23 13:33,Customer,4/21/23 10:32,,,3-Medium,3-Medium,"*Affected system* 

C8Y Prod Tenants: 

ID: t1630675090 
URL: https://test-caas-2-domain.cumulocity.com/ 

ID: t1001426487 
URL: https://testing-netzebw.cumulocity.com/ 

*Description of the Problem:* 

Customer has requested to delete following two tenants from C8Y Prod instance. 

ID: t1630675090 
URL: https://test-caas-2-domain.cumulocity.com/ 

ID: t1001426487 
URL: https://testing-netzebw.cumulocity.com/ 

These tenants were for testing purpose to check the creation of the tenants with the API. 

On their advanced tenant (testing-netzebw.cumulocity.com), they now have these two testing tenants which are not used and should be deleted. 

*Note*: Upon checking the Audit Logs, we can see that *t1630675090 was suspended on 5th Oct 2022, but still not deleted*. However, t1001426487 was suspended on 21st Dec 2022. Anyways, please delete both of them."
Defect,CSOIOT-5689,Notification 2.0 not working on US instance.,Sony Semiconductor Solutions Corp. 7519751,622,Closed,"Talbert, Kent","Vukman, Tomislav",1/20/23 16:25,Customer,4/21/23 10:33,,,3-Medium,None,"US environment. 

  

Receiving 404 not found messages when using the Notifications2 API to GET or POST subscriptions on the US instance.  The notifications GET and POST work fine on eu-latest instance. 

  

Please verify that Notifications 2.0 is working properly on the US environment."
Defect,CSOIOT-5653,[Greenflex] CSR Required as SSL certificate is about to expire on Jan. 31st,GREENFLEX 7517499,623,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",1/24/23 9:14,Customer,5/3/23 11:40,,,2-High,2-High,"*Affected system* 

Greenflex Prod: *.iot.greenflex.com 

*Description of the Problem:* 

Customer from Greenflex said their internal monitoring tools have detected that the SSL Certificate for *.iot.greenflex.com domain is about to expire on Jan 31 2023. 

In order to renew the SSL Certificate, he has asked to send them the CSR: 

- iot.greenflex.com.csr 
- dev.iot.greenflex.com.csr 

It may take some time to retrieve the certificates on their side. So it would be great to take this request into account as soon as possible."
Defect,CSOIOT-5651,Solenis: Need SMS GW new version uploaded,Solenis LLC 7512378,624,Closed,"Talbert, Kent","Lundsten, Alf",2/1/23 8:58,Customer,5/15/23 11:14,,,3-Medium,None,"Can you please upload a new version of SMS Gateway to the Solenis dev tenant (https://dev.iot.solenis.com/) for testing purposes? 

They have asked for Twillio implementation and this has been now done for 10.17, but we agreed that Solenis gets a beta version as soon as it is available and through QA process. 

Because zip snapshot is 175MB, here is a sharepoint link to download: 

[https://sagportal-my.sharepoint.com/:f:/g/personal/myp_softwareag_com/EpEbmbWrl9hJp6taW2ooX88B9ca0LdoIXcNYt_6dwUcRuw?e=QVByvY] 

  

zip can also be downloaded from draccoon here:  [https://transfer.softwareag.com/node/277197] 

  

Not sure if this can just be loaded via Administration > Ecosystem > Microservices... 

  

Let me know if you have any questions. 

  

Thanks, 

Kent 

 "
Defect,CSOIOT-5609,Multiple upgrades for Cumulocity,Atos IT Solutions and Services d.o.o. 7517414,628,Closed,"Welsing, Michael","Simeonova, Rumyana",1/17/23 8:30,Customer,5/11/23 11:24,,,3-Medium,None,"Hi, 

Atos wants to go from 10.7 to at least 10.14 and asks what is the best way to reach that goal. 

They see three possible options: 
# Gradually move from one version to another, step by step 10.9.0; 10.10.0; 10.11.0; 10.13.0; 10.14.0; xx.xx.x - this can take a long time 
# Do all the upgrades 10.9.0; 10.10.0; 10.11.0; 10.13.0; 10.14.0; xx.xx.x in one step (one night) - possible problems due to complicate procedure 
# Do platform installation from the scratch on last Cumulocity IoT release - we don't know if it is possible and how we would transfer data 

Can you help and suggest the easiest and best way to go from the current 10.7.0 version to 10.14.0?"
Defect,CSOIOT-5596,502 errors on machines.cloud environment.,Modern Drive Technology GmbH 7519450,630,Closed,"Talbert, Kent","Bizhev, Ivan",1/12/23 15:58,Customer,4/21/23 10:38,,,3-Medium,None,"STW machines.cloud environment, 

Customer was seeing 502 errors  on all of their tenants yesterday (10-Jan) around 13:00 - 13:15 CET. 

  

They had one customer doing the following:   

 „We have a question about the number of requests we can realistically do at once using the API. We seem to be having a problem with the API when we do lots of requests in parallel the API is completely going down and returning 502s for a couple of minutes. What we are trying to do is to have an AWS lambda function per vessel that gets measurements, alarms and events with the aim of archiving this data in s3. When this is spun up the API goes down immediately. We have ~200 vessels, so it is surprising to us that this seems to break the API.“ 

 "
Defect,CSOIOT-5584,Single-Sign-On does not work occasionally,DMG MORI Digital GmbH 7515505,631,Closed,"Herzog, Christian","Vukman, Tomislav",1/18/23 10:59,Customer,9/29/23 10:56,,,2-High,None,"SSO in tenant [https://dmgmoridevices.adamos.com|https://dmgmoridevices.adamos.com/] does not work as expected. 
The login itself works but afterwards the application throws an error: ""Token 'xyz' not present for 'user'"" 

Tomislav solved the same issue in: [https://itrac.eur.ad.sag/browse/CSOIOT-5268] on [21/Dec/22 13:50|https://itrac.eur.ad.sag/browse/CSOIOT-5268?focusedCommentId=6134155&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-6134155]: 
""Restarted all cores on EMEA and issue does not occur on each application switching. It looks much better now. Remaining issue is known bug when token is generated and core sometimes does not read it in time due to DB periodically slowdown - that part will be handled/improved by development team."" 

Can you please try the same on adamos.com?"
Defect,CSOIOT-5575,Nordex: Login errors globally (CCA),Nordex SE 7515195,634,Closed,"Kiran, Prabhakar","Lundsten, Alf",1/20/23 9:59,Customer,4/28/23 10:40,,,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

  

*Affected tenant* 

Tenant: __[https://nordex.nifprd.nordex-online.com|https://norder.nifprd.nordex-online.com/] 

*Microservice:* 
* (URL in ""Own applications""): [https://nordex.nifprd.nordex-online.com|https://norder.nifprd.nordex-online.com/] 

  

  

*Description of the Problem:* 

Issues logging in for CCA. The users of our 24/7 Control Centre are repeatedly logged out (globally) and then have to log in again. The problem has occurred first most likely on Friday, January 06, 2023 11:00 PM.  

  

One addition to that. We use single sign on (Microsoft Azure) and a login token from Software AG to sign in to the CCA."
Defect,CSOIOT-5524,Delete tenant t802682178,Software AG 3101000,638,Closed,"Dijkstra, Jelle","Bizhev, Ivan",1/3/23 11:07,Customer,4/4/23 10:34,,,3-Medium,None,"Hi Ops, 
Kai Sieben asked if we can please delete tenant t802682178 from eu-latest. 

Thanks, 
Jelle 

 "
Defect,CSOIOT-5401,unify microservice failed to fetch the data from datalake,Solenis LLC 7512378,649,Closed,"Schon, Gregor",Unassigned,12/29/22 9:29,Customer,5/18/23 10:47,,support_question,1-Critical,1-Critical,"platform Name: solenis-azure-prod.eastus.cloudapp.azure.com 
Address: 20.81.29.242 
Aliases: cloud.iot.solenis.com 

Instance is unify-scope-t478071 

messages from screenshot 
nit ORDER BY ""timewith0ffset"" DESC LIMIT seee 
[http nio-8e exec-ll] c.s.c.u.api.unifiecmeasurementsservice 
Dremio response: 
2e22-12-23 ERROR 13 
status Code: 92; response body 

{""error"": ""Microservice/Bad gateway"", ""message"" : ""Microservice not available Connection refused : Connection for request 443880762e2S7b79sgee1793Seaa4øea already closed"" , ""info"" :""https://b.m•/.cumulocity.com / guides/reference-guide/#a-name-error-reporting-a-error-reporti ng""} 


[httpnio-8e exec-2] c.s.c .u.api.Unifiedt•kasurementsService 
: Dremio response: status 
2e22-12-23 ERROR 13 
code: 592; response body {""error"" gateway"" ""message"" : ""Microservice not available Connection refused : 

Hello, 
We have paid for this unify microservice which is developed by the SAG professional services. 
From yesterday microservice is throwing an error where it fails to fetch the data from the datalake, and due to this our production environment been affected and dashboards are not getting data to trend. 
I’ve attached the error from the logs. 
Thanks, 
Saif 
+91 9431810480"
Defect,CSOIOT-5385,"INQURIY: 7516041, 2076654, KM.ON GmbH - CANCELLATION OF CONTRACT",Software AG 3101000,650,Closed,"Schon, Gregor","Luczyszyn, Mikolaj (External)",1/12/23 9:26,Customer,4/24/23 10:49,,support_question,3-Medium,3-Medium,"Similar to https://getsupport.softwareag.com/browse/SI-490630 
https://itrac.eur.ad.sag/browse/CSOIOT-5256 

customer KM.ON GmbH 7516041 requested data backup for 

Domain: km-smart.adamos.com; Tenant-Name: km-smart , Tenant-ID: t3807499 parent: management 
Domain: karlmayer.adamos.com; Tenant-Name: karlmayer Tenant-ID: karlmayer; parent: management 

Please provide the backup. 
Please inform me which size you found for the backups. This is to know if we need a specific upload target e.g. the s3 bucket"
Defect,CSOIOT-5384,lwm2m hangs on eu-latest instance.,"Itron, Inc. 7518541",650,Closed,"Talbert, Kent","Vukman, Tomislav",12/28/22 10:20,Customer,9/19/23 6:05,,,2-High,None,lwm2m is hanging on eu-latest instance.
Defect,CSOIOT-5371,Cloud remote access aktivieren,Hans Turck GmbH & Co. KG 7520183,650,Closed,"Schon, Gregor","Luczyszyn, Mikolaj (External)",12/28/22 10:35,Customer,4/6/23 10:21,,support_question,3-Medium,2-High,"  
Please subcribe for customer  in his enterprise tenant: 
Tenant; ID; Domain; Parent tenant; External reference: 
Hans Turckt; 89372071; turck-admin.emea.cumulocity.com; management;  CUMULOCITY_PAID 

The subscription is free of cost:  

[https://iwiki.eur.ad.sag/display/IOT/Applications+subscriptions+for+customer |https://iwiki.eur.ad.sag/display/IOT/Applications+subscriptions+for+customer] 
|12)  cloud-remote-access|free| |Can be given to tenants on free of cost when requested| 

Unfortunately my user account does not grant access 

  
h3. Requested data denied access 
The application requested these URL paths but your user is not allowed to access them. 
!SubscribeOrNotSubscribe-2.png|thumbnail! 
POST /tenant/tenants/t89372071/applications * [#anchor] !image-2022-12-22-10-19-04-546.png!"
Defect,CSOIOT-5356,Adamos: Multiple applications not working on cloud instance,ITAC Software AG 7516918,651,Closed,"Herzog, Christian","Vukman, Tomislav",12/29/22 12:38,Customer,12/29/22 12:38,,,1-Critical,None,"Customer has ** a very important demo 21.12. 1pm CET but our demo system which runs in the cloud is not able to demonstrate Apama streaming analytics or any Machine Learning application. Both are very critical for our demo and there is a serious risk to our business at this point. 

Comment Herzog, Christian 

Multiple applications not working on cloud instance management.adamos.com 
I can see that microservices have issues: 

e.g. Zementis-small: 
[https://management.adamos.com/apps/administration/index.html#/microservices/2592/status] 

and also Apama-ctrl-1c-4g: 
[https://management.adamos.com/apps/administration/index.html#/microservices/7210/status] 

 "
Defect,CSOIOT-5352,Please help enable Digital Twin Manager application,Telstra Corporation Limited 7514912,652,Closed,"Song, Shaopeng (Jeffrey)","Saaban, Asshad",12/30/22 9:18,Customer,5/3/23 11:54,,,2-High,None,"This is a consulting question about Digital Twin Manager application. 

Customer Telstra is now testing Cumulocity v10.15.0.198. 

The Digital Twin Manager application was introduced. 

{*}Request{*}: 

First please help enable DTM application for test tenant for Global Support usage: 

[https://bharathtest.apj.cumulocity.com/]  

*Question:* 

Customer found that the role of DTM (downloading template) has not been included in any of the currently available Global Roles by default. 

Could you please confirm if there is any Global Role covering this new roles/permissions required? 

See screen shot attached."
Defect,CSOIOT-5351,CEP engine overload,CompAir Drucklufttechnik 7515080,652,Closed,"Talbert, Kent","Vukman, Tomislav",12/22/22 14:00,Customer,3/23/23 9:28,,,2-High,None,"CEP overloaded at Gardner Denver.   

Customer is seeing the following: 
* Users access to the platform, the platform is slow and the groups are not being display 
* New installations are being affected, don’t see all widgets populated with the measurements coming from the IoT devices 
* New IoT device that should be visible into the platform after the installation, but cannot see them 
* Display of “Fake” offline status of IoT devices 

Appears to similar to [https://itrac.eur.ad.sag/browse/CSOIOT-4988] they ran into back in November."
Defect,CSOIOT-5338,Tenant created in enterprise tenant does not work.,"Micro Technology Co., Ltd. 7515608",653,Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",12/27/22 9:43,Customer,6/21/24 0:02,23-Dec-22,,3-Medium,None,"Micro Technologies reported the following issue: 

We have created a tenant “apama.cumonosu.com” in enterprise tenant management.cumonosu.com, but we cannot access to the tenant. 

It throws Invalid Credentials error. 
Other notes: 
Resetting password did not help. 
When we checked, we also noticed some issues logging into jp instance tenants 
"
Defect,CSOIOT-5337,We cannot use the full function of APAMA due to the lack of subscription.,"Micro Technology Co., Ltd. 7515608",653,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",12/22/22 7:31,Customer,3/22/23 9:58,,,3-Medium,None,"Please see the request from Micro Technologies 
We are going to migrate from Esper to APAMA and would like to use APAMA in cumonosu.com. 

However, we cannot use the full function (especially, EPL Apps) of APAMA due to the lack of Apama-ctrl microservice. Could you please check applications enough to use APAMA? If necessary, can you subscribe applications required to APAMA? 

Tenant: management.cumonosu.com 

"
Defect,CSOIOT-5329,Nordex Production Platform SLA issues - rolling restart of core nodes required,Nordex SE 7515195,654,Closed,"Foster, Richard","Korolev, Ivan",12/19/22 5:03,Customer,3/20/23 9:38,,,1-Critical,None,"For last 2 days we observe jolts in Core Nodes performance in our production environment, especially on Core06 and 08 (nifprd.nordex-online.com). I suggest to do the maintenance rolling restart of all the core nodes. You can start at any suitable moment without further confirmation from us. 

We already know this procedure is needed from time to time and in C8y 1009 we are not going to analyse very deeply any more (especially due to planned migration to 1013 in January 2023). 

Our experience shows that skipping the restart might cause further unreliable performance due rising number of full garbate collector scans and probably critical failure this night. 

FYI: APAMA restart done every 24h is initiated on our side and has been discussed with SAG and is not any additional source of problems."
Defect,CSOIOT-5328,Need logs and files from SBD Dremio coordinator node.,Stanley Black and Decker 7513816,656,Closed,"Talbert, Kent","Bizhev, Ivan",12/28/22 10:56,Customer,9/13/23 6:06,,,3-Medium,None,"Need the following logs and files from  [dremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local |https://eur04.safelinks.protection.outlook.com/?url=http%3A%2F%2Fdremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local%2F&data=05%7C01%7CKent.Talbert%40softwareag.com%7C9959e033b7b04382770a08dadf83fa35%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C638068055165313007%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=DzOy06JbRd3kl0i%2FK%2BvdvBIoRqTDK99TzBqE2DFzfic%3D&reserved=0] 

server.log, 

queries.json, 

metadata_refresh.log 

gc log 

  

I need the logs from 15 December 2022. 

  

Let me know if you have any questions. 

  

Thanks, 

Kent"
Defect,CSOIOT-5273,CLONE - API request performance getting worse in new env,"Micro Technology Co., Ltd. 7515608",657,Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,12/16/22 8:44,Customer,12/16/22 9:32,16-Dec-22,,3-Medium,None,"Customer claims that after migration to cumonosu to jp.cumumocity.com they are facing serious performance issues for the queries. 
In their words: 
Based on our investigation, the time to call API in 9am (JST) is much longer than the call at afternoon. For example, it took 2 minutes at morning but 10 seconds at afternoon. We presume the platform runs some batch processes in background every day in 0:00 (UTC) that is 9am (JST). We would like you to improve the situation as soon as possible. 

Can you please Karaf and other logs for the below tenant so that R&D can investigate. 

https://ydm.cumonosu.com/ 
"
Defect,CSOIOT-5271,The performance in jp.cumulocity.com is getting worse,"Micro Technology Co., Ltd. 7515608",657,Closed,"Song, Shaopeng (Jeffrey)","Abdul Majid, Mohd Shahmi",12/28/22 10:18,Customer,4/14/23 10:28,16-Dec-22,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: {_}{{_}}APJ{{_}}{_}_  
System Usage : Production 
Time Zone: _GMT+9_ 

*Affected tenant* 

Tenant: ydm,      okippanishimatsu 
Enterprise Tenant? Yes  
System accessible by R&D? Yes.   

URL: [https://ydm.cumonosu.com/] 
Username: sagsupport 
Password: gZ2VE#aH 

*Issue associated device, application and/or microservice* 

Example URL with the issue: [https://management.cumonosu.com|https://management.cumonosu.com/] 

*Time period error was observed:* 
* Start: ongoing. 

*Description of the Problem:* 

*Crisis* issue opened by Micro Technology.  Currently, the platform performance is getting worse. The time to call API is getting longer and CEP is not timely processed. 

As additional information, it took 2-3 minutes to call the API at the time but should be around 10 seconds to call the API usually. 

Please look into it and fix the issue as quickly as possible. 

  

The bad performance started at around 9AM (JST). The following API call is easy to measure the time. You can use the test account info to test it. 

[https://ydm.cumonosu.com/inventory/managedObjects?currentPage=1&nocache=46706438] 
&pageSize=200&query=$filter%3D((type+eq+%27m13y_deliveryList%27)and(((deliveryStartTime+lt+%272022-12-16T00%253A00%253A00%252B09%253A00%27)and(lastGpsTime+gt+%272022-12-14T15%253A00%253A00.000Z%27))or((not(has(lastGpsTime)))and(not(has(deliveryEndTime)))and(deliveryStartTime+lt+%272022-12-16T00%253A00%253A00%252B09%253A00%27)and(deliveryStartTime+gt+%272022-12-15T00%253A00%253A00%252B09%253A00%27))or((not(has(lastGpsTime)))and(has(deliveryEndTime))and(deliveryStartTime+lt+%272022-12-16T00%253A00%253A00%252B09%253A00%27)and(deliveryEndTime+gt+%272022-12-15T00%253A00%253A00%252B09%253A00%27)))and(((projectNo+eq+%2720221017002%27)or(projectNo+eq+%2720221017003%27)or(projectNo+eq+%2720221024001%27)or(projectNo+eq+%2720221024002%27)or(projectNo+eq+%2720221024003%27)or(projectNo+eq+%2720221024004%27)or(projectNo+eq+%2720221027002%27)or(projectNo+eq+%2720221027001%27)or(projectNo+eq+%2720221102001%27)or(projectNo+eq+%2720221108001%27)or(projectNo+eq+%2720221114001%27)or(projectNo+eq+%2720221118006%27)or(projectNo+eq+%2720221118007%27)or(projectNo+eq+%2720221118008%27)or(projectNo+eq+%2720221122002%27)or(projectNo+eq+%2720221124001%27)or(projectNo+eq+%2720221125001%27)or(projectNo+eq+%2720221125002%27)or(projectNo+eq+%2720221125003%27)or(projectNo+eq+%2720221128001%27)or(projectNo+eq+%2720221130002%27)or(projectNo+eq+%2720221130004%27)or(projectNo+eq+%2720221202002%27)or(projectNo+eq+%2720221205001%27)or(projectNo+eq+%2720221209001%27)or(projectNo+eq+%2720221212001%27))or((projectLink.projectNo+eq+%2720221017002%27)or(projectLink.projectNo+eq+%2720221017003%27)or(projectLink.projectNo+eq+%2720221024001%27)or(projectLink.projectNo+eq+%2720221024002%27)or(projectLink.projectNo+eq+%2720221024003%27)or(projectLink.projectNo+eq+%2720221024004%27)or(projectLink.projectNo+eq+%2720221027002%27)or(projectLink.projectNo+eq+%2720221027001%27)or(projectLink.projectNo+eq+%2720221102001%27)or(projectLink.projectNo+eq+%2720221108001%27)or(projectLink.projectNo+eq+%2720221114001%27)or(projectLink.projectNo+eq+%2720221118006%27)or(projectLink.projectNo+eq+%2720221118007%27)or(projectLink.projectNo+eq+%2720221118008%27)or(projectLink.projectNo+eq+%2720221122002%27)or(projectLink.projectNo+eq+%2720221124001%27)or(projectLink.projectNo+eq+%2720221125001%27)or(projectLink.projectNo+eq+%2720221125002%27)or(projectLink.projectNo+eq+%2720221125003%27)or(projectLink.projectNo+eq+%2720221128001%27)or(projectLink.projectNo+eq+%2720221130002%27)or(projectLink.projectNo+eq+%2720221130004%27)or(projectLink.projectNo+eq+%2720221202002%27)or(projectLink.projectNo+eq+%2720221205001%27)or(projectLink.projectNo+eq+%2720221209001%27)or(projectLink.projectNo+eq+%2720221212001%27))))+$orderby%3DdevDeliveryId+asc&revert=true&type=m13y_deliveryList&withTotalPages=true 

Kind regards,"
Defect,CSOIOT-5268,Token 'c68965f6-5cb1-4a06-8a95-d7f4395310a2' not present for user is preventing correct tenant utilisation,POST Telecom S.A. 7515101,658,Closed,"Herzog, Christian","Vukman, Tomislav",12/21/22 15:30,Customer,4/4/23 10:40,,,3-Medium,None,"We have an issue on tenant [https://corp.post-iot.lu which|https://corp.post-iot.lu/apps/cockpit/index.html#/] which is located on management tenant [emea.cumulocity.com.|http://emea.cumulocity.com/] 
To find the cause, Michal requested in [https://itrac.eur.ad.sag/browse/IOT-15769] : 

1) is it possible to change log-level on ""com.cumulocity.server.impl.user.UserServiceImpl"", 
2) reproduce the error 
3) and collects logs from the environment? 

Can you please do 1)? 
Then I will do 2) 
Can I collect 3) from Graylog or is this logged somewhere else where you only have access?"
Defect,CSOIOT-5265,c8y_ActiveAlarmsStatus recalculate - need to set this fragments values to 0 on demand.,Kemin Europa 7517950,658,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",12/20/22 10:44,Customer,10/30/23 5:04,21-Dec-22,,3-Medium,3-Medium,"A problem has been found with Data Broker that when a device is ** copied to a target tenant, the c8y_ActiveAlarmsStatus fragment is copied. It can have values for active alarms, even though alarms are not copied over, therefore the values are incorrect. 

  

Dev are fixing this at 10.17 by not copying this fragment when a device is copied to a target tenant. 

  

However, there are devices already copied which have incorrect values, and these need to be 'reset'. We can't do this using the REST API. 

  

It has been suggested a script could be created to do this.. 

  

""create ticket for Ops, R&D can deliver DB script with throttling, and then it can probably be run on few tenants on demand 
  
  
this way we can probably fix tenants on which customers complain most, but not all tenants on all environments"""
Defect,CSOIOT-5261,Apama logs from tenant: https://servicehub.iot.hillrom.com,"HILL-ROM Holdings, Inc. 7517970",659,Closed,"Talbert, Kent","Bizhev, Ivan",12/14/22 17:03,Customer,8/2/23 6:04,,,3-Medium,None,Need Apama logs 7 December 2022 for tenant: [https://servicehub.iot.hillrom.com|https://servicehub.iot.hillrom.com/] if possible.
Defect,CSOIOT-5259,Can't edit Inventory job or re-enable previously disabled one,Stanley Black and Decker 7513816,659,Closed,"Eha, Allan","Abdul Majid, Mohd Shahmi",12/19/22 7:16,Customer,3/23/23 9:31,,,3-Medium,None,"Trying to edit an inventory offload gives a {{Timeout}} when attempting to validate the schema. This is affecting editing columns as well as simply just re-enabling a previously disabled job. 

From chat: 
Mohd Shahmi Abdul Majid 
,Yesterday 6:19 PM 
@Allan Eha : can you create ticket for this and we will check from our end 
  
  
it seem this issue happened randomly as upon checking last week by Bartosz, seems fine 
 "
Defect,CSOIOT-5256,Successor of SI-438098 (Adamos 2066) Data backup of IoT data,KM.ON GmbH 7516041,659,Closed,"Schon, Gregor","Vukman, Tomislav",12/28/22 11:00,Customer,4/6/23 10:23,,support_question,3-Medium,3-Medium,"One year ago customer Karl Mayer had already announced that they want to leave the Cumulocity platform.  
Customers request was to get a dump of all his data when leaving. This possibility was confirmed 2021-0910 by Tomislav 
https://itrac.eur.ad.sag/browse/CSOIOT-760 

Now customer came back to this request for tenant kmon.adamos.com: 

We use the following tenant, kmon.adamos.com. 
Tenant                 ID       Domain           Parent tenant   Status 
KM.ON Smart Solutions  t3605327 kmon.adamos.com  karlmayer       Active 

Customer requests: 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
Could you please upload the backup to the following S3 bucket? 

aws s3 cp backup.tar.gz s3://kmon-adamos-com-backup --profile adamos_backup --region eu-central-1 

[adamos_backup] 
aws_access_key_id = AKIAYW2CP6W444IOSIKM 
aws_secret_access_key = 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 

Best regards, 

i.A. Daniel Sarosi, Tech Lead 
+852 6938 2206 : daniel.sarosi@kmon.net 2206 Metroplaza 2, 223 Hing Fong Road : Kwai Chung, HK 
KM.ON GmbH Geschäftsführer: Antonia Gottschalk : Maximilian Kürig Amtsgericht Frankfurt a.M. : HRB 110267 www.kmon.net"
Defect,CSOIOT-5250,DataHub microservice failing,"Software AG USA, Inc. 3150000",660,Closed,"Eha, Allan","Luczyszyn, Mikolaj (External)",12/13/22 11:28,Customer,6/13/23 6:02,,,3-Medium,None,"From the OPS chat: 
Tim Louden 
,Fri 1:19 PM 
I have a datahub microservice in crashloop backoff because datalake is unavailable. What do we do about this? 
  
  
Thomas Schüller 
,Fri 2:30 PM 
Well, not that much we can do I guess… do we have a customer contact? 
  
  
Tim Louden 
,Fri 2:37 PM 
ha! must be internal, it's Josh Hooks I'll ping him 
  
  
Tim Louden 
,Fri 2:52 PM 
he's perplex, and it's related to a deal they're getting close to closing Josh is raising a ticket now for datahub team 
 "
Defect,CSOIOT-5235,10.14 Issue: New nodes not scaling on Chef-server v14.,NTT Communications Corporation 7312715,663,Closed,"Neale, Robert","Vukman, Tomislav",12/16/22 8:31,Customer,6/21/24 0:01,14-Dec-22,,2-High,2-High,"*Customer needs urgent advice..* 

  

NTT is trying to upgrade to 10.14 in one of their environment. 

To save the downtime, we are creating new Kubernetes cluster on new VMs which will be attached to core later. 

But when new VMs are registered to Chef it does not shows in node search properly. 

*When we try to create new cluster or new VMs it is creating cluster with old nodes.* 

*We believe after Chef-server  Upgrade to v14  new nodes are not getting scaled properly in 10.14.* 

 knife search is not able to find the new nodes.(knife node list shows all nodes though) 

{color:#de350b}Even after removing 'cumulocity-kubenetes' role from old nodes and adding it to new nodes.knife search always searches only old nodes.{color} 

{color:#de350b}'cumuloicty-kubernetes' recipe is also taking old nodes as masters and etcd members even though they have cumulocity-kuberntes role removed from the chef.{color} 

{color:#172b4d}Screenshot attached.{color} 

Requesting R&D's urgent help and advise on this as this is a blocker for NTT's customer environment upgrade."
Defect,CSOIOT-5230,Telstra: Production alarm and failures,Telstra Corporation Limited 7514912,664,Closed,"Reddy, Yerpula Bharath Bhushan","Radzali, Basyar",12/19/22 7:15,Customer,3/22/23 10:10,,,2-High,None,"Raising the iTrac for the email communication received this morning from Khademul from Telstra 

Hi SAG Team, 
We had couple of alarms this morning (attached) and test client failures between 6am-7am AEST. Could you please have a look at the root cause and should we need to take any action. As we are approaching holiday season, it will be best for all of us to avoid any instability during this period. Should we need to make any change then we are also running a thin window. 
"
Defect,CSOIOT-5229,Solenis: Change subtenant parent,Solenis LLC 7512378,664,Closed,"Eha, Allan","Vukman, Tomislav",12/11/22 9:56,Customer,6/21/24 0:05,,,3-Medium,3-Medium,"{color:#202124}A Solenis user has created 2 subtenants on an Enterprise tenant “{color}[georgiapacific.iot.solenis.com|http://georgiapacific.iot.solenis.com/]{color:#202124}” (t1499921) and would like these tenants be subtenants of the management tenant instead.  Is there a way to move them so their parent tenant is the management tenant?  Can this be done by changing the tenant managed object?{color} 

  

Customer wrote: 
----------------------------------------------------------------------------------------------------------- 

I have created two subtenant from an enterprise tenant called “[georgiapacific.iot.solenis.com|http://georgiapacific.iot.solenis.com/]” (t1499921). 

Those two subtenants listed under parent of “t1499921” in my management tenant. 

I just want to change their parent back to “management”. 

Is there a way through managedObject we can change the parent of any tenant?"
Defect,CSOIOT-5214,Lwm2m bulk register csv templates are missing in the portal || Verification v10.15.0.198,Telstra Corporation Limited 7514912,665,Closed,"Neale, Robert","Lundsten, Alf",12/13/22 10:29,Customer,12/21/22 13:42,13-Dec-22,telstra,2-High,2-High,"While trying to perform bulk registration for lwm2m devices via. the new lwm2m UI interface, it is observed that the templates for lwm2m bulk registrations are missing. 

{*}Steps to Reporduce{*}: 
# Navigate to Registration under Devices in Device Management application 
# Click on Register a device 
# Select Lwm2m under ‘Bulk Registration’ 
# Verify the registration pop-up displayed. 

{*}Expected{*}: Lwm2m bulk registration csv templates to be available for the user, similar to General device bulk registration. 

Please find attached the screenshot for easy reference. 

  

  

Dev tools shows call to .../service/lwm2m-agent/deviceRegistration/metadata?lang=en   returns no templates. 

  

LWM2M team suggest... 

  
it needs to go to OPS. probably the new property file saved as lwm2m-agent-server.properties.rpmnew and they didn't check the difference with the .properties. 
these are the ones related to bulk registration templates 

_# Bulk device registration CSV templates_ 
{*}c8y.lwm2m.bulkregistration.templates[0].title{*}={*}NO_SEC template{*} 
{*}c8y.lwm2m.bulkregistration.templates[0].description{*}={*}A bulk registration CSV template for NO_SEC devices with all optional fields{*} 
{*}c8y.lwm2m.bulkregistration.templates[0].url{*}={*}[https://resources.cumulocity.com/examples/lwm2m/LWM2M_bulkDeviceRegistration_NO_SEC_template.csv]{*} 

{*}c8y.lwm2m.bulkregistration.templates[1].title{*}={*}PSK template{*} 
{*}c8y.lwm2m.bulkregistration.templates[1].description{*}={*}A bulk registration CSV template for PSK devices with all optional fields{*} 
{*}c8y.lwm2m.bulkregistration.templates[1].url{*}={*}[https://resources.cumulocity.com/examples/lwm2m/LWM2M_bulkDeviceRegistration_PSK_template.csv]{*} 

{*}c8y.lwm2m.bulkregistration.templates[2].title{*}={*}General template{*} 
{*}c8y.lwm2m.bulkregistration.templates[2].description{*}={*}A general bulk registration CSV template showing all possible fields{*} 
{*}c8y.lwm2m.bulkregistration.templates[2].url{*}={*}[https://resources.cumulocity.com/examples/lwm2m/LWM2M_bulkDeviceRegistration_allHeaders_template.csv]{*} 

{*}c8y.lwm2m.bulkregistration.templates[3].title{*}={*}Mandatory fields template{*} 
{*}c8y.lwm2m.bulkregistration.templates[3].description{*}={*}A bulk registration CSV template showing all mandatory fields{*} 
{*}c8y.lwm2m.bulkregistration.templates[3].url{*}={*}[https://resources.cumulocity.com/examples/lwm2m/LWM2M_bulkDeviceRegistration_mandatoryHeaders_template.csv]{*} 

  

  

Can you check this on [https://telstra.verification.c8y.io/] environment?"
Defect,CSOIOT-5201,Wildcard certificate expiring,Solenis LLC 7512378,667,Closed,"Eha, Allan","Vukman, Tomislav",12/8/22 10:56,Customer,6/21/24 0:07,,,3-Medium,3-Medium,"Solenis certificate is expiring soon and they would like to create a new certificate with a new CA.  

The current certificate is with CSC(CA). As we have changed our CA (Digicert)"" 

Customer would like SAG to create the CSR. 


Tomislav asked: 
Please create CSIOT ticket. then we can create CSR and send it to customer via ticket/Support 

then they need to check/verify CSR and contact CA to issue the cert for them"
Defect,CSOIOT-5198,CLONE - LwM2M Registration Timeout after using Anjay client.,"Software AG USA, Inc. 3150000",667,Closed,"Akin, Oezge","Vukman, Tomislav",12/5/22 15:56,Customer,12/5/22 15:56,,,3-Medium,3-Medium,"Using the Anjay demo client causes LwM2M device registrations to stop working. 

Replicate Steps: [https://github.com/AVSystem/Anjay#running-the-demo-client] 
./output/bin/demo --endpoint-name JhooksTestLwM2M002 --server-uri coap://lwm2m.eu-latest.cumulocity.com:5783 

  

The Anjay agent works correctly, but then starts spitting back a ton of output, which I assume puts C8Y in a bad state. After that, the LWM2M Leshan devices can no longer connect with these steps: [https://github.com/eclipse/leshan#test-leshan-demos-locally] 
java -jar leshan-client-demo.jar -u [lwm2m.eu-latest.cumulocity.com:5783|http://lwm2m.eu-latest.cumulocity.com:5783/] -n JhooksTestLwM2M002 

  

It also looks like events are received for the Anjay client long after it has been terminated. 

  

See symptom.txt attached. 

  

What could be happening here?"
Defect,CSOIOT-5184,Sigfox data does not reach platform with 100%,"Micro Technology Co., Ltd. 7515608",668,Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",12/8/22 12:02,Customer,6/11/23 6:03,,,1-Critical,None,"Micro Technologies reported the following issue: 

We got a critical issue on Sigfox. 
Currently, the data from Sigfox backend cannot reach cumonosu.com with 100%. After the migration of cumonosu.com to jp.cumulocity.com on Nov 29, we got an error of 404 in Sigfox backend. This failure randomly happens with all the devices. 

However, tenant migrated from bodenexam.com does not face this failure. While bodenexam.com was migrated to jp.cumulocity.com on Oct 18, this kind of error did not happen. We requested KCCS (Sigfox Network Operator in Japan) to solve this issue, but they answered our platform might have problems. So, could you please investigate it and give us your feedback? 

This failure is a critical issue for customers and us and need to be fixed as quickly as possible. 

Please look into this with urgency"
Defect,CSOIOT-5174,"Ops test ticket, please ignore and delete",e.g. Public Cloud,671,Closed,"Lisik, Milosz (External)",Unassigned,12/2/22 8:50,Customer,12/2/22 8:50,,,4-Low,4-Low,"Ops test ticket, please ignore and delete"
Defect,CSOIOT-5172,Unable to setup Actility LoRa connector,AM General LLC 7500726,671,Closed,"Eha, Allan","Pham, Hoang",12/5/22 8:16,Customer,6/1/23 6:03,2-Dec-22,,1-Critical,1-Critical,"Customer is unable to connect devices to the Actility microservice on the US instance.   Either the Microservice is the wrong version, or the microservice is having problems. 

Customer is setting up connection and it's complaining about missing ApplicationEUI.  That is no longer a setting on connectivity screen, but rather set during device registration.  We are wondering if Actility MS was upgraded to 10.14 as this was changed in 10.14  Customer is pushing this as a crisis... 

Customer was able to connect prior to the platform upgrade.  This is the first time they have tried after the upgrade."
Defect,CSOIOT-5170,Update custom domain for https://factorypuls.emea.cumulocity.com and add the license,FactoryPuls GmbH 7521006,671,Closed,"Bhatt, Vikas","Vukman, Tomislav",12/8/22 10:56,Customer,6/12/23 6:03,,,3-Medium,3-Medium,"*Affected system* 

Instance: EMEA 
Tenant URL: https://factorypuls.emea.cumulocity.com/ 

*Description of the Problem:* 

Customer wants to migrate their master tenant DNS to a custom domain name and implement DNS masking. 

Domain Name: FactoryVisual.eu 
Tenant URL: https://factorypuls.emea.cumulocity.com/ 

Please find the .pem and .pkcs#7 files attached. 
[^PEM files_.factoryvisual.eu.zip] 
[^PKCS 7 files_.factoryvisual.eu.zip] 

They have not provided .PKCS #12 files despite multiple requests and seems customer ended up buying from providers who are too reluctant to provide .PKCS#12 files. 

Please upload the certs and activate the domain and then add the license for it in EMEA instance."
Defect,CSOIOT-5169,Logs not being generated on iot.solenis.com,"Software AG USA, Inc. 3150000",671,Closed,"Eha, Allan","Vukman, Tomislav",12/5/22 16:54,Customer,6/4/23 6:03,,,2-High,None,"Message from Josh Hooks: 

Graylog isn’t showing any logs for [iot.solenis.com|http://iot.solenis.com/] 

I talked to Tim Louden from cloud ops and he mentioned that filebeat isn’t running, even though it should be. 

This should be routed to the CSOIOT queue for them to fix."
Defect,CSOIOT-5158,Tenant Status Inquiry - edmi.spark.captis-iot.com,Kallipr Pty Ltd 7516856,673,Closed,"Song, Shaopeng (Jeffrey)","Janus, Bartosz",12/7/22 9:02,Customer,6/6/23 6:03,,"PaidTenants, TenantManagement",2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: __Australia__ 
Time Zone: __GMT+11___ 

*Affected tenant* 

Tenant: edmi.spark.captis-iot.com 
Enterprise Tenant? Yes 

*Description of the Problem:* 

Customer is requesting the current status of the *edmi.spark.captis-iot.com* tenant. This tenant was meant to be delete sometime last year but the customer is still getting billed for it. 

Kindly help confirm the following: 

1. Is this tenant still active? 
2. Was there a historical attempt to delete this tenancy? 

3. Is there anything stopping customer from deleting this tenancy or what was the reason this tenant was not deleted? 

Once confirmed the above, kindly help check whether customer could proceed with deleting the tenant."
Defect,CSOIOT-5141,Users cannot login to applications due not subscribing application with ID 5,"Micro Technology Co., Ltd. 7515608",673,Closed,"Song, Shaopeng (Jeffrey)","Radzali, Basyar",11/30/22 10:30,Customer,5/30/23 6:03,,,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: {_}{{_}}Japan{{_}}{_}  {_}Version _____10.10{_}___ 

System Usage (Choose one of: Production / Test / Development): {_}{{_}}Peoduction{{_}}{_} 
Time Zone: {_}{{_}}{{_}}GMT+9{{_}}{{_}}{_} 

*Affected tenant* 

Tenant: {*}[https://okippagreen_tx.cumonosu.com*|https://okippagreen_tx.cumonosu.com%2A/] and {{*}}[https://okippagreen-th.cumonosu.com|https://okippagreen-th.cumonosu.com/]{*}. 
Enterprise Tenant? Yes  

*Issue associated device, application and/or microservice* 

Example URL with the issue: {*}[https://okippagreen_tx.cumonosu.com*|https://okippagreen_tx.cumonosu.com%2A/] and {{*}}[https://okippagreen-th.cumonosu.com|https://okippagreen-th.cumonosu.com/]{*}. 

*Application:* 
* Cumulocity product application 

*Time period error was observed:* 
* Start: Ongoing 

*Description of the Problem:* 

Customer got a disaster situation for customers using tenants of [https://okippagreen_tx.cumonosu.com|https://okippagreen_tx.cumonosu.com/] and [https://okippagreen-th.cumonosu.com.|https://okippagreen-th.cumonosu.com./] Currently, customers cannot access to cockpit and other applications on top of Cumulocity IoT platform. Because these tenants do not subscribe the applications. See the attached screen for the error when configure the user role. Customer cannot save the user role as the attached errors.  

In the test process Ops team has helped customer subscribed the application. Now customer requires the same operation from Ops team to help subscribe the application. 

*Updated description:* 

Totally there are 6 tenants have similar issues.  

Please subscribe the following two applications 

*Feature-microservice-hosting* and *Feature-fieldbus4* 

 to all the following tenants. Either of the application could be ID 5 or ID 4. 

Tenants: 

*okippagreen_tx.cumonosu.com* 

*okippagreen-th.cumonosu.com* 

*okippagreen_dev.cumonosu.com* 

*shiogama.cumonosu.com* 

*okippa_ext.cumonosu.com* 

*okippa02.cumonosu.com*"
Defect,CSOIOT-5112,"Flexco needs ML Workbench, ONNX and Nyoka installed on their instance.",Flexible Steel Lacing Company Inc 7519586,674,Closed,"Talbert, Kent","Bizhev, Ivan",12/2/22 7:37,Customer,5/31/23 6:03,,,2-High,None,"Flexco needs MLW, ONNX and Nyoka installed on their instance.  They currently have only ML and Zementis small installed. 

  

Let me know if you need more information. 

  

Thanks, 

Kent"
Defect,CSOIOT-5110,Please delete not needed sub tenants on eu-latest,itCampus 3270000,674,Closed,"Talbert, Kent","Pham, Hoang",11/28/22 21:40,Customer,5/29/23 6:02,,,3-Medium,None,"Please delete the following tenants on eu-latest: 

t130803078 
[eppendorf-test.eu-latest.cumulocity.com|http://eppendorf-test.eu-latest.cumulocity.com/] 

t1133436802 
[kelltontech-training2.eu-latest.cumulocity.com|http://kelltontech-training2.eu-latest.cumulocity.com/] 

  

Thanks, 

Kent"
Defect,CSOIOT-5101,2 microservices crashed (pods were automatically restarted by C8Y) in 2 enterprise tenants,Eppendorf SE 7517606,677,Closed,"Welsing, Michael","Lundsten, Alf",12/2/22 13:01,Customer,6/1/23 6:03,,,2-High,None,"Hello Ops, 

Eppendorf received these message and saw that the microservices were restarted on emea.cumulocity.com: 

[https://management.visionizedigitallabspace.eppendorf.com/], tenant ID eppendorfag: 
{noformat} 
52 Readiness probe failed: Get ""http://10.244.128.29:80/health"": dial tcp 10.244.128.29:80: connect: connection refused 
25 Nov 2022, 16:02:26 {noformat} 
[https://management.vnlsbeta.eppendorf.com|https://management.vnlsbeta.eppendorf.com/], tenant ID: t11553066 
{noformat} 
23 Readiness probe failed: Get ""http://10.244.182.166:80/health"": dial tcp 10.244.182.166:80: i/o timeout (Client.Timeout exceeded while awaiting headers) 
25 Nov 2022, 16:01:58{noformat} 
Do you have the chance to provide more information from the platform level about the reason of this crash and restart?"
User Story,CSOIOT-5088,CLONE - whitelist AWS IAM policy for accessing Hilti s3 bucket,Hilti AG 3158,677,Completed,"Lundsten, Alf","Simeonova, Rumyana",12/12/22 8:47,Customer,12/12/22 8:47,,,3-Medium,None,"In our cumulocity microservices we access S3 bucket from our aws Hilti account using secret/key pairs, for security reasons we want to mova away from using keys and what was proposed by aws is that you coould have an IAM policy on Software AG that will be whitelist on our side. 

Do we allow this? 

Version: 1013 

Tenant: t978904552 

[https://iot-qas.dmp.hilti.com|https://iot-qas.dmp.hilti.com/] 

Placed this question on the chat and didn't get any response."
Defect,CSOIOT-5082,SMS related to Apps,Hitachi Construction Machinery Co. 7312187,678,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",11/30/22 10:32,Customer,5/31/23 6:03,,,3-Medium,None,"Tenant: https://hitachi-kenki.cumulocity.com 

We would like to set SMS provider. However, we don’t have the following applications which we require for SNS communication. 

* Sms-gateway 
* Connectivity-agent-server 

Please add these applications."
Defect,CSOIOT-5080,[Hilti] Mongo error in PROD - Please raise the document size limit,Hilti AG 3158,678,Closed,"Bhatt, Vikas","Lundsten, Alf",11/28/22 15:16,Customer,6/12/23 6:03,,,1-Critical,2-High,"*Affected system* 

Environment: Hilti PROD 
https://iot.dmp.hilti.com/ 

*Description of the Problem:* 

Customer has reported this crisis issue in their environment. 

We have a mongo error in our microservice in PRODUCTION that is blocking onboarding of devices, it looks like we reached a limit for document size, can this limit quickly raised while we find a solution? 



{code:java} 
022-11-24 09:55:19.803 ERROR 13 — [MasterdataImportThread-3] c.h.i.d.m.j.AsyncMasterdataRecordHandler : Device couldn't be created or updated from MasterData record with TID = TID-2251352-206713720 

com.cumulocity.sdk.client.SDKException: Http status code: 500 
{error=""general/internalError"",message=""Write failed with error code 17419 and error message 'Resulting document after update is larger than 16777216'"",info=""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting"",details=""null""} 
at com.cumulocity.sdk.client.ResponseParser.checkStatus(ResponseParser.java:75) 
at com.cumulocity.sdk.client.ResponseParser.parse(ResponseParser.java:57) 
at com.cumulocity.sdk.client.RestConnector.parseResponseWithoutId(RestConnector.java:356) 
at com.cumulocity.sdk.client.RestConnector.post(RestConnector.java:262) 
at com.cumulocity.sdk.client.inventory.ManagedObjectImpl.addChildAssets(ManagedObjectImpl.java:130) 
at com.hilti.iot.dmp.c8y.repositories.BaseInventoryGroupRepositoryImpl.assignDeviceToGroupManagedObject(BaseInventoryGroupRepositoryImpl.java:100) 
at com.hilti.iot.dmp.c8y.repositories.BaseInventoryGroupRepositoryImpl.addDeviceToGroupsInternal(BaseInventoryGroupRepositoryImpl.java:82) 
at com.hilti.iot.dmp.c8y.repositories.BaseInventoryGroupRepositoryImpl.addDeviceToGroups(BaseInventoryGroupRepositoryImpl.java:43) 
a 
{code} 
"
Defect,CSOIOT-5079,Delete unused Autosen subtenants,Autosen GmbH 7516454,678,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",11/29/22 10:01,Customer,6/4/23 6:03,,,3-Medium,3-Medium,"*Description of the Problem:* 

Customer from Autosen has requested to delete a number of unused subtenants. 

Please carefully delete all of  these subtenants, including their subscriptions, cloud data,… - a full erase of those. There are some that are not autosen.cloud subtenants which may be deleted, too. 

Please see the list of these unused tenants in attached spreadsheet. 

[^20221124_TenantDeleteList_autosen.xlsx]"
Defect,CSOIOT-5077,Apama component is down,AiFlux Limited 7520194,678,Closed,"Schon, Gregor","Lundsten, Alf",11/24/22 17:46,Customer,5/24/23 6:02,,support_question,2-High,4-Low,"tenant [https://aifluxtrack2.apj.cumulocity.com|https://aifluxtrack2.apj.cumulocity.com/] 
SAG Cloud region: APC _________________ Domain .apj.cumulocity.com Version __________________ 
*Affected tenant* aifluxtrack2.apj.cumulocity.com 
Tenant:  [aifluxtrack2|https://aifluxtrack2.apj.cumulocity.com/] 
Enterprise Tenant? not specified. 
System accessible by R&D? Not known 
*Application: Apama* 

*Microservice:* 
* (URL in ""Own applications""):  apama 
* Microservice origin:  SAG 
* Cumulocity product microservice. Version 10.11 
* GCS custom microservice. Author/Contact _______________ 

Apama component is down on the C8Y tenant ([https://aifluxtrack2.apj.cumulocity.com/|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Faifluxtrack2.apj.cumulocity.com%2F&data=05%7C01%7CSubodh.Kumar%40softwareag.com%7C15b7ce2e15b04c8563d408dacde08e06%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C638048661576371622%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=h%2FmQYYVo1%2Ff0NNrcVZDMg%2F6EmOErBD1jwHoSuj9e8Z8%3D&reserved=0]). Can you pls urgenly look into this and provide the required assistance to get the component up and running. We have Business Users validating the solution in the next 30 mins and without the Apama component, the solution is broken. Appreciate your prompt response. "
Defect,CSOIOT-5063,Removing cumulocity-mn-active-core role from core issue,Telia Eesti AS 7515105,679,Closed,"Welsing, Michael",Unassigned,11/23/22 14:35,Customer,5/1/23 10:38,,,3-Medium,None,"Hi Ops. 

customer wants to test if they can automate the process when core node has been removed from the cluster, if it will be automatically disabled in F5 VIP load-balancer configuration too and to do so they wanted to set F5 to parse core applications tenant/health url, if there is some string marked DOWN, remove this core from the F5 VIP active members pool. So far they used F5 health checks to port 80 and to disable core node in F5 they simply stopped openresty and it did the trick, but now, when core nodes are migrated into Kubernetes pods, they can’t do that anymore. Also, removing core node cumulocity-mn-active-core role is the first step when you start to upgrade Cumulocity IoT platform. 

What customer did: 
# knife node run_list remove core1 'role[cumulocity-mn-active-core]' 
# Execute chef-client on core1 and core2 
# cumulocity-mn-active-core has been removed from core1 as shown in /etc/motd 
# watch ""curl -s -X GET [http://localhost:8181/tenant/health] | python -m json.tool"" is still showing core1 and core2 are both active cluster members. When they upgraded this instance from 10.9 -> 10.10 and when active role was removed from core1, it’s tenant/health showed only IP address of the node under Upgrade process and 

""noSuppressibleDown"": false, 

""status"": ""DOWN"" 

*Main concern is how can they perform next Cumulocity version upgrade if both cores remains in active state.*"
Defect,CSOIOT-5008,LwM2M Registration Timeout,"Software AG USA, Inc. 3150000",684,Closed,"Neale, Robert","Lundsten, Alf",11/21/22 14:28,Customer,5/22/23 6:03,21-Nov-22,,3-Medium,3-Medium,"Trying to register a LWM2M device in the UI, screen displays endless loop. 

[https://neale.eu-latest.cumulocity.com/service/lwm2m-agent/deviceRegistration/metadata?lang=en] never returns. 

  

Can LWM2M agent be restarted?"
Defect,CSOIOT-4989,Add Lwm2m and Loriot Support to tenant on emea instance.,Makersan Makina Otomotiv San. Tic. 7521307,687,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",11/16/22 10:31,Customer,5/16/23 6:02,,,3-Medium,None,"Please subscribe lwm2m and loriot agent to tenant t155501798 on emea instance. 

  

I don't have permissions to subscribe applications. 

  

Thanks, 

Kent"
Defect,CSOIOT-4988,Alarms email notifications not being received by the end customer - CEP engine not processing the Alarms,CompAir Drucklufttechnik 7515080,687,Closed,"Eha, Allan","Vukman, Tomislav",11/17/22 9:50,Customer,5/21/23 6:03,,,3-Medium,None,"Can you please check to see what the problem is? 

Is this similar to what happened 20-Apr?  I saw something similar on the OPS chat. 

Tenant: [https://industrials.cas.irco.com/apps/cockpit/index.html#/] 

Dear Software AG team, 

Please offer us urgent assistance to fix the current issue we encountered. 

Alarms email notifications not being received by users. The CEP engine not processing the Alarms. The processing of the Alarms stopped a few hours ago. No new data are available 

 "
Defect,CSOIOT-4986,Tenant deletion request,Software AG 3101000,687,Closed,"Eha, Allan","Luczyszyn, Mikolaj (External)",11/16/22 10:38,Customer,5/16/23 6:03,,,3-Medium,None,"Kai Sieben would like some tenants deleted. 

Please delete following tenants. They are already suspended: 

t482285823 | [pssolutions.eu-latest.cumulocity.com|http://pssolutions.eu-latest.cumulocity.com/] 
t580591969 | [silverline.eu-latest.cumulocity.com|http://silverline.eu-latest.cumulocity.com/] 
t374223845 | [ewon.eu-latest.cumulocity.com|http://ewon.eu-latest.cumulocity.com/] 
t380583737 | [ewon-tenant1.eu-latest.cumulocity.com|http://ewon-tenant1.eu-latest.cumulocity.com/] 
t406218257 | [ewon-tenant2.eu-latest.cumulocity.com|http://ewon-tenant2.eu-latest.cumulocity.com/] 
t406222973 | [ewon-tenant3.eu-latest.cumulocity.com|http://ewon-tenant3.eu-latest.cumulocity.com/] 
t643617192 | [bsci-20k.eu-latest.cumulocity.com|http://bsci-20k.eu-latest.cumulocity.com/]"
Defect,CSOIOT-4967,nifprd environment issues: suspected K8s worker node 1 problems,Nordex SE 7515195,688,Closed,"Neale, Robert","Vukman, Tomislav",11/17/22 12:55,Customer,11/17/22 12:55,17-Nov-22,,1-Critical,1-Critical,"In the last days we are having some odd issues with some of heavy the microservices that run on nxworkerprd01v (Kubernetes worker 01 on prod). 
When I had Event processing running there is was running slowly and or refused to start properly. Having it on any other worker node made it run normally. Today we found that cca-dashboard working on worker 01 is causing end-users issues with performance. Restart of the pod on other node solved the issue. 

We have a bunch of other (much lighter and less critical) MSes running on nxworkerprd01v but if any of those heavy MSes will be started here this will cause trouble. 

I suggest to: 
# cordon nxworkerprd01v temporarily until we will find out what is the issue 
# check if you can see any suspicious issues with the VM running the worker node (down to system logs). 
We are issuing a parallel ticket to PlusServer to take a closer look at the VM subsystem. 
If required feel free to drain the node and restart - it should not cause too much trouble to the end users in this case."
Defect,CSOIOT-4966,DTLS not working on ITron instance.,"Itron, Inc. 7518541",688,Closed,"Talbert, Kent","Vukman, Tomislav",11/16/22 15:57,Customer,5/16/23 6:03,,,2-High,None,"C8Y DTLS appears to not be working (see attached Leshan Demo Client debug log snapshot). 
  
Please verify if the ports are open, here 5784 is being used and if lwm2m-agent is running and healthy."
Defect,CSOIOT-4949,"Issues with core nodes in nifprd environment, request for rolling restart",Nordex SE 7515195,689,Closed,"Lee, Lionel","Lundsten, Alf",11/14/22 7:42,Customer,5/13/23 6:00,,,1-Critical,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _________________ Domain __________________ Version __________________ 
Edge instance: _______________ Version: _______________ 
Managed services instance: _________________ Version: _______________ 
System Usage (Choose one of: Production / Test / Development): ____________ 
Time Zone: _______________ 

*Affected tenant* 

Tenant: nifprod (nif-slam-core06 node) 
Enterprise Tenant? Yes / No 
System accessible by R&D? Yes / No 
UserID _______________ Password _______________ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Time period error was observed:* 
* Since 24 hours ago 
* Repeatability? Intermittent, refer to attached screenshot 
* Frequency - Refer to attached screenshot 

*Steps to reproduce* 
# - 

*Attach log files...* 

*Description of the Problem:* Customer noticed random slowdown, issues with some requests and violations of SLA. It seems that the most issues are related to core node06. Customer request rolling restart of all the core nodes. 
Issues seems to have started more than 24h ago (refer to attached screenshot) and it is impacting end users more and more and might block the production environment before end of the weekend."
Defect,CSOIOT-4944,Deletion of suspended tenant,itCampus 3270000,691,Closed,"Schon, Gregor","Pham, Hoang",11/14/22 7:45,Customer,5/14/23 6:03,,,3-Medium,None,"Please delete the following tenant as requested by Stefan Veit: 

*t747108701      | lmt-trainings.eu-latest.cumulocity.com* 
|[SoftwareAG|http://localhost:8111/apps/administration/index.html#/tenants/t747108701]|*t747108701*|lmt-trainings.{*}eu-latest.cumulocity.com{*}|gcssandbox| |26 Oct 2021, 08:34:36| 

I tried to delete the tenant  but got  ""Access denied""  

 Reason: Tenant management: ADMIN is not included in my role ""c8y-global-support-restricted-admins"" on eu-latest. 

 "
Defect,CSOIOT-4938,SSO Error - need Ops support with server access to cumulocity.com,Software AG for Information Technology 3184000,693,Closed,"Herzog, Christian","Simeonova, Rumyana",11/14/22 10:26,Customer,5/14/23 6:03,,,3-Medium,None,"We are facing an issue with SSO. 
Tenant [https://mod2.cumulocity.com/]  
R&D can see right now: 
* Communication between the browser and SSO auth server is working correctly 
* Auth code is correctly retrieved from SSO auth server 
* Calling {{url}} /tenant/oauth?code= from browser client leads to a 400 response 
* no Audit logs SSO events shown 

That indicates that there is a communication issue between the Cumulocity Platform server and the SSO auth server. For further investigation we need a test session with the customer, a colleague from Operations and me where we can check the communication. I will organize the session 

Test steps: 

1) Open your browser (customer) 
2) open the developer tools with F12 (customer) 
3) Try to login via your UI until the error appears (customer) 
4) find in the browser developer tools the request [GET <URL>/tenant/oauth?code=|https://hald0502.brose.net/tenant/oauth?code=]<code> (customer) 
7) copy the <code> (customer) 
8) perform the following request from the Cumulocity platform server to the SSO auth server (operations) 
<code> below is replaced by the code from step 7. 

curl --location --request POST '[https://mod2.cumulocity.com/]tenant/oauth' \ 
--header 'Content-Type: application/x-www-form-urlencoded' \ 
--data-urlencode 'grant_type=authorization_code' \ 
--data-urlencode 'code=<code>' \  
--data-urlencode 'redirect_uri=[https://mod2.cumulocity.com/]tenant/oauth'\ 
--data-urlencode 'client_id=<SoftwareAG>' \ 
--data-urlencode 'client_secret=<client secret>' 

9) record the response (e.g. with error status code) for further analysis (operations) 
As the code is about 1 minute valid, I will organize a remote session where we can do all these steps. 
  
Available time slot from customer and me: 
Friday 11:00am to 4:00pm your time 
I think we need 15 minutes. 

Then I invite you and the customer to the remote session by Teams."
Defect,CSOIOT-4934,Scheduled Upgrade for Prod Cumulocity Instance to 10.13,Boston Scientific Corporation 8104616,694,Closed,"Eha, Allan","Lisik, Milosz (External)",11/18/22 8:43,Customer,6/21/24 0:08,,,3-Medium,3-Medium,"Customer has requested that their instance needs to be upgraded. 

Casen Sigel 
[Casen.Sigel@bsci.com|mailto:Casen.Sigel@bsci.com] 

  
I would like to get it on schedule for our prod instances of Cumulocity to be upgraded to 10.13 

The options for dates are: 

Monday, January 9th 2023 

Tuesday, January 10th 2023 

Wednesday, January 11th 2023"
Defect,CSOIOT-4933,CLONE - Failed to extract certificate chain from PKCS12,DAC System SA 7520476,694,Closed,"Akin, Oezge","Simeonova, Rumyana",11/11/22 11:25,Customer,11/11/22 11:25,,,1-Critical,None,"Hi R&D, 

DAC has an issue with activating a certificate for a custom domain name. 

When thay are trying to set up a custom domain name for their tenants following [this|https://cumulocity.com/guides/users-guide/enterprise-tenant/#domain-name], they  

When they try to upload the cert they get: 
{noformat} 
{ 
""message"": ""Failed to extract certificate chain from PKCS12"", 
""error"": ""SSL Management Microservice Error"" 
}{noformat} 
They created the certificate with the following command: 
{noformat} 
openssl pkcs12 -export -out out_keystore.p12 -inkey privkey.pem -in cert.pem -certfile chain.pem{noformat}"
Defect,CSOIOT-4917,LWM2M appears to be down or having issues on eu-latest instance.,"Itron, Inc. 7518541",695,Closed,"Talbert, Kent","Saaban, Asshad",11/10/22 8:43,Customer,5/16/23 6:03,,,2-High,None,"eu-latest instance 

  

Unable view lwm2m bootstrap info in the UI, use the UI to register more LwM2M devices, use shell or command UIs to interact with devices, etc. 

  

Can you check to see if there are issues with lwm2m on eu-latest?"
Defect,CSOIOT-4915,"Delete suspended tenant on cumulocity,com",Kemin Europa 7517950,695,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",11/8/22 8:49,Customer,5/8/23 6:02,,,3-Medium,None,"Please delete subtenant t309158381 (kana-us) on cumulocity.com.  

FYI, It has been suspended for 4 months and hasn't been deleted yet."
Defect,CSOIOT-4914,Need logs of custom microservice on uroph-sandbox.iotnonprod.bsci.com,Boston Scientific Corporation 8104616,695,Closed,"Talbert, Kent","Pham, Hoang",11/8/22 16:37,Customer,5/16/23 6:03,,,2-High,None,"Tenant is:  uroph-sandbox.iotnonprod.bsci.com 

Please share the heap dump and other logs for the custom microservice named File-Transfer-Service. 

Please include the heap dump located here: /var/log/file-transfer-service/heap-dump-<pid>.hprof 

  
h4."
Defect,CSOIOT-4910,Alarm is not registered on Alarms page and email for alarm is received but delayed,Telstra Corporation Limited 7514912,696,Closed,"Reddy, Yerpula Bharath Bhushan","Radzali, Basyar",11/9/22 11:30,Customer,5/29/23 6:03,,,2-High,None,"Env: Production 
Customer tenancy: yvw.iot.telstra.com 

Issue description: 
Customer (YVW) has raised a concern that alarms on their devices for low water pressure are not registered on Alarms page and interestingly they are receiving email but with quite delay, however this email comes through just once for initial threshold exceed and not for other threshold limit exceed. 

Could you please investigate this on priority. 

Emails received by the customer and further explanation of the issue is attached. 

What is needed: 
For us to investigate further, can you attach logs (Access, error and CEP logs) that includes log statements for 1st Nov and 2nd Nov (AEST)? 

"
Defect,CSOIOT-4896,Database backup,CompAir Drucklufttechnik 7515080,699,Closed,"Neale, Robert","Vukman, Tomislav",11/18/22 8:45,Customer,3/21/23 9:31,15-Nov-22,,3-Medium,3-Medium,"Customer needs backup copy of database. 

  

Same request as [https://itrac.eur.ad.sag/browse/CSOIOT-3834]"
Defect,CSOIOT-4895,Delete suspended subtenants,Eppendorf SE 7517606,699,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",11/4/22 10:30,Customer,5/11/23 6:02,,,3-Medium,3-Medium,"Throughout the last months we created many subtenants for testing purposes, which we would like to cleanup now. This affects subtenants in three different management tenants, all in the {*}EMEA environment{*}. 

*All of these have been suspended already, so you use the disabled/suspended status as a cross-check.* 

Eppendorf Staging 
* t121077691 - Essentials-2022-08-29 
* t124852020 - first-admin-reject 
* t110120064 - IVS1 
* t121089353 - SampleSafetyPlus-2022-08-29 
* t72631291 - Staging Sample Safety Plus 
* t85894915 - test v3.4.0 essentials 
* t85895419 - test v3.4.0 ssp 
* t101936022 - TestTenant_01072022 
* t101936561 - TestTenant_01072022 
* t101956039 - TestTenant_04072022 
* t119873780 - tm-finalized 
* t119873849 - tm-finalized2 
* t116264964 - v3.5.0-pre-verification 
* t133045141 - v3.5.1-essentials 
* t133049658 - v351-ssp 
* t114799609 - Test 
* t70577829 - Staging Essentials 

Eppendorf Beta 
* t111822192 - IVS1 
* t143428505 - test-c8y-10-14 
* t133873154 - v351-beta-essentials 
* t133897904 - v351-beta-ssp 
* t104873771 - rollout-sso-test 
* t114507514 - Test 
* t114510616 - Test 
* t114510922 - Test 
* t114905175 - tag 15.2 v1 
* t114860670 - tag 15.1 v2 

Eppendorf Production 
* t119532525 - ssotest 
* t119811738 - ssotest2 
* t119808049 - Ssotest2 
* t119848107 - ssotest3 
* t119531866 - for testing 
* t122267931 - v350-essentials-test 
* t122268270 - v350-ssp-test 
* t133880564 - v351-essentials-third 
* t122260578 - v350-tenant-test 
* t133864693 - v351-essentials 
* t133868469 - v351-essentials-second 
* t119432738 - please-delete 
* t119448460 - please-delete"
Defect,CSOIOT-4888,Certificate updating without success,SMITEC SpA 7516698,700,Closed,"Eha, Allan","Abdul Majid, Mohd Shahmi",11/10/22 8:45,Customer,6/21/24 0:13,,,3-Medium,2-High,"Customer is getting an error ""connection not private NET::ERR_CERT_COMMON_NAME_INVALID"" 
They have insert the new certificate and the checks all look good.  However when testing the  
[https://www.sslshopper.com/ssl-checker.html#hostname=management.smyiot.com] 

management.smyiot.com 

You get back the standard cumulocity cert: 

Common name: *.cumulocity.com 
SANs: *.cumulocity.com, cumulocity.com 
Organization: Cumulocity GmbH 
Location: Düsseldorf, Nordrhein-Westfalen, DE 
Valid from June 6, 2022 to July 8, 2023 
Serial Number: 81bfb1ab1307cf89 
Signature Algorithm: sha256WithRSAEncryption 
Issuer: Go Daddy Secure Certificate Authority - G2 

  

!20221102-SMYIOT.jpg|thumbnail! 

 "
Defect,CSOIOT-4881,Dremio UI link is incorrect.,"HILL-ROM Holdings, Inc. 7517970",701,Closed,"Talbert, Kent","Simeonova, Rumyana",11/2/22 7:06,Customer,5/1/23 6:01,,,2-High,None,"Hillrom production instance. 

In DataHub the DremioUI link is going to [https://datahub.stagingiot.hillrom.com|https://datahub.stagingiot.hillrom.com/] which is invalid. 

It should be [https://datahub.iot.hillrom.com.|https://datahub.iot.hillrom.com./]"
Defect,CSOIOT-4876,CLONE - TfaSms logging missing from c8y core logs,Telstra Corporation Limited 7514912,701,Closed,"Bhargava, Neha","Lundsten, Alf",11/7/22 7:22,Customer,11/7/22 7:22,,,3-Medium,None,"Hi Team, Telstra reported this issue related to missing TfaSms logging from c8y core logs. 
They have already discussed this with OPs but there is not much Ops can do in this case (attached also an email conversation). 

Sharing customer's description of the issue: 
While investigating the SMS Gateway issues today, we noticed “TfaSmsServiceImpl” related logs have stopped in the telstra-production-new-core0* cumulocity logs. 

This is the last log entry, which was on the 7^th^ Sep. I can only assume this was impacted by the Upgrade. 

{code:java} 
2022-09-07 12:33:02[tp2134663758-976] - georgesriver/internal_call | TfaSmsServiceImpl | 93 - com.nsn.cumulocity.platform-services.sms.service - 1010.0.24 | INFO Will send TFA sms request to sms agent using telstra, request: SendMessageRequest [senderAddress=tel:+61418368753, address=[tel:+61437448134], message=TextMessage [text=Verification Code: 682739], senderName=Telstra IoT, receiptRequest=com.cumulocity.model.sms.ReceiptRequest@3c1, clientCorrelator=null, deviceId=null] 
{code} 

Can you please investigate and advise if the logging can be restored?"
Defect,CSOIOT-4872,Change subtenant domain on cumulocity.com,Utonomy Ltd 7516334,702,Closed,"Talbert, Kent","Vukman, Tomislav",11/1/22 14:07,Customer,5/1/23 6:01,,,3-Medium,None,"cumulocity.com instance. 

  

Customer would like to change the domain for subtenant (t214158572) from: 

[utonomytest.utcloud.uk|http://utonomytest.utcloud.uk/] 

to: 

[utytest.utcloud.uk|http://utytest.utcloud.uk/]"
Defect,CSOIOT-4859,'SBD Production request report' source email,Stanley Black and Decker 7513816,706,Closed,"Bhatt, Vikas","Makowski, Pawel (External)",10/27/22 16:13,Customer,5/1/23 6:01,,,3-Medium,3-Medium,"*Affected system* 

Environment: sbdconnect.io 

*Description of the Problem:* 

Customer has got an email with subject 'SBD Production request report' from 'no-reply@cumulocity.com'. They wanna know where this email is originating from?  The source email is cumulocity.com, which is different than their root domain (sbdconnect.io). 


{code:java} 
-----Original Message----- 
From: no-reply@cumulocity.com <no-reply@cumulocity.com> 
Sent: Saturday, October 15, 2022 5:00 PM 
To: zz_CRP_uiot-prod <uiot-prod@sbdinc.com> 
Subject: SBD Poduction request report 

< ***CAUTION: EXTERNAL MESSAGE*** > 



================================================================================================ 
Name: Request Statistics Report 
Date: Sat Oct 15 09:00:01 UTC 2022 
Report Date: 20221014 
Hostname: jumphost-virginia 
PWD: /root 
Script Path: /opt/scripts 
Command: /opt/scripts/https://urldefense.com/v3/__http://nginx-req-stats_prod.sh__;!!JCruJraw!Ps_vND20ZPflhKiiIpewxqKKew3OJUswApKk8zc_BXuqNMTWSvfyv-8Sn0xRbFywJcpqfO52uzdSDTmPhLPpaA$ 
Excluded Requests: (GET / |/cep/realtime) Nginx Access Log: /opt/scripts/temp_prod/lb1_access.log-20221013_16 /opt/scripts/temp_prod/lb2_access.log-20221013_16 
Log File: /opt/scripts/nginx-req-stats_prod.log 
Output File: /opt/scripts/output/nginx-req-stats_prod-report-20221014.txt 
================================================================================================ 



------------------------------ 
| Top most expensive request | 
------------------------------ 




------------------------- 
| Ranked by User Agents | 
------------------------- 




-------------------------- 
| Ranked by IP Addresses | 
-------------------------- 




----------------------- 
| Count Unique Visits | 
----------------------- 

0 



---------------------------- 
| Ranked by Response Codes | 
---------------------------- 




--------------------------------------------- 
| Ranked by Response Code - 404 (Not Found) | 
--------------------------------------------- 




----------------------------------------------- 
| Ranked by Response Code - 502 (Bad Gateway) | 
----------------------------------------------- 




----------------------- 
| Most requested URLs | 
----------------------- 

{code} 


*Any idea from where this email is generated? and how can we disable it?*"
Defect,CSOIOT-4855,Telstra- Issue with SMS Gateway?,Telstra Corporation Limited 7514912,708,Closed,"Talbert, Kent","Lundsten, Alf",10/27/22 8:40,Customer,10/27/22 8:40,,,1-Critical,1-Critical,"Could you please have a look and investigate the health of the SMS gateway in Prod and Dev environment? 

Since yesterday at 2022-10-25 13:07:19 we first started seeing issues whereby users were not receiving the SMS code to log into the platform. 

There was a downstream network issue which was thought to be impacting the RCS /SMS Gateway in our network, however that has since been resolved and the problem still persists. 

The team have also tested the RCS API endpoint and have successfully received SMS code which so far indicates RCS platform is fine. 

  

Given we’ve verified RCS platform health, we’ll raise a crisis incident to get this investigates ASAP as it’s impacting customer’s ability to log in. 

Interesting error regarding no more endpoints to try in the unsuccessful log below. 

  

From the sms pod, below is an example of a successful vs unsuccessful case: 

  

*Successful SMS* 

  

2022-10-25 06:49:07.054  INFO 14 — [http-nio-80-exec-3] c.s.g.c.OutgoingMessageSecuredController : Starting send SMS message from tel:+61*****{*}753 to [tel:+61{*}*****147] recipients 
2022-10-25 06:49:07.057  INFO 14 — [http-nio-80-exec-3] c.c.s.g.p.BaseProviderFactoryBean        : Return provider for option telstra 
2022-10-25 06:49:07.275  INFO 14 — [http-nio-80-exec-3] c.s.g.c.OutgoingMessageSecuredController : Successfully sent SMS message with comarch provider from tel:+61*****{*}753 to [tel:+61{*}*****147] recipients 

  

*Unsuccessful SMS* 

  

2022-10-25 13:07:19.588  WARN 14 — [http-nio-80-exec-3] .c.s.g.p.t.TelstraOutgoingMessageService : No more endpoints to try, sms won't be send 
2022-10-25 13:07:51.215  INFO 14 — [http-nio-80-exec-7] c.s.g.c.OutgoingMessageSecuredController : Starting send SMS message from tel:+61*****{*}753 to [tel:+61{*}*****921] recipients 
2022-10-25 13:07:51.215  INFO 14 — [http-nio-80-exec-7] c.c.s.g.p.BaseProviderFactoryBean        : Return provider for option telstra 
2022-10-25 13:07:51.241  WARN 14 — [http-nio-80-exec-7] .c.s.g.p.t.TelstraOutgoingMessageService : Error while invoking Telstra SMS service for endpoint [https://free.rcs.telstra.com/messaging/v1/sms/outbound/acr%3Acumulocity/requests] 

  

Snapshot from Garylog logs, many of these from 25^th^ Oct, 13:07 AEDT. 

!Snag_48727b6.png|thumbnail!"
Defect,CSOIOT-4851,Activation LORIOT agent,WIKA Alexander Wiegand SE & Co. KG 7520672,709,Completed,"Herzog, Christian","Pham, Hoang",10/27/22 8:39,Customer,4/27/23 6:02,,,3-Medium,None,"emea.cumulocity.com 
Please import ""loriot-agent microservice"" on management tenant. 
Then I can activate it for tenant [management.wika.io|http://management.wika.io/] and subtenants. 
It's already authorized by sales colleague [Alexandra.Wolf@softwareag.com|mailto:Alexandra.Wolf@softwareag.com] 

My comment: 
I read [https://drive.google.com/file/d/17Q07eD4L2JN7iZgAwoSH1k8uj4pif6eL/view] but I could not find the source for the microservice."
Defect,CSOIOT-4843,Change Domain Name for Sony,Sony Semiconductor Solutions Corp. 7519751,712,Closed,"Fartode, Sumit","Luczyszyn, Mikolaj (External)",11/3/22 7:56,Customer,5/9/23 6:03,9-Nov-22,,3-Medium,3-Medium,"The customer has uploaded certificates to change the domain name for the following tenants: 

these are for followings. 

test.ss.c8y.io 
*.ce-stg.aitrios.sony-semicon.com CNAME sony-azure-amsterdam-test.westeurope.cloudapp.azure.com 

na.ss.c8y.io 
*.cu.aitrios.sony-semicon.com CNAME sony-us-east-prod.eastus.cloudapp.azure.com 

Please let me know if you need any additional details and the ETA to make the change. 

Thanks, 
-Sumit B. Fartode"
Defect,CSOIOT-4833,Request for more information about microservice restart 20-Oct-2022 0:03 UTC,Eppendorf SE 7517606,713,Closed,"Welsing, Michael","Bizhev, Ivan",10/24/22 9:01,Customer,4/20/23 6:02,,,3-Medium,3-Medium,"Hi Ops!, 

The microservice “task-reminder” on enterprise tenant “eppendorfag” on [emea.cumulocity.com|http://emea.cumulocity.com/] restartet 20-Oct-2022 00:03:17. 

Customer would like to analyse the situation and looked into the microservice’s log file. However, in log file there is a gap between 00:00:42 and 00:04:47: 
{noformat} 
2022-10-20 00:00:42.221 [notificationTaskSchedulerService-1] INFO v.s.t.s.NotificationCronSchedulerService - Cron job to create daily tasks fired 
2022-10-20 00:04:47.657 [WebSocketConnectReadThread-207] ERROR v.s.t.i.w.RealtimeWebsocketClient - [t130037689] websocket session closed unexpectedly code=1001, reason=java.util.concurrent.TimeoutException: Idle timeout expired: 60000/60000 ms, remote=true 
2022-10-20 00:04:47.670 [Thread-549] INFO v.s.t.i.w.RealtimeWebsocketClient - [t130037689] wait 5 seconds before trying to reconnect to 'ws://cumulocity:8111/notification/realtime' (retry = 1) ... 
2022-10-20 00:04:48.234 [WebSocketConnectReadThread-540] ERROR v.s.t.i.w.RealtimeWebsocketClient - [t87063369] websocket session closed unexpectedly code=1001, reason=java.util.concurrent.TimeoutException: Idle timeout expired: 60000/60000 ms, remote=true 
2022-10-20 00:04:48.237 [Thread-550] INFO v.s.t.i.w.RealtimeWebsocketClient - [t87063369] wait 5 seconds before trying to reconnect to 'ws://cumulocity:8111/notification/realtime' (retry = 1) ... 
2022-10-20 00:04:52.682 [Thread-549] INFO v.s.t.i.w.RealtimeWebsocketClient - [t130037689] reconnected successfully to 'ws://cumulocity:8111/notification/realtime' (retry = 1) 
2022-10-20 00:04:52.684 [WebSocketConnectReadThread-587] INFO v.s.t.i.w.listener.HandshakeListener - [t130037689] received successful handshake response: messageID = 7, clientID = 7kz1ov7uq5wf1dozuapt8tn7a33v, advice = null 
2022-10-20 00:04:52.687 [WebSocketConnectReadThread-587] INFO v.s.t.i.websocket.BayeuxProtocol - [t130037689] received a Bayeux connect message, send a connect message (pong) back{noformat} 
Could you please help us with this information: 
# What was the reason for the restart of the service? We don’t see one in the event list nor the log file. 
# Do you have the chance to provide the missing part of the log file between 00:00:42 and 00:04:47? 

Many thanks in advance and best regards"
Defect,CSOIOT-4805,Ops - SEW DEV FOTA issue,Telstra Corporation Limited 7514912,715,Closed,"Bhargava, Neha","Radzali, Basyar",11/9/22 13:30,Customer,11/9/22 13:30,,,2-High,None,"|Hi team, Telstra reported FOTA failure in Cumulocity, sharing incident description: 
  
SEW is trying to execute FOTA update in dev on the new SW version and the device is not downloading the update. Every time it comes to online it changes the status from pending to executing but then nothing much. I have done bit of call trace and it shows it is hitting the dev LwM2M load balancer 172.27.0.168 and does data session about 7-10sec (not big payload) and then about 10sec stays idle before got detached. It is using dev.telstra.iot APN. 
  
Could you please check at your end what platform if doing regarding this FOTA request and where might the issue be? I have attached comms which includes customer comms and also call trace from network 
  
*Device*: imei:867724031945477 
  
*Tenant*: SEWDEV 
  
Also if we want to delete already queued FOTA for another fresh request then can this be done from UI? 
  
FOTA detail on platform 
  
{ 
  
  ""creationTime"": ""2022-09-02T13:44:07.889+10:00"", 
  
  ""deviceId"": ""122779892"", 
  
  ""deviceName"": ""LwM2M Huizhong Instrumentation Co., Ltd. urn:imei:867724031945477"", 
  
  ""self"": ""[http://sewdev.iotdev.telstra.com/devicecontrol/operations/126255989]"", 
  
  ""id"": ""126255989"", 
  
  ""status"": ""EXECUTING"", 
  
  ""c8y_Firmware"": { 
  
    ""name"": ""220817V1.02.7c9_comm_hz"", 
  
    ""version"": ""220817V1.02.7c9"", 
  
    ""url"": ""[https://sewdev.iotdev.telstra.com/inventory/binaries/126181947]"" 
  
  }, 
  
  ""description"": ""Update firmware to: \\""220817V1.02.7c9_comm_hz 
"" (version: 220817V1.02.7c9)"" 
  
Please let us know if you need more information|"
Defect,CSOIOT-4799,Update request for sony to 10.13,Sony Semiconductor Solutions Corp. 7519751,716,Closed,"Neale, Robert","Lisik, Milosz (External)",11/9/22 9:30,Customer,5/10/23 6:03,2-Nov-22,,3-Medium,3-Medium,"Sony wish to be upgraded to 10.13. 

  

What timeslots can we offer them?"
Defect,CSOIOT-4798,OPS- Device Using PSK is not communicating to IoT Production Platform,Telstra Corporation Limited 7514912,716,Closed,"Bhargava, Neha","Lundsten, Alf",10/20/22 8:13,Customer,10/20/22 8:13,,,2-High,None,"Hi Team, we received this critical issue from Telstra where their device PSK is not communicating to IoT platform. 

*Tenant:* Jemena 

*Environment*: Production 

*Device ICCID:* 89610180003169947929 

*IMEI*: urn:imei:359205106574843 

*Problem Description:* 

Jemena is trying to onboard a LwM2M device with PSK security mode. The device in question connects for around 60 seconds after a full registration but then the connection stops until the next full registration which is triggered because the device timeout. 

This is only an issue when enabling PSK security, where the same device works on the development server with PSK enabled but not the production server. 

Prod Log:2022-10-17 12:37:21.806 DEBUG 8238 — [http-nio-8068-exec-9] .c.l.a.s.r.BootstrapConfigParamsResource : Updating device bootstrap parameters for device: [7594336] with parameters [BootstrapParameters(endpoint=urn:imei:359205106574843, bootstrapId=359205106574843, bootstrapKey=359205106574843, serverUri=coaps://172.29.0.143:5684, securityMode=PSK, publicKeyOrId=mdlGWclient_1022, serverPublicKey=null, secretKey=e6a1d55a1d7f645db6f2e5f15c1b0bd3, securityInstanceOffset=null, generateBootstrapServerConfig=false, bootstrapShortServerId=0, lwm2mShortServerId=1, registrationLifeTime=86400, defaultMinimumPeriod=null, defaultMaximumPeriod=null, bindingMode=UQ, notificationStoring=null, disableTimeout=null)] host = telstra-production-new-agents2index = cumulocity-app-ssource = /var/log/lwm2m/lwm2m-agent-server.logsourcetype = exim_mainsplunk_server = pudc-spi-056.networks.in.telstra.com.au 

*Urgency*: Telstra is in a critical business phase with their end customer where they just agreed to roll out number of devices on prod as early as next week. But with this issue it is putting the roll out at risk. Would appreciate your prompt action on this please 

*More Information:* 
I have attached screenshot from dev and prod to compare 
I have attached email comms from customer for more information 
Tenant access can be organized as required 
Please let us know if you need anything and we will action it with priority"
Defect,CSOIOT-4794,Delete sub-tenants (14),Eaton Industries GmbH 7518586,717,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",10/17/22 13:30,Customer,10/17/22 16:18,,,3-Medium,3-Medium,"Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

  

Test-Delete-Tenant-Paridhi_04 - t139110280 - test-paridhi1.dbt.machinery-monitoring.com 
Test-Delete-Tenant-Paridhi_04 - t139112719 - testparidhi1.dbt.machinery-monitoring.com 
Test-Delete-Tenant-Paridhi_04 - t139116111 - pari-test-1.dbt.machinery-monitoring.com 
Test-Hrishi-tenant - t139121583 - test-hrishi.dbt.machinery-monitoring.com 
Test-Hrishi-tenant2 - t139122375 - test-hrishi2.dbt.machinery-monitoring.com 
Test-Hrishi-tenant3 - t139122763 - test-hrishi3.dbt.machinery-monitoring.com 
Test-Supriya-Tenant1 - t140011400 - plh.dbt.machinery-monitoring.com 
Test-Vijay-TENANT - t139999719 - net-ten.dbt.machinery-monitoring.com 
Test-Vijay-TENANT - t140468559 - net-domain-1.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t140003892 - net-flex-domain.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t140003898 - net-domain-flex.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t140006900 - net-domain-f.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t140011069 - net-tenant.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t140063516 - net-tenants.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t140072514 - net-domain-flexplus.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t140464069 - net.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-2 - t140003110 - net-domain.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-2 - t140063551 - net-domain-flex-ten.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-2 - t140468562 - net-domain-2.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-Retail - t140003502 - net-retail.dbt.machinery-monitoring.com 
Test-Vijay-TENANT1 - t139143018 - net-subb.dbt.machinery-monitoring.com 
Test-Vijay-TENANT1 - t139143409 - netsubb.dbt.machinery-monitoring.com"
Defect,CSOIOT-4793,"Microservice hosting not working on JP instance ""jp.cumulocity.com""",Cumulocity GmbH 3203000,717,Closed,"Bhatt, Vikas","Radzali, Basyar",10/17/22 10:54,Customer,4/16/23 6:02,,,3-Medium,3-Medium,"*Affected system* 

SAG Cloud region: Japan Instance ""jp.cumulocity.com"" 

*Description of the Problem:* 

Customer tried upload different microservices onto https://it-week.jp.cumulocity.com but it is always failing. There might be a general issue with the microservice hosting on JP instance!"
Defect,CSOIOT-4792,modify credentials for device bootstrap user,NTT Communications Corporation 7312715,717,Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,10/17/22 14:27,Customer,5/10/23 6:04,,,3-Medium,None,"This is extn from [[CSOIOT-4670] NTT: Moodifying credentials for device bootstrap user - iTrac (ad.sag)|https://itrac.eur.ad.sag/browse/CSOIOT-4670] . 

Raising new iTrac as the earlier one was closed. In the linked R&D iTrac, they mentioned ops as the contact point.  

Customer request:  

With our analysis, we found that the device bootstrap password is mentioned in the cumulocity-core-default.properties. 

However, where the password is given, there is a mention stating that the password needs to be changed only during initial platform installation (Refer screenshot). We are unable to find any documentation for the same. 

  

Please note, we did all that we can to convince customer not to change bootstrap user password. They still want to go ahead, and they are now looking for doc/steps on how to do the same. This is where R&D referred back to Ops. I understand NTT is not managed by Ops, but we should at least be able to provide documentation, from my understanding. "
Defect,CSOIOT-4787,Subtenancy Deletion Request,MIOT PTY LTD 7516856,719,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",10/20/22 16:11,Customer,4/20/23 6:02,21-Oct-22,,3-Medium,None,"Request from MIOT: 

Please may you proceed with deleting the following subtenants from the [https://miotprod.iot.telstra.com/] enterprise tenant? 

*Subtenants to delete:* 
[enware.iot.telstra.com|http://enware.iot.telstra.com/] 

[intellihub.iot.telstra.com|http://intellihub.iot.telstra.com/] 

[watercare.iot.telstra.com|http://watercare.iot.telstra.com/] 

[invisiblesystems.iot.telstra.com|http://invisiblesystems.iot.telstra.com/] 

[boc.iot.telstra.com|http://boc.iot.telstra.com/] 

I have deleted all devices on the subtenants and also suspended them."
Defect,CSOIOT-4782,Pulsar timeout causing problems on normal APIs,Sony Semiconductor Solutions Corp. 7519751,721,Closed,"Simeonova, Rumyana","Pham, Hoang",11/1/22 15:34,Customer,11/1/22 15:34,27-Oct-22,,2-High,None,"Version 10.11 

System Usage: Development 
Time Zone: Japan 

*Affected tenant* 

Tenant: dev.ss.c8y.io 
Enterprise Tenant? Yes 

*Application:* 
Pulsar 
_________________ 
* Application origin: 
Cumulocity product application 

*Steps to reproduce* 
See description 

*Description of the Problem:* 
As reported by Tobias from professional services team: 
It seems the Pulsar installation on dev.ss.c8y.io is still not really functional. It actually now causes problems on the normal data APIs like events, measurements etc. 

If you create a notification subscription with a specific filter (e.g. events of a certain type) and afterwards you create such an event that matches the filter, the request runs very long and eventually ends up in a timeout on Pulsar. 

Pulsar subscription 

POST /notification2/subscriptions HTTP/1.1 
Host: oee-showcase.dev.ss.c8y.io 
Authorization: Basic ... 
Content-Type: application/json 
Content-Length: 211 

{ 
""source"": { 
""id"": ""1217"" 
}, 
""context"": ""mo"", 
""subscription"": ""testSubscription"", 
""subscriptionFilter"": { 
""apis"": [ 
""measurements"", 
""events"" 
], 
""typeFilter"": ""mytype"" 
} 
} 
Afterwards create an event: 

POST /event/events HTTP/1.1 
Host: oee-showcase.dev.ss.c8y.io 
Authorization: Basic ... 
Content-Type: application/json 
Content-Length: 128 

{ 
""source"": { 
""id"": ""1217"" 
}, 
""text"": ""rnr1"", 
""type"": ""mytype"", 
""time"": ""2022-03-19T12:03:27.846Z"" 
} 
This call returns after 3min a 500 Server Error with the following message: 

{ 
""error"": ""general/internalError"", 
""message"": ""Failed to connect Pulsar producer Pulsar NotificationPublishService publisher pool wait time exceeded : Pulsar NotificationPublishService publisher pool wait time exceeded"", 
""info"": ""https://cumulocity.com/guides/reference/rest-implementation/#a-name-error-reporting-a-error-reporting"" 
} 
It would be good if after fixing that issue and before handing it back to the customer there is some verification that what has been installed is really functional. 

Please look into 
"
Defect,CSOIOT-4771,Delete Eaton Subtenants from EMEA instance,Eaton Industries GmbH 7518586,723,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",10/12/22 12:28,Customer,4/11/23 6:02,,,3-Medium,3-Medium,"*Affected system* 

SAG Cloud region: EMEA instance 
Enterprise Tenant Name: eatonnubisnet 

*Description of the Problem:* 

Customer has requested to delete the following eaton tenants which are the sub-tenants of 'eatonnubisnet': - 

Test-Delete-Tenant-Paridhi_04 - t139102361 - test-pari-04.dbt.machinery-monitoring.com 
Test-Paridhi-Delete-Tenant_03 - t136979680 - test-pari01.dbt.machinery-monitoring.com 
Test-Sup1-tent - t136899347 - qjy.dbt.machinery-monitoring.com 
Test-Vijay-TENANT - t138849567 - abcd.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t138852959 - net-sub.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t138852966 - net-subs.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t138853561 - net-subss.dbt.machinery-monitoring.com 
Test-Vijay-TENANT-1 - t138853614 - net-subscri.dbt.machinery-monitoring.com 
Test-sup1-tent - t136899735 - uin.dbt.machinery-monitoring.com 
my tenant - t136911527 - tenant1.dbt.machinery-monitoring.com 
test-sup-tent1 - t136903127 - ytr.dbt.machinery-monitoring.com 
test-sup-tent1 - t136978902 - swa.dbt.machinery-monitoring.com 
test-sup-tent1 - t136979292 - swy.dbt.machinery-monitoring.com 
test-sup-tent1 - t137316916 - poi.dbt.machinery-monitoring.com"
Defect,CSOIOT-4759,Datahub: Java heap space error,Stanley Black and Decker 7513816,727,Closed,"Talbert, Kent","Janus, Bartosz",10/13/22 10:14,Customer,4/11/23 6:02,,,3-Medium,None,"SBD Dev 

T ID:  t10466386 

Tenant: https://surepath-dev.sbdconnect.io 

  

While trying to create a offload operation for measurements we are receiving the following error and unable to complete the process. 

{{(com.dremio.exec.work.foreman.ForemanException) Unexpected exception during fragment initialization: java.lang.OutOfMemoryError: Java heap space}} 

  

Information from Boyan on C8y Ops chat: 

Dremio master probably needs more ram. It can be done via dremio yaml   

For example: 

[root@kubm01 bokehayov]# cat dremio-vals-15092022.yml 
USER-SUPPLIED VALUES: 
automation: 
  acceptEULA: ""true"" 
  createAdmin: ""false"" 
coordinator: 
  cpu: 4 
  memory: 16384 

  

  

 "
Defect,CSOIOT-4754,Problems Registering Queclink Device in EU Tenant,Software AG S.A. de C.V. 3157000,728,Closed,"Talbert, Kent","Pham, Hoang",10/11/22 9:44,Customer,4/5/23 6:01,,,3-Medium,None,"Unable to register queclink device on eu-latest tenant.  The device remains in Waiting for Connection state. 

  

The issue appears to be happening with the tracker agent on eu-latest.  Initially it was down and Hoang restarted it, but we were still seeing the same issue,  "
Defect,CSOIOT-4753,"Rename tenant domain from ""https://ohne-dns.emea.cumulocity.com"" to ""https://ma-iotplatform.emea.cumulocity.com""",Novatec Consulting GmbH 7504085,728,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",10/6/22 8:38,Customer,4/9/23 6:01,,,3-Medium,3-Medium,"*Affected system* 

SAG Cloud region: EMEA instance 

*Description of the Problem:* 

Could would like to rename tenant domain from https://ohne-dns.emea.cumulocity.com to https://ma-iotplatform.cumulocity.com due to their business requirement. 

Current Domain: https://ohne-dns.emea.cumulocity.com 
Tenant ID: t95542000 

New Domain: https://ma-iotplatform.emea.cumulocity.com 

They are aware about the option with defining the subtenant URL, but since everything for the upcoming fair is prepared in said parent tenant, it would be good to change that URL."
Defect,CSOIOT-4751,"Update default admin as 'dylan.peters@madisontech.com.au' for ""https://madisontechcaptis-iot.apj.cumulocity.com""",MIOT PTY LTD 7516856,728,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",10/6/22 10:22,Customer,4/9/23 6:02,,,3-Medium,3-Medium,"*Affected system* 

SAG Cloud region: APJ 
Domain: https://madisontechcaptis-iot.apj.cumulocity.com/ 
Tenant ID: t8594154 
Version: 10.13.0.260 

*Description of the Problem:* 

Customer would like to change the ownership of their tenant i.e. change the default admin of the tenant. 
Tenant: https://madisontechcaptis-iot.apj.cumulocity.com/ 
Tenant ID: t8594154 

Current admin username and email: peter.bartlett@miot.com.au 

*New Admin Email and Name*: 

Email: dylan.peters@madisontech.com.au 
Name: Dylan Peters 

The new admin user account is already created, but they want to change it in the system also. This can't be done via UI on management tenant. 

Please refer the attached screenshot."
Defect,CSOIOT-4745,PROD: Mongo CPU Utilisation has been increased 2-3 times than usual since prod upgrade,Telstra Corporation Limited 7514912,729,Closed,"Bhargava, Neha","Saaban, Asshad",11/2/22 10:27,Customer,5/2/23 6:03,,,3-Medium,None,"After production upgrade to v10.11, we have noticed an unusual increase in Mongo_CPU Utilisation. Though it has not reached the full capacity but the utilization has increased almost 2-3 times than usual since upgrade. 

Could you please take a look and let us know the reason for this significant increase? and also if any impact expected in near future?"
Defect,CSOIOT-4737,"Enable ""Messaging Service and Notifications 2.0""",Stanley Black and Decker 7513816,730,Closed,"Fartode, Sumit","Makowski, Pawel (External)",10/18/22 9:24,Customer,10/25/22 15:29,13-Oct-22,,3-Medium,3-Medium,"The customer wants to install Notifications 2.0 in the dev environment. 

The documentation mentions that Notifications 2.0 needs to be enabled in the platform as it depends on the new Messaging Service that currently is optional. Please install the messaging service in the SBD dev environment. 

https://ngbr-dev.sbdconnect.io"
Defect,CSOIOT-4714,Delete Eaton Subtenant from EMEA instance,Eaton Industries GmbH 7518586,731,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",10/3/22 14:17,Customer,4/2/23 6:01,,,3-Medium,3-Medium,"*Affected system* 

SAG Cloud region: EMEA instance 
Enterprise Tenant Name: eatonnubisnet 
Enterprise Tenant URL: https://management.dashboard.nubisnet.net/ 

*Description of the Problem*: 

Customer has requested to delete the following eaton tenant which is the sub-tenant of 'eatonnubisnet': - 

• *Test-Sup-tent1 - t133833316 - qws.dbt.machinery-monitoring.com*"
Defect,CSOIOT-4713,Getting bad gateway error when accessing Hillrom Prod environment,"HILL-ROM Holdings, Inc. 7517970",733,Closed,"Eha, Allan","Simeonova, Rumyana",10/11/22 9:39,Customer,6/21/24 0:17,,,2-High,2-High,"I have been asked by Vinod to open an iTrac: 

*Vinod Sundaramoorthy* 

Professional Services Director 



All I know is that the customer is getting a bad gateway error."
Defect,CSOIOT-4691,CLONE - [Utonomy] Notifications 2.0 WebSocket Error on Prod Tenants,Utonomy Ltd 7516334,734,Closed,"Jayashankar, Yeshwanth Kumar","Fuso, Luca",10/14/22 10:32,Customer,10/14/22 10:32,,,3-Medium,3-Medium,"*Affected system* 

SAG Cloud region: PROD 
Version: 10.13 

*Description of the Problem:* 

The Notifications 2.0 API has been enabled on the [cumulocity.com|http://cumulocity.com] prod tenants since 20th September, but we are having some trouble connecting a WebSocket using code that works on the eu-latest tenant. 

Attached is a script that we use to replicate the problem. This uses the following dependencies: 

{noformat}""@c8y/client"": ""1013.141.0"", 
""dotenv"": ""16.0.0"", 
""ws"": ""8.5.0""{noformat} 

Below is the output when connecting to {{utonomy.eu-latest}}. The client’s connect handler is called and it is ready to receive notifications. 

{noformat}Connecting to wss://utonomy.eu-latest.cumulocity.com/notification2/consumer/?token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJUZXN0U3Vic2NyaWJlciIsInRvcGljIjoidDIzODg4NTA5L3JlbG5vdGlmL0FuckV2ZW50U3Vic2NyaXB0aW9uIiwianRpIjoiNmRmMDQ0ODMtZGE0OS00NmY2LThiN2EtNjYwYjhkMjI4ZDUzIiwiaWF0IjoxNjYzOTQ0NTExLCJleHAiOjE2NjQwMzA5MTF9.pjFokSko13_iRD0hlw92EG4ec0NtjvEyJWSybMJACQntKZTp6bVsCMry40LL27M7QpOuBX3GD5nexSwio66MO4-DQDpvrMMWeD7BjIkVb7NDb3Tpfoe_T8GCW4TDnMHGquAQP1k1bn_znw_KZh3dr5NI6qVODs464_oqdkkN93J9FLh993iYcLrcs14_XzNCfPO9G2WrCUgbp6KAT_X7keWNXHu5Cp5bfxfrzK7cLLjPWtl_4oBGSXonun6hCzLBhhySehDp4NhqOul0QRZ_asIQj7TFpyLVCM4RVgiuz4TJYvKA_e7ihZAI_RaV75GGNn9eqLx_Jl2PufIjrYeRlg 
Start time is Fri Sep 23 2022 15:48:31 GMT+0100 (British Summer Time) 
connected{noformat} 

Below is the output when connecting to {{utonomydev}}. Note that the {{connect}} handler does not appear to be called, then after 30 seconds the {{error}} handler is called, followed by the {{disconnect}} handler. 

{noformat}Connecting to wss://utonomydev.utcloud.uk/notification2/consumer/?token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJUZXN0U3Vic2NyaWJlciIsInRvcGljIjoidDc3ODUwNjE3L3JlbG5vdGlmL0FuckV2ZW50U3Vic2NyaXB0aW9uIiwianRpIjoiMTkyZmU2MTItZmIzMy00MTdiLThmY2UtYTA3Y2M1OWRjYjM4IiwiaWF0IjoxNjYzOTQ0NDM0LCJleHAiOjE2NjQwMzA4MzR9.WvYps-t30k1Cj84M6iOPNVwVoN7NOf4NdHrwN8gWkGlyzIRgImCU9p0lDi1hMSZMWlahNSCobv6wu8hUfKLnsJzLoLI8wpoiKny4qCeIKmG367_N523xQUy5VVwCyezsjE4cyk6_m-5e2F1j9YJxu2SM7H9ujNQTOafFmzQ391zmpxLELdua7sB3oDyubnyVqrkuRkdyuVL4jxyw5cS4kkK_EaKYeUBSJLhjVCN7n_sceFWLZ_HUa8VCH1g57eb8qHRoEhgZlIPvPrPgzfyYJrte_PKiXl5-e06Y7N4_J6xqtiRpt1THJ5v-EtBb4LweHVOzM4ywjro8xe8k96rGbw 
Start time is Fri Sep 23 2022 15:47:13 GMT+0100 (British Summer Time) 
End time is Fri Sep 23 2022 15:47:43 GMT+0100 (British Summer Time) 
Got an error after 30.136 seconds 
Error: Unexpected server response: 500 
at ClientRequest.<anonymous> (/home/martin/repos/ut.c8y.automatic-network-response/engine/node_modules/ws/lib/websocket.js:852:7) 
at ClientRequest.emit (events.js:314:20) 
at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:640:27) 
at HTTPParser.parserOnHeadersComplete (_http_common.js:126:17) 
at TLSSocket.socketOnData (_http_client.js:509:22) 
at TLSSocket.emit (events.js:314:20) 
at addChunk (_stream_readable.js:307:12) 
at readableAddChunk (_stream_readable.js:282:9) 
at TLSSocket.Readable.push (_stream_readable.js:221:10) 
at TLSWrap.onStreamRead (internal/stream_base_commons.js:188:23) 
disconnected 
reconnecting... 
Connecting to wss://utonomydev.utcloud.uk/notification2/consumer/?token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJUZXN0U3Vic2NyaWJlciIsInRvcGljIjoidDc3ODUwNjE3L3JlbG5vdGlmL0FuckV2ZW50U3Vic2NyaXB0aW9uIiwianRpIjoiZTIxYTU5NjktMjgyNS00MDBjLWI5NTUtNmEzYmY2MzU1Y2NlIiwiaWF0IjoxNjYzOTQ0NDY0LCJleHAiOjE2NjQwMzA4NjR9.O3gP7N-SNz_9ZoTXAfLTEFViL79uxhdNJxd5wHOBoxGLIs3_0b9htZ5vZvvggH9WQo_7jEffl_gTMLFvnr5nd53RiHOA7RFNI9BKRhfKJwkwf6ELeB3Ai0a_eFQndpAdMF8y4Af2bWPEd0IhTeyFAI5sr4EX-9vn0rX8YENfz8oOVrQiw3h95WN7vgbkcKjIhhf63I56fr3ip1VcBtMeMaUfAQANWPtlfxYQGyZ4HSzQQlj8gvGrj_0sXEtFRR2QqOqwH-3g3gAA0B2vLTSJUF2W-QnRGUet_Az9Xn3u62Cw8IChVR6TWSuOM9GvMioT2t58Ki2ZhjZ3JSej8J_rFw 
Start time is Fri Sep 23 2022 15:47:44 GMT+0100 (British Summer Time){noformat} 

The subscriptions have been setup beforehand with the subscription name {{AnrEventSubscription}}. 
"
Defect,CSOIOT-4688,Delete sub-tenants,Eaton Industries GmbH 7518586,735,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",9/30/22 12:34,Customer,4/2/23 6:01,,,3-Medium,None,"Please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

Customer is aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

  
* Eaton (CCOE Security testing 2) - t121812467 - [eaton-sec2.dbt.machinery-monitoring.com|http://eaton-sec2.dbt.machinery-monitoring.com/] 
* Eaton (CCOE Security testing 3) - t121812473 - [eaton-sec3.dbt.machinery-monitoring.com|http://eaton-sec3.dbt.machinery-monitoring.com/] 

Thanks, 

Kent"
Defect,CSOIOT-4685,Tenancy DELETE,MIOT PTY LTD 7516856,736,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",10/5/22 9:34,Customer,4/9/23 6:02,,,3-Medium,None,"Request from MIOT: 

Please delete the “celcom.iot.telstra.com” sub-tenant from https://miotprod.iot.telstra.com/ 

Please note this sub-tenant has already been suspended. 

"
Defect,CSOIOT-4684,Data Retention Not Working,DAC System SA 7520476,736,Closed,"Neale, Robert","Bieniak, Arkadiusz",9/29/22 10:52,Customer,3/29/23 6:02,29-Sep-22,,3-Medium,3-Medium,"Customer has asked for all events older than 1 day to be deleted from  [dac-testing.cumulocity.com|http://dac-testing.cumulocity.com/]. 

  

id: t1358926305 

  

Reason - he has set a retention rule for events for 1 day but there are over 300,000 qualifying events and we suspect it is timing out."
Defect,CSOIOT-4680,Delete sub-tenants on EMEA instance.,Eaton Industries GmbH 7518586,737,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",9/27/22 11:19,Customer,3/28/23 6:02,,,3-Medium,None,"Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Customer is aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 
* Test-Delete-Tenant-Paridhi_2 - t129480962 - test-pari2.dbt.machinery-monitoring.com 
* Test-Supriya-Tenant1 - t124923909 - ghb.dbt.machinery-monitoring.com 

Thanks, 

Kent"
Defect,CSOIOT-4676,Core node rolling restart might be required,Nordex SE 7515195,737,Closed,"Schon, Gregor","Luczyszyn, Mikolaj (External)",9/26/22 14:41,Customer,3/27/23 6:01,,,2-High,None,"*Affected system* 

*Nordex PROD environment.*  

Screenshot sent by customer shows  a 500 ms maximum as SLA which is exceeded by some cores. 
(nordex_prod_sla_violations_20220926 .png) 

Environment is marked as ""Managed by Cumulocity Cloud Operations team - Active"" 

*Time period error was observed:*  *Last night (25-26.09)*  

Reporte described: 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

Last night (25-26.09) we have noticed several short SLA violations on Nordex PROD environment. According to our experience it might suggest that we are getting more and more fullGCs in several core nodes that might lead to more severe issues. The best solution would be to update to the newest hotfix for 10.9, but we are still not ready for that. 

At the same time Arkadiusz Bieniak from SAG DevOps is not available (internal SAG meeting in DE) so I am asking for preventive action (rolling core node restart) through the ticket. 

You can start at any moment, usually end users are not affected hard during such operation. 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

 "
Defect,CSOIOT-4672,mqtt connection problems on EU-LATEST,Eppendorf SE 7517606,740,Closed,"Schon, Gregor","Saaban, Asshad",10/14/22 10:29,Customer,4/13/23 6:02,,support_question,3-Medium,3-Medium,"Ticket create as disscussed with Alf in OPs chat{*}{{*}} 

*iTrac information*  

Tenant on eu-latest. 
** *subtenant* *t145670702     Version* {*}10.14.0.143{*}{*}{{*}}{*}{{*}} 

*Description of the Problem:* 

Since at least two days (2022-09-20), we experience problems with device registration and stability of mqtt on the EU-LATEST platform. 

We had multiple cases, where devices, after a few hours, or even immediately *after registration received an mqtt code 4 or 5 (unauthorized). Unfortunately this code is interpreted as “deregistration” request by our devices.* 

I know that EU-LATEST is a development environment, but want to avoid that such problems might occur in EMEA as well, because it would have major impact to us, if it would happen in EMEA as well. 

*Are you aware of mqtt issues and is this a temporary problem?* 

*I have a few example cases for subtenant* {*}t145670702{*}{*}{{*}} 

Device *6731KI216733* received MQTT response '4 failed auth' or '5 not authorized' multiple times. Each time I renewed the credentials when I was aware. 
* 2022-09-21 14:39:56.370 
* 2022-09-22 10:10:35.505 
* 2022-09-22 12:04:35.510 (this time immediately after it processed the registration request) 

Device *1006HJ900220* 
* 2022-09-22T14:12:45.732Z device connected and immediately disconnected 
* 2022-09-22T14:13:01.726Z Automatic retry, same effect 
* 2022-09-22T14:13:07.372Z Retry, this time the device received must have received code 4/5, because it assumed being deregistered 
* 2022-09-22T14:36:25.913Z I re-registered the device, but it immediately got deregistered again due to code 4/5 
* 2022-09-22T14:38:23.108Z re-registered the device. This time it stayed registered 

Enterprise Tenant? No 
*Issue associated device, application and/or microservice* 

*Protocol used?* 
* MQTT  

*Time period error was observed:* 
* Start: 20. Sept "
Defect,CSOIOT-4671,Configuration for email relay service,"Micro Technology Co., Ltd. 7515608",740,Closed,"Reddy, Yerpula Bharath Bhushan","Hou, Jiabin",10/21/22 7:24,Customer,4/20/23 6:02,13-Oct-22,,3-Medium,None,"Micro Technologies raised below issue: 

We have an inquiry on configuration for email relay service. Currently, we set email relay service as the attached file “current_setting_old_bodenexam.png”. However, in the new environment (jp.cumulocity.com), we cannot set email relay service because system does not accept no password in configuration, as the attached file “cannot_setting_wo_password_new_bodenexam.png”. Can you make the new environment possible to set email relay service without username and password? 

Can you assist here? 
"
Defect,CSOIOT-4670,NTT: Moodifying credentials for device bootstrap user,NTT Communications Corporation 7312715,740,Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,9/23/22 15:08,Customer,5/10/23 6:04,,,3-Medium,None,"This request came from MS team. 

Details: 
Description : Customer wants to change the device bootstrap user password . 

With our analysis , we found that the device bootstrap password is mentioned in the cumulocity-core-default.properties. 

However , where the password is given, there is a mention stating that the password needs to be changed only during initial platform installation (Refer screenshot). We are unable to find any documentation for the same. Thereby , need your suggestions to analyze the risk potential associated with changing the password and the required steps to perform the change. 

Please note customer is on 10.6.6 







"
Defect,CSOIOT-4651,Can't create notifications token,Software AG (UK) Limited 3109000,743,Closed,"Neale, Robert","Korolev, Ivan",9/22/22 11:34,Customer,3/22/23 5:02,,,2-High,2-High,"On c8y prod and Sony Dev environment. 
{noformat} 
POST /notification2/token HTTP/1.1 
Host: oee-showcase.dev.ss.c8y.io 
Authorization: Basic ... 
Content-Type: application/json 
Content-Length: 100 

{ 
""subscriber"": ""testSubscriber"", 
""subscription"": ""testSubscription"", 
""expiresInMinutes"": 90 
}{noformat} 
Response 500 Server Error 
{noformat} 
{ 
""error"": ""general/internalError"", 
""message"": ""Could not create token : /c8y-relnotif-secret/privatekey.pem"", 
""info"": ""https://cumulocity.com/guides/reference/rest-implementation/#a-name-error-reporting-a-error-reporting"" 
}{noformat}"
Defect,CSOIOT-4650,Request to delete a Tenant,Software AG 3101000,743,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",9/22/22 8:48,Customer,3/26/23 6:02,,,3-Medium,None,"Need 2 tenants deleted on eu-latest: 

  

t324210830  - https://hametenant.eu-latest.cumulocity.com 

t110095553  - [https://marhtenant.eu-latest.cumulocity.com|https://marhtenant.eu-latest.cumulocity.com/] 

  

Let me know if you need more info. 

  

Thanks, 

Kent"
Defect,CSOIOT-4647,CLONE - Prod: CBOR decoder failed to decode data and duplication issue,Telstra Corporation Limited 7514912,743,Closed,"Reddy, Yerpula Bharath Bhushan","Lekarov, Grigor",10/3/22 9:45,Customer,10/3/22 9:45,,,1-Critical,None,"Hi, 

based on the situation with Telstra I just push this through to you. 
---- 
Customer has reached out with concerns on interval data decode issue where some of the device data found to be not decoded. Please note, the issue is observed in multiple tenancies as confirmed by the customer, some of which are UW, MidCoast and EGW tenancies. 

In addition to above, data duplication issue observed where customers when pulling the data through APIs and exporting, it shows duplicate data. 

Please find attached email comm from customer with more details including screenshots of the issues. 

Could you please take a look into both issues on priority and share your findings. 

Thanks, 

Mohammed 

----------------------------- 

Cheers 

Michael"
Defect,CSOIOT-4637,Delete Eaton Tenants from EMEA instance,Eaton Industries GmbH 7518586,745,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",9/22/22 9:28,Customer,3/22/23 5:02,,,3-Medium,3-Medium,"*Affected system* 

SAG Cloud region: EMEA instance 
Enterprise Tenant Name: eatonnubisnet 
Enterprise Tenant URL: https://management.dashboard.nubisnet.net/ 

*Description of the Problem:* 

Customer has requested to delete the following eaton tenants which are sub-tenants of 'eatonnubisnet' : 

Test-Delete-Tenant-Paridhi t124452340 
Test-Delete-Tenant-Paridhi2 t124460422 
Test-Delete-Tenant-Paridhi3 t124464479 
Test-Delete-Tenant-Paridhi4 t124532974 
Test-Delete-Tenant-Paridhi5 t124532977 
Test-Delete-Tenant-Paridhi6 t124533321 
Test-Delete-Tenant-Paridhi_1 t128283555 
Test-Supriya-Tenant1 t124884348 
Test-Supriya-tent1 t124521773 
Test-Vinayak-Tenant t124452337 
test-vinayak-del-subs-tenant t124460419 
test-vinayak-del-subscription t124464473 
test-vinayk2-tenant t124464476 
test-vinaytak2-del-sub t124460777"
Defect,CSOIOT-4628,Customer MIoT receiving alarms on APJ after upgrade on Sep 15,MIoT,747,Closed,"Cammert, Michael","Abdul Majid, Mohd Shahmi",10/17/22 9:30,Customer,10/17/22 9:30,,,3-Medium,2-High,"Short description: 
* There has been an upgrade on APJ yesterday 
* Customer received outage email and alarms during upgrade 
* Emails stopped afterwards and customer thinks everything is working, but alarms continue arriving at the customer 

For more details see attached email thread. 

 "
Defect,CSOIOT-4561,Problem with Offloadings-Jobs,TROX GmbH 7516100,749,Closed,"Welsing, Michael","Janus, Bartosz",9/16/22 13:24,Customer,3/16/23 5:01,,,1-Critical,None,"Customer is  having problems with offloading at the datahub. 

Not all offloading jobs are affected. For the others, they are getting 2 different types of error messages. I have attached screenshots regarding this. 

Please ask if you need more information."
Defect,CSOIOT-4556,Telstra prod CBOR decoder Issue,Telstra Corporation Limited 7514912,750,Closed,"Bhargava, Neha","Lundsten, Alf",10/3/22 9:42,Customer,6/5/23 6:03,,,1-Critical,1-Critical,"Following up customer complaint regarding CBOR decoder didn’t work for last couple of days, we have checked telstra_cbor_alarm logs in number of tenant and noticed no activity log since 11/09/22 6:16am AEST. I have attached an email I have sent to ops and that has some attached logs and screenshot for your information 

please let us know your finding 
--------------------------------"
Defect,CSOIOT-4543,Prod LwM2M: Increased GoBetween health check failures observed recently,Telstra Corporation Limited 7514912,751,Closed,"Bhargava, Neha","Lundsten, Alf",10/17/22 14:25,Customer,5/25/23 6:02,,,3-Medium,None,"Hi team, 

Telstra reported recently, an increased number of GoBetween health check failures on the load balancer. Attached screenshots for the failures trend in last one week and count per ip address for last 24 hours. 

Could you please take a look into it and advise us the root cause of these failures and if there is any critical impact?"
Defect,CSOIOT-4542,Dremio instance seems to be down,Mohawk International Services BV 7518646,751,Closed,"Welsing, Michael","Janus, Bartosz",9/14/22 10:22,Customer,3/21/23 5:02,,,1-Critical,None,"Hello 

dremio instace on [https://mohawk-iiot.emea.cumulocity.com|https://mohawk-iiot.emea.cumulocity.com/] is down! 
---- 
Failure in connecting to Dremio: cdjd.com.dremio.exec.rpc.RpcException: HANDSHAKE_VALIDATION : Status: UNKNOWN_FAILURE, Error Id: b64066c3-acd8-4734-aa5f-ba6f92babf34, Error message: org.rocksdb.RocksDBException: While appending to file: /opt/dremio/data/db/catalog/062227.sst: No space left on device 
HANDSHAKE_VALIDATION : Status: UNKNOWN_FAILURE, Error Id: b64066c3-acd8-4734-aa5f-ba6f92babf34, Error message: org.rocksdb.RocksDBException: While appending to file: /opt/dremio/data/db/catalog/062227.sst: No space left on device 
HANDSHAKE_VALIDATION : Status: UNKNOWN_FAILURE, Error Id: b64066c3-acd8-4734-aa5f-ba6f92babf34, Error message: org.rocksdb.RocksDBException: While appending to file: /opt/dremio/data/db/catalog/062227.sst: No space left on device 
Status: UNKNOWN_FAILURE, Error Id: b64066c3-acd8-4734-aa5f-ba6f92babf34, Error message: org.rocksdb.RocksDBException: While appending to file: /opt/dremio/data/db/catalog/062227.sst: No space left on device 
Status: UNKNOWN_FAILURE, Error Id: b64066c3-acd8-4734-aa5f-ba6f92babf34, Error message: org.rocksdb.RocksDBException: While appending to file: /opt/dremio/data/db/catalog/062227.sst: No space left on device"
Defect,CSOIOT-4541,CRISIS on CEP,"Micro Technology Co., Ltd. 7515608",751,Closed,"Welsing, Michael",Unassigned,9/22/22 10:04,Customer,3/22/23 5:02,,,1-Critical,None,"Hi, 

We have a crisis situation on CEP. This failure affects all the tenants in our platform. Could you please change the status from Critical to Crisis and fix the issue on CEP as soon as possible? 

Kind regards, 
Aki"
Defect,CSOIOT-4540,Meaning and source of communication to http://169.254.169.254.,NTT Communications Corporation 7312715,751,Closed,"Reddy, Yerpula Bharath Bhushan","Louden, Timothy",9/13/22 16:38,Customer,3/15/23 5:02,,,4-Low,None,"Hi Ops Team, 

NTT has query about a specific communication detail from Cookbook: cumulocity-backup-script. 

They see that there is a ami_snapshots_management.sh under files which is communicating to http://169.254.169.254 

This cookbook and script is present in current version 10.6.6 and also in higher versions. 

In regards the same, they have some questions: 

- What is this communication for? 
- It looks like this script is responsible for taking AMI snapshots for backup at regular intervals. Is it also applicable for On Prem customer (like NTT)? 
"
Defect,CSOIOT-4539,Real-time avent processing alarm,DAC System SA 7520476,751,Closed,"Welsing, Michael",Unassigned,9/16/22 11:41,Customer,4/4/23 6:02,,,1-Critical,None,"Hi Ops, 

DAC ([https://dac-testing.cumulocity.com|https://dac-testing.cumulocity.com=/]) has issues with their Real Time processing. Can you please urgently investigate what is going on? 

best regards 

Michael"
Defect,CSOIOT-4538,Prod Microservices Unavailable - Nodes unavailable / In Not Ready State,Telstra Corporation Limited 7514912,752,Closed,"Bhargava, Neha","Radzali, Basyar",10/3/22 9:32,Customer,3/17/23 9:42,,,1-Critical,None,"On Friday, we received reports from SEW and this morning YVW that data delivery to their headends was not working. Looking into this issue, we observed that a number of microservices stopped working on the 7th September (during our Prod Upgrade, Day 2). Within our Management and local tenancies, we have observed the following error consistently in the Alarms section: 

0/12 nodes are available: 2 Insufficient cpu, 3 node(s) had taint 

{node-role.kubernetes.io/master: } 
, that the pod didn't tolerate, 7 node(s) were unschedulable. 
Node is not ready 
Error: ImagePullBackOff 
Looking at the Cockpit Alert dashboard in Management tenancy we can see a string of these errors associated with different microservices. 

We have observed this error on a number of microservices, both C8Y managed and Telstra managed/owned, for example: 

sms-gateway 
Connectivity-agent-server 
SEW-azure-pull 
SEW-azure-push 
Tem1 
Csvgentwo 
Csvgen 
Looking at the errors across these microservices suggests there could be something occurring in the underlying kubernetes infrastructure. 

I also note that Day 2 (7th Sept) we updated karaf and restarted a number of microservices. Some of the microservices listed above were stated to be restarted in the MOP (e.g. connectivity agent microservice), however not all of them were stated in the MOP. 

Could you please investigate this with priority as we have had delays in data delivery to our customers since the 7th Sept."
Defect,CSOIOT-4537,Greenflex dev: Unable to deploy microservices,GREENFLEX 7517499,754,Closed,"Talbert, Kent","Pham, Hoang",10/11/22 9:28,Customer,4/12/23 6:03,7-Oct-22,,3-Medium,None,"Tenant Name: t1892017 

Tenant URL[:  https://rd-tenant.dev.iot.greenflex.com/|https://rd-tenant.dev.iot.greenflex.com/] 

  

Customer is facing a problem when deloying microservices to his tenant. 

No error in the UI - the upload screen remains at 100%. 

Customer is not seeing any activity that could cause overload or consume much resource on the tenant. 

Here logs from my CI: 
{noformat} 
2022-09-09 13:01:40 --> Uploading binary for application lora-codec-enless 
2022-09-09 13:01:40 An error occurred: HTTPSConnectionPool(host='rd-tenant.dev.iot.greenflex.com', port=443): Read timed out. (read timeout=60) 
2022-09-09 13:01:40 Traceback (most recent call last): 
. . . 
2022-09-09 13:01:40 socket.timeout: The read operation timed out 
{noformat} 
When uploading manually the microservice artifact, the admin hmi stays blocked and does not returns 

  

The last time this happened the Operations team restarted core1 and said that there appeared to be high load on the env at the time this was happening.   

  

Can you check the environment?"
Defect,CSOIOT-4536,CLONE - SSO URL change to tenant id,"HILL-ROM Holdings, Inc. 7517970",754,Closed,"Abdul Majid, Mohd Shahmi","Abdul Majid, Mohd Shahmi",10/28/22 11:36,Customer,11/16/22 10:47,,support_question,3-Medium,3-Medium,"  

*Description of the Problem:* 

*Version* 10.6.6 
  
Customer:  I configured Azure AD SSO and it is working. However, I noticed after clicking on SSO login button from the login page, the URL changed from [https://virtualtestlab.deviot.hillrom.com/apps/] to [https://t4167321.deviot.hillrom.com/] 

the issue is if I am on our company network, the [t4167321.deviot.hillrom.com|https://t4167321.deviot.hillrom.com/] is not recognized by our internal server. is there a way simply keep the tenant name URL unchanged? 

  

*Affected tenant* 

Tenant:  [t4167321.deviot.hillrom.com|https://t4167321.deviot.hillrom.com/] i  

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 
*   

*Protocol used?* 
* MQTT / Rest / Smart REST / Other: https 

 "
Defect,CSOIOT-4523,Change https certificate for Hilti,Hilti AG 3158,757,Closed,"Bhatt, Vikas","Abdul Majid, Mohd Shahmi",9/27/22 11:22,Customer,3/27/23 6:02,,,3-Medium,3-Medium,"Hilti has raised the request to assist them in upgrading their certificate. 

Their certificate for *.dmp.hilti.com will expire soon. They have a new certificate from new provider Sectigo and they need to install as soon as possible. 

Support told customer they can update the certificate from Administration app at below link in the tenant. 
<tenant URL>/apps/administration/index.html#/enterprise/domain_name 

However, customer says this is the first time they are doing it. Last time it was done by SoftwareAG. 

Can we organize to do it together this time, also given that we change CA and in case something goes wrong we have support to fix things for production users? 

Can we make an appointment next week to do this certificate update in their environment over a Teams Meeting call?"
Defect,CSOIOT-4521,Provide IP range list for Sony Environments.,Sony Semiconductor Solutions Corp. 7519751,757,Closed,"Fartode, Sumit","Saaban, Asshad",10/3/22 9:12,Customer,5/9/23 6:04,21-Sep-22,,3-Medium,3-Medium,"The customer is installing custom domains for the following 5 environments managed by the cumulocity ops team. 

The customer would like to introduce the firewall setting for our factory network. Could you provide an IP range list for each 5 tenant load balancers? 

https://management.jp.ss.c8y.io 
https://test.ss.c8y.io/ 
https://na.ss.c8y.io/ 
https://management.dev.ss.c8y.io 
https://eu.ss.c8y.io/ 

Another question: 

https://cumulocity.com/guides/users-guide/enterprise-tenant/#dns-requirements-for-enterprise-domains 
The customer wants to know if they should use CNAME and use VALUE like “{jp|test|na|dev|eu}.ss.c8y.io ? 
I believe the value should be *.ss.c8y.io 
Please confirm."
Defect,CSOIOT-4518,"Upgrade ""mycompany.cumulocity.com"" to the new custom domain",Syntegon Packaging Systems AG 7520592,757,Closed,"Bhatt, Vikas","Pham, Hoang",9/13/22 9:46,Customer,3/20/23 5:02,9-Sep-22,,3-Medium,3-Medium,"Customer just updated their tenant to the new custom domain as below: 

https://management.synexio.syntegon.com 

After this, old tenants are not changed to the new domain automatically. 
Ops suggested, the only way to change a tenant's domain is via API calls or by editing info in the DB. 

Customer has request that following subtenant needs to be changed to the new domain: 
• mycompany.cumulocity.com 

Because this subtenant is currently used, they would like to change it coordinated, that they can inform users before this change takes place. 

Proposal: 
• Thursday, Sep 8, 2022, 5pm CEST (Central European Summer Time) 
• Monday, Sep 12, 2022, 5pm CEST (Central European Summer Time) 

Please confirm one of the two proposals, that they can test it after change and inform users accordingly."
Defect,CSOIOT-4509,Restart Offloading for Temperature Measurement,MIOT PTY LTD 7516856,759,Closed,"Bhargava, Neha","Saaban, Asshad",9/6/22 3:58,Customer,3/7/23 5:01,,,2-High,None,"Hi Ops team, 

MIOT has raised this issue where they want our help to reset Metadata, sharing their problem description below: 
An issue was experienced on the client-side this morning for Watercare were incorrect data was inserted into the AWS S3 bucket for temperature readings. The erroneous data has since been removed, with support required from SAG to refresh the Metadata."
Defect,CSOIOT-4490,Please update iotnonprod.bsci.com to 10.13 in October,Boston Scientific Corporation 8104616,763,Closed,"Talbert, Kent","Lisik, Milosz (External)",9/13/22 16:08,Customer,3/20/23 5:03,,,3-Medium,None,"Customer would like to update their non-production environment to 10.13 in October, ideally on the 11th. 

Can we get that on the schedule, please? 

  

Let me know if you need any other information from the customer. 

  

Thanks, 

Kent"
Defect,CSOIOT-4487,Delete sub-tenants (9),Eaton Industries GmbH 7518586,763,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",8/31/22 14:29,Customer,3/4/23 11:00,,,3-Medium,3-Medium,"Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thanks a lot & have a nice day, 


* Eaton Schrems (AUT) - t118395131 - aut-schrems.dbt.machinery-monitoring.com 
* Test-Supriya-tenant1 - t121037670 - ert.dbt.machinery-monitoring.com 
* Test-Supriya-tenant1 - t121346720 - lkj.dbt.machinery-monitoring.com 
* Test-Supriya-tenant1 - t121346942 - ytr.dbt.machinery-monitoring.com 
* Test-Supriya-tenant2 - t121332432 - ghy.dbt.machinery-monitoring.com 
* Test-Supriya-tenant3 - t121332544 - poi.dbt.machinery-monitoring.com"
Defect,CSOIOT-4417,Delete sub-tenants (8),Eaton Industries GmbH 7518586,765,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",8/29/22 12:25,Customer,3/4/23 11:44,,,3-Medium,None,"Hi, 

Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thanks a lot & have a nice day, 
Florian 
* Test-Delete-Service-Paridhi-2 - t118364785 - fgdgd.dbt.machinery-monitoring.com 
* Test-Supriya-Tenant1 - t120935573 - oig.dbt.machinery-monitoring.com 
* Test-Supriya-Testtenant - t119150938 - tgr.dbt.machinery-monitoring.com 
* Test-Supriya-Testtenant2 - t119790864 - qwa.dbt.machinery-monitoring.com 
* Test-Supriya-Testtenant3 - t119474009 - qwea.dbt.machinery-monitoring.com 
* Test-Supriya-testtenant - t119802880 - ioj.dbt.machinery-monitoring.com 
* Test-Supriya-testtent - t119147278 - kju.dbt.machinery-monitoring.com 
* Test-Supriya-testtent - t119798845 - thu.dbt.machinery-monitoring.com 
* Test-Supriya-testtent2 - t119415558 - swd.dbt.machinery-monitoring.com 
* Test-Vijay-Tenant - t119838318 - dfghdhd.dbt.machinery-monitoring.com"
Defect,CSOIOT-4412,Error during creation of Tar Ball,Vision Valley FZ-LLC 7517657,768,Closed,"Welsing, Michael",Unassigned,8/29/22 8:46,Customer,3/12/23 5:02,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _________________ Domain __________________ Version __________________ 
Edge instance: _______________ Version: _______________ 
Managed services instance: _________________ Version: _______________ 
System Usage (Choose one of: Production / Test / Development): ____________ 
Time Zone: _______________ 

*Affected tenant* 

Tenant: _________________ OR System-wide issue. 
Enterprise Tenant? Yes / No 
System accessible by R&D? Yes / No 
UserID _______________ Password _______________ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Device:* 
* Device manufacturer and type: _________________ 
* Number affected: Single, Few, All devices. 
* Device is Certified? Yes / No 
* C8Y provided Agent? Type _______________ Version ______________ 

*Application:* 
* (URL in ""Own applications"" if not standard app): _________________ 
* Application origin: (choose one) 
* Cumulocity product application 
* GCS application Author/Contact: ______________ 
* Customer application: yes / no 

*Microservice:* 
* (URL in ""Own applications""): _________________ 
* Microservice origin: (choose one) 
* Cumulocity product microservice. Version _______________ 
* GCS custom microservice. Author/Contact _______________ 
* Customer microservice. Yes / No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other _______________ 

*Time period error was observed:* 
* Start: _________________ End: _________________ or ongoing. 
* Repeatability? Always / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - All the time / First load of an application / Time of day: ________________ 

*Steps to reproduce* 
#   
#   
#   

*Attach log files...* 

*Description of the Problem:*"
Defect,CSOIOT-4410,CS0003378 - io-key lose data connection randomly,Autosen GmbH 7516454,770,Closed,"Welsing, Michael","Radzali, Basyar",9/29/22 15:43,Customer,3/19/23 5:03,,,1-Critical,None,"Dear Software AG support team, we encountered the following problem with a specific io-key provisioned to the c8y cloud. We forward the problem from a customer who has been waiting for response for quite a while. The original description was as follows: 

Customer Name / ID: LABORATORIES QUINTON / 0005155975 
Sub-Tenant / Domain: [https://laboratorios-quinton.io-key.ifm|https://laboratorios-quinton.io-key.ifm/] [[https://laboratorios-quinton.io-key.ifm|https://laboratorios-quinton.io-key.ifm/]] 
io-key IMEI: 357142090036251 

Contact Name: Jose Gomez 
E-mail address: [jose.gomez@quinton.es|mailto:jose.gomez@quinton.es] 
Customer SAP sales org: ifm#es 

Product: ifm ecomatic gmbh io-key (any version) 
Product Model number: AIK001 
Service: io-key general 
* *Description of the issue:* 

We have an issue with a io-key loosing the connection and already asked 1nce to look into it.  

Here is the responce: 

""Our technical specialists have observed a challenge when restoring the connection between your device and your application server. This challenge occurred after deleting the old PDP context and creating a new one. Your device sends a DNS request to get the server IP address for [t319786252.cumulocity.com|https://t319786252.cumulocity.com/]. Three IP addresses will respond, one of which will be randomly selected to connect. If the unit chooses 3.125.242.18 or 52.57.31.196, everything works fine. If the unit dials the third IP address 3.120.120.15, it cannot establish a TCP connection. Your unit does not respond to SYN and ACK from the server and the TCP handshake fails. 

Therefore, your request is most likely based on a TCP handling error either on your device or your server. Please check if your device is blocking this IP or remove the DNS entry."" 

We then checked the dns entry to [t319786252.cumulocity.com|http://t319786252.cumulocity.com/]: 

Name: [cumulocity-frankfurt-prod-elb-1592269128.eu-central-1.elb.amazonaws.com|http://cumulocity-frankfurt-prod-elb-1592269128.eu-central-1.elb.amazonaws.com/] 

Addresses: 64:ff9b::344:2e21 
{noformat} 
64:ff9b::378:2de3 
64:ff9b::341c:d6c6 
64:ff9b::37b:d4a4 
64:ff9b::341d:607e 
64:ff9b::37a:491a 
3.68.46.33 
3.122.73.26 
52.29.96.126 
52.28.214.198 
3.123.212.164 
3.120.45.227{noformat} 
Aliases: [t319786252.cumulocity.com|http://t319786252.cumulocity.com/] 

Thus, there seems so be like a VPN or something else. 

We need to find out where those IPs above origin from/lead to and we need to find out why one IP cannot be reached to solve the connection issues. Please investigate as quickly as possible, and, if necessary, please tell me what more information is needed."
Defect,CSOIOT-4409,scrmcfg.sandbox - data restore,"HILL-ROM Holdings, Inc. 7517970",769,Closed,"Talbert, Kent","Abdul Majid, Mohd Shahmi",9/9/22 9:32,Customer,6/21/24 0:32,,,2-High,None,"Hillrom accidently deleted one of their organizations on the [http://scrmcfg.sandboxiot.hillrom.com/] tenant.  Unfortunately, this is affecting their testing effort 

It appears to be a managed object called Hillrom.  

See screen print.  

Time in the screen print is MDT. 

Is this something that could be restored? Or would the entire tenant be easier/better?  Costs involved?   
  
They would like this done asap. 
  
If there are costs involved, we'll need to contact Jorge Fernandez (CSM) before informing the customer."
Defect,CSOIOT-4404,CLONE - Core Logs needed IOT-14892 - MQTT connection not working on eu-latest since 10.14 upgrade,Software AG 3101000,769,Closed,"Bhatt, Vikas","Lundsten, Alf",9/2/22 10:46,Customer,9/2/22 10:46,25-Aug-22,,2-High,2-High,"Tenant: https://switschel.eu-latest.cumulocity.com 
Version: 10.14.0.68 

It seems that with 10.14 Devices connected via MQTT cannot communicate anymore properly with the platform on eu-latest. 

It did several tests with the dm-agent and MQTTBox and the results are always that if something is send the device managed object (MO) is created, but not the _c8y_Serial_ identity. This result in multiple MOs created sent from the same Agent/Client (with same client id). 

What it did is basically: 

*_2022-08-23 08:38:38,808 MainThread DEBUG c8ydm.client.mqtt_agent Send: topic=s/us msg=100,dm-example-device-9163eae89c3d,c8y_dm_example_device_* 

QoS 2 and QoS 0 have been tested. 

After a very long time, we get this on _s/e_: 

*_2022-08-23 08:50:50,536 Thread-1 DEBUG c8ydm.client.mqtt_agent Received: topic=s/e msg=50,100,Error on device creation,"" message: Failed to connect Pulsar producer Pulsar NotificationPublishService publisher pool wait>_* 

The MO is created but there is no _*c8y_Serial*_ identity leading in multiple MO created each time something via MQTT is sent to the platform. 

This seems to be a tenant related issue as other tenants are reported to be working."
Defect,CSOIOT-4403,PRODUCTION ISSUE: telstra-production-new-agents(lwm2m agent 1) failing,Telstra Corporation Limited 7514912,770,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",9/2/22 10:45,Customer,3/15/23 5:03,25-Aug-22,,1-Critical,1-Critical,"Telstra Production Issue: 

On bootstrapping client has error: 
2022-08-25 08:35:19,086 ERROR RegistrationEngine - Bootstrap failed: INTERNAL_SERVER_ERROR Failed due to internal error. 

In logs from telstra-production-new-agents in SPLUNK I can see the error : 
2022-08-25 08:45:55.167 INFO 9796 — [scheduler-14] o.a.c.httpclient.HttpMethodDirector : I/O exception (java.net.SocketException) caught when processing request: Too many open files 
1000+ time a minute. I suspect some of the parameters increased yesterday has resulted in the number open file descriptors excdeeding the limit set by the OS. 

telstra-production-new-agents2 doesn’t have any ‘too many open files’ errors yet, but I would expect it will be heading towards the same problem. 

Additional notes from Tiana: 
They have been experiencing issues in Prod since the weekend. She also mentioned that the Operations team performed restart and made some configuration changes last night after which it briefly worked but then again you have started noticing issues."
Defect,CSOIOT-4390,[Sony] Notification 2.0 API not working,Sony Semiconductor Solutions Corp. 7519751,771,Closed,"Bhatt, Vikas",Unassigned,8/25/22 13:47,Customer,8/25/22 13:47,,,3-Medium,3-Medium,"Customer: SONY 

Tenant: https://management.dev.ss.c8y.io/ and https://management.test.ss.c8y.io/ 

*Description of the Problem:* 

Customer tried to use the Notification 2.0 API on the instances of Sony (mainly https://management.dev.ss.c8y.io and https://management.test.ss.c8y.io), but they are getting a 404 error. 

Could you verify that the API is activated (as we think in 10.11 version, it needs to be explicitly activated)?"
Defect,CSOIOT-4376,CLONE - MQTT response time increase,Telstra Corporation Limited 7514912,771,Closed,"Bhargava, Neha","Pham, Hoang",8/29/22 18:39,Customer,8/29/22 18:39,,,2-High,None,"Hi team, 
Telstra has raised this incident with high severity stating that MQTT response time has increased. 

It has been observed that there is an increase of MQTT response time since 18/08 and today 23/08 1:30 AEST it went up to 490ms. 
Please see screenshot from AWS attached"
Defect,CSOIOT-4373,Connectivity Microservice,"Micro Technology Co., Ltd. 7515608",772,Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",8/23/22 12:00,Customer,3/12/23 5:02,,,3-Medium,None,"This is extension from https://itrac.eur.ad.sag/browse/CSOIOT-4292 
Customer also needs Connectivity Micro Service being enabled to their tenant. Please enable. 




"
Defect,CSOIOT-4370,Enable DataHub on SBD subtenant: surepath-dev,Stanley Black and Decker 7513816,772,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",8/23/22 10:24,Customer,3/5/23 9:33,,,3-Medium,None,"Please enable datahub on SBD subtenant:  surepath-dev.sbdconnect.io 

  

Customer is not able to enable it for some reason and I don't have access to the SBD management tenant. 

  

Thanks, 

Kent"
Defect,CSOIOT-4360,Delete sub-tenants,Eaton Industries GmbH 7518586,772,Closed,"Welsing, Michael","Luczyszyn, Mikolaj (External)",8/23/22 9:06,Customer,3/5/23 9:38,,,3-Medium,None,"Hi, 

Could you please delete the following list of sub-tenants. All are sub tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thanks a lot & have a nice day, 


* TEST-Vijay-Flex - t116813173 - sdfasdf.dbt.machinery-monitoring.com 
* Test-Sup-tenant3 - t116561641 - werf.dbt.machinery-monitoring.com 
* Test-Supriya-tenant11 - t116813495 - qwer.dbt.machinery-monitoring.com 
* Test-Supriya-tenant12 - t116816824 - edr.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116191950 - com.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116200187 - sdsd.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116202780 - sdst.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116210781 - sdstd.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116218972 - mmtt.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116559665 - mmttt.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116560403 - mmthj.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116817153 - tthhjj.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116828040 - tthhnn.dbt.machinery-monitoring.com 
* Test-Vijay-Automation-Tenant - t116831689 - tthtth.dbt.machinery-monitoring.com 
* Test-Vijay-Tenant - t116199861 - ten.dbt.machinery-monitoring.com 
* Test-Vijay-Tenant - t116238626 - dfdfg.dbt.machinery-monitoring.com 
* Test-Vijay-tent1 - t116545854 - asedr.dbt.machinery-monitoring.com 
* Test-Vinayak-Tenants - t117306438 - fgasdh.dbt.machinery-monitoring.com 
* Test-Vinayak_tennat - t116885922 - testvin.dbt.machinery-monitoring.com 
* Test-tenant - t116886583 - testkjhsgdf.dbt.machinery-monitoring.com 
* Test_Supriya_2 - t116500427 - sdd.dbt.machinery-monitoring.com 
* Test_Supriya_tenant2 - t116503713 - aess.dbt.machinery-monitoring.com 
* sup1 - t116489612 - ssdes.dbt.machinery-monitoring.com 
* tent1 - t116480569 - dfrtg.dbt.machinery-monitoring.com 
* test-sup1 - t116493319 - asderf.dbt.machinery-monitoring.com 
* test-sup3 - t116488103 - sderf.dbt.machinery-monitoring.com 
* test_sup2 - t116483891 - wedsfr.dbt.machinery-monitoring.com"
Defect,CSOIOT-4356,CLONE - Telstra production: lwm2m agent getting stuck/running out of resources,,773,Closed,"Bhargava, Neha","Abdul Majid, Mohd Shahmi",8/23/22 7:17,Customer,8/23/22 7:17,,,2-High,2-High,"Telstra production - still 10.6.6 

Seems we now have approx. 70k lwm2m devices on their platform 

Customer has reported high CPU usage several times the last ~4 weeks 

Last Saturday (20.8) agent2 got stuck with high load for many minutes (which eventually went down), then on Sunday morning (21.8) both agents became unresponsive at about 10:20 Australian TZ. 

agent nodes have 16 vCPUs and 30GB RAM 
- next step is to have 30 CPUs and 60GB RAM(!) 


I know 10.6.6 is way out of support 
- but we also know Tiana will be pushing again 

On the 25th we plan to update the lwm2m agent on dev, Tiana agreed to give SEW only one week for testing + 3 weeks notification period. 
- this still leaves us with 4 weeks to go before we can even start the prod upgrade. 


Could someone have a look at the logs (and auto-dump) uploaded to GD 
https://drive.google.com/drive/u/0/folders/1CzaXvXrvlCBR4h3ikhgi1_IxGcZWVpD0 
and provide some kinda explanation to Telstra (again.)"
Defect,CSOIOT-4352,Enable TLS 1.3 on Hillrom sandboxiot instance.,"HILL-ROM Holdings, Inc. 7517970",776,Closed,"Talbert, Kent","Vukman, Tomislav",8/22/22 15:29,Customer,8/22/22 15:29,,,3-Medium,None,"Customer is requesting that TLS 1.3 be enabled on sandboxiot.hillrom.com instance. They would also like to keep TLS 1.2 enabled. 

  

Let me know if you need any other information from the customer. 

  

Thanks, 

Kent"
Defect,CSOIOT-4350,test for ticket types,Software AG Netherlands B.V. 3105000,776,Closed,"Dijkstra, Jelle",Unassigned,8/18/22 15:45,Customer,8/18/22 15:45,,,4-Low,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: _________________ Domain __________________ Version __________________ 
Edge instance: _______________ Version: _______________ 
Managed services instance: _________________ Version: _______________ 
System Usage (Choose one of: Production / Test / Development): ____________ 
Time Zone: _______________ 

*Affected tenant* 

Tenant: _________________ OR System-wide issue. 
Enterprise Tenant? Yes / No 
System accessible by R&D? Yes / No 
UserID _______________ Password _______________ 

*Issue associated device, application and/or microservice* 

Example URL with the issue: _________________ 
(for devices, use the link to the Device Management page). 

*Device:* 
* Device manufacturer and type: _________________ 
* Number affected: Single, Few, All devices. 
* Device is Certified? Yes / No 
* C8Y provided Agent? Type _______________ Version ______________ 

*Application:* 
* (URL in ""Own applications"" if not standard app): _________________ 
* Application origin: (choose one) 
* Cumulocity product application 
* GCS application Author/Contact: ______________ 
* Customer application: yes / no 

*Microservice:* 
* (URL in ""Own applications""): _________________ 
* Microservice origin: (choose one) 
* Cumulocity product microservice. Version _______________ 
* GCS custom microservice. Author/Contact _______________ 
* Customer microservice. Yes / No 

*Protocol used?* 
* MQTT / Rest / Smart REST / Other _______________ 

*Time period error was observed:* 
* Start: _________________ End: _________________ or ongoing. 
* Repeatability? Always / Intermittent (seen __ times in last ___ hours/days/weeks). 
* Frequency - All the time / First load of an application / Time of day: ________________ 

*Steps to reproduce* 
#   
#   
#   

*Attach log files...* 

*Description of the Problem:*"
Defect,CSOIOT-4349,CLONE - DEV Environment error Message: ‘An error occurred please contact support.’,Telstra Corporation Limited 7514912,777,Closed,"Bhargava, Neha","Radzali, Basyar",9/2/22 10:48,Customer,9/2/22 10:48,,,3-Medium,None,"Hi Team, since Telstra's DEV  upgrade from V10.9 to V10.10.0.24  on Monday 9/May/2022 , they have intermittently been receiving this pop up “An error occurred please contact support.”   

-------------------------------------------- 

This is still occurring after the upgrade from V10.10.0.24  to  V1011.0.17 on 10/May/2022. 

Customer have received this error using both: 

Edge Version 101.0.1210.39 (Official build) (64-bit ) 

and 

Chrome Version 101.0.4951.64 (Official Build) (64-bit) 

The error doesn’t  pop up straight after any user action . Please see the attached screen shots of the console of the F12 Dev window. 

The error pops up at the same time as the error on the F12 console: 

POST [https://management.iotdev.telstra.com/notification/realtime] 504 (GATEWAY_TIMEOUT) 

  

This error only seems to occur when going to the management tenant via our direct network link  10.60.71.200.   

So I’ve seen the error on logging directly into management tenant, or using support user to log into another tenant via management tenant. 

I have never seen the error going direct to a tenant (eg [ianc.iotdev.telstra.com|http://ianc.iotdev.telstra.com/]) which goes via the Internet to the ‘normal front end’. 

None of this routing has changed for months. 

Please see attached screen shots for the Dev window console ."
Defect,CSOIOT-4348,Enable OEE app on SBD instance.,Stanley Black and Decker 7513816,777,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",8/18/22 9:59,Customer,3/5/23 10:04,,,3-Medium,None,"SBD has requested enablement of OEE on the [sbdconnect.io|http://sbdconnect.io/] environment. 

  

 "
Defect,CSOIOT-4334,EMEA instance is down,Mohawk International Services BV 7518646,778,Closed,"Talbert, Kent","Vukman, Tomislav",8/24/22 15:06,Customer,3/12/23 5:02,,,2-High,None,"EMEA instance 

Tenant:  [https://mohawk-iiot.emea.cumulocity.com/] 

  

Customer is reporting that they are completely down. 

  

Appears that the cores are down and unhealthy. 

 "
Defect,CSOIOT-4321,Delete sub-tenants,Eaton Industries GmbH 7518586,779,Closed,"Neale, Robert","Vukman, Tomislav",8/15/22 16:44,Customer,3/5/23 10:25,,,3-Medium,3-Medium,"Could you please delete the following list of sub-tenants. All are sub-tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thank you & have a nice day, 
Florian 
* Test-Supriya-Tenant1 - t113702934 - sup.dbt.machinery-monitoring.com 
* Test-Supriya-Tenant1 - t113726271 - sup2.dbt.machinery-monitoring.com 
* Test-Supriya-Tenant1 - t113733101 - sup3.dbt.machinery-monitoring.com 
* Test-Supriya-Tenant2 - t113702940 - sup1.dbt.machinery-monitoring.com 
* Test-Supriya-Tenant2 - t113760337 - sup4.dbt.machinery-monitoring.com 
* Test-Vijay-Flex - t114781014 - sdf.dbt.machinery-monitoring.com 
* Test-Vijay-FlexPlus - t114052372 - fsdaf.dbt.machinery-monitoring.com 
* Test-Vijay-Retail - t114052485 - sgdfg.dbt.machinery-monitoring.com 
* Test-Vijay-Ten - t114052367 - sdff.dbt.machinery-monitoring.com"
Defect,CSOIOT-4320,Slow response on production tenant.,"HILL-ROM Holdings, Inc. 7517970",782,Closed,"Talbert, Kent","Lundsten, Alf",9/1/22 9:24,Customer,4/6/23 6:03,,,2-High,None,"Tenant: [https://servicehub.iot.hillrom.com/] 

Hillrom production instance:  10.6.6 

  

Customer was seeing slow response times around 6:45 PM MDT yesterday (2:45AM CEST today), especially when loading Devices in DM. They were seeing the page freeze at 500 devices. "
Defect,CSOIOT-4302,Add valid license for 'syntegon.cumulocity.com' (t1394552929),Syntegon Packaging Systems AG 7520592,783,Closed,"Bhatt, Vikas","Lundsten, Alf",9/9/22 9:33,Customer,3/20/23 5:03,26-Aug-22,,3-Medium,3-Medium,"Customer: Syntegon Packaging Systems 
Tenant ID: t1394552929 
Tenant URL: syntegon.cumulocity.com 
Admin Email: hansruedi.wanner@syntegon.com 
Domain: *.cumulocity.com 

Please add the license for customer's enterprise tenant 'syntegon.cumulocity.com' (t1394552929) in order to activate their custom domain '*.synexio.syntegon.com'. Please refer the attached screenshot."
Defect,CSOIOT-4293,Configuration Mailserver not working,Netze BW GmbH 7518036,785,Closed,"Welsing, Michael","Vukman, Tomislav",8/24/22 15:02,Customer,3/7/23 5:03,,,2-High,None,"*Description of the Problem:* 

On the tenant [https://iot-netzebw.cumulocity.com/] customer has changed the e-mail server configuration from Cumulocity server settings to company settings. The Information user host, user, pw etc. is from the company and customer gets all needed authorizations and connections which are testet and works. 

After the change to the new configuration they don’t get the e-mails anymore. Is there a possibility to see what is not working? The logs don't show any errors."
Defect,CSOIOT-4292,SMS Gateway for Micro Technologies,"Micro Technology Co., Ltd. 7515608",786,Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",8/9/22 10:00,Customer,3/12/23 5:02,,,3-Medium,None,"Micro Technologies is trying to configure SMS service for some of the tenants. 
However, they realized they do not have SMS-Gateway application in the management tenant. 
Can this app added to Micro Technology management tenants? 

"
Defect,CSOIOT-4291,Apama licensed expired on Dev instance,"HILL-ROM Holdings, Inc. 7517970",786,Closed,"Talbert, Kent","Tulli, Venkata Satya",8/10/22 2:34,Customer,3/7/23 5:03,,,3-Medium,None,"Apama license expired on Dev instance.  Apama shows as down on the subtenants. 

  

From Apama log file: 

  

[apama-ctrl]  2022-08-08 19:08:35.870 INFO  [subscriptions-0] com.apama.in_c8y.Correlator.start - Correlator not yet reachable (com.apama.EngineException: Failed to connect to engine; root exception is: Connection refused (Connection refused)) 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] - ================= Software AG License Data ================= 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] - Sales Information 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Serial Number      : 0000035210 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Customer ID        : 1 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Customer Name      : Embedded license file for Apama for Cumulocity IoT provided by Software AG 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] - Product Information 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Product Name       : Apama for Cumulocity IoT 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Product Code       : PAQ 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Operating System   : Linux 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Product Version    : 10.1 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Product Usage      :  
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Expiration Date    : 2022/07/31 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] - License Information 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      License Type       :  
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Price Unit         : CoreB 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Price Quantity     : 999 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Extended Rights    :  
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      License Version    : 1.2 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] - Physical Hardware 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Model              : Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Sockets            : 1 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Physical cores     : 8 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Logical cores      : 16 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Performance Bucket : CoreC 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -      Virtualization     : no 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] - ==================== End License Data ====================== 
[correlator]  2022-08-08 19:08:35.875 ##### [139926976352128] -  
[correlator]  2022-08-08 19:08:35.894 FATAL [139926976352128] - License has expired 
[correlator]  2022-08-08 19:08:35.894 INFO  [139926976352128] - Please contact Software AG Global Support (http://empower.softwareag.com) for an updated license 
[apama-ctrl]  2022-08-08 19:08:35.896 ERROR [com.apama.in_c8y.Correlator$Monitor] com.apama.in_c8y.Correlator$Monitor.run - Correlator exited unexpectedly with exit code 1. Giving up. 

  

Tenant is:  https://management.deviot.hillrom.com/"
Defect,CSOIOT-4290,Set admin user,Hans Turck GmbH & Co. KG 7520183,786,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",8/9/22 11:47,Customer,3/7/23 5:03,,,3-Medium,3-Medium,"please use the E-Mail Address [admin.cloud@turck.com|mailto:admin.cloud@turck.com] for our Admin User, with name Administrator 

For the  following tenants the admin have to be changed from [hans-joachim.daniels@turck.com|mailto:hans-joachim.daniels@turck.com] to [admin.cloud@turck.com|mailto:admin.cloud@turck.com]. 

  
* t89372071 
* t55172995 
* t74262079 
* t53986239"
Defect,CSOIOT-4284,Delete sub-tenants,Eaton Industries GmbH 7518586,789,Closed,"Eha, Allan","Luczyszyn, Mikolaj (External)",8/9/22 10:16,Customer,3/7/23 5:04,,,4-Low,None,"The customer would like to have some sub-tenants deleted from the emea.comulocity.com instance: 

--------------------------------------------- 

Could you please delete the following list of sub-tenants. All are sub-tenants of tenant eatonnubisnet in emea instance. 

(Yes, we are aware that this means that tenants including all data are permanently delete and operation cannot be reverted.) 

Thank you & have a nice day, 
Florian 
* TEST-Vijay-Flex - t111068548 - zdffsda.dbt.machinery-monitoring.com 
* TEST-Vijay-Flex - t112414441 - tenantsss.dbt.machinery-monitoring.com 
* TEST-Vijay-FlexPlus - t111060670 - sfdg.dbt.machinery-monitoring.com 
* TEST-Vijay-Retail - t111071845 - fsdg.dbt.machinery-monitoring.com 
* TEST-VijayFlexPlus - t111071662 - sdfa.dbt.machinery-monitoring.com 
* Test-Supriya-tenant5 - t112402264 - supriya.dbt.machinery-monitoring.com 
* Test-Supriya-tenant6 - t112402271 - supriya1.dbt.machinery-monitoring.com 
* Test-Vijay-Flex - t112360634 - tenant.dbt.machinery-monitoring.com 
* Test-Vijay-Flex - t112361231 - tenants.dbt.machinery-monitoring.com 
* Test-Vijay-Flex - t112368739 - tena.dbt.machinery-monitoring.com 
* Test-Vijay-Flex - t112369339 - tens.dbt.machinery-monitoring.com 
* Test-Vijay-FlexPlus - t112361235 - tenantss.dbt.machinery-monitoring.com 
* Test-Vijay-Flexplus - t112414446 - tenantssss.dbt.machinery-monitoring.com 
* Vijay - t111071847 - zdf.dbt.machinery-monitoring.com 

  

-------------------------------------------"
Defect,CSOIOT-4277,Delete not used tenants,Liebherr-Werk Nenzing GmbH 7516355,789,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",8/9/22 7:28,Customer,3/7/23 5:04,,,3-Medium,3-Medium,"please delete the following suspended sub tenants on our Instance [management.myjobsite.com|http://management.myjobsite.com/] 
* t1435591398 (DeploymentNewSystem) 
* t212427828 (lieberiot-sandbox) 
* t1161521684 (sdfad) 
* t1161586971 (stri) 
* t566887189 (tamdev) 
* t1181393520 (TestTenant) 

THESE ARE ON CUMULOCITY PROD"
Defect,CSOIOT-4275,"Settings > Enterprise Tenant > Domain name says ""invalid date"" for SSL certificate, but certificate is valid",Eppendorf SE 7517606,789,Closed,"Welsing, Michael","Vukman, Tomislav",8/16/22 8:47,Customer,3/7/23 5:04,,,3-Medium,None,"On all  three of Eppendorf Enterprise Tenants is stated: 


*Settings > Enterprise Tenant > Domain name: ""invalid date"" for SSL certificate.* 

However, certificates are valid and domains are reachable without limitiatons. No functionality impacted, but incorrect information should be fixed."
Defect,CSOIOT-4273,MQTT broker log request,"HILL-ROM Holdings, Inc. 7517970",790,Closed,"Talbert, Kent","Louden, Timothy",8/10/22 16:33,Customer,3/7/23 5:04,,,3-Medium,4-Low,"Need mqtt.log files from from Hillrom production instance.   

  

If possible for the last 24 hours and the last week. 

  

Thanks, 

Kent"
Defect,CSOIOT-4269,CLONE - Datahub Outage,MIOT PTY LTD 7516856,790,Closed,"Bhargava, Neha","Janus, Bartosz",8/11/22 9:08,Customer,8/11/22 9:08,,,2-High,1-Critical,"Hi team, 

MIOT has reported that Datahub offloading has stopped working after the latest production deployment (Cumulocity IoT DataHub (CDH) minor upgrade to 10.13.0.4 on apj.cumulocity.com - 3 August 2022). 



Since Tim Doernman is OOO till 15th August who has debugging access to the instance. We are looking for Ops help to gather following information: 
* DataHub logs from this tenant 
* Dremio logs 
* Dremio Query profile of a failed offloading query 
* Access (most importantly to Dremio) 

 "
Defect,CSOIOT-4268,Sudden Error when creating Identity,ProCom Automation GmbH 7515638,790,Closed,"Welsing, Michael","Vukman, Tomislav",8/10/22 10:17,Customer,3/7/23 9:59,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

Domain [https://procomdev.clouver.de|https://procomdev.clouver.de/] ** 

*Description of the Problem:* 

Since today when I try to use the c# api to create an identity with 

identityApi.Create(externalID) 

I get the error 

“Cannot determine global id value” 

Did something change since yesterday?"
Defect,CSOIOT-4241,Delete sub-tenants on EMEA instance.,Eaton Industries GmbH 7518586,796,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",8/1/22 10:31,Customer,3/7/23 10:35,,,3-Medium,None,"Please delete the following list of sub-tenants.  All are sub-tenants from tenant eatonnubisnet on the emea instance. 

Customer is aware that this means that tenants including all data are permanently deleted and operation cannot be reverted. 

This was requested by Florian Huber at Eaton:  [florianhuber@eaton.com|mailto:florianhuber@eaton.com] 
* Test-Supriya-1 - t109374154 - vijay.dbt.machinery-monitoring.com 
* Test-Supriya-retail - t109458793 - supriya1.dbt.machinery-monitoring.com 
* Test-Supriya-Retail1 - t109728329 - vinayak2.dbt.machinery-monitoring.com 
* Test-Supriya-retailtenant - t110095058 - tenantretail.dbt.machinery-monitoring.com4 
* Test-Supriya-Retailtent1 - t109731897 - eaton.dbt.machinery-monitoring.com 
* Test-Supriya-tenant - t109705255 - vijay5.dbt.machinery-monitoring.com 
* Test-Supriya-tenant1 - t109454913 - vijay1.dbt.machinery-monitoring.com 
* Test-Supriya-tenant1 - t110040105 - sup.dbt.machinery-monitoring.com 
* Test-Supriya-tent1 - t109405541 - vinayak.dbt.machinery-monitoring.com 
* Test-Supriya-tent1 - t109454621 - vinayak1.dbt.machinery-monitoring.com 
* Test-Supriya-tent2 - t109463547 - vijay3.dbt.machinery-monitoring.com 
* TEST-Vijay-Eaton - t110059067 - rgfsdf.dbt.machinery-monitoring.com 
* TEST-Vijay-Eaton - t110059069 - fhgg.dbt.machinery-monitoring.com 
* Test-Vijay-Tenant - t109750962 - zsdf.dbt.machinery-monitoring.com 
* Test-Vijay-Tent - t109087194 - arg.dbt.machinery-monitoring.com 
* Test-Vijay_Tent2 - t109098807 - asdg.dbt.machinery-monitoring.com"
Defect,CSOIOT-4240,CLONE - Free trials not working and timing out,,796,Closed,"Choudhury, Atishdev","Luczyszyn, Mikolaj (External)",8/3/22 8:50,Customer,8/4/22 13:37,,,2-High,2-High,"Tried to sign-in for a free trial from the corporate website. Didn't receive the Welcoming email - I don't know if the provisioning is not working or the email is not sent from Marketo! 

I tried once with: [nadezhda.rusenova@softwareag.com|mailto:nadezhda.rusenova@softwareag.com]  

and once with: [rusenova@gmail.com|mailto:rusenova@gmail.com] 

Haven't received an email within 5-10 min. 
h3. *Steps to reproduce* 
# Sign-up for a free trial [https://signup.softwareag.cloud/#/basic-b?product=cumulocity&utm_referrer=TechCommunity] 
# Wait 5min. for  a Welcome email  
#   

*RCA:* 

Tenant creation call timing out on {*}Cumulocity US region{*}. 
{code:java} 
48c29f8f313830f216985c8073040da2 - 10.164.2.90 - tms-provisioner [27/Jul/2022:19:06:25 +0000] ""POST /tenant/tenants HTTP/1.1"" 499 0 ""-"" ""Apache-HttpClient/4.5.12 (Java/11.0.14)"" ""10.164.3.5:80"" 0.001 300.100 824 300.100{code} 
*Proposed Fix:* 

Increase the timeout to 10 mins by updating tenant option *cumulocity.read.timeout* 

This should be done in all the regions to make the configuration consistent. Hence we should update below environment 
# eu-latest.cumulocity.com 
# us.cumulocity.com 
# emea.cumulocity.com 

Ref: [Cumulocity IoT on SAG Cloud - Tenant Provisioning service installation and operations guide v10.13.docx|https://sagportal.sharepoint.com/:w:/r/sites/IoTAnalyticsRnDOps/Shared%20Documents/T%20-%20SaaS%20Enablement/Feature%20Docs/C8Y%20on%20SAG%20Cloud/Operation%20Manuals/Cumulocity%20IoT%20on%20SAG%20Cloud%20-%20Tenant%20Provisioning%20service%20installation%20and%20operations%20guide%20v10.13.docx?d=w10a72b2f1be643d89e3c75f23b5cbf06&csf=1&web=1&e=910H85]"
Defect,CSOIOT-4237,"""self"" fragment incorrectly reported as http (should be https) from inside the k8s cluster",Nordex SE 7515195,797,Closed,"Neale, Robert","Bieniak, Arkadiusz",9/2/22 10:46,Customer,6/21/24 0:50,,,2-High,2-High,"While testing the C8y 1013 on [nordex.nifdev.nordex-online.com|http://nordex.nifdev.nordex-online.com/] platform we found odd behavior that is affecting our services. FYI: it works fine on 1009 and worked fine on nifdev 1009. 

Microservice running outside of the K8s is talking to inventory trying to get any managed object. It receives proper “self” fragment with https in it. 

The same microservice running inside the platform's k8s is doing the same request with the same credentials - the “self” field is provided with URL that contains only http (without s). 

Issue is critical for Nx as some microservices are extracting that self field and pass it to other microservices causing them to fail. 

In the attached image you have example prepared by Arkadiusz Bieniak while testing 1013 installed similar way as on nifdev and you can see the issue is there as well. 

This might be a planned change in the API but we need a confirmation as this is a breaking change for us and we need to modify our code for 1013 and/or start detecting revision of C8y on the MS level (as we share MSes between different revisions on C8y in IoT and Edge platforms)."
Defect,CSOIOT-4235,Ops- Only 5 queued operations are sent to device,Telstra Corporation Limited 7514912,798,Closed,"Bhargava, Neha","Tulli, Venkata Satya",8/1/22 13:27,Customer,8/1/22 13:27,,,2-High,None,"*Issue Description:* 

Below issue was reported after LwM2M agent upgrade in dev 

This has been experienced with New HZ devices, Old HZ devices L+G and Sanchuan devices, where a big queue of commands is created for the device and when the device is online only 5 commands are sent to the device and after that the server is not queueing any more, and this causes the device to go offline without consuming all the commands queued for it. 
This behavior is different from the behavior of the previous released of the LWM2M agent on Cumulocity, and different from the behavior that the PROD release have. 

In some cases if you see more than 5 operations were executed, that will mean the device were waken up manually multiple times or forced for new registration to execute more pending operations 

*Environment*: Development 

*Tenant*: SEWDEV 

Example devices: All the devices are showing same behaviour e.g. SAEA000727, SAHA001190, SASA00991. Some logs and screenshots are attached 

Please consider this high priority as SEW will not approve production upgrade with this issue unresolved"
Defect,CSOIOT-4232,Minor version upgrade,Solenis LLC 7512378,799,Closed,"Neale, Robert","Lisik, Milosz (External)",8/10/22 8:33,Customer,3/8/23 10:04,29-Jul-22,,3-Medium,3-Medium,"Would it be possible to upgrade Solenis to 1011.0.16? 

They are now on 1011.0.12, but there is bug (MTM-42566) affecting them, that was fixed in 1011.0.16 according to [https://cumulocity.com/releasenotes/release-10-11-0/applications-10-11-0/#10-11-0-16]"
Defect,CSOIOT-4231,Apply OEE fix3 for Sony,Sony Semiconductor Solutions Corp. 7519751,804,Closed,"Reddy, Yerpula Bharath Bhushan","Hou, Jiabin",8/1/22 4:35,Customer,3/8/23 10:33,,,3-Medium,None,"Extended from SI-474568 

As part of the above ticket, R&D mentioned to apply OEE fix3 for the tenant https://oee-showcase.dev.ss.c8y.io/ 
Tobias from PS team mentioned that Ops can install this fix anytime as this system is used only by him. 

Suggestion from R&D: 
""we introduced some enhanced validation with Fix3 which would show you an error when creating a formula like this 
since you still have only Fix2 installed, you should consider updating all 3 OEE components to Fix3"" 
"
Defect,CSOIOT-4228,"Permanently delete the subtenant ""tasnetworks.miot.captis-iot.com""",MIOT PTY LTD 7516856,800,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",7/28/22 11:15,Customer,3/8/23 10:09,,,3-Medium,3-Medium,"Customer: MIOT PTY LTD 

Tenant: tasnetworks.miot.captis-iot.com 

Customer has requested to *permanently delete* the following subtenant. 

*tasnetworks.miot.captis-iot.com* 

They have already removed/retired all devices and would not like this to occur to ensure they are no longer billed for the sub-tenant."
Defect,CSOIOT-4227,Permanently delete the customer's sub-tenants on EMEA instance,Eaton Industries GmbH 7518586,800,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",7/28/22 11:36,Customer,3/8/23 10:10,,,3-Medium,3-Medium,"Tenant Name: eatonnubisnet 
Tenant URL: https://management.dbt.machinery-monitoring.com/ 

Instance: C8Y EMEA Instance 

*Description of the Request by Customer:* 

Please remove the following (rather long) list of sub-tenants with tenant IDs which are already in suspended status. All these tenants need to be permanently deleted. 

All are *sub-tenants* of tenant *eatonnubisnet* in *EMEA instance*. 


add retails - t106447609 - retails.dbt.machinery-monitoring.com 

ddfa - t102222156 - ddfadfadfadfdfdfadfadfadfadfdfdfsf.dbt.machinery-monitoring.com 

delete tenant - t106441443 - testdele.dbt.machinery-monitoring.com 

deltenant - t106444734 - deltent.dbt.machinery-monitoring.com 

GroupTenent - t104519986 - comsd.dbt.machinery-monitoring.com 

my tenant - t103149354 - tenantddd.dbt.machinery-monitoring.com 

my.tenant - t102847084 - test-tenant.dbt.machinery-monitoring.com 

RetailTest - t103149157 - com.dbt.machinery-monitoring.com 

tenant deletee - t106444736 - teldel.dbt.machinery-monitoring.com 

test - t102925313 - test12se.dbt.machinery-monitoring.com 

test retail - t102925033 - tenanthost.dbt.machinery-monitoring.com 

test retails - t105114980 - testretail.dbt.machinery-monitoring.com 

test tenanrs for delete - t106441441 - testdelete.dbt.machinery-monitoring.com 

test tenant - t102273755 - testf3.dbt.machinery-monitoring.com 

test tenant - t103177421 - tenant2.dbt.machinery-monitoring.com 

test tenant - t105163638 - tegsfte.dbt.machinery-monitoring.com 

test tenant - t106437573 - testtenant.dbt.machinery-monitoring.com 

test tenat - t105160012 - testtenat.dbt.machinery-monitoring.com 

test tennet with - t102274310 - test34.dbt.machinery-monitoring.com 

Test-Supriya-MySub - t107166442 - tenant5.dbt.machinery-monitoring.com 

Test-Supriya-tenant - t107165853 - tenant1.dbt.machinery-monitoring.com 

Test-Supriya-tenant - t107423742 - tenant-2.dbt.machinery-monitoring.com 

Test-Supriya-tenant1 - t107400166 - tenant-1.dbt.machinery-monitoring.com 

Test-Supriya-tenant2 - t107400460 - infotech.dbt.machinery-monitoring.com 

TEST-Vijay-Tenant1 - t107427637 - asd.dbt.machinery-monitoring.com 

TEST-Vijay-Tenant2 - t107427639 - fds.dbt.machinery-monitoring.com 

Test02 - t105437007 - sdf.dbt.machinery-monitoring.com 

TestFlex - t103157043 - net.dbt.machinery-monitoring.com 

TestFlex - t103165310 - nets.dbt.machinery-monitoring.com 

TestFlex - t103217320 - fhgg.dbt.machinery-monitoring.com 

TestRetail - t103157335 - edu.dbt.machinery-monitoring.com 

TestRetail - t103165595 - tens.dbt.machinery-monitoring.com 

TestRetail - t103185417 - xyzs.dbt.machinery-monitoring.com 

TestRetailService - t104471847 - comm.dbt.machinery-monitoring.com 

TestTenant - t102218343 - test.dbt.machinery-monitoring.com 

TestTenant - t102904814 - tenan.dbt.machinery-monitoring.com 

TestTenant - t102912790 - tenant.dbt.machinery-monitoring.com 

TestTenant - t102913076 - ten.dbt.machinery-monitoring.com 

TestTenant01 - t105110804 - tests.dbt.machinery-monitoring.com 

TestTenant01 - t105172562 - gom.dbt.machinery-monitoring.com 

TestTenant02 - t105110806 - sds.dbt.machinery-monitoring.com 

TestTenant05 - t104621745 - hgh.dbt.machinery-monitoring.com 

TestTenant06 - t104802732 - sdh.dbt.machinery-monitoring.com 

TestTenant1 - t105444015 - fgsdf.dbt.machinery-monitoring.com 

TestTenant2 - t105444022 - sdrfg.dbt.machinery-monitoring.com 

TestTenant3 - t105444317 - sfgf.dbt.machinery-monitoring.com 

TestTenantEaton1 - t106760630 - xfzdf.dbt.machinery-monitoring.com 

TestTetant - t103185415 - xyz.dbt.machinery-monitoring.com 

testttenant - t103185290 - tenant3.dbt.machinery-monitoring.com"
Defect,CSOIOT-4225,Please enable weak cipher on eu-latest,Autosen GmbH 7516454,800,Closed,"Herzog, Christian","Lisik, Milosz (External)",8/10/22 8:35,Customer,3/8/23 10:16,,,2-High,3-Medium,"Our device partner and customer Autosen wants to certify their hardware devices. Our certification tool is hosted on a tenant [https://devicecertification.eu-latest.cumulocity.com/] running on on eu-latest. 

Autosen cannot register their devices on this tenant, since their devices use weak ciphers that are disabled. Therefore please set the supported ciphers to the same as on [Cumulocity.com|http://cumulocity.com/] / ema / us instances. We officially re-enabled weak ciphers with 10.11 ([https://cumulocity.com/releasenotes/release-10-11-0/announcements-10-11-0/]).  

 "
Defect,CSOIOT-4184,question to APJ.cumulocity.com update to version 10.13. planned for 26.07.22,MIOT PTY LTD 7516856,801,Closed,"Herzog, Christian","Pham, Hoang",8/1/22 10:57,Customer,3/8/23 10:21,,,3-Medium,None,"MIOT PTY LTD Engineering have requested to confirm if any changes are required to ensure no down-time is experienced. They are concerned that we have experienced outages twice already due to our ciphers being disabled, so wanted to double check to ensure no changes were required by us prior to this change."
Defect,CSOIOT-4183,[CUMoNoSU] Disaster happens in CEP and microservice.,"Micro Technology Co., Ltd. 7515608",801,Closed,"Bhatt, Vikas","Fuso, Luca",8/9/22 9:14,Customer,5/21/23 6:04,11-Aug-22,,1-Critical,1-Critical,"Customer has raised this Crisis issue. 

Tenant URL: https://management.cumonosu.com 
Environment managed by C8Y Ops 

Since all of the CEP and microservices in our platform CUMoNoSU (Cumulocity IoT) does not work, the disaster is happening. Could you please look at it as soon as possible? 

This is Crisis situation for customer in PROD because the function of CEP and microservice is currently stopping and is severely damaging the customer business."
Defect,CSOIOT-4172,SDK Exception affecting microservices,"ACCIONA, S.A. 7507201",804,Closed,"Bhatt, Vikas","Korolev, Ivan",8/22/22 11:16,Customer,3/8/23 10:40,22-Aug-22,,3-Medium,3-Medium,"C8Y Instance: PROD (*.cumulocity.com) 
Tenant: https://zeroiot.cumulocity.com/ 
Version: 10.11.0.19 

Customer noticed a new kind of exception popping up in their microservice logs. The microservices are generally working fine but they fail from time to time with the line showed in the image below. 
All the microservices work as a provider REST API using springboot, and they call regularly to the Cumulocity API in order to provide various services. 
They would like to know why are they getting generated and how to avoid them. 

Please refer the attached screenshots for errors. 
!imagen-1.png! 
!imagen-2.png! 

*Full exception*:- 
--------------------------------------- 
_com.cumulocity.sdk.client.SDKException: Error invoking GET http://cumulocity:8111/application/currentApplication 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.handleException(CurrentMicroserviceRepository.java:100) ~[microservice-subscription-9.8.0.jar!/:na] 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getApplication(CurrentMicroserviceRepository.java:61) ~[microservice-subscription-9.8.0.jar!/:na] 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.register(CurrentMicroserviceRepository.java:46) ~[microservice-subscription-9.8.0.jar!/:na] 
at com.cumulocity.microservice.subscription.repository.MicroserviceSubscriptionsRepository.register(MicroserviceSubscriptionsRepository.java:98) ~[microservice-subscription-9.8.0.jar!/:na] 
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionsServiceImpl.subscribe(MicroserviceSubscriptionsServiceImpl.java:109) ~[microservice-subscription-9.8.0.jar!/:na] 
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionScheduler$1.run(MicroserviceSubscriptionScheduler.java:66) [microservice-subscription-9.8.0.jar!/:na] 
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_212] 
at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_212] 
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_212] 
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_212] 
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_212] 
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_212] 
at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212] 
Caused by: com.cumulocity.sdk.client.SDKException: Http status code: 500 
Something went wrong. Failed to parse error message. 
at com.cumulocity.sdk.client.ResponseParser.checkStatus(ResponseParser.java:74) ~[java-client-9.8.0.jar!/:na] 
at com.cumulocity.sdk.client.ResponseParser.parse(ResponseParser.java:56) ~[java-client-9.8.0.jar!/:na] 
at com.cumulocity.sdk.client.RestConnector.get(RestConnector.java:119) ~[java-client-9.8.0.jar!/:na] 
at com.cumulocity.microservice.subscription.repository.application.CurrentApplicationApi.get(CurrentApplicationApi.java:22) ~[microservice-subscription-9.8.0.jar!/:na] 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getApplication(CurrentMicroserviceRepository.java:59) ~[microservice-subscription-9.8.0.jar!/:na] 
... 11 common frames omitted_ 
-------------------------------------- 

"
Defect,CSOIOT-4160,"Need to change Dremio setting ""limits.single_field_size_bytes"" on SBD instance.",Stanley Black and Decker 7513816,807,Closed,"Talbert, Kent","Janus, Bartosz",7/19/22 12:40,Customer,3/9/23 10:00,,,3-Medium,None,"SBD instance. 

  

From Datahub log: 

  
{noformat} 
2022-07-18 21:49:30.925 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0193 - Validating offloading configuration OffloadingConfiguration(uuid=bdd7c432-1761-4955-b6a0-2784dbedca41, taskName=inventory, description=Offloading%20of%20%22inventory%22%20data%20to%20the%20table%20%22inventory%22%20in%20the%20datalake., dremioTargetSourceName=inventory, legacyAdditionalSelectColumns=null, additionalSelectColumns=[], additionalFilterConditions=, cronExpression=0 H * ? * * *, isDefaultCronExpression=null, selectStatement= 
CREATE TABLE ${target} HASH PARTITION BY (""YEAR"", ""MONTH"", ""DAY"") AS ( 
     SELECT _id AS id, 
            src.creationTime.""date"" AS creationTime, 
            CAST(src.creationTime.""offset"" AS INT) AS creationTimeOffset, 
            TIMESTAMPADD(MINUTE, CAST(src.""creationTime"".""offset"" AS INT), src.""creationTime"".""date"") AS ""creationTimeWithOffset"", 
            src.lastUpdated.""date"" AS lastUpdated, 
            CAST(src.lastUpdated.""offset"" AS INT) AS lastUpdatedOffset, 
            TIMESTAMPADD(MINUTE, CAST(src.""lastUpdated"".""offset"" AS INT), src.""lastUpdated"".""date"") AS ""lastUpdatedWithOffset"", 
            lpad(CAST(extract(YEAR from src.lastUpdated.""date"") AS VARCHAR), 4, '0') AS ""YEAR"",  
            lpad(CAST(extract(MONTH from src.lastUpdated.""date"") AS VARCHAR), 2, '0') AS ""MONTH"",  
            lpad(CAST(extract(DAY from src.lastUpdated.""date"") AS VARCHAR), 2, '0') AS ""DAY"",  
            name, 
            owner, 
            type, 
            childDevices, 
            childAssets, 
            CASE WHEN((convert_from(convert_to(""_fragments"", 'JSON'), 'UTF8')) like '%""c8y_IsDevice""%') THEN true                   ELSE false END as c8y_IsDevice, 
             CASE WHEN(""type""='c8y_DeviceGroup') then true ELSE False END as c8y_IsDeviceGroup             ${additional_select_columns}  
       FROM ${source} src 
      WHERE ${watermark_condition}  
        AND ( type IS NULL OR  
              NOT ( ((type >= 'c8y_applications_' AND type < 'c8y_applications`')  
                           OR (type >= 'c8y_microservice_manifest_' AND type < 'c8y_microservice_manifest`')  
                           OR (type >= 'c8y_Application_' AND type < 'c8y_Application`')) 
                 OR (type IN ('c8y_Tenant', 'c8y_SmartRule', 'application/javascript', 'c8y_UserPreference', 'c8y_upload')) 
              ) 
        ) 
        AND ( _fragments IS NULL OR  
              NOT (CAST(convert_from(convert_to(""_fragments"", 'JSON'), 'UTF8') as VARCHAR) LIKE '%""c8y\_IsBinary""%' ESCAPE '\'   
                           OR CAST(convert_from(convert_to(""_fragments"", 'JSON'), 'UTF8') as VARCHAR) LIKE '%""c8y\_Dashboard""%' ESCAPE '\'   
                           OR CAST(convert_from(convert_to(""_fragments"", 'JSON'), 'UTF8') as VARCHAR) LIKE '%""com\_cumulocity\_model\_smartrest\_SmartRestTemplate""%' ESCAPE '\'   
                           OR CAST(convert_from(convert_to(""_fragments"", 'JSON'), 'UTF8') as VARCHAR) LIKE '%""c8y\_CepAgent ""%' ESCAPE '\' ) 
        )  
        AND (${additional_filter_conditions}) 
    AND (${additional_filter_conditions}) 
), isDefaultSelectStatement=null, mongoDBCollectionName=cmdata, measurementType=null, format=DATA_HUB, dbEntityVersion=v2021_08_03_12_00, status=OffloadingConfigurationStatus(isScheduled=false, isSaved=false, cronDescription=null, errors=[])) 
2022-07-18 21:49:30.926 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0180 - Retrieved tenant TenantProperties(creationTimestamp=1658166595248, adlsProperties=ADLSProperties(accountName=null, clientId=null, clientKeyRefreshUrl=null, clientKeyPassword=<password>, rootPath=null, enableAsync=false, propertyList=[]), s3Properties=S3Properties(accessKey=AKIATDKSSXXVGP56X3MH, accessSecret=<password>, bucketName=sbd-c8y-datahub, enableAsync=true, rootPath=ngbr-dev, compatibilityMode=false, propertyList=[]), nasProperties=NASProperties(path=null), azureStorageProperties=AzureStorageProperties(accountKind=STORAGE_V2, accountName=null, accessKey=<password>, container=, enableAsync=false, rootPath=/, propertyList=[]), hdfsProperties=HDFSProperties(host=null, port=0, enableImpersonation=false, allowVdsBasedAccessDelegation=true, impersonationUserDelegation=AS_IS, enableAsync=false, enableExports=false, rootPath=null, shortCircuitLocalReads=DISABLED, propertyList=[]), sinkType=S3, accountProperties=DremioAccountProperties(accountName=t9763259/user, firstName=null, lastName=t9763259/user, email=null, accountPassword=<password>), dbEntityVersion=v2021_08_03_12_00, tenantName=t9763259) 
2022-07-18 21:49:31.083 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0179 - Retrieving tenant properties 
2022-07-18 21:49:31.083 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0179 - Retrieving tenant properties 
2022-07-18 21:49:31.084 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0180 - Retrieved tenant TenantProperties(creationTimestamp=1658166595248, adlsProperties=ADLSProperties(accountName=null, clientId=null, clientKeyRefreshUrl=null, clientKeyPassword=<password>, rootPath=null, enableAsync=false, propertyList=[]), s3Properties=S3Properties(accessKey=AKIATDKSSXXVGP56X3MH, accessSecret=<password>, bucketName=sbd-c8y-datahub, enableAsync=true, rootPath=ngbr-dev, compatibilityMode=false, propertyList=[]), nasProperties=NASProperties(path=null), azureStorageProperties=AzureStorageProperties(accountKind=STORAGE_V2, accountName=null, accessKey=<password>, container=, enableAsync=false, rootPath=/, propertyList=[]), hdfsProperties=HDFSProperties(host=null, port=0, enableImpersonation=false, allowVdsBasedAccessDelegation=true, impersonationUserDelegation=AS_IS, enableAsync=false, enableExports=false, rootPath=null, shortCircuitLocalReads=DISABLED, propertyList=[]), sinkType=S3, accountProperties=DremioAccountProperties(accountName=t9763259/user, firstName=null, lastName=t9763259/user, email=null, accountPassword=<password>), dbEntityVersion=v2021_08_03_12_00, tenantName=t9763259) 
2022-07-18 21:49:31.084 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0180 - Retrieved tenant TenantProperties(creationTimestamp=1658166595248, adlsProperties=ADLSProperties(accountName=null, clientId=null, clientKeyRefreshUrl=null, clientKeyPassword=<password>, rootPath=null, enableAsync=false, propertyList=[]), s3Properties=S3Properties(accessKey=AKIATDKSSXXVGP56X3MH, accessSecret=<password>, bucketName=sbd-c8y-datahub, enableAsync=true, rootPath=ngbr-dev, compatibilityMode=false, propertyList=[]), nasProperties=NASProperties(path=null), azureStorageProperties=AzureStorageProperties(accountKind=STORAGE_V2, accountName=null, accessKey=<password>, container=, enableAsync=false, rootPath=/, propertyList=[]), hdfsProperties=HDFSProperties(host=null, port=0, enableImpersonation=false, allowVdsBasedAccessDelegation=true, impersonationUserDelegation=AS_IS, enableAsync=false, enableExports=false, rootPath=null, shortCircuitLocalReads=DISABLED, propertyList=[]), sinkType=S3, accountProperties=DremioAccountProperties(accountName=t9763259/user, firstName=null, lastName=t9763259/user, email=null, accountPassword=<password>), dbEntityVersion=v2021_08_03_12_00, tenantName=t9763259) 
2022-07-18 21:49:31.262 [              pool-25-thread-1]  INFO        AbstractCDHJob - CDHCBEI0023 - Running sql SELECT 1 FROM ""t9763259~c8ySpace"".""cmdataVDS"" LIMIT 1 
2022-07-18 21:49:31.361 [              pool-25-thread-1]  INFO        AbstractCDHJob - CDHCBEI0023 - Running sql CREATE VDS ""t9763259~c8ySpace"".""cmdataVDS"" AS SELECT * FROM ""c8y_source"".""t9763259"".cmdata 
2022-07-18 21:49:31.473 [     vert.x-eventloop-thread-0] ERROR   TenantManagerHelper - CDHCBEE0306 - Failed to compute offloading configuration preview. 
org.quartz.JobExecutionException: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Field 'html' exceeds the size limit of 32000 bytes.fieldName html 
size 189082 
limit 32000[Error Id: 525591a7-e637-4053-bc67-2edf5495a755 on dremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local:31010] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:377) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:341) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.vdsWasNonEmptyOrCreated(AbstractCTASJob.java:336) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.sourceVDSWasNonEmptyOrCreated(AbstractCTASJob.java:290) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.sourceVDSWasNonEmptyOrCreated(AbstractCTASJob.java:285) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.TimestampBasedCTASJob.executeInternal(TimestampBasedCTASJob.java:101) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.execute(AbstractCTASJob.java:85) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.preview(AbstractCTASJob.java:126) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.tenantmanager.TenantManagerHelper.lambda$null$0(TenantManagerHelper.java:160) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_302] 
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_302] 
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_302] 
    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_302] 
Caused by: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Field 'html' exceeds the size limit of 32000 bytes.fieldName html 
size 189082 
limit 32000[Error Id: 525591a7-e637-4053-bc67-2edf5495a755 on dremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local:31010] 
    at com.dremio.jdbc.impl.DremioCursor.nextRowInternally(DremioCursor.java:542) ~[?:?] 
    at com.dremio.jdbc.impl.DremioCursor.loadInitialSchema(DremioCursor.java:628) ~[?:?] 
    at com.dremio.jdbc.impl.DremioResultSetImpl.execute(DremioResultSetImpl.java:1883) ~[?:?] 
    at com.dremio.jdbc.impl.DremioResultSetImpl.execute(DremioResultSetImpl.java:59) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:667) ~[?:?] 
    at com.dremio.jdbc.impl.DremioMetaImpl.prepareAndExecute(DremioMetaImpl.java:184) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:675) ~[?:?] 
    at com.dremio.jdbc.impl.DremioConnectionImpl.prepareAndExecuteInternal(DremioConnectionImpl.java:128) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:156) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:227) ~[?:?] 
    at com.dremio.jdbc.impl.DremioStatementImpl.executeQuery(DremioStatementImpl.java:108) ~[?:?] 
    at com.softwareag.cdh.console.scheduler.jobs.RetryHandler$RetryingStatement.executeQuery(RetryHandler.java:45) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCDHJob.executeQuery(AbstractCDHJob.java:127) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:355) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    ... 12 more 
Caused by: cdjd.com.dremio.common.exceptions.UserRemoteException: UNSUPPORTED_OPERATION ERROR: Field 'html' exceeds the size limit of 32000 bytes.fieldName html 
size 189082 
limit 32000[Error Id: 525591a7-e637-4053-bc67-2edf5495a755 on dremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local:31010] 
    at cdjd.com.dremio.common.exceptions.UserRemoteException.create(UserRemoteException.java:94) ~[?:?] 
    at cdjd.com.dremio.sabot.rpc.user.QueryResultHandler.resultArrived(QueryResultHandler.java:122) ~[?:?] 
    at cdjd.com.dremio.sabot.rpc.user.UserClient.handleReponse(UserClient.java:174) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.BasicClientWithConnection.handle(BasicClientWithConnection.java:56) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.BasicClientWithConnection.handle(BasicClientWithConnection.java:33) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus.handle(RpcBus.java:85) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$RequestEvent.run(RpcBus.java:464) ~[?:?] 
    at cdjd.com.dremio.common.SerializedExecutor$RunnableProcessor.run(SerializedExecutor.java:96) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$SameExecutor.execute(RpcBus.java:330) ~[?:?] 
    at cdjd.com.dremio.common.SerializedExecutor.execute(SerializedExecutor.java:129) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$InboundHandler.decode(RpcBus.java:364) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$InboundHandler.decode(RpcBus.java:335) ~[?:?] 
    at cdjd.io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[?:?] 
    at cdjd.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[?:?] 
    at cdjd.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:321) ~[?:?] 
    at cdjd.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:295) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[?:?] 
    at cdjd.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[?:?] 
    at cdjd.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[?:?] 
    at cdjd.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[?:?] 
    at cdjd.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[?:?] 
    ... 1 more 
2022-07-18 21:49:31.489 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0180 - Retrieved tenant TenantProperties(creationTimestamp=1658166595248, adlsProperties=ADLSProperties(accountName=null, clientId=null, clientKeyRefreshUrl=null, clientKeyPassword=<password>, rootPath=null, enableAsync=false, propertyList=[]), s3Properties=S3Properties(accessKey=AKIATDKSSXXVGP56X3MH, accessSecret=<password>, bucketName=sbd-c8y-datahub, enableAsync=true, rootPath=ngbr-dev, compatibilityMode=false, propertyList=[]), nasProperties=NASProperties(path=null), azureStorageProperties=AzureStorageProperties(accountKind=STORAGE_V2, accountName=null, accessKey=<password>, container=, enableAsync=false, rootPath=/, propertyList=[]), hdfsProperties=HDFSProperties(host=null, port=0, enableImpersonation=false, allowVdsBasedAccessDelegation=true, impersonationUserDelegation=AS_IS, enableAsync=false, enableExports=false, rootPath=null, shortCircuitLocalReads=DISABLED, propertyList=[]), sinkType=S3, accountProperties=DremioAccountProperties(accountName=t9763259/user, firstName=null, lastName=t9763259/user, email=null, accountPassword=<password>), dbEntityVersion=v2021_08_03_12_00, tenantName=t9763259) 
2022-07-18 21:49:31.560 [              pool-26-thread-1]  INFO        AbstractCDHJob - CDHCBEI0023 - Running sql SELECT 1 FROM ""t9763259~c8ySpace"".""cmdataVDS"" LIMIT 1 
2022-07-18 21:49:31.661 [              pool-26-thread-1]  INFO        AbstractCDHJob - CDHCBEI0023 - Running sql CREATE VDS ""t9763259~c8ySpace"".""cmdataVDS"" AS SELECT * FROM ""c8y_source"".""t9763259"".cmdata 
2022-07-18 21:49:31.760 [     vert.x-eventloop-thread-0] ERROR   TenantManagerHelper - CDHCBEE0306 - Failed to compute offloading configuration preview. 
org.quartz.JobExecutionException: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Field 'icon' exceeds the size limit of 32000 bytes.fieldName icon 
size 41118 
limit 32000[Error Id: 51d2fc69-8303-4faf-97b6-cdaf27b6c131 on dremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local:31010] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:377) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:341) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.vdsWasNonEmptyOrCreated(AbstractCTASJob.java:336) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.sourceVDSWasNonEmptyOrCreated(AbstractCTASJob.java:290) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.sourceVDSWasNonEmptyOrCreated(AbstractCTASJob.java:285) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.TimestampBasedCTASJob.executeInternal(TimestampBasedCTASJob.java:101) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.execute(AbstractCTASJob.java:85) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.preview(AbstractCTASJob.java:126) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.tenantmanager.TenantManagerHelper.lambda$null$0(TenantManagerHelper.java:160) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_302] 
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_302] 
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_302] 
    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_302] 
Caused by: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Field 'icon' exceeds the size limit of 32000 bytes.fieldName icon 
size 41118 
limit 32000[Error Id: 51d2fc69-8303-4faf-97b6-cdaf27b6c131 on dremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local:31010] 
    at com.dremio.jdbc.impl.DremioCursor.nextRowInternally(DremioCursor.java:542) ~[?:?] 
    at com.dremio.jdbc.impl.DremioCursor.loadInitialSchema(DremioCursor.java:628) ~[?:?] 
    at com.dremio.jdbc.impl.DremioResultSetImpl.execute(DremioResultSetImpl.java:1883) ~[?:?] 
    at com.dremio.jdbc.impl.DremioResultSetImpl.execute(DremioResultSetImpl.java:59) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:667) ~[?:?] 
    at com.dremio.jdbc.impl.DremioMetaImpl.prepareAndExecute(DremioMetaImpl.java:184) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:675) ~[?:?] 
    at com.dremio.jdbc.impl.DremioConnectionImpl.prepareAndExecuteInternal(DremioConnectionImpl.java:128) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:156) ~[?:?] 
    at cdjd.org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:227) ~[?:?] 
    at com.dremio.jdbc.impl.DremioStatementImpl.executeQuery(DremioStatementImpl.java:108) ~[?:?] 
    at com.softwareag.cdh.console.scheduler.jobs.RetryHandler$RetryingStatement.executeQuery(RetryHandler.java:45) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCDHJob.executeQuery(AbstractCDHJob.java:127) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:355) ~[cdh-console-backend-10.11.0.4-v0086.jar:10.11.0.0004-0086] 
    ... 12 more 
Caused by: cdjd.com.dremio.common.exceptions.UserRemoteException: UNSUPPORTED_OPERATION ERROR: Field 'icon' exceeds the size limit of 32000 bytes.fieldName icon 
size 41118 
limit 32000[Error Id: 51d2fc69-8303-4faf-97b6-cdaf27b6c131 on dremio-master-0.dremio-cluster-pod.stanleybd-multinode-prod-cdh.svc.cluster.local:31010] 
    at cdjd.com.dremio.common.exceptions.UserRemoteException.create(UserRemoteException.java:94) ~[?:?] 
    at cdjd.com.dremio.sabot.rpc.user.QueryResultHandler.resultArrived(QueryResultHandler.java:122) ~[?:?] 
    at cdjd.com.dremio.sabot.rpc.user.UserClient.handleReponse(UserClient.java:174) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.BasicClientWithConnection.handle(BasicClientWithConnection.java:56) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.BasicClientWithConnection.handle(BasicClientWithConnection.java:33) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus.handle(RpcBus.java:85) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$RequestEvent.run(RpcBus.java:464) ~[?:?] 
    at cdjd.com.dremio.common.SerializedExecutor$RunnableProcessor.run(SerializedExecutor.java:96) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$SameExecutor.execute(RpcBus.java:330) ~[?:?] 
    at cdjd.com.dremio.common.SerializedExecutor.execute(SerializedExecutor.java:129) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$InboundHandler.decode(RpcBus.java:364) ~[?:?] 
    at cdjd.com.dremio.exec.rpc.RpcBus$InboundHandler.decode(RpcBus.java:335) ~[?:?] 
    at cdjd.io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[?:?] 
    at cdjd.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[?:?] 
    at cdjd.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:321) ~[?:?] 
    at cdjd.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:295) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[?:?] 
    at cdjd.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[?:?] 
    at cdjd.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[?:?] 
    at cdjd.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[?:?] 
    at cdjd.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[?:?] 
    at cdjd.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[?:?] 
    at cdjd.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[?:?] 
    at cdjd.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[?:?] 
    ... 1 more 
2022-07-18 21:49:31.783 [     vert.x-eventloop-thread-0]  INFO     TenantManagerImpl - CDHCBEI0180 - Retrieved tenant TenantProperties(creationTimestamp=1658166595248, adlsProperties=ADLSProperties(accountName=null, clientId=null, clientKeyRefreshUrl=null, clientKeyPassword=<password>, rootPath=null, enableAsync=false, propertyList=[]), s3Properties=S3Properties(accessKey=AKIATDKSSXXVGP56X3MH, accessSecret=<password>, bucketName=sbd-c8y-datahub, enableAsync=true, rootPath=ngbr-dev, compatibilityMode=false, propertyList=[]), nasProperties=NASProperties(path=null), azureStorageProperties=AzureStorageProperties(accountKind=STORAGE_V2, accountName=null, accessKey=<password>, container=, enableAsync=false, rootPath=/, propertyList=[]), hdfsProperties=HDFSProperties(host=null, port=0, enableImpersonation=false, allowVdsBasedAccessDelegation=true, impersonationUserDelegation=AS_IS, enableAsync=false, enableExports=false, rootPath=null, shortCircuitLocalReads=DISABLED, propertyList=[]), sinkType=S3, accountProperties=DremioAccountProperties(accountName=t9763259/user, firstName=null, lastName=t9763259/user, email=null, accountPassword=<password>), dbEntityVersion=v2021_08_03_12_00, tenantName=t9763259) 
{noformat} 
See the following iTrac for the same issue:   https://itrac.eur.ad.sag/browse/CSOIOT-921 

Please do the following workaround for this issue: 

change that maximum value.  Log in to Dremio as admin. 

go to the Admin menu, 

then Support 

add the key ""limits.single_field_size_bytes"" and set it to 500000 

  

 "
Defect,CSOIOT-4159,DKIM Setup for Solenis domain,Solenis LLC 7512378,807,Closed,"Talbert, Kent","Abdul Majid, Mohd Shahmi",8/11/22 16:43,Customer,3/9/23 10:01,,,3-Medium,None,"DE instance managed by Ops.  Instance is iot.solenis.com 

From customer: 

We need to setup DKIM signing for [iot.solenis.com|http://iot.solenis.com/] through Cumulocity. 

Can we configure DKIM for outbound email sender verification?"
Defect,CSOIOT-4153,cumulocity.com Apama-ctrl-starter microservice issue,Novatec Consulting GmbH 7504085,808,Closed,"Herzog, Christian","Janus, Bartosz",7/19/22 15:13,Customer,3/9/23 10:05,,,3-Medium,None,"On cumulocity.com there are problems with Apama-ctrl-starter microservice, e.g. Tenant ID: t1193284614 
Unable to load models. Make sure that the Apama microservice is active and subscribed. Status code: 502 Unexpected error at server. Filtering functionality might not work. Please contact support. Status code: 502 

On management tenant I see on: [http://localhost:8111/apps/administration/index.html#/applications/26609/status] Microservice 'apama-ctrl-starter' is down 18 Jul 2022, 08:21:23    STATUS ACTIVE: triggered a few seconds ago{*}Type{*} c8y_Application_Down{*}Owner{*} ""management""{*}Tenants{*} [ ""t224633368"" ]{*}Last updated{*} ""2022-07-18T06:21:23.867Z"" Can someone please restart this MS Apama-ctrl-starter or should I try this? 
  
Comment Arkadiusz Bieniak: 
it restarts frequently 
[apama-ctrl]  2022-07-18 06:27:08.022 ERROR [main] org.springframework.boot.SpringApplication.reportFailure - Application run failed com.cumulocity.sdk.client.SDKException: Failed to load current microservice. Microservice must be configured before running the SDK, please contact administratoralmost 25k restarts in 100d of live of this MS 
looking at restarts I don't think another one would help 
would unsub/sub fix epl issues? (if they are the problem)"
Defect,CSOIOT-4152,Mandanten umhängen,Hans Turck GmbH & Co. KG 7520183,808,Closed,"Welsing, Michael","Vukman, Tomislav",8/1/22 10:14,Customer,3/9/23 10:06,,,3-Medium,None,"As discussed on Google Chats the task to put two tenants under the owenership of a another tenant. 

*Original customer request:* 

""Guten Tag, 

durch Anfangs ein Test Mandanten mit Untermandaten, möchten wir jetzt gerne die Untermandaten umhängen, da wir jetzt ein produktiv Mandanten besitzen. Laut unserem Customer Success Manager von SoftwareAG kann ich dieses über ein solches Ticket hier beantragen. 

Hier alle Details: 

Jetziger Zustand 

t53986239 (Test Mandant) 
* t74262079 ([turck-dev2.emea.cumulocity.com|http://turck-dev2.emea.cumulocity.com/]) 
* t55172995 ([turck-dev.emea.cumulocity.com|http://turck-dev.emea.cumulocity.com/]) 

Die beiden Untermandaten in diesen Mandant einhängen: 

t89372071 ([https://turck-admin.emea.cumulocity.com)|https://turck-admin.emea.cumulocity.com)/] 

Bei Fragen stehe ich gerne zur Verfügung. 

Danke für die Unterstützung"" 

*Translation:* 

""Both subtenants 
* t74262079 ([turck-dev2.emea.cumulocity.com|http://turck-dev2.emea.cumulocity.com/]) 
* t55172995 ([turck-dev.emea.cumulocity.com|http://turck-dev.emea.cumulocity.com/]) 

shall move from t53986239 to t89372071."""
Defect,CSOIOT-4150,Issues connecting to microservices - smart,Kemin Europa 7517950,810,Completed,"Talbert, Kent","Louden, Timothy",7/16/22 0:00,Customer,3/9/23 10:08,,,2-High,None,"*Necessary iTrac information (Please remove those items not applicable)* 
*Affected system* 

SAG Cloud region: FRA Prod 

Domain: cumulocity.com 

Version: 10.11.0.19 

*Affected tenant* 

Tenant:  System-wide issue. 

*Time period error was observed:* 
* Start: ongoing. 
* Repeatability:  seen 30% of the time 

*Description of the Problem:* 

We have issues reaching our microservices: almost 30% of the calls get a “502 Bad Gateway” exception. It’s not related to our custom microservices, all microservices have this issue. 

This issue is already around for more than 4 hours. 

Example: If you try to reach the smartrule microservice, also 30% of the calls are failing. example url: [https://management.emea.keminconnect.com/service/smartrule/smartrules] 

We checked the [https://status.cumulocity.com/] status page, but of course, all statuses are green, no hickups reported. But we experience this already several hours!!! 

It’s on all our tenants on the HOSTED CLOUD: 

t1053843873 
t1070694369 
t1070673080 
t1110987792 
t1132225176 
t271952118 
t1446302684 
t721899389 
t789132470 
t789546043 
t1132049816 

------------------------------ 

Seeing the following errors: 

{""message"":""smartrule-scope-management.cumulocity-multinode-central-1-Name or service not known"",""error"":""general/internalError"",""info"":""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting""} 

  

Seems to be a similar issue to [https://itrac.eur.ad.sag/browse/CSOIOT-1150]"
Defect,CSOIOT-4149,LWM2M Configuration - Itron instance,"Itron, Inc. 7518541",810,Closed,"Talbert, Kent","Louden, Timothy",8/10/22 16:15,Customer,5/3/23 6:03,,,2-High,None,"Itron instance 

  

This is related to iTrac:  [[IOT-14316] lwm2m- Connectivity problems with Urban Control Devices - iTrac (ad.sag)|https://itrac.eur.ad.sag/browse/IOT-14316] 

  

*Real-time problems and how to fix this* 

[~bggov]  has identified this problem in the LWM2M agent logs. It manifests in log lines like this: 
{code:java} 
c.c.s.c.notification.SubscriberImpl      : Not Connected for channel /17505 and ClientId 
2022-07-05 22:30:59.199 ERROR 14774 --- [CumulocityLongPollingTransport-scheduler-2] erImpl$LoggingSubscribeOperationListener : Error when subscribing channel: /17505, error: 402::Unknown client{code} 
This is a well-known issue we've seen with Cumulocity core before: It happens if a long-polling request hits a different core node that was used to set up the subscription. The two most common reasons are the following: 
# The LWM2M Agent is misconfigured and its baseURL does not point to either a static core node or points to a LB with an invalid configuration, leading to realtime requests being rotated in a round-robin fashion. 
# One or more core nodes are unhealthy and the LB takes them out of scheduling, resulting in such requests being rotated between nodes. 

*Next steps: Operations need to take a look here!* 

This ticket needs to get handed over to Operations, with the kind ask to check the following two things: 
# Is the baseURL LWM2M configured correctly configured? (static core node or a LB that routes realtime requests always to the same core node) 
# Are there any sign if core nodes being unhealthy or not working accordingly?"
Defect,CSOIOT-4148,Delete tenant,Hans Turck GmbH & Co. KG 7520183,810,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",7/20/22 10:09,Customer,3/9/23 10:12,,,3-Medium,None,"Please delete tenant turckelectronics.emea.cumulocity.com - t53985607 

  

This was requested by David Bönisch  - [David.Boenisch@turck.com|mailto:David.Boenisch@turck.com] 

  

Please let me know if you need any other information. 

  

Thanks, 

Kent"
User Story,CSOIOT-4107,CLONE - Telstra: CBOR decoder is not available after Agent upgrade in DEV,Telstra Corporation Limited 7514912,814,Completed,"Lundsten, Alf","Lundsten, Alf",7/11/22 12:21,Customer,7/11/22 12:21,,telstra,2-High,None,"Tenant: SpireMT 

Environment: Dev 

We have received a customer complaint regarding CBOR decoder availability in DEV. We can confirm tenant has been subscribed to CBOR application. We also unsubscribed and subscribed the application from malmanagement tenant and status is showing active (attached screenshot) but in the object file the decoder is not available (attached screenshot) 

Please look into this urgently 

Follow up questions: 
# After agent upgrade was there any health checks done to pick that up? If no can this be included in future 
# Was there any alarm received or can we set an alarm so that we know if the application status is unhealthy before customer complaints 

We have checked other tenants and we believe it is widespread across whole dev environment 

Please let us know if you need more information"
Defect,CSOIOT-4094,Hanging OffLoad jobs,Mohawk International Services BV 7518646,818,Closed,"Welsing, Michael",Unassigned,7/11/22 11:53,Customer,3/9/23 12:52,,,1-Critical,None,In the datahub offloading page we have jobs that appear to be hanging. Currently some PR jobs are blocked.
Defect,CSOIOT-4093,"UDP traffic errors - ""Name or service not known""",Atos IT Solutions and Services d.o.o. 7517414,819,Closed,"Neale, Robert","Louden, Timothy",7/6/22 17:20,Customer,2/16/23 17:31,6-Jul-22,,1-Critical,1-Critical,"Today Customer reported troubles in traffic between clients and Cumulocity IOT 

Errors are : 

From Client trace log : “Name or service not known” 

From Core error.log : “Cannot connect to cep server or error from cep server!” 

Solution needed ASAP 

BR 

Joe 

Client trace log : 

2022-07-06 14:53:48,622 [ 1] ERROR Cumulocity - Unable to create Cumulocity Alarm. Exception: System.AggregateException: One or more errors occurred. (Name or service not known) 
---> System.Net.Http.HttpRequestException: Name or service not known 
---> System.Net.Sockets.SocketException (0xFFFDFFFF): Name or service not known 
2022-07-06 14:54:39,025 [ 1] ERROR Worker - [GetAdapterObjectOnManagementTenant] ERROR: System.AggregateException: One or more errors occurred. (Name or service not known) 
---> System.Net.Http.HttpRequestException: Name or service not known 
---> System.Net.Sockets.SocketException (0xFFFDFFFF): Name or service not known 

Core log : 

2022-07-06 14:59:07[cep-management-3] - t14074159/internal_call | RemoteComplexEventProcessorImpl | 56 - com.nsn.cumulocity.platform-services.cep-management.service - 1006.6.6 | ERROR Cannot connect to cep server or error from cep server! For tenant t14074159. Cause: Cep server response error: \{""message"":""Dropping request as the correlator is not yet started or service is unsubscribed""} 
2022-07-06 14:59:08[cep-management-6] - t3118938/internal_call | BaseCepRequest | 56 - com.nsn.cumulocity.platform-services.cep-management.service - 1006.6.6 | INFO Cep server returned not correct status: 503, tenant: t3118938 
2022-07-06 14:59:08[cep-management-6] - t3118938/internal_call | RemoteComplexEventProcessorImpl | 56 - com.nsn.cumulocity.platform-services.cep-management.service - 1006.6.6 | ERROR Cannot connect to cep server or error from cep server! For tenant t3118938. Cause: Cep server response error: \{""message"":""Dropping request as the correlator is not yet started or service is unsubscribed""} 
2022-07-06 14:59:17[cep-management-7] - t14074159/internal_call | BaseCepRequest | 56 - com.nsn.cumulocity.platform-services.cep-management.service - 1006.6.6 | INFO Cep server returned not correct status: 503, tenant: t14074159 
2022-07-06 14:59:17[cep-management-7] - t14074159/internal_call | RemoteComplexEventProcessorImpl | 56 - com.nsn.cumulocity.platform-services.cep-management.service - 1006.6.6 | ERROR Cannot connect to cep server or error from cep server! For tenant t14074159. Cause: Cep server response error: \{""message"":""Dropping request as the correlator is not yet started or service is unsubscribed""} 
2022-07-06 14:59:18[cep-management-5] - t3118938/internal_call | BaseCepRequest | 56 - com.nsn.cumulocity.platform-services.cep-management.service - 1006.6.6 | INFO Cep server returned not correct status: 503, tenant: t3118938 
2022-07-06 14:59:18[cep-management-5] - t3118938/internal_call | RemoteComplexEventProcessorImpl | 56 - com.nsn.cumulocity.platform-services.cep-management.service - 1006.6.6 | ERROR Cannot connect to cep server or error from cep server! For tenant t3118938. Cause: Cep server response error: \{""message"":""Dropping request as the correlator is not yet started or service is unsubscribed""}"
Defect,CSOIOT-4083,CLONE - SMART RULES ACTIVE caused the OVERLOAD of the CEP engine,CompAir Drucklufttechnik 7515080,819,Closed,"Vukman, Tomislav","Vukman, Tomislav",7/7/22 15:26,Customer,7/7/22 15:26,,,2-High,2-High,"*Affected tenant* 

Tenant: [https://industrials.cas.irco.com/apps/cockpit/index.html#/] 
Enterprise Tenant? Yes 
System accessible by R&D? Yes 
UserID:  [{color:#1f497d}marian.neacsu@gardnerdenver.com{color}|mailto:marian.neacsu@gardnerdenver.com] 

Password: Allan9*765432 

*Description of the Problem:* 

Please offer us support to clear the Smart Rules that are causing the CEP engine overload. 

Please contact Mr. Daniel Primm, that offered us support several times in the past on the same issue. 

Daniel Primm is not available at this time.  He will be available around 11-Jul.  Jelle is checking with Oliver to see if he knows anything about this. 

While that is happening can you please check to see what Support/R&D can do to find out what Rules are causing this type of problem."
Defect,CSOIOT-4081,Delete disabled subtenant t787938124 cumulocity prod,Kemin Europa 7517950,820,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",7/6/22 8:58,Customer,2/16/23 17:12,,,3-Medium,3-Medium,"Customer (Peter Eraly @ Kemin) requests deletion of tenant  on cumulocity.com. 

  
We have disabled a subtenant more than 1 year ago, and it’s still not deleted. Please remove this subtenant. Tenant t787938124 
  
  
  
[!https://chat.google.com/u/0/api/get_attachment_url?url_type=FIFE_URL&content_type=image%2Fpng&attachment_token=AAUuIGuGYIYzPYykfJdG2jX3aw7z%2B2p1tbuNDav%2FTQUOV5CeBdGaav4nrY0%2BF6NIW2eCYEtvP%2F0yKl82ZH5QIu1GleO3Mmk1cHSXAmbS0luYx3SElLrpDwWj5WtddwM11KqEuwmkSUulzHVO4fe3xHcIWf9kCukC5gusBadRD9M8HzL9mP75ycwGr%2BB5%2FqBOxMs1aLMbDKNeaoqmvIuh2oPfqO7bvqDPRlU%2BomYuxZLQi366Td1FpDdgfm6oZf%2BDctEim2cuX9JxPTJOW%2BmSJ7xl92YEOrNAOoJYhzKwsF6WbjeMoL9kF%2BygZfpnZ5LmDpUSqHbkiBzCFN4uvOdDwEnqQpEdXpVmVMnInvsIMo5blhS8YSzJ5Cmqa7oep0GVGk%2F%2BS4sYfHi6VsCwDvUJcFE5r09nGgKWWKn%2FeeI%3D&sz=w512!|https://chat.google.com/u/0/api/get_attachment_url?url_type=DOWNLOAD_URL&attachment_token=AAUuIGuGYIYzPYykfJdG2jX3aw7z%2B2p1tbuNDav%2FTQUOV5CeBdGaav4nrY0%2BF6NIW2eCYEtvP%2F0yKl82ZH5QIu1GleO3Mmk1cHSXAmbS0luYx3SElLrpDwWj5WtddwM11KqEuwmkSUulzHVO4fe3xHcIWf9kCukC5gusBadRD9M8HzL9mP75ycwGr%2BB5%2FqBOxMs1aLMbDKNeaoqmvIuh2oPfqO7bvqDPRlU%2BomYuxZLQi366Td1FpDdgfm6oZf%2BDctEim2cuX9JxPTJOW%2BmSJ7xl92YEOrNAOoJYhzKwsF6WbjeMoL9kF%2BygZfpnZ5LmDpUSqHbkiBzCFN4uvOdDwEnqQpEdXpVmVMnInvsIMo5blhS8YSzJ5Cmqa7oep0GVGk%2F%2BS4sYfHi6VsCwDvUJcFE5r09nGgKWWKn%2FeeI%3D&content_type=image%2Fpng&auto=true] 
 "
Defect,CSOIOT-4076,apj.cumulocity.com: All DataHub Offloading tasks are failing,MIOT PTY LTD 7516856,821,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",8/1/22 11:59,Customer,3/9/23 14:42,14-Jul-22,,2-High,3-Medium,"MiOT reported that, there appears to be an issue with datahub and offloading tasks not running correctly. Status is not clear. Issue seems to have presented since 4:05am 30/6. 

Ticket was reported to us on 4th July.  

Can you please check the MiOT environment if there are any anomolies? Is there any outage? 

Also please collect the logs for R&D to analyze.  

Details, as received from customer: 

I am reporting a loss of service of Cumulocity data hub offloading since 6:05 am 30/6, which raised many questions. 

  
# Watercare didn’t have any clue, and neither did receive any notification from Spark or Software AG regarding an outage in the Cumulocity data hub (attached is the last notification we received from SAG regarding a minor update in their platform) 
# We need to understand the measures put in place by Spark to manage the environment, the quality of service, RPO and RTO targets 
# Watercare also needs to know the details of the monitoring solution put by Spark and how they are executed. It is the second time an offloading mechanism stops within six weeks without any notification from the IoT support team. 

  

As a side note, Watercare did not alter or change any of the s3 bucket components used by the Cumulocity data hub, as we agreed with SAG in our last discussion. 

Attached is the Cumulocity offloading report. 

Please note, this is in the high escalation mode as customer contemplating to pull off from Cumulocity as the IOT platform. Sales is closely monitoring.  

  

 "
Defect,CSOIOT-4067,502 Bad Gateway,Modern Drive Technology GmbH 7519450,825,Closed,"Talbert, Kent","Vukman, Tomislav",7/4/22 14:04,Customer,2/16/23 14:43,,,2-High,None,"Customer is seeing 502 Bad gateway errors when trying to log into any of the machines.cloud tenants. 

  

I tested [https://management.machines.cloud/] and also receive 502 errors."
Defect,CSOIOT-4053,Delete Tenants,Eaton Industries GmbH 7518586,828,Closed,"Neale, Robert","Luczyszyn, Mikolaj (External)",6/30/22 15:24,Customer,2/16/23 14:29,,,3-Medium,3-Medium,"EMEA platform 

  

These tenants should already be suspended - please check before deleting any. 

  

  

Please delete following tenants. I have already suspended those tenants 

t98895583 

t98831071 

t98914425 

t99815195 

t99823117 

  

Also.. 

  

t100108974"
User Story,CSOIOT-4042,CLONE - Question about writing to LWM2M Opaque resources.,Telstra Corporation Limited 7514912,832,Completed,"Lundsten, Alf","Lundsten, Alf",6/23/22 13:27,Customer,6/23/22 13:27,,telstra,3-Medium,3-Medium,"Hi team, Telstra reported an issue regarding LwM2M opaque resources: 

In our DEV environment, one of our customers is trying to write a value to an opaque resource using a shell command : 

WRITE 10250/0/1 000102030405060708090A0B0C0D0E0F 

They receive a error with a response “Unsupported resource type: ‘OPAQUE’” (see screenshot) 

The tenant is [sewdev.iotdev.telstra.com|http://sewdev.iotdev.telstr.com/] and the specific device is : 

urn:imei:867997032996869 

Is it actually possible to write to an opaque resource type? 

If so, is there a specific format for the payload to write to an opaque resource?"
Defect,CSOIOT-4040,Major Outage on Adamos-DEV,Software AG 3101000,833,Closed,"Herzog, Christian","Vukman, Tomislav",7/1/22 16:09,Customer,3/9/23 11:42,,,3-Medium,None,"The Advanced Streaming Analytics Module and Monitor Provision test case for Adamos-DEV shows two longer major outages for the last few days. 

Please investigate the root cause. 

Comment Tomislav: 

We have observed end2end tests failing on Adamos DEV lately. 

I have done quick check and could see lot or request from tenants/domains: 

adamosoeetest.adamos-dev.com 

adamosoeedemo.adamos-dev.com 

It is about OEE app (apama) which is not subscribed to the tenant. 

  

 "
Defect,CSOIOT-4033,CLONE - MQTT TLS connection not working,Kemin Europa 7517950,834,Closed,"Fox, Volker","Lundsten, Alf",7/4/22 15:23,Customer,7/4/22 15:23,20-Jun-22,,3-Medium,3-Medium,"Customer followed the instructions on setting up an encrypted MQTT connection provided here: 
https://cumulocity.com/guides/10.11.0/device-sdk/mqtt/#device-certificates 
However the recommended program for testing replies back “NOT_AUTHORIZED”. 

Removing the password from deviceKey.pem allows a different program to connect with the same certificates. 

Could you advise on what we can to to fix this issue? 

Please see the attached screenshot for error. Certs files also attached. 
Password for certs and keys is: 123456 

Tenant: https://development.kae.keminconnect.com 
Version: 10.11.0.19"
Defect,CSOIOT-4024,Delete Tenants,Eaton Industries GmbH 7518586,835,Closed,"Neale, Robert","Lundsten, Alf",6/30/22 15:07,Customer,2/10/23 20:56,23-Jun-22,tenant-cleanup,3-Medium,3-Medium,"Can these tenants on the EMEA environment be deleted? 

  

t97606645 

t96704203 

t96461594 

t96681592 

t97606914 

t95882317 

  

They should all be suspended already."
Defect,CSOIOT-4012,Microservices (OEE app) not starting. There seems to be k8s problem,Sony Semiconductor Solutions Corp. 7519751,839,Closed,"Neale, Robert","Louden, Timothy",6/16/22 23:44,Customer,2/10/23 17:54,,,2-High,2-High,"Sony are trying to start OEE microservice but getting error... 

  

{_}0/7 nodes are available: 2 Insufficient cpu, 2 node(s) were unschedulable, 3 node(s) had taint {{_}[node-role.kubernetes.io/master:|http://node-role.kubernetes.io/master:] _}, that the pod didn't tolerate._ 

The tenant is [https://oee-showcase.dev.ss.c8y.io/]"
Defect,CSOIOT-3985,"'system:SendEmail': Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 25;",STELIA Aerospace 7515138,841,Closed,"Talbert, Kent",Unassigned,6/15/22 15:24,Customer,6/20/22 10:14,,,2-High,None,"Customer encountered a 'system error' when Cumulocity tries to send emails generated by smart rules ('mail server connection failed'). Please find attached a screenshot of the message.

Exception on tenant incubateur in statement 'system:SendEmail': Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 25; nested exception is: java.net.ConnectException: Connection refused (Connection refused). Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 25; nested exception is: java.net.ConnectException: Connection refused (Connection refused)
30 September 2019 03:19 CEP Engine incubateur

Type c8y_CepRuntimeException@system:SendEmail
Exception details { 'rootCauseMessage': 'ConnectException: Connection refused (Connection refused)', 'statementName': 'system:SendEmail', 'message': 'Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 25;\n nested exception is:\n\tjava.net.ConnectException: Connection refused (Connection refused). Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 25;\n nested exception is:\n\tjava.net.ConnectException: Connection refused (Connection refused)', 'tenant': 'incubateur' }

Can you take a look at this issue and let me know what needs to be done to resolve this?

Thanks,
Kent"
Defect,CSOIOT-3984,Smartrules+datapoints+alarms do not work for non explicit thresholds - CEP upgrade required,STELIA Aerospace 7515138,841,Closed,"Chmiel, Slawomir",Unassigned,6/17/22 9:04,Customer,6/20/22 10:14,14-Nov-19,,3-Medium,None,"incubateur.connect.opteama.stelia.aero

Device td2 in group Logistique > Cong?lateurs > Cong?lateurs M?aulte -44C has an explicit rule to raise an alarm when the temperature > 70 . It also has a rule that is not explicit i.e. threshold from the datapoint, that was added from the Data Explorer tab.

These two rules work.

However, if I add a smart rule on the td2 device Info tab (not from Data Explorer) for 'Creates alarms when measurement reaches thresholds' it does not work, although it looks identical to the one added from the Data Explorer tab.

There is also a problem that a rule added to group 'Cong?lateurs M?aulte -44C' called 'CONG Group level temp alarm', and enabled for device td2 does not show in the Info tab of td2. Neither does it work.

Explicit rules work with no problem."
Defect,CSOIOT-3983,Smartrules+datapoints+alarms do not work for non explicit thresholds.,STELIA Aerospace 7515138,841,Closed,"Neale, Robert",Unassigned,6/15/22 12:27,Customer,6/20/22 10:14,15-Jun-22,,3-Medium,None,"incubateur.connect.opteama.stelia.aero

Device td2 in group Logistique > Cong?lateurs > Cong?lateurs M?aulte -44C has an explicit rule to raise an alarm when the temperature > 70 . It also has a rule that is not explicit i.e. threshold from the datapoint, that was added from the Data Explorer tab.

These two rules work.

However, if I add a smart rule on the td2 device Info tab (not from Data Explorer) for 'Creates alarms when measurement reaches thresholds' it does not work, although it looks identical to the one added from the Data Explorer tab.

There is also a problem that a rule added to group 'Cong?lateurs M?aulte -44C' called 'CONG Group level temp alarm', and enabled for device td2 does not show in the Info tab of td2. Neither does it work.

Explicit rules work with no problem."
Defect,CSOIOT-3982,Domainname change: Update license file,Eaton Industries GmbH 7518586,841,Closed,"Talbert, Kent","Vukman, Tomislav",6/17/22 15:58,Customer,2/10/23 18:02,,,2-High,None,"Request from Eaton: 

  

We would like to change the domain name from our tenant with tenant ID eatonnubisnet (emea instance) from {*}.dashboard.nubisnet.net to **.dbt.machinery-monitoring.com{*}. 

We requested already a new license from Mr. Modabber. I think he already sent the license file to SAG Ops. So that it can be deployed to the tenant. 

*Certificate* 
How is the certificate deployed, can I do this once the license is deployed to the tenant (as we have done in the past) or shall I append the file to this ticket? 

*Subtenants* 
We would also like that all subtenants domain name are adapted to the new domain. 

*Urgency* 
Because there are customer involved this migration should happen as soon as possible. Thanks!"
Defect,CSOIOT-3981,Delete Tenants,Eaton Industries GmbH 7518586,841,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",6/14/22 16:06,Customer,2/10/23 17:04,,,3-Medium,None,"Please delete following tenants on EMEA instance: 

t94636148 

t94640295 

t95880163 

Customer has already suspended those tenants. 

  

Thanks, 

Kent"
Defect,CSOIOT-3966,Lost password mail not sent,TOOLLIVE SAS 7520264,845,Closed,"Schon, Gregor","Lundsten, Alf",6/27/22 14:25,Customer,2/10/23 22:35,,,3-Medium,None,"tests with customers tenant confirmed failings. 
TOOLLIVE SAS         t52956546 management.toollive.com   management    
Toollive Prod        t66839513 pro.toollive.com          t52956546    
further tenants of customer 
Toollive Dev         t53137336 toollive-dev.toollive.com t52956546   
Toollive Validation  t61403068 toollive-val.toollive.com t52956546 

The confirmation of the page popped up: ""Password reset request has been sent. Please check your email."" 
In the beginning of the tests no e-mail arrived  
  
However I saw messages like this:   
From Graylog looking for Password reset only  (user auth is not part of the  message of course) 
""timestamp"",""source"",""message"",""@metadata_beat"",""thread"" 
""2022-06-03T08:22:44.903Z"",""Cumulocity-Azure-FRA-Prod-loadbalancer-2"",""c62d816b8ea86e32f6e73711c494cae9 - 91.66.199.148 - - [03/Jun/2022:08:22:44 +0000] """"POST /user/passwordReset HTTP/1.1"""" 200 0 """"https://pro.toollive.com/apps/administration/index.html"""" """"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36"""" """"10.250.4.11:8181"""" 0.001 0.242 806 0.242"",""filebeat"", 
error_message 
Failed to rename fields in processor: could not fetch value for key: beat.name, Error: key not found 
  
In a positive case (Tuesday) I saw such a message in GrayLog 
""  2022-06-07 14:39:35.971 +02:00    Cumulocity-Azure-FRA-Prod-loadbalancer-2 

b7912191f9e026bc5daecdfe4b4449cd - 91.66.199.148 - - [07/Jun/2022:12:39:35 +0000] ""PUT /user/passwordReset?tenantId=t66839513 HTTP/1.1"" 422 232 ""https://pro.toollive.com/apps/toollive/index.html?token=965dc3627ec4d174bb2fc8fcb1debb131e7344f758766616928bc826a038807d&email=gregor.schon@softwareag.com"" ""Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36"" ""10.250.4.11:8181"" 0.000 0.063 1067 0.063   "" 
  
Currently I get working e-mail without any message in Graylog - That is confusing . 
It would be great to have messages which describe, 
* that an e-mail left the server  (emea.cumulocity.com) or/and the e-mail relay 
* properties of the e-mail  recipient, subject, .. 

My last test for  pro.toollive.com and toollive-dev.toollive.com were successful. I'm going to check if this is a stable behavior. 

  

original report of customer TOOLLIVE SAS: 
Hello, 
Since a few weeks, we found that none of our users receive the mails for password reset anymore. Tested with pro mails or GMail addresses. 

Other mails work, like account creation, even if they are always received as spam… 

Can you help on this?"
Defect,CSOIOT-3959,Change subdomain (name) of a tenant,Modern Drive Technology GmbH 7519450,847,Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",6/9/22 10:40,Customer,2/10/23 17:03,,,3-Medium,3-Medium,"Customer would like to move/change *boegl.machines.cloud* to *max-boegl.machines.cloud*. 

Could you please make this change for customer's purpose?"
Defect,CSOIOT-3954,DataHub offload is failing. Need attached script run.,Stanley Black and Decker 7513816,847,Closed,"Talbert, Kent","Janus, Bartosz",6/10/22 16:04,Customer,5/1/23 10:41,,,3-Medium,None,"DataHub is failing to run an offload job for measurements of type {{tr_DecodedBinary}} in both our dev ([rdx-dev.sbdconnect.io|http://rdx-dev.sbdconnect.io/], t9763239) and prod ([rdx.sbdconnect.io|http://rdx.sbdconnect.io/], t9764856) tenants. 

Customer is seeing this error:  ""CDHCBEE0441 - Preview computation failed: CDHCBEE0130 - Failed to execute CTAS Job."" 

  

Also see attached errors. 

  

Need attached script run on SBD tenants to resolve this issue, 

  

Here's some information from the Datahub team for this issue. 

  

The problem is well-understood. It can happen in systems that have been upgraded from versions older than 10.7. 10.7 introduced the “creationTime” attribute for measurements and “lastUpdated” for alarms and events. On tenants with a lot of “legacy” data, CDH sometimes fails to detect the column and thus the error. 

  

Attached is a script (with a readme.md) detailing how to fix it. 

  

This assumes that the system is properly configured, see screenshot from the Ops Guide. 

  

Please let me know if you have any questions. 

Thanks, 

Kent"
User Story,CSOIOT-3943,OPS CLONE - LwM2M device register/de-register everyday,Telstra Corporation Limited 7514912,848,Completed,"Lundsten, Alf","Louden, Timothy",6/7/22 17:05,Customer,6/20/22 10:14,10-Jun-22,telstra,3-Medium,None,"Hi team, Telstra reported issue with LwM2M registering/ de-registering everyday: 

We have a customer complaint regarding LwM2M device not sending data and appears to be this device is registering/de-registering everyday. This seems unusual as we expect for the device to do registration update instead of new registration everyday. 

Tenant: SEW (production) 

IMEI 867724031418582 / SASA000394 – IMSI 505016200000143 

I have attached a screenshot of device events. This device was working ok until 1st March 

[^867724031418582.pdf]"
Defect,CSOIOT-3924,Boston Scientific- Update Prod instance to 1010.0.24,Boston Scientific Corporation 8104616,849,Closed,"Talbert, Kent","Lisik, Milosz (External)",6/21/22 14:20,Customer,2/16/23 18:40,,,3-Medium,None,"Customer would like to update their prod instance to version 1010.0.24, on one of the following days in July: 

July 11th, July 12th, July 13th, July 14th 

Please coordinate this effort on one of these particular days 

  

Let me know if you need any more information from the customer. 

  

Thanks 

Kent"
Defect,CSOIOT-3901,ip ranges for Hilti subtenants,Hilti AG 3158,854,Completed,"Talbert, Kent","Louden, Timothy",6/1/22 18:53,Customer,2/9/23 19:29,,,3-Medium,3-Medium,"  

Hilti needs to know the ip ranges under which their microservices are running.  They need to white list those in order to access their aws environment, the following are the tenant ids: 

t978904552 
h4. t543594485 

t356443914 

 "
Defect,CSOIOT-3879,[MIOT AU] Enable SSL on Datahub S3 Bucket [please see comment by TID!],MIOT PTY LTD 7516856,857,Closed,"Bhatt, Vikas",Unassigned,6/3/22 8:51,Customer,2/10/23 17:06,,,3-Medium,3-Medium,"We require support from Cloud Operations (Luca) to enable SSL on Datahub during an update to the S3 buckets we would like data offloaded too. This requires manual support. We would like to complete this change on Tuesday 7th June 8.30am - 10.30am CET. 

Please refer the attached email with further context to Tim and Luca."
Defect,CSOIOT-3870,"iTron: change baseURL and Install new certificates, keys (2FA reqd)","Itron, Inc. 7518541",861,Closed,"Talbert, Kent","Hou, Jiabin",6/20/22 7:42,Customer,2/10/23 19:40,,,3-Medium,None,"For browser 2FA to work, we understand that we need to have certificate-based DNS names associated with our Cumulocity instance and associated tenants.  We have added the attached DNS entries and have associated certificates/keys that we understand need to be installed on our C8Y instance by your devops team. See attached certificates, keys and DNS names that we plan to use. 

07.06.2022 
we need to change the baseURL of the platform to sag.idealabs.cloud - that's what the new ssl certs are for. 

and the new C8Y license key is: 
c8y.licence=38746609a027255fe13654248bcca0f1e9d5f4d2fe89f2f64d8b13048ee094034d129a4810b4f61ead6a4c9aa72cfcde16d0ea20e7cd5943ddd6b1f874fb44a5 
"
Defect,CSOIOT-3862,ssl certificate,"Micro Technology Co., Ltd. 7515608",862,Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",5/30/22 9:43,Customer,2/9/23 18:42,,,3-Medium,None,"Similar to the request raised in Aug, 2020  [https://itrac.eur.ad.sag/browse/SC-21621] Micro technologies is asking for SSL certificates for [cumonosu.com|http://cumonosu.com/] and [bodenexam.com.|http://bodenexam.com/] 

They need this because they need to apply this to the other servers they are managing and due date of expiry is 30 days. 

Please furnish the required certificates.  

 "
Defect,CSOIOT-3841,Installation of OEE app,Sony Semiconductor Solutions Corp. 7519751,867,Closed,"Reddy, Yerpula Bharath Bhushan","Hou, Jiabin",5/25/22 4:53,Customer,7/14/22 14:23,25-May-22,"csoiot-release-upgrade-activities-2022, upgrade",3-Medium,None,"Request from Professional Services Team, 

In the effort of building the first solution Sony wants to include the OEE app. Can you please install the OEE app in the management tenants of the Sony installations so that it is available for them to subscribe to the necessary tenants.  

Target tenants: 

[management.eu.ss.c8y.io|http://management.eu.ss.c8y.io/] 
[management.na.ss.c8y.io|http://management.na.ss.c8y.io/] 
[management.jp.ss.c8y.io|http://management.jp.ss.c8y.io/] 
[management.dev.ss.c8y.io|http://management.dev.ss.c8y.io/] 
[management.qa.ss.c8y.io|http://management.qa.ss.c8y.io/] 

Best regards, 

Bharath"
User Story,CSOIOT-3840,CLONE - Telstra DEV: FOTA not working for sewdev,Telstra Corporation Limited 7514912,867,Completed,"Lundsten, Alf","Lundsten, Alf",7/6/22 12:31,Customer,7/6/22 12:31,,telstra,2-High,None,"Telstra reported below issue: 
They asked to treat this with high priority as it is impacting testing 

In customer words: 
**** 
In our DEV environment the tenant sewdev reports that lwm2m FOTA upgrades have been failing since our DEV upgrade.  Three different hardware types have all been failing.  Sewdev is using the private APN [dev.iot.telstra.com|http://dev.iot.telstra.com/] so the 172.27.0.168 address is correct. 

The original customer email is attached.  

The specific device in the email is 

“LwM2M Landis+Gyr urn:imei:866416047961082”   ID=110132911 and the failed firmware download was at 02:24 19/05/2022 

The upgrade in the screenshot in the email basically failed after uploading the URI to /5/0/1 and then receiving back /5/0/5 with value = 7, indicating “Invalid URI”. We are following up with the customer if they can get some debug info from the device as to why it reports the invalid URI. 

I was able to initiate a download on coap://172.27.0.168:5683/0a9e22e5   using a leshan client . The download looked successful and at least it didn’t complain about the URI.   

 The particular device has had successful firmware upgrades, the latest on 7 May  starting at 02:37. 

 This issue is of significant importance as it is delaying testing for a number of types of SEW devices. 
*** 


This seems require LwM2M logs, Access logs, Error logs from yesterday. 
Can you please collect attach to the iTrac? 
"
Defect,CSOIOT-3834,[GardnerDenver] Need a copy of the database as they had some months ago,CompAir Drucklufttechnik 7515080,869,Closed,"Bhatt, Vikas","Vukman, Tomislav",6/24/22 10:30,Customer,2/10/23 21:36,17-Jun-22,,3-Medium,3-Medium,"Customer from GardnerDenver raised below request: 

""We would like to get a copy of the database as we had some months ago. Daniel Primm was involved that time so he know what info we would need."" 

"
Defect,CSOIOT-3826,Temporary Internal Server Error on production system,Liebherr-Werk Nenzing GmbH 7516355,870,Closed,"Herzog, Christian","Lundsten, Alf",9/2/22 10:46,Customer,5/2/23 6:03,,,2-High,2-High,"Liebherr reports: 
in the last few days, the health checks of the production system of our micro services have taken effect. We receive an HTTP 500 for a temporary time, with ""Openresty"" being specified in the body. Looks like the input gateway is temporarily not accepting any requests. 
In Case of failure every Sub-Tenant of “[management.myjobsite.com|http://management.myjobsite.com/]” is affected. 
The availability of our services on C8Y is monitored via Azure Availability for every Sub-Tenant. Please analyze and rectify the temporary system failures as soon as possible. Attached is the history of the availability checks and the detail of the exception. 

Comments Christian: 

Affected tenant is [management.myjobsite.com|http://management.myjobsite.com/] - this is tenant id ""liebherriot"" on cumulocity.com and 43 subtenants. 
The customer implemented an own MS ""Healthcheck"" on each tenant, which uses the health endpoints of all custom MS of this tenant and writes the result into the MS ""Healthcheck"" log. 

Here 2 examples when the health endpoints were not reachable, but on subtenant t1060088211: 

1) 10.5. 4:30am-9:00am UTC 

2) 14.5. 7am-8am UTC 

In such cases shows the MS log: 
*********************************************************************************************** 

[14/05/22 07:23:06:432] fail: Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService[104] 
      Health check ApplicationHealthCheck threw an unhandled exception after 60003.9858ms 
      Liebherr.IoT.C8y.Sdk.Exceptions.ApiException: <html> 
      <head><title>500 Internal Server Error</title></head> 
      <body> 
      <center><h1>500 Internal Server Error</h1></center> 
      <hr><center>openresty</center> 
      </body> 
      </html> 
         at Liebherr.IoT.C8y.Sdk.Extensions.WebResponseExtension.CheckHttpStatusCode(IWebResponse webResponse, HttpStatusCode expectedStatus, String path) 
         at Liebherr.IoT.C8y.Sdk.Http.JsonResponseReader.Read(IWebResponse response, HttpStatusCode expectedStatus, Type expectedEntityType, String path) 
         at Liebherr.IoT.C8y.Sdk.Http.HttpClientRestConnector.Get(Uri uri, ICumulocityMediaType mediaType, Type responseType, CancellationToken cancellationToken) 
         at Liebherr.IoT.C8y.Sdk.Tenant.TenantApi.GetCurrentTenant(CancellationToken cancellationToken) 
         at Liebherr.IoT.HealthCheck.Check.ApplicationsHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/vsts/work/1/s/Liebherr.IoT.HealthCheck/Check/ApplicationsHealthCheck.cs:line 42 
         at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken) 
[14/05/22 07:38:07:254] fail: Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService[103] 
      Health check ApplicationHealthCheck with status Unhealthy completed after 60655.0561ms with message '(null)' 
[14/05/22 14:43:08:398] fail: Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService[103] 
      Health check ApplicationHealthCheck with status Unhealthy completed after 60566.4514ms with message '(null)' 

******************************************************************************************* 

I have also attached the Seq Query (LogSeq.clef) with the results from the custom MS because you can see more precisely what errors occur there. Here you can see that OpenResty not only delivers a 500, but that there are also 502 (Bad Gateway) and 504 (Gateway Time-out). 

In our common Cumulocity views I cannot see something abnormal for the tenant: 
- no alarms 
- the status of all MS don't show events which would explain these exceptions 
- no graylog errors which would explain this issue 

Summary: 
- customer has an own healthcheck MS which logs outages 
- our standard tools show no explanation for that 

My question: I need ideas how we can investigate further. 
Was could be the cause for the openresty - 500 Internal Server Error?"
Defect,CSOIOT-3818,SBD: Device Disappeared,Stanley Black and Decker 7513816,877,Closed,"Fartode, Sumit","Pham, Hoang",6/6/22 13:59,Customer,2/9/23 11:58,,,2-High,2-High,"The customer is reporting corruption in a managed object: 

[https://surepath-dev.sbdconnect.io/inventory/managedObjects/1316] 

  

When API is run, we get 
{ 
    ""error"": ""Failed to parse JSON string"" 
} 
  
Please advise how to correct it.  
  
Test credentials: 
sumit.fartode@softwareag.com/Manage@123"
Defect,CSOIOT-3803,Restart Report-Agent Microservice,FRONIUS INTERNATIONAL GmbH 7519699,875,Closed,"Fartode, Sumit","Lundsten, Benjamin",6/6/22 14:32,Customer,6/20/22 10:14,18-May-22,,3-Medium,3-Medium,"The customer tenant has an object which is deleted from the UI but still sending the emails to the customer for an old export. (Old export which was deleted). There is no way to stop these emails since the export is already deleted. 

Suggested workaround by RnD Team: 
Ask Ops to restart the Report-Agent microservice, because it seems that during cancellation of the report request did not reach Report-Agent and the scheduled cron job from the old report is still active on the agent microservice. 
After restart, Report-Agent will read actual values from the database (via requests to Core) so obsolete reports should not be restored. 


Please restart the Report-Agent associated with the following tenant. 

Tenant  : [Fronius-dev.adamos.com|fronius-dev.adamos.com] 

Name    : SWAG-Support 

Passw    : xSH24rqFSEjQjna"
Defect,CSOIOT-3802,Increase in http 502 responses on eu-latest since May 8th.,phios ag 7518987,875,Closed,"Neale, Robert","Vukman, Tomislav",5/30/22 11:46,Customer,2/9/23 13:20,11-May-22,,1-Critical,3-Medium,"Graylog reveals a big increase in http 502 responses on eu-latest since May 8th. Most are responses to POST requests but there are also some GETs. 

Almost all are from microservices, both user written microservices and our own such as apama- starter. 

Checking microservice logs I can see that in the case of POST the measurement is not created, therefore data is being lost! 


Prior to 8th May it can be seen that there is a spike in 502s every morning around 1am."
Defect,CSOIOT-3753,[Siemens China] Cannot access MCIE from Launchpad,Siemens AG 7515432,890,Closed,"Bhatt, Vikas",Unassigned,4/27/22 12:08,Customer,2/21/23 5:29,,,3-Medium,3-Medium,"Customer from Siemens China raised this issue with their tenant https://supplab1.cn1.mindsphere-in.cn/. 

--------------- 
I am trying to log into MCIE from MindSphere Launchpad, but after with redirecting I was taken into login page again. 

My account is “kevin.wu@siemens.com“, and the tenant name is “supplab1”. 

Please check the attachments below. 
!1.png|thumbnail! 
!2.png|thumbnail! 
---------------"
Defect,CSOIOT-3750,Data ingestion problems affecting thousand of devices,CompAir Drucklufttechnik 7515080,890,Closed,"Welsing, Michael","Vukman, Tomislav",5/16/22 9:34,Customer,2/21/23 5:29,,,1-Critical,None,Since May 9th we are experiencing problems sending data to the platform. The MQTT connection gets closed or rejected after several attempts. Result is that we have thousand of devices not showing realtime data nor showing alarms.
Defect,CSOIOT-3746,questions regarding disposition of penetration test results,Boston Scientific Corporation 8104616,896,Closed,"Eha, Allan","Lundsten, Alf",5/13/22 15:28,Customer,2/21/23 5:30,,security-cust,3-Medium,3-Medium,"Customer performed a penetration test against our client and have some results that we want to review with SAG to see if remediation is possible, on the roadmap, or not possible."
Defect,CSOIOT-3688,Hillrom Sandbox increase maximum device certificate chain length,Hillrom,895,Closed,"Huklev, Georgi","Tulli, Venkata Satya",5/2/22 12:56,Customer,6/20/22 10:14,,,2-High,None,"Baxter team are currently testing their device certificate auth use-case. As part of that they would like to temporarily increase the maximum device certificate chain length to 9. 

This is configured in the _cumulocity-core.properties_ file. The option is _mqtt.clientCertificate.maxChainLength._ 
Changing this option will require core restart."
Defect,CSOIOT-3687,Hillrom Sandbox increase maximum device certificate chain length,Hillrom,895,Closed,"Huklev, Georgi","Tulli, Venkata Satya",5/2/22 12:54,Customer,6/20/22 10:14,,,2-High,None,"Baxter team are currently testing their device certificate auth use-case. As part of that they would like to temporarily increase the maximum device certificate chain length to 9. 

This is configured in the _cumulocity-core.properties_ file. The option is _mqtt.clientCertificate.maxChainLength._ 
Changing this option will require core restart."
Defect,CSOIOT-3685,Go PLC Tenants should not be disabled,GO plc 7518768,895,Closed,"Fartode, Sumit","Luczyszyn, Mikolaj (External)",4/22/22 9:10,Customer,2/21/23 5:30,,,2-High,None,"The following tenants were disabled on 13th April.  

[https://stg01goiot.eu-latest.cumulocity.com/] 

[https://stg01asset-tracking.eu-latest.cumulocity.com/] 

  

But, according to Mauro Stramazzotti: 

The customer has a contractual agreement to use our eu-latest environment with an enterprise tenant plus subtenants for the whole duration of the contract (3Y). 

  

Please make the necessary changes so that it will not be disabled again in the future. "
Defect,CSOIOT-3670,Apama EPL Monitoring query,NTT Communications Corporation 7312715,898,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",4/28/22 14:50,Customer,2/21/23 5:31,,,3-Medium,None,"NTT wants to know how Cloud team is monitoring long running EPL apps. 

They want to understand best practices in this front.  

MS team already contacted Ops team in this regard. Please see attached.  

 "
Defect,CSOIOT-3669,Change Subtenancy Ownership/Username,MIOT PTY LTD 7516856,898,Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",4/26/22 10:03,Customer,2/21/23 5:31,20-Apr-22,,2-High,None,"MiOT has the following requirement. 

We would like to request instructions or provisions for updating a subs tenancy owner username. We have created a sub tenancy for an end customer. The end customer administrator was set up as the owner of the sub tenancy. However, this staff member is leaving the business and we need to allocate a new person as the account owner. We can see that all parameters can be changed except the username which is the critical component. Please let us know how to make this update. 

From GS: 
I see that UI has no option even from management tenant. Is there any script or API that we can suggest? 

 "
Defect,CSOIOT-3668,Need Graylog stream created for Boston Scientific,"Software AG USA, Inc. 3150000",898,Closed,"Talbert, Kent","Vukman, Tomislav",4/26/22 16:01,Customer,6/20/22 10:14,,,3-Medium,None,"Internal Request 

Server: [https://log.monitor.c8y.io:9000/streams] 

Need a separate stream created for Boston Scientific. It will only be for internal use. 

Would like this for Nonprod and Prod if possible.  

This is for a demo that Josh Hooks will be doing to show the customer and he doesn't want to use filters to display only BSci logs."
Defect,CSOIOT-3655,Logs needed from dev.iot.solenis.com,Solenis LLC 7512378,902,Closed,"Herzog, Christian","Tulli, Venkata Satya",5/2/22 12:53,Customer,2/21/23 5:32,,,3-Medium,None,"Please fetch the logs: 
- tenant dev.iot.solenis.com  
- time frame 14.4. 14:40 - 15:00 CEST  
- It's a test tenant so please collect all logs for this tenant 
- core logs are the most important 
- you can filter out all ""apama"" or the ones that are constantly repeating 
  
or enable Graylog for this environment."
Defect,CSOIOT-3649,Install cloud-remote-access,Sony Semiconductor Solutions Corp. 7519751,903,Completed,"Fartode, Sumit","Pham, Hoang",4/13/22 17:14,Customer,5/20/22 16:18,,,3-Medium,None,"Please install cloud-remote-access application in Sony environments below: 

1)  [https://management.jp.ss.c8y.io/apps/administration/index.html#/applications|https://urldefense.com/v3/__https://eur04.safelinks.protection.outlook.com/?url=https*3A*2F*2Fmanagement.jp.ss.c8y.io*2Fapps*2Fadministration*2Findex.html*23*2Fapplications&data=04*7C01*7CAsit.Som*40softwareag.com*7Ca4a652342e0f498e5e1408da1ba58d55*7Cd9662eb9ad984e74a8a204ed5d544db6*7C1*7C0*7C637852695137310040*7CUnknown*7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0*3D*7C3000&sdata=YwTLOMWmWVWqtQrHTm1bA*2FhamqmYEjW19lf6iAJGkK8*3D&reserved=0__;JSUlJSUlJSUlJSUlJSUlJSUlJSUlJQ!!JmoZiZGBv3RvKRSx!qD9zEK8H7sZhnl7ueeYYZIfsijRqi5opjlHjt3Ehnk-b-hAWriU3-DB4PACSFkeRNxA$]  

2)  [https://management.na.ss.c8y.io/apps/administration/index.html#/applications|https://urldefense.com/v3/__https://eur04.safelinks.protection.outlook.com/?url=https*3A*2F*2Fmanagement.na.ss.c8y.io*2Fapps*2Fadministration*2Findex.html*23*2Fapplications&data=04*7C01*7CAsit.Som*40softwareag.com*7Ca4a652342e0f498e5e1408da1ba58d55*7Cd9662eb9ad984e74a8a204ed5d544db6*7C1*7C0*7C637852695137310040*7CUnknown*7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0*3D*7C3000&sdata=uR1czFL8Mtv1oeKTSTjm2cLfsfv4JreuxUyRy0P*2FOzI*3D&reserved=0__;JSUlJSUlJSUlJSUlJSUlJSUlJSUlJQ!!JmoZiZGBv3RvKRSx!qD9zEK8H7sZhnl7ueeYYZIfsijRqi5opjlHjt3Ehnk-b-hAWriU3-DB4PACSctAQnzM$] 

 "
Defect,CSOIOT-3643,getting 500 error (service not available) when calling API,Boston Scientific Corporation 8104616,904,Closed,"Eha, Allan","Tulli, Venkata Satya",4/14/22 3:41,Customer,2/21/23 5:32,,,3-Medium,None,"{color:#1f3864} Can we please get the nginx and the Kubernetes logs for the same time windows?{color} 
* {color:#1f3864}2022-04-01 22:14:20.922 - 2022-04-01 22:34:43.728{color} 
* {color:#1f3864}2022-04-04 16:14:15.531 - 2022-04-04 16:18:16.522{color} 
* {color:#1f3864}2022-04-04 16:14:18.321 - 2022-04-04 16:19:20.078{color} 
* {color:#1f3864}2022-04-04 22:15:34.440 - 2022-04-04 22:19:40.038{color} 
* {color:#1f3864}2022-04-05 16:15:27.350 - 2022-04-05 16:21:54.301{color} 

  

source 
/var/log/nginx/access.log"
Defect,CSOIOT-3642,CLONE - Command failed : exceeded memory limit,Modern Drive Technology GmbH 7519450,904,Closed,"Chmiel, Slawomir","Lundsten, Alf",4/25/22 13:10,Customer,6/20/22 10:14,,,2-High,None,"For the reproduction IOT-13418 purpose if possible please export whole measurement collection. 

Env: machines.cloud 

Tenant: management 

Collection to export: pmdata"
Defect,CSOIOT-3627,Integration tests are not stable,Liebherr-Werk Nenzing GmbH 7516355,908,Closed,"Welsing, Michael","Lundsten, Alf",5/23/22 13:20,Customer,5/25/23 6:02,,,2-High,2-High,"Hi, 

customer Liebherr has issued with the integration tests. Since two weeks the tests are not stable anymore on a daily base. 

Sporadic requests receive a HTTP status 500 or a timeout. Customer thought it was the large number of requests that caused this and tried to set delays between the tests, but that didn't change the situation. 

Attached is a German document with English noted added by Liebherr CSM Olaf Meier. 

Please do a check on the document and an analysis why the tests are failing."
Defect,CSOIOT-3616,Request to delete subtenants,Eppendorf SE 7517606,909,Closed,"Talbert, Kent","Lundsten, Alf",4/11/22 7:16,Customer,2/21/23 5:35,,,3-Medium,None,"Information from the customer (Eppendorf): 

  

We created subtenants for testing purposes that are no longer needed. As there is no functionality to delete them by our own, we kindly ask to remove the subtenants for us. They are located in different enterprise tenants and are all suspended. 

The list is attached as Excel file. If you need the list in a different format, or if you have further questions, please let me know. 

-------- 

Thanks, 

Kent"
Defect,CSOIOT-3603,getting 500 error (service not available) when calling API,Boston Scientific Corporation 8104616,911,Closed,"Eha, Allan",Unassigned,4/12/22 6:07,Customer,2/21/23 5:34,,,3-Medium,3-Medium,"{color:#202124}Can you please provide Karaf logs for BSCI?{color}{color:#202124} {color} 

Can you please provide the Cumulocity karaf logs for the following time periods? 
* 2022-04-01 22:14:20.922 - 2022-04-01 22:34:43.728 
* 2022-04-04 16:14:15.531 - 2022-04-04 16:18:16.522 
* 2022-04-04 16:14:18.321 - 2022-04-04 16:19:20.078 
* 2022-04-04 22:15:34.440 - 2022-04-04 22:19:40.038 
* 2022-04-05 16:15:27.350 - 2022-04-05 16:21:54.301 

Times are in UTC. Production instance."
Defect,CSOIOT-3602,VPC Peering creation,GREENFLEX 7517499,911,Closed,"Talbert, Kent","Schueller, Thomas",8/24/22 9:36,Customer,3/9/23 14:14,,,3-Medium,3-Medium,"Greenflex is asking about the following:  Our Cumulocity environments are hosted on a custom AWS infrastructure and managed by Software AG. They are connected to our own AWS Greenflex IQ environment thanks to a VPC peering. 

We would like to connect also our Cumulocity environments (dev, Prod) to our databricks Environment (dev, prod) on AWS through a VPC Peering. 

Can you come back to us and regarding the procedure to follow and the required information on your side? 

-------------------------- 

I mentioned this to Thomas and he suggested opening an iTrac for this."
Defect,CSOIOT-1576,CLONE - Command failed : exceeded memory limit,Modern Drive Technology GmbH 7519450,916,Closed,"Borek, Arkadiusz","Vukman, Tomislav",4/7/22 20:32,Customer,6/20/22 10:12,,,2-High,None,"Hi R&D, 

on a machines.cloud tenant during data upload an errpr message pops up stating that some memory limit got exceeded. The screen shot is attached. 

A check with Ops cleared out an issue with disc space already. 

Can you elaborate which limit is hit here and how to fix this issue? 

  

Tenant: agria.machines.cloud 

  

best regards 

Michael"
Defect,CSOIOT-1574,Lots of http 408 responses on POST to /s,Utonomy Ltd 7516334,916,Closed,"Neale, Robert","Vukman, Tomislav",5/17/22 15:18,Customer,2/21/23 5:37,26-Apr-22,smartrest,3-Medium,3-Medium,"I notice on cumulocity prod there are lots of http 408 responses for POST to /s. They seem to rise throughout the day. 

  

See screenshot 

  

Are these indicative of a problem?"
Defect,CSOIOT-1572,Disaster Recovery | Indicative Costs and Timelines,MIOT PTY LTD 7516856,918,Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,3/30/22 12:04,Customer,6/20/22 10:12,,,3-Medium,None,"Customer from MIoT raised below questions.  
# Indicative cost to complete full restore of full mIoT tenancy 
# Indicative cost to complete restore of mIoT sub tenancies 
# Indicative lead-times to complete restore for full mIoT tenancy 
# Indicative lead-times to complete restore for mIoT sub tenancies 

Please assist. 

If any direct interaction is needed with customer, please approach Praneet Thakur, CSM."
Defect,CSOIOT-1570,Enable S3 in Datahub for Watercare Tenancy,MIOT PTY LTD 7516856,918,Closed,"Reddy, Yerpula Bharath Bhushan","Fuso, Luca",4/7/22 10:24,Customer,2/21/23 5:37,,,2-High,None,"Enable TLS on tenant ID t6732223 

Offline conversations are attached 

[^Re FAILED Cumulocity Data Hub to the Production Landing s3 Bucket Cutover (Support Ticket Number 1789).msg]"
Defect,CSOIOT-1568,Hillrom: Cumulocity server response contains more than one HSTS header,"HILL-ROM Holdings, Inc. 7517970",918,Closed,"Talbert, Kent",Unassigned,3/30/22 4:13,Customer,6/20/22 10:12,,,3-Medium,None,"This is happening on Hillrom instances.

We are seeing cumulocity server response contains double STS (Strict-Transport-Security) header. see attached screenshots
Our customer IT network is rejecting the server response due to this reason so our agent is unable to communicate with the server.

I've also been able to reproduce this issue on eu-latest instance (1009.0.4). See attached screen print.

Is there a setting or some other configuration causing this? Any way to stop the duplicate?
------------------------------------------------------------------
R&D said that this issue doesn't occur on staging latest or basic. They went through the core code and could not find any places where backend can set it up programmatically. But he found setting this header in cookbooks so it rather sounds like nginx conf.

Can someone from OPS take a look first?

See iTrac https://itrac.eur.ad.sag/browse/IOT-11394"
Defect,CSOIOT-1566,SSL certificates on invalid on https://management.visionizedigitallabspace.eppendorf.com/ and https://management.vnlsbeta.eppendorf.com/apps/administration/index.html#/,Eppendorf SE 7517606,918,Closed,"Bhatt, Vikas","Vukman, Tomislav",3/30/22 10:16,Customer,2/21/23 5:39,29-Mar-22,,1-Critical,1-Critical,"SSL certificates on invalid on [https://management.visionizedigitallabspace.eppendorf.com/|https://management.visionizedigitallabspace.eppendorf.com/] and [https://management.vnlsbeta.eppendorf.com/apps/administration/index.html#/|https://management.vnlsbeta.eppendorf.com/apps/administration/index.html#/] 

Actual SSL certificates uploaded in Feb 2022 are valid until Feb 2023\!"
Defect,CSOIOT-1560,Need Report-Agent installed on prod instance.,"HILL-ROM Holdings, Inc. 7517970",923,Closed,"Talbert, Kent","Tulli, Venkata Satya",4/4/22 7:56,Customer,6/20/22 10:12,,,3-Medium,None,Hillrom's production instance does not have the Report-agent installed on it.  The customer needs this installed so that they can use the Export functionality on those tenants.  This application should be subscribed on all tenants by default.
Defect,CSOIOT-1557,cert replacement seems to have affected communication,Boston Scientific Corporation 8104616,924,Closed,"Talbert, Kent","Vukman, Tomislav",3/30/22 10:18,Customer,2/21/23 5:40,,,1-Critical,None,"Their devices are not connecting after the certificate replacement earlier today. 

  

subtenant is: crm.iot.bsci.com 

Tenant id:  t907 

management.iot.bsci.com 

  

The devices use their machine credentials.  The cert applied to iot.bsci.com was a wildcard so that should have trickled from the management tenant. 

  

 "
Defect,CSOIOT-1533,Memory issue with microservice on Cumulocity,"ACCIONA, S.A. 7507201",925,Closed,"Welsing, Michael","Vukman, Tomislav",4/27/22 11:23,Customer,2/10/23 15:55,,,1-Critical,None,"Hi, 

customer hast some problems with their microservices. 

From what it seems, the microservices that internally implement a loop are giving us problems. [Loop capture loop loop.png attached]. 

This loop iterates approximately every 10 seconds, it is an uncomplicated while loop, which calls a function [attached capture function. function.png] 

This function implements multiple other function calls that connect to the cumulocity operational database API. 

In the capture [log.png] you can see a red arrow indicating the moment where after executing avGET practically kills the microservice. 

Customer suspects the following: 

-Timeout control problems in repetitive calls to the cumulocity APIs (we are testing it) 
-Microservice internal memory issues (we don't have control of the platform, we need to know if less memory has been allocated) 
-Issues with the Garbage Collector (although it would be very rare) 
-Problems with some platform update that impacts microservices. 
-Other (if none of the above, we need to know if we can get more detail about the bug and support 
your part) 
---- 
During investigation some findings came up: 

First the main issue was found and the timeout control test went okay. 

Solution: 

We have entered a timeOut of 30 seconds and it already seems to work correctly, adapting to these unanswered requests. 

What remains: 

When making consecutive calls to the Cumulocity API, we do not know why it may be due to a change in the management of the API request stack of the operational database, but there are requests that are never answered. For our part, we have realized that we did not have controlled the Timeouts, so it kept waiting for the request indefinitely. 

*However, they see that in all microservices there is a timeout problem in communication with the API, has something been modified so that it does not attend these requests, or is there a limitation that we should know?* 

----- 

The topic was discussed with R&D already and the outcome was that there was no change on the API, so currently the guess is, that there is something wrong in the infrastructure or that there was change in infrastructure. 

Also I got more informations from customer in the meantime: 

It affects all microservices that call the Cumulocity API, at any time; although those that are designed to work in a loop suffer it the most, probably by chance as they make more calls than the others 

Microservices that feature such loops are: 

Microproximidad 
Microcorreo 
Microaemet"
Defect,CSOIOT-1524,Hilti: Add new Index,Hilti AG 3158,930,Closed,"Neale, Robert","Fuso, Luca",8/16/22 14:46,Customer,3/9/23 13:52,7-Jul-22,,3-Medium,3-Medium,"Hello Support we need to add new indexes some of them should be already existing: 

FW version --> com_hilti_FwV.v 

Material Number --> materialNumber 

Serial Number --> c8y_Hardware.serialNumber 

Customer Countries --> sapCustomerCountries (Array of Strings) 

Type (should have already an index) --> type 

Name (TID, should have already an index) --> name 

initially should be added on DEV(t356443914) and QAS(t543594485) and after testing to PRD too. 

BR 

Ch"
Defect,CSOIOT-1523,"Tenant ""edwards000.cumulocity.com"" down",Edwards Vacuum 7510668,931,Closed,"Bhatt, Vikas","Vukman, Tomislav",3/29/22 14:40,Customer,2/21/23 5:42,29-Mar-22,,1-Critical,1-Critical,"Customer raised a Crisis case that tenant ""https://edwards000.cumulocity.com/"" down. 

Tenant ID: t1260692845 

Audit logs is showing that t1260692845 was deleted on 16th March. 

!AuditLogs.png|thumbnail! 

This tenant was moved from EMEA to Prod instance in December as part of https://itrac.eur.ad.sag/browse/CSOIOT-1110. 

Old tenant on EMEA is still running. It was supposed to be suspended mid-January. Maybe that was mixed up. 

Could you please check this urgently and restore the tenant?"
Defect,CSOIOT-1522,Request: Increase Maximum Binary File Size Limit,Stanley Black and Decker 7513816,931,Closed,"Eha, Allan","Vukman, Tomislav",3/30/22 13:03,Customer,6/19/23 10:41,,,3-Medium,3-Medium,"We would like to increase the maximum binary file size to 1GB. 

This is to enable support for upper bound of files we might upload."
Defect,CSOIOT-1519,"Clone: Extreme performance issue on hjs.machines.cloud, V1 indexes",Modern Drive Technology GmbH 7519450,932,Closed,"Kotorowicz, Jakub","Lundsten, Alf",6/6/22 15:27,Customer,6/20/22 10:11,21-Mar-22,,2-High,2-High,"Since some days we have extreme performance problems. To check lock at hjs.machines.cloud tenant. For example click on Cockpit-> Groups → Lothian Bus. The asset table gets never filled and I´m not able to change to other page anymore. 

Dev tools shows calls waiting for connection for too long. 

  

Even opening a group that has no assets takes a long time. 

  

Once connection is made then response is quick. 

  

  

wss://hjs.machines.cloud/notification/realtime is taking minutes to be resolved."
Defect,CSOIOT-1518,CLONE - 400 Error During Authentication on EMEA Tenant,Eaton Industries GmbH 7518586,932,Closed,"Talbert, Kent","Tulli, Venkata Satya",6/24/22 2:55,Customer,6/24/22 2:55,9-May-22,,3-Medium,3-Medium,"Hello Team 

When the customer tries to log into tenant eatonnubisnet on emea instance using URL [https://management.dashboard.nubisnet.net|https://management.dashboard.nubisnet.net/] , the following error is thrown 

{ 
{code:json} 
""status"": 400, 
""statusText"": ""Bad Request"", 
""url"": ""https://management.dashboard.nubisnet.net/tenant/oauth?tenant_id=eatonnubisnet"" 
}{code} 
API response contains only 
{noformat} 
{ 
""error"":""general/internalError"", 
""info"":""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting"" 
}{noformat} 
It works when the following URL is used: 

[https://eatonnubisnet.emea.cumulocity.com|https://eatonnubisnet.emea.cumulocity.com/], which is the same tenant. 

  
Please help narrow down the root cause. The customer reproduced the issue on 2nd March. If any logs are needed to examine the error stack, let us know. 


Thanks, 
-Sumit B. Fartode..."
Defect,CSOIOT-1506,Tenant renaming for new custom domain.,TOOLLIVE SAS 7520264,933,Closed,"Neale, Robert","Vukman, Tomislav",3/21/22 13:24,Customer,2/21/23 5:48,18-Mar-22,,3-Medium,3-Medium,"Customer would like, on the EMEA platform.. 
  
1. Delete tenant [pro.toollive.com|http://pro.toollive.com/] (t69033200) 
  
2. Rename [pro.emea.cumulocity.com|http://pro.emea.cumulocity.com/] as [pro.toollive.com|http://pro.toollive.com/] 
  
3. Rename [toollive-dev.emea.cumulocity.com|http://toollive-dev.emea.cumulocity.com/] as [toollive-dev.toollive.com|http://toollive-dev.toollive.com/] 
  
4. Rename [toollive-val.emea.cumulocity.com|http://toollive-val.emea.cumulocity.com/] as [toollive-val.toollive.com|http://toollive-val.toollive.com/]"
Defect,CSOIOT-1489,us.cumulocity.com: LWM2M TLS Error,"Software AG USA, Inc. 3150000",940,Closed,"Talbert, Kent","Lundsten, Alf",3/30/22 9:34,Customer,6/20/22 10:11,,,2-High,None,"We have a customer that connected a LWM2M device to this tenant: 

[https://seokwoocompany2.us.cumulocity.com/] 

The device was transmitting data and stopped the next day and we were getting this error: 

[00:04:20.857,055] <err> net_sock_tls: TLS handshake error: -6800 

[00:04:20.857,116] <err> net_lwm2m_engine: Failed to send packet, err 113 

They see the errors on the device side.  It connects and starts working.  Then it no longer works.  Its happened on multiple tenants on the US instance. 

  

Here is a working one that they expect to stop working eventually:   

https://damiencompany.us.cumulocity.com/apps/devicemanagement/index.html#/device/3200/device-info 

This one was working and no longer is. 

[https://seokwoocompany2.us.cumulocity.com/apps/devicemanagement/index.html#/device/123/device-info|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Fseokwoocompany2.us.cumulocity.com%2Fapps%2Fdevicemanagement%2Findex.html%23%2Fdevice%2F123%2Fdevice-info&data=04%7C01%7CKent.Talbert%40softwareag.com%7C65027b35a4644243bcdf08da008b7fb5%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637822896383182568%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=w4mKbGGF9DhtOzXHzuI9ZBpbaxZGLGkfNhoQO6CsHtU%3D&reserved=0] 

  

Both devices are using the following server URI:  coaps://lwm2m.us.cumulocity.com:5784"
Defect,CSOIOT-1487,Update Devices on DB Level,Hilti AG 3158,940,Closed,"Eha, Allan",Unassigned,3/9/22 5:28,Customer,6/20/22 10:11,,,2-High,3-Medium,"last week we found a bug in our Device Data Model. There is a property “scanCode” for each Device which has some string as value. We got now the information that the value in this property is not the “scanCode” it’s the “materialNumber”. 

That means we need to update all devices (more than 3 million on iot-qas.dmp.hilti.com and more than 500k on iot.dmp.hilti.com) and “rename” the property from “scanCode” to “materialNumber”. We can do that of course using the REST API but that will take some time and add a lot of load to the DB. 

I think when we could do that on the DB level it would be a quite simple query which runs for a few minutes. 

You have a suggestion how to do such a update task? 

Before any action is taken we need to adapt also some parts in our code and find a time slot when this changes would be possible. So for now we would like to just get some infos what options we have! 

------------------------------------------- 

R&D suggested: 

{color:#202124}it is doable on mongo level {color}[https://docs.mongodb.com/manual/reference/operator/update/rename/]{color:#202124} Probably single command would do, like: {color}{color:#202124}db.cmdata.updateMany({},\{$rename: {""scanCode"":""materialNumber""}}){color}{color:#202124} but I would not run it for 2M documents. For this there should be some mechanism to change documents in smaller chunks (some iteration over IDs or with condition on existing field and limit){color}"
Defect,CSOIOT-1476,Hillrom Dev Tenant : Not able to enable Microservices,"HILL-ROM Holdings, Inc. 7517970",945,Closed,"Talbert, Kent","Tulli, Venkata Satya",3/11/22 4:33,Customer,6/20/22 10:11,,,3-Medium,None,"Tenant:  dev.deviot.hillrom.com 

Tenant ID:  t1402 

  

Customer is not able to activate a few Microservices (Notification, Report, Configuration) on tenant: dev.deviot.hillrom.com. 

They see the below error message in the Report Microservice Status: 

Failed create pod sandbox: rpc error: code = Unknown desc = failed to set up sandbox container ""70b6005f66388a3c5d720225f6deed7f6153872eea96b40849c38922232d7e78"" network for pod ""report-scope-t1402-deployment-85b9cdff98-xftf9"": networkPlugin cni failed to set up pod ""report-scope-t1402-deployment-85b9cdff98-xftf9_hillrom-multinode-dev"" network: open /run/flannel/subnet.env: no such file or directory 

  

Any ideas as to what would cause this error?  They do have feature-microservice-hosting enabled on the tenant."
Defect,CSOIOT-1447,Reset connection of datahub error,Mohawk International Services BV 7518646,951,Closed,"Herzog, Christian",Unassigned,2/28/22 5:12,Customer,2/21/23 5:49,,,2-High,None,"tenant mohawk-iiot.emea.cumulocity.com t11553862 has issues again with datahub 

[http://localhost:8111/apps/datahub-ui/index.html#/home] 
leads to ""An error occurred while checking for existing Microsoft Power BI configuration."" 

[http://localhost:8111/apps/datahub-ui/index.html#/settings/dremio_datalake] 
Settings are not available. Please try again or contact your system administrator if the error persists. 
GET [http://localhost:8111/service/datahub/tenant] 200OK  

Response: 
{ 
  ""status"" : ""FAILED"", 
  ""messages"" : [ ""CDHCBEE0012 - Failed to retrieve tenant."", ""Timed out after waiting 30000(ms) for a reply. address: __vertx.reply.158815, repliedAddress: com.softwareag.cdh.console.persistence.KeyValueStore_CDH_TENANTMANAGER_KVSTORE"" ], 
  ""data"" : null 
} 

same issue when open ""Offloading"": 
[http://localhost:8111/service/datahub/tenant] 500 Internal Server Error 

Parallel I will involve DH R&D team. 
  
The customer added 24/Feb/22 8:13 PM: 
""This evening i tried to add 2 new more offloads 1040_PRD_STRB_DLI_Strooier and 1040_PRD_STRB_MLI_Strooier. Currently i can not open the page. Screen is not responding."""
Defect,CSOIOT-1445,Datahub is not responding anymore,Mohawk International Services BV 7518646,951,Closed,"Talbert, Kent",Unassigned,2/28/22 5:06,Customer,2/21/23 5:53,,,3-Medium,1-Critical,"Our datahub is not responding. It started when added a new offload schema step 1. 

  

See attached screen prints. 

  

On the Datahub system status page on the customer tenant, I see ""Dremio is not available."" message. 

 "
Defect,CSOIOT-1441,"""Deployment was changed"" - ""Container stopped""",Eppendorf SE 7517606,951,Closed,"Talbert, Kent","Tulli, Venkata Satya",3/8/22 3:53,Customer,6/20/22 10:11,,,3-Medium,None,"on 2022-02-24 at around 13:00 UTC+1 these containers were stopped , redeployed and started on [eppendorfag.emea.cumulocity.com|http://eppendorfag.emea.cumulocity.com/]: 

asset-organization - started even 2 times at 13:07 and 13:10 

eai-registration - 13:07 

Since we do not have access to the containers log files: can you please investigate and share with us the reasons of the deployments? 

 Can you please include the recent restart of the notification sender today 2022-02-24 15:59 UTC+1 in the analysis?"
Defect,CSOIOT-1433,Please investigate root cause of emea.cumulocity.com API and MQTT long response times 2022-02-22 15:55 - 16:55 CET,Eppendorf SE 7517606,953,Closed,"Eha, Allan","Lundsten, Alf",3/10/22 13:52,Customer,6/20/22 10:11,,,3-Medium,None,"Hello, 

we saw response times of up to 2secs on [emea.cumulocity.com|http://emea.cumulocity.com/] API and MQTT on 2022-02-22 between 15:55 and 16:55 CET. 

Can you please investigate and share with us information about the root cause? 

Thank you 

Frank"
Defect,CSOIOT-1425,Measurements are missing since 10.02.22,Mayer & Cie. GmbH & Co. KG 7518273,957,Closed,"Herzog, Christian","Lundsten, Alf",3/10/22 13:54,Customer,6/20/22 10:11,,,2-High,None,"The devices on several tenants don't receive measures anymore. 
- happed after update of the management.adamos.com on 9.2. from 10.9.0.12 to 10.10.0.24 
- It concerns enterprise tenant t8457439 [mayercie-mgmt.adamos.com|http://mayercie-mgmt.adamos.com/] and all subtenants. 

* source example devices 
** on t18044145 (Skytex): [https://management.adamos.com/apps/devicemanagement/index.html#/device/59100/measurements] 
*** last measurement came 9 Feb 2022, 08:20:36 
** on t84320627: [https://management.adamos.com/apps/devicemanagement/index.html#/device/518/events]  
*** last measurement came 9 Feb 2022, 08:21:38 
** event list of device shows when measurement arrives 
** devices are connected by SmartRest 1 
** device log files show only that no connection exists 
** issue happens for all devices at same time 
* result: [https://mct-feldtest.adamos.com/apps/monitoring/index.html#/portal-dashboard] don't show data 
* ideas to cause 
** certificate change 
** API change 
* new provisioning on laboratory device had success 
* but provisioning sets new credentials, this would be huge effort for the customer to do that on all devices 
* interface ""mem cache"" is used 
 "
Defect,CSOIOT-1412,User Account is locked.,Solenis LLC 7512378,960,Closed,"Talbert, Kent","Radzali, Basyar",2/17/22 4:54,Customer,2/21/23 6:00,,,2-High,None,"Tenant:  mangement.iot.solenis.com 

User: mhassan@solenis.com  

  

Customer's user is locked on the Solenis enterprise tenant (mangement.iot.solenis.com).  Please unlock it as I have no access to this tenant. 

  

Thanks. 

  

!login error.jpg!"
Defect,CSOIOT-1411,Apama EPL Apps not working,Stanley Black and Decker 7513816,960,Closed,"Neale, Robert","Lundsten, Alf",3/10/22 13:48,Customer,6/20/22 10:11,16-Feb-22,,1-Critical,1-Critical,"Hello Team, 

Apama EPL Apps is not working. Can you please check at your end as well. 

Unable to contact microservice"
Defect,CSOIOT-1410,Reset connection of datahub error,Mohawk International Services BV 7518646,960,Closed,"Herzog, Christian","Lundsten, Alf",3/14/22 8:22,Customer,6/20/22 10:11,,,2-High,3-Medium,"From C8y Ops chat 
Hello, we need to restart microservice datahub (407) for [mohawk-iiot.emea.cumulocity.com|http://mohawk-iiot.emea.cumulocity.com/] until 10am, can someone please do that? It hangs. 
I'm only able to restart it for all tenants from management tenant. 
  
Alf Lundsten 
BTW - Tomislav noticed yesterday that mohawk is doing data offloads once/minute 
can we stop doing that? 
then the microservice might also become more stable? 
  
Christian Herzog 
Yes we are in touch with the customer and have the next meeting 10 am 
Strange, yesterday was the datahub connection broken. 
for [mohawk-iiot.emea.cumulocity.com|http://mohawk-iiot.emea.cumulocity.com/] 
From 8am this morning we try to enable it again. 
  
Alf Lundsten 
would you happen to have their tenantID? 
  
Christian Herzog 
tenant ID = t11553862 
  
Alf Lundsten 
datahub is doing something really strange at emea 
  
[root@Cumulocity-Azure-FRA-Prod-kubemaster-1 ~]# kc get po | grep datahub datahub-scope-eatonnubisnet-deployment-6d6d4b48f7-8wdks 1/1 Running 0 10d datahub-scope-management-deployment-5445bcd775-bcs7s 0/1 Terminating 0 25d datahub-scope-management-deployment-5c96bc558f-w7w4b 1/1 Running 0 10d datahub-scope-t10040326-deployment-664bbf5956-fgxhd 1/1 Running 0 10d datahub-scope-t10040326-deployment-f9c7b7b4d-6kqj5 0/1 Terminating 0 25d datahub-scope-t11553862-deployment-69886747fc-84dx9 0/1 Terminating 1 25d datahub-scope-t11553862-deployment-789797f897-x2j96 1/1 Running 0 10d datahub-scope-t19038577-deployment-5fbb5fb986-8gtw2 0/1 Terminating 0 25d datahub-scope-t19038577-deployment-6c48cf67f4-6q676 1/1 Running 0 10d datahub-scope-t21003750-deployment-66f76f6f9d-lps7m 1/1 Running 0 10d datahub-scope-t21003750-deployment-6ff5c57fb6-ggzgx 0/1 Terminating 0 25d datahub-scope-t21788514-deployment-54745b4448-dhsj5 0/1 Terminating 0 25d datahub-scope-t21788514-deployment-745989fd68-m4fzd 1/1 Running 0 10d datahub-scope-t21789255-deployment-64db8f59fc-zmj8z 0/1 Terminating 0 25d datahub-scope-t21789255-deployment-6d8c864bb5-p6csv 1/1 Running 0 10d datahub-scope-t58739859-deployment-9c7fff7fb-lmbxd 0/1 Terminating 0 20d datahub-scope-t58739859-deployment-dd46bb5d4-vf4cp 1/1 Running 0 10d 
  
pods being in terminated state for like 20 days? 
  
Christian - their active pod has been deleted datahub-scope-t11553862-deployment-789797f897-x2j96 1/1 Running 0 10d 
For the meeting at 10 the restart of datahub for t11553862 would be helpful, lets clarify the other issues later. 
OK we see the restart 
Thanks! 
  
Alf Lundsten 
state is still Running 0/1 though 
now 1/1 
  
Christian Herzog 
Thanks it works! 
  
Tim Doernemann 
@Alf Lundsten Is it possible that we have a problem with the RDBMS on emea? Maybe the total number of parallel connections is too high or so? The Microservice is completely stuck in waiting for the DB to respond to simple queries 
  
Luca Fuso 
this seems similar to what I saw in adamos dev some time ago 
and it was not datahub related 
I had to restart workers at that time"
Defect,CSOIOT-1401,tons of critical alarms by cep engine and apama,Modern Drive Technology GmbH 7519450,961,Closed,"Herzog, Christian","Tulli, Venkata Satya",4/7/22 3:20,Customer,6/20/22 10:11,,,3-Medium,None,"Hello CloudOps, 

the tenant hjs.machines.cloud receives thousands critical alarms by apama and cep engine. 

I can confirm the alarms on customers tenant: 

InputQueueSize:0, OutputQueueSize:10130, 
SlowestReceiver.CumulocityloTGenericChain, 
SlowestReceiverQueueSize:9106, SlowestContext:<none>, 
SlowestContextQueueSize:0 
11.02.2022, 10:25:47   [apama-ctrl-1c-4g|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmanagement.machines.cloud%2Fapps%2Fdevicemanagement%2Findex.html%23%2Fdevice%2F18251820363&data=04%7C01%7CChristian.Herzog%40softwareag.com%7C84cc6776703841b156cc08d9eef9efda%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637803579519069905%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=PAzHj1gNvQqp4qX2E0rAV1Hka520tR4M9sERnJdtw%2BM%3D&reserved=0] 

STATUS 

AKTIV: Ausgelöst vor ein paar Sekunden 

*Typ* application_queue_full 

and 

Real-time event processing is currently overloaded and may 
stop processing your events. Please contact support. 
11. Februar 2022 08:53 — CEP Engine hjs 
STATUS 

AKTIV: Ausgelöst vor ein paar Sekunden 

*Typ* c8y_CepTaskRejected 

*Last updated* ""2022-02-11T09:26:25.151Z"" 

************************************************************ 

Komarneni, Sandeep <[Sandeep.Komarneni@softwareag.com|mailto:Sandeep.Komarneni@softwareag.com]> asked for diagnostics logs. 

He added: 
""The content of the first alarm basically means that the Apama microservice is not able to send requests at a fast rate and queueing up outbound (Apama -> c8y) requests. 
The second alarm means that c8y is unable to push messages to Apama. But looking at the size of the Apama inputQueue, this shouldn’t be a concern. 
These two issues make me suspect that there is an issue with the dns for the microservice (Apama is not able to talk to c8y and c8y is not able to talk to Apama). 
Usually these issues go away with the restart of the microservice but it would also mean data loss. Before a restart or microservice is executed, we should first understand the root cause of the dns issues or else we might be in the same situation again."" 

Attached: 

- the apama-ctrl-2c-8g-scope-hjs-deployment-77dc697979-mz57l.log from the Apama microservice 

- the diagnostic-enhanced_2022-02-11T11_02_34.zip from \{{url}}/apps/streaminganalytics/index.html#/ 

The tenant is hjs.machines.cloud running on [https://management.machines.cloud|https://management.machines.cloud/] (BE 10.11.0.12) 
Hosted on AWS Frankfurt, operated by SAG 

Apama-ctrl-2c-8g version = 10.11.0.3-397281.2021.12.23.08.20 

*************************************************************************** 

Here the output from log analyser: 

PS C:\c8y\Apama_log_analyser> python log_analyzer.py apama-ctrl-2c-8g-scope-hjs-deployment-77dc697979-mz57l.log 

INFO  - Apama log analyzer v3.8/2022-02-26 (locale=en_DE) 

INFO  - Output directory is: C:\c8y\Apama_log_analyser\log_analyzer_apama-ctrl-2c-8g-scope-hjs-deployment-77dc697979-mz57l 

INFO  - Starting analysis of apama-ctrl-2c-8g-scope-hjs-deployment-77dc697979-mz57l.log (0 MB) 

INFO  - Overview: 

- #01 apama-ctrl-2c-8g-scope-hjs-deployment-77dc697979-mz57l.log 

  Fri 2022-02-11 09:49:57 to 09:50:32 (=0:00:35) 

  Instance:       apama-ctrl-2c-8g-scope-hjs-deployment-77dc697979-mz57l:15903 

  Process id:     34 

  Apama version:  10.11.1.1.397181, apama-ctrl: 10.11.0.3.397281.2021.12.23.08.20; running on Red Hat Enterprise Linux 8.5 (Ootpa) 

  Log timezone:   UTC+00:00 (UTC) 

  Customer:       <generic apama-ctrl license> (license expires Unlimited) 

  Hardware:       2-core Xeon E5-2666 v3 @ 2.90GHz (cgroups 2 CPUs; 256/1024 shares) 

  Memory:         8.0 GB physical memory 

  Connectivity:   libHTTPBatchAccumulator.so, libconnectivity-http-server.so 

  Notable:        apama-ctrl, non-default allocator: platform allocator, cgroupsLimits 

  Logged errors = 196, warnings = 1 (see logged_errors.txt, logged_warnings.txt) 

  Received event rate mean = 44.3 /sec (max = 176.9 /sec), sent mean = 0.0 /sec (max = 0.0 /sec) 

  Correlator resident memory mean = 0.222 GB, final = 0.207 GB, JVM mean = 0.000 GB 

  Correlator resident memory max  = 0.227 GB (=3% of 8.0 GB usable), at Fri 2022-02-11 09:50:13 (line 1405) 

  Swapping occurrences = none 

  Queued input max = 21 at Fri 2022-02-11 09:50:28 (line 1423), queued output max = 415 

  Slow receiver disconnections = 0, slow warning periods = 0 

Generated by Apama log analyzer v3.8/2022-02-26. 

INFO  - Completed analysis in 0 seconds 

INFO  - Output is in C:\c8y\Apama_log_analyser\log_analyzer_apama-ctrl-2c-8g-scope-hjs-deployment-77dc697979-mz57l (overview.html is a good starting place) 

INFO  - 

INFO  - If you need to request help analyzing a log file be sure to tell us: the 5-digit Apama version, the time period when the bad behaviour was observed, any ERROR/WARN messages, and attach the full original correlator log files (including the very first log file - which contains all the header information - and also the log files during the times when the bad behaviour occurred). 

Golden, Sharon <Sharon.Golden@softwareag.com> proposed: 
Could you possibly get cloud ops involved to investigate the environment to determine if there are any issues there, as Sandeep has suggested there may be an issue with the dns for the microservice. 

Heidenreich, Mario <Mario.Heidenreich@softwareag.com> added: 
This tenant is part of STW environment (machines.cloud) that we are currently migrating from Esper to Apama. It is running custom Apama rules that we recently migrated in that context. Please let us know if you need any help in investigating or if you find any defects. We want to make sure other tenants of the customer are not also effected. 

 "
Defect,CSOIOT-1396,CLONE - Exception Alarm in Unitywater Tenancy,Telstra Corporation Limited 7514912,962,Closed,"Bhargava, Neha",Unassigned,2/14/22 8:39,Customer,6/20/22 10:11,,,3-Medium,None,"Hi Team, Telstra's end customer Unitywater reported issue seeing exception alarm triggered by CEP engine: 

Unitywater production tenancy ( t74274800) observing exception alarm for one of their devices. There is a business rule associated with it Unitywater Management-{-}>Event Processing{-}->OPERATION_MONITORING. 

I have attached a copy of the business rule. This is throwing an exception alarm for the device ID 22723556 (urn:imei:866416047975769). I have attached a screenshot of the alarm. 

  

 ..."
User Story,CSOIOT-1391,CLONE - Telstra: Unable to load LwM2M device protocol in Dev Tenancy,Telstra Corporation Limited 7514912,964,Completed,"Lundsten, Alf","Lundsten, Alf",2/11/22 12:04,Customer,6/20/22 10:11,,,3-Medium,None,"Hi Team, Telstra reported an issue on trying to load lwm2m protocol they get an internal error:  

We have a new tenant in DEV WatercortPQT (ID t146879330). As soon we access device protocols tab in the tenant, it presents with below error 

{{Http status code: 500}} 
{{{error=""general/internalError"",message=""Can't rollback after non-recorded token org.svenson.tokenize.Token@26a2d462: BRACE_OPEN \{"",info=""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting"",details=""null""}}} 

Please see screenshots attached for more detail. 

Could you please investigate with priority, since this has some commercial weight on it. 

Please let me know if we require any further information. 

 "
Defect,CSOIOT-1388,"CLONE - Telstra PROD: 12 water meters are being held awake, draining battery",Telstra Corporation Limited 7514912,965,Closed,"Lundsten, Alf","Lundsten, Alf",2/10/22 15:53,Customer,6/20/22 10:11,,Telstra,2-High,2-High,"Hi Team, Telstra reported that there end customer is facing issue while doing a bulk Firmaware Update operation: 

A customer (SEW) has informed us that after a bulk ‘Firmware Update’ operation to 100 devices, 12 of those devices have been stuck waiting for the server to send the ‘Update Trigger’ LWM2M command. As a result, we have observed continuous activity on C8Y for these 12 devices over the course of a 24h period, which could have a highly negative impact on the devices' battery life. 

Steps that (Telstra) have taken to mitigate: 
# Cancelled the ‘Update firmware’ commands via API for those 12 devices 
# Issued ‘restart device’ operations to each of the 12 devices 

However it appears that the ‘restart device’ operations are stuck in ‘PENDING’ state on the server, despite the device dialing in to the server. 

*Can you please investigate why we cannot send a ‘restart device’ command to each device, and help us rectify this as soon as possible?* 

The devices impacted are: 

IMEIs: 

866416047961124 

866416047969168 

866416048025010 

866416048026430 

866416048024849 

866416047973822 

866416048039417 

866416047979977 

866416047980199 

866416047954475 

866416048009766 

866416047999538 

Or, device/system IDs: 

224382544 
224382099 
385109607 
385109566 
385109483 
385109457 
385109370 
385109336 
224383088 
224382582 
224382485 
224382386 

 "
Defect,CSOIOT-1378,Need subtenants delete,"Software AG USA, Inc. 3150000",966,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",2/10/22 9:02,Customer,6/20/22 10:11,,,3-Medium,None,"Need the following subtenants deleted from tenant: lairdconnecttrial.us.cumulocity.com 

[lairdrichcompany1.us.cumulocity.com|http://lairdrichcompany1.us.cumulocity.com/] 
[richtest22.us.cumulocity.com|http://richtest22.us.cumulocity.com/] 
[laridcompany1test.us.cumulocity.com|http://laridcompany1test.us.cumulocity.com/] 
[laridcompanytest2.us.cumulocity.com|http://laridcompanytest2.us.cumulocity.com/] 
[laridcompanytest3.us.cumulocity.com|http://laridcompanytest3.us.cumulocity.com/] 
[laridcompanytest5.us.cumulocity.com|http://laridcompanytest5.us.cumulocity.com/] 
[laridcompanytest4.us.cumulocity.com|http://laridcompanytest4.us.cumulocity.com/] 
[laridcompanytest6.us.cumulocity.com|http://laridcompanytest6.us.cumulocity.com/] 
[laridcompanytest7.us.cumulocity.com|http://laridcompanytest7.us.cumulocity.com/] 
[laridcompanytest8.us.cumulocity.com|http://laridcompanytest8.us.cumulocity.com/] 
[laridcompanytest9.us.cumulocity.com|http://laridcompanytest9.us.cumulocity.com/] 
[richlairdtrial1.us.cumulocity.com|http://richlairdtrial1.us.cumulocity.com/] 
[richtest23.us.cumulocity.com|http://richtest23.us.cumulocity.com/] 
[richtest24.us.cumulocity.com|http://richtest24.us.cumulocity.com/] 

  

The tenants are all currently suspended. 

Thanks, 

Kent"
Defect,CSOIOT-1375,"Inquiry for Adamos_Cumulocity Hosted: SAP 2076084 , # 7520442, Axito Sp. z o.o.",ADAMOS Prospects 999999,968,Closed,"Herzog, Christian","Vukman, Tomislav",3/25/22 15:47,Customer,6/20/22 10:11,,,3-Medium,None,"Dear Operations Team,  

**************************************************************************************** 

Please wait confirmation from Christian Herzog, as the customer is not ready *** 
**************************************************************************************** 

move tenant [https://axito.adamos-dev.com/|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Faxito.adamos-dev.com%2F&data=04%7C01%7CMandy.Hildebrandt%40softwareag.com%7Cb13eb05d343b4942505708d9e9b92609%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637797803680184998%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=pCI0z26zAvslnqKiZCr1%2BXJ1NWrurNk4HGdm5OcUgbc%3D&reserved=0] from test environment to the production environment, with change to URL to [https://axito.adamos.com|https://axito.adamos.com/] 

Then please replace the administrator user by user name and email address: [{color:#0000ff}+owsiany.m@axito.pl+{color}|mailto:owsiany.m@axito.pl]{color:#0000ff} {color} 

{color:#000000}Thank you, Christian{color}..."
Defect,CSOIOT-1374,CLONE - Exception Alarm in Unitywater Tenancy,Telstra Corporation Limited 7514912,968,Closed,"Bhargava, Neha","Louden, Timothy",5/2/22 12:46,Customer,6/20/22 10:11,,,3-Medium,None,"Hi Team, Telstra's end customer Unitywater reported issue seeing exception alarm triggered by CEP engine: 

Unitywater production tenancy ( t74274800) observing exception alarm for one of their devices. There is a business rule associated with it Unitywater Management-{-}>Event Processing{-}->OPERATION_MONITORING. 

I have attached a copy of the business rule. This is throwing an exception alarm for the device ID 22723556 (urn:imei:866416047975769). I have attached a screenshot of the alarm. 

-------------------------------------------------------------------------------------------- 

Hi Ops team, 
To investigate the cause of the error, R&D has requested the core logs from this time period to gather more  information about the cause of the problem. 

This error indicates some problems with the mongo server. 

 "
Defect,CSOIOT-1364,Cumulocity API calls fail frequently with 401 Not Authorized since 2022-02-02,Eppendorf SE 7517606,972,Closed,"Welsing, Michael","Vukman, Tomislav",2/8/22 10:06,Customer,2/21/23 6:04,,,1-Critical,None,"Since yesterday, 2022-02-02 16 CET, approx. every 5th call of Cumulocity API fails with 401 Not Authorized. This has become even worse this morning starting at 8:00 AM. 

Many users of VisioNize Lab Suite experience that their session is frequenently terminated. 

The error message refers to a missing session token. Our application uses OAuth which was introduced as standard in Cumulocity last year. Could it be that the ressources added yesterday use BasicAuth? 

See attached screenshots for more details......."
Defect,CSOIOT-1350,Submission to DNS,"Micro Technology Co., Ltd. 7515608",974,Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",2/8/22 7:51,Customer,6/20/22 10:11,9-Feb-22,,3-Medium,None,"Micro Technologies made the following request. 


We would like you to submit the following host name on DNS (Domain Name System). 
Host name: [mtssa.cumonosu.com|http://mtssa.cumonosu.com/] 
IP address: 52.197.219.223 

..."
Defect,CSOIOT-1348,emea.cumulocity.com REST API and MQTT response times > 200 ms since 2020-02-01 14:10 CET,Eppendorf SE 7517606,974,Closed,"Talbert, Kent","Vukman, Tomislav",3/25/22 14:51,Customer,2/21/23 6:07,,,2-High,None,"[emea.cumulocity.com|http://emea.cumulocity.com] REST API and MQTT response times > 200 ms since 2020-02-01 14:10 CET 

Result in long loading time of web application and missing history data for Eppendorf’s devices 

........."
Defect,CSOIOT-1345,CORE: swagnginx alert - SWAG NGINX health check failed.,Siemens AG 7507371,975,Closed,"Welsing, Michael","Lundsten, Alf",2/1/22 9:19,Customer,6/20/22 10:11,,,1-Critical,None,"Hello Team, 

Continuously getting alerts from Pagerduty regarding the above mentioned machine. I have checked the server level things and it looks good. Also the URL is accessible. Can someone please check why getting the above mentioned alerts continuously. Also attached the Graffana report. 

Thanks and Regards, 

Anshuman Singh......"
Defect,CSOIOT-1330,EMEA Management tenant: password reset email has the following set: {tenant-domain}?token={token}&showTenant,"Software AG USA, Inc. 3150000",978,Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",1/31/22 9:19,Customer,6/20/22 10:11,,,4-Low,None,"On EMEA management tenant > Administration > Settings > Configuration, the password reset email has the following set: \{tenant-domain}?token=\{token}&showTenant 
  
The &showTenant value adds the Tenant ID field on the login screen. Is it set this way for a reason on EMEA? The other management tenants don't have &showTenant set on them. I'm checking to see if we can remove it on EMEA as well......."
Defect,CSOIOT-1329,MQTT Certificate Authentication Fails,Stanley Black and Decker 7513816,979,Closed,"Fartode, Sumit","Vukman, Tomislav",2/2/22 15:38,Customer,6/20/22 10:11,9-Feb-22,,3-Medium,3-Medium,"The customer is unable to authenticate over MQTT with device certificates.  

On all MQTT clients tested (mosquitti_client, MQTT.fx, MQTTX) they receive TLS error. 

Using python with a paho sdk, error code “5” is received. 

The following error occurs at MQTT broker 

_2022-01-26 17:46:03[entLoopGroup-3-8] - / | MqttCumulocityProtocolProcessor | 86 - com.nsn.cumulocity.platform-services.mqtt.service - 1007.0.36 | WARN MqttConnect: Rejecting MQTT client because lack of correct client certificatesor basic credentials. ClientId: 'debugan-auto-002', tenant and username: 'null', password: null_ 

  

Addional observations:_ 
- The customer’s certs work correctly on a test tenant on Cumulocity instance. But the same certificates do not work in SBD environments. 
- Error is seen in following tenants: 
tracker-pilot.stage.sbdconnect.io 
dev.sbdconnect.io 
management.sbdconnect.io 
ngbr-dev.sbdconnect.io 

  

Comment from Lukasz: 

_The error message which you pasted means that the request does not contain a valid certification chain or basic authentication. My recommendation is to check Nginx configuration. The Nginx should not terminate the TLS connection on port 8883 but send the binary stream to port 1884 on Karaf._ 

  
Please assist...."
Defect,CSOIOT-1328,"[DT 3308475] — TEST-RAM: LWM2M Operation ""FAILED"", instead in ""PENDING"" in Release 10.10.0.24",Software AG 3163000,979,Closed,"Angelov, Radomir",Unassigned,1/31/22 10:04,Customer,6/20/22 10:11,,,2-High,None,"Hello GS team, 

Please pass this to LWM2M team (Elias Weingaertner) 

"" 
Hello Elias, 
  
We've got an incident opened by DT regarding LWM2M issue. They couldn't provide previous ticket/issue number so I can't get it for you. 
  
I'm involving you directly since they say ""He says bug is fixed in LWM2M version 10.10.0.21."". 
  
  
We're currently on 10.10.0.24 version of LWM2M and respectively it should be fixed. 
  
[TEST] gnrldep@lwm2m00 ~$ rpm -qa | grep lwm2m 
lwm2m-agent-server-{*}1010.0.24{*}-1.noarch 
  
Please check the attached document where the communication between you and Andreas is. 
  
We'll need your assistance on this one. Thanks in advance. 

""..."
Defect,CSOIOT-1327,Add custom index(s) for fragment on Prod.,Hilti AG 3158,979,Closed,"Neale, Robert","Fuso, Luca",2/17/22 13:21,Customer,6/20/22 10:11,7-Feb-22,,2-High,None,"Hello Support 

we need to add a custom index, those are the details 

Column name in UI: Last Seen 
Property in ManagedObject: com_hilti_iot_dmp_measurement_LatestMeasurement_timestamp 

Example value for this property: 
{ 
""id"": ""12345"", 
""name"": ""TID-789456-123456789"", 
""c8y_IsDevice"": {}, 
""com_hilti_iot_dmp_measurement_LatestMeasurement_timestamp"": ""2021-11-18T13:32:00.100Z"" 
} 

many thanks 

Christian........."
Defect,CSOIOT-1324,CEP does not work: timeout error in database access,"Micro Technology Co., Ltd. 7515608",980,Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",2/18/22 8:36,Customer,2/21/23 6:10,17-Feb-22,,1-Critical,1-Critical,"Micro Technologies reported this Crisis ticket. They also called hotline to treat this with high priority as production impacted. 

----- 
CEP in several tenants does not transact data in real time. 
This issue is happening in the tenants such as okippanishimatsu, miyazakikasenkokudou, and okippa02. 

We got error logs in management tenant as attached. The error message in the log is as follows: 
%%%%%%%%% 
2022-01-27 03:14:09.364 ERROR 13 — [com.espertech.esper.Inbound-okippanishimatsu-0] c.e.e.e.e.dot.ExprDotEvalStaticMethod : Invocation exception when invoking method 'findLastMeasurementByFragmentTypeAndSourceAndTimeBetween' of class 'com.cumulocity.cep.server.core.function.DataAccessSingleRowFunctionPlugIn' passing parameters [c8y_acceleration_base, 52482, 1970-01-01T00:00:00.000Z, 2022-01-27T03:12:09.352Z, com.espertech.esper.client.hook.EPLMethodInvocationContext@6f5161d7] for statement 'durable:LatestData_diff_TILT:SelectBaseData': ExecutionTimeoutException : com.mongodb.MongoExecutionTimeoutException: Encountered non-retryable error during query :: caused by :: operation exceeded time limit 

com.cumulocity.exception.database.ExecutionTimeoutException: com.mongodb.MongoExecutionTimeoutException: Encountered non-retryable error during query :: caused by :: operation exceeded time limit 
%%%%%%%%% 

It looks that timeout error in database access happens. In order to fix the issue as quickly as possible, we would like you to restart CEP. Could you please restart CEP? 

---- 
..."
Defect,CSOIOT-1320,Changing MongoDB cluster nodes IP addresses,Telia Eesti AS 7515105,980,Closed,"Welsing, Michael","Lundsten, Alf",1/26/22 16:15,Customer,6/20/22 10:11,,,3-Medium,None,"Hi Ops, 

Telia needs to move the University’s Cumulocity instance MongoDB cluster nodes from the current network segment to another to release the IP addresses for the Datahub test installation. Out of this a questions came up: 


Does nodes have to be re-registered with Chef after the IP addresses have been changed or is it done automatically? 

Also Telia likes to have their planned procedure double checked: 
# changing MongoDB nodes network configuration 
# poweroff MongoDB nodes 
# changing IP addresses in DNS records (TTL is set to 30sec) 
# booting nodes up in the new network. 

Is there anything else to point out to minimize the downtime. 

Cheers 

Michael..."
Defect,CSOIOT-1302,CLONE - SSO issue on https://phios.cumulocity.com | Error: header cannot be null,phios ag 7518987,987,Closed,"Bhatt, Vikas","Lundsten, Alf",2/1/22 16:13,Customer,6/20/22 10:11,27-Jan-22,,2-High,2-High,"Customer tenant https://phios.cumulocity.com (Tenant ID: t725154470) was configured with SSO before and now they suddenly get an error like ""Could not load OAuth 2.0 configuration"" with detail information ""header cannot be null"". 

When we go to SSO Config settings in c8y as error occurs, saying that it ""Could not load OAuth 2.0 configuration"" with detail information ""header cannot be null"". 

This issue seems to happen due to this change. 

https://cumulocity.atlassian.net/browse/MTM-41054 

Is there anyway we can bring back the SSO config for https://phios.cumulocity.com? 
Tenant ID: t725154470 

..."
Defect,CSOIOT-1300,No forwarding of HTTP to HTTPS - ERR_CONNECTION_TIMED_OUT,Eppendorf SE 7517606,987,Closed,"Neale, Robert","Lundsten, Alf",1/31/22 11:38,Customer,6/20/22 10:11,,,3-Medium,3-Medium,"If a user enters one of these URLs in his browser, the request fails with a connection timeout : 
* [http://targimmune.visionizedigitallabspace.eppendorf.com/] 
* targimmune.visionizedigitallabspace.eppendorf.com/ 

The web server config should include a forwarding from HTTP to HTTPs for these domains and all their sub-domains: 
* visionizedigitallabspace.eppendorf.com (= eppendorfag.emea.cumulocity.com) 
* vnlsbeta.eppendorf.com (= eppendorfag-preproduction.emea.cumulocity.com) 
* eppendorf-software-staging.emea.cumulocity.com 

This is reproducible with browsers Chrome, Firefox and MS Edge......."
Defect,CSOIOT-1291,[DT IoT] Not able to add additional IP ranges in cc_values,Software AG 3163000,989,Closed,"Welsing, Michael","Tulli, Venkata Satya",2/8/22 1:53,Customer,6/20/22 10:11,,,3-Medium,None,"Hi Ops, 

I hope you can help me with a configuration issue on DT environment. 

In their chef env file they have included the following block: 
{code:java} 
  ""cumulocity-core"" => { 
   ""cc_values"" => { 
     ""allowedBlocksExtra"" => ['10.3.3.0/24', '10.30.0.0/16'] 
   },{code} 
Now what they expect is, after chef-clien run on the kubemaster node it will generate the cc_values.yml and those 2 new IP ranges will included in the block: 
{code:java} 
allowedBlocks: 
- 10.3.2.0/24 
- 10.3.201.0/24{code} 
and least that is what the recepie ..cc_values_gen.rb suggests 
{code:java} 
node.default[""cumulocity-core""][""cc_values""]['allowedBlocks'] = allowed_blocks + node.default[""cumulocity-core""][""cc_values""]['allowedBlocksExtra']{code} 
However the result is that these 2 new IP ranges are included in the cc_values.yml file, but in another place: 
{code:java} 
allowedBlocksExtra: 
- 10.3.3.0/24 
- 10.30.0.0/16{code} 
And after helm deployment these new IP ranges are not updated anywhere in the pods 
{code:java} 
sh-4.2# cat allow.d-c8y-all.conf 
allow 10.3.2.0/24; 
allow 10.3.201.0/24; 
sh-4.2#{code} 
  

And based on the helm chart ( ..\helm_charts\nginx\allow.d-c8y-all.conf) its correct because this allowedBlocksExtra is not used: 

  
  
{code:java} 
{{- range .Values.allowedBlocks }} allow {{.}}; {{- end }}{code} 
  
So  either the helm chart should be updated to include the allowedBlocksExtra  or the generation of the cc_values.yml from chef should be fixed that it include the IP ranges in the allowedBlocks. ........."
Defect,CSOIOT-1290,[Schindler] RELEASE BLOCKER: C8Y Release 10.10.0.24 causing increased flapping Unit Rate in both QUAL-Environments,SAG Consulting Services GmbH 3103000,992,Closed,"Herzog, Christian","Valkov, Milen",2/23/22 10:24,Customer,6/20/22 10:11,,,2-High,None,"We need logs from Schindler's QUAL-Systems which were upgraded from 10.9.0.28 to 10.10.0.24. 
* RoW Azure Qual-System (230 active test devices) 
* China Alibaba Qual-System (80 active test devices) 

R&D needs logs from karaf (error.log, mqtt.log) and LB (anything there is). 

Schindlers problem is: 
The majority of units increased MQTT disconnection per 24h significantly:  

This fact would be a {color:#ff0000}*BLOCKER*{color} for the planned 10.10.0.24 PROD Upgrade on February 9th 2022 due to the high business impact and would cause a {*}{color:#ff0000}HIGH-LEVEL ESCALATION{color}{*}. Schindler is yet not aware of this problem.  

 ......"
Defect,CSOIOT-1285,Cumulocity APJ SSL Issue Post Update from v10.10 to v.10.11,MIOT PTY LTD 7516856,993,Closed,"Herzog, Christian","Vukman, Tomislav",7/21/22 9:20,Customer,3/9/23 13:36,,,1-Critical,None,"Our instance of Cumulocity (APJ) was updated from v10.10 to v10.11 this morning at around 10am Brisbane time. It appears this has created another SSL issue where devices will be offline until rectified. 

Affected tenant are: 
* [dev.miot.captis-iot.com|http://dev.miot.captis-iot.com/] 
* [management.miot.captis-iot.com|http://management.miot.captis-iot.com/] 
* [madisontech.miot.captis-iot.com|http://madisontech.miot.captis-iot.com/] 
* [management.spark.captis-iot.com|http://management.spark.captis-iot.com/] 
* [adr.spark.captis-iot.com|http://adr.spark.captis-iot.com/] 
* [watercare.spark.captis-iot.com|http://watercare.spark.captis-iot.com/] 

Affected devices are any Captis with an ME910C1-AU module (G1 doesn’t appear to be affected) with SSL enabled (MQTTS in url for 1.19 and above). 

Given that G1 is not affected and the certificate date has not changed recently, I would suspect that the cipher list has been reduced again as part of the upgrade. 

I have checked our test rack devices and the madisontech sub tenant and devices have either last called in before 10am this morning or SSL is disabled. 

************************ 

Investigation from Tomislav: 
  
I have done comparison - previous version was 1010.0.12-2 which allowed weak ciphers. new version is 1011.0.12-2 which enforces strong ciphers 
Solution proposal: 

so the fix should be use_strong_ciphers: false........."
Defect,CSOIOT-1276,Lyreco - URGENT - Many machines are offline again,Lyreco Switzerland AG 7514898,994,Closed,"Bhatt, Vikas","Fuso, Luca",1/17/22 10:08,Customer,6/20/22 10:11,13-Jan-22,,1-Critical,1-Critical,"This is related to earlier incidents reported in below iTracs: 

CSOIOT-1200 
CSOIOT-1152 

Customer again has the problem that a lot of machines are offline. This time, not all but 55 machines are affected at once. 

According to customer's investigations, the devices should all have received EVADTS last night - but Cumulocity has probably not processed them. 

They have also attached the alarm messages of all affected machines. 

Could you please investigate the error as soon as possible and resolve this problem? 

PS: Customer is currently missing sales in their SAP due to the malfunction - the prompt elimination of the malfunction is therefore of absolute urgency for them......."
Defect,CSOIOT-1262,Boston Scientific: Update non-production instance to version 10.10.,Boston Scientific Corporation 8104616,999,Closed,"Talbert, Kent","Lisik, Milosz (External)",2/17/22 16:53,Customer,6/20/22 10:10,,,3-Medium,None,"[management.iotnonprod.bsci.com|http://management.iotnonprod.bsci.com/], tenant ID t466765 

  

Boston Scientific would like to upgrade their non-prod instance to version 10.10.  If possible, they would like to schedule it for this month.  Is that possible?   

Let me know if you need more information from them. 

  

Thanks, 

Kent......"
Defect,CSOIOT-1261,Apama MS Subscriptions,Modern Drive Technology GmbH 7519450,999,Closed,"Herzog, Christian","Lundsten, Alf",1/25/22 10:18,Customer,6/20/22 10:10,,,3-Medium,3-Medium,"On management.machines.cloud there are already these microservices: 
* Apama-ctrl-1c-4g Streaming Analytics 
* Streaming-analytics-app (this is not the default app) 
* Streaming-analytics-app-1 (this is also not the default app)  

Boot Streaming-analytics-apps have a different symbol than Streaming Analytics (default app) and behave different. 

Please import additionally: 
* apama-ctrl-starter 
* Streaming Analytics (default app) with that appearance: 
* !image-2022-01-07-15-10-28-062.png|width=270,height=174! 

 ......"
Defect,CSOIOT-1257,[Schindler] Problem with HELM install,Software AG 3163000,"1,001",Closed,"Welsing, Michael","Fuso, Luca",1/7/22 13:21,Customer,6/20/22 10:10,,,1-Critical,None,"{color:#ff0000}*As this is an active customer installation, please treat this with high priority.*{color} 

Hello Ops, 

customer (MaSe) tries to upgrade system from 10.9.0.28 to 10.10.0.24 and also kubernetes from 1.16 to 1.20.5 according to the installation manual and they faced issues with the containerization. 

According to installation page 111 on the step 'Helm Run'  the below command is giving us an error: 

_helm install cumulocity-core stack/cumulocity-core -f /etc/kubernetes/core/cc_values_work.yml --namespace=cumulocity-core --version 1010.0.24_ 

This is the output: 

_Error: YAML parse error on cumulocity-core/templates/cumulocity_core_karaf.yaml: error converting YAML to JSON: yaml: line 73: found a tab character where an indentation space is expected_ 

They and me checked the yaml file, but we did not saw any issues with it. I treid to delete the blanks in the mentioned line and re-run the installation steps, but the same issue occures. 

Attached are the yaml file and the cc_values file generated by Chef. 

best regards 

Michael........."
Defect,CSOIOT-1256,environments.monitor.c8y.io needs to be adapted - docker remove command,Software AG 3163000,"1,001",Closed,"Talbert, Kent","Korolev, Ivan",7/20/22 10:01,Customer,3/9/23 14:01,,,3-Medium,None,"A1-prod 

  

After upgrade from 10.9.0.42 to 10.10.0.18 and move Karaf to containers, some monitoring checks need to be adapted/changed. We have s chat with Ivan Korolev, so talk to him and assign these tasks. . 

We agreed to open GS tickets. 
This one is for docker remove command 

  

!image-2022-01-05-16-41-04-164.png!........."
Defect,CSOIOT-1255,environments.monitor.c8y.io needs to be adapted - run chef-client,Software AG 3163000,"1,001",Closed,"Talbert, Kent","Korolev, Ivan",7/20/22 10:01,Customer,3/9/23 14:01,,,3-Medium,None,"a1-prod-vie-core01 

After upgrade from 10.9.0.42 to 10.10.0.18 and move Karaf to containers, some monitoring checks need to be adapted/changed. We have  chat with Ivan Korolev, so talk to him and assign these tasks.  

We agreed to open GS tickets. 
This one is for not started chef-client: 

  

!image-2022-01-05-16-47-47-336.png!........."
Defect,CSOIOT-1254,environments.monitor.c8y.io needs to be adapted - PID alarm,Software AG 3163000,"1,001",Closed,"Talbert, Kent","Korolev, Ivan",7/20/22 9:57,Customer,3/9/23 14:01,,,3-Medium,None,"a1-prod-vie-core03 

  

Please assign to Ivan Korolev. 

Info from customer: 

After upgrade from 10.9.0.42 to 10.10.0.18 and move Karaf to containers, some monitoring checks need to be adapted/changed. We have chat with Ivan Korolev, so talk to him and assign these tasks.  

We agreed to open GS tickets. 

This one is for PID. You can find it under A1 prod group: 

!image-2022-01-05-16-28-50-173.png!......"
User Story,CSOIOT-1251,CLONE - Support user disabled for utonomydev.utcloud.uk,Utonomy Ltd 7516334,"1,001",Closed,"Choudhury, Atishdev","Vukman, Tomislav",1/18/22 16:37,Customer,6/20/22 10:10,6-Jan-22,,3-Medium,3-Medium,"We suspect invalid cache is the reason of the Support user issue as mentioned in https://itrac.eur.ad.sag/browse/IOT-12635. 

Tenant is on cumulocity management (Frankfurt) tenant. 

  

To fix please do the following  

API call as a ""admin"" to ""management"" tenant. 
{code:java} 
PUT {{url}}/tenant/options/configuration/system.support-user.enabled{code} 
With body:  
{code:java} 
{     ""value"": ""true"" }{code}"
Defect,CSOIOT-1235,Deploy 'Report-agent' microservice to 'https://management.machines'cloud',Modern Drive Technology GmbH 7519450,"1,004",Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",1/3/22 9:57,Customer,6/20/22 10:10,,,2-High,2-High,"After the upgrade to 10.10.0.12 on machines.cloud, 'Report-agent' microservice is totally missing and wasn't deployed. 

Therefore, customer gets the below error while accessing the Export section in Cockpit. 

{ 
""message"": ""Microservice reporting not found."", 
""error"": ""microservice/Not Found"", 
""info"": ""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting"" 
} 

I confirmed with R&D - this issue is occurring due to missing 'Report-agent' microservice. 

Please deploy 'Report-agent' microservice to 'https://management.machines.cloud/' and all its subtenants......"
Defect,CSOIOT-1231,CLONE - Sigfox downlink,"Micro Technology Co., Ltd. 7515608","1,008",Closed,"Bhargava, Neha","Lundsten, Alf",3/2/22 6:55,Customer,6/20/22 10:10,,,3-Medium,None,"Hi Ops team, 

R&D has requested sigfox agent logs. 

--------------------------------------------------------------- 

Customer Micro Technology reported that they are experiencing issue on the Sigfox downlink. 

Since Nov 15, most of the results with Sigfox downlink become “executing” instead of “successful” even though Sigfox downlink itself has been successfully done. 

Sometimes, it becomes “successful”, but “executing” in most of the time. Could you please check it and fix the issue? 

Attached a screenshot with operations still in executing mode 

Please note before Nov 15, the Sigfox downlink was always showing successful status."
Defect,CSOIOT-1230,OpenStack upgrade,Atos IT Solutions and Services d.o.o. 7517414,"1,009",Closed,"Welsing, Michael",Unassigned,12/30/21 9:06,Customer,6/20/22 10:10,,,3-Medium,None,"Hi, 

there is a question on how an OpenStack update effects the platform. 

Customer plans to migrate the OpenStack infrastructure from 16.1 to version 16.2. 

It is a minor update, but they are still interested in whether such a thing is possible. 
Should the OpenStack update to version 16.2 have an impact on Cumulocity services? 

best regards 

Michael......"
Defect,CSOIOT-1229,Siemens: Need help in setting up a new Core Node,Siemens AG 7507371,"1,009",Closed,"Welsing, Michael","Lundsten, Alf",1/4/22 8:06,Customer,2/21/23 6:19,,,3-Medium,None,"Hi Ops, 

customer tries to setup a new core node in addition to an existing one. upon running the bootstrap command 

'knife bootstrap 10.10.5.8 -N preprod-core2 -x c8yadmin --sudo --run-list recipe[list] 

but is getting an error 

‘Recipe Compile Error in /var/chef/cache/cookbooks/cumulocity/attributes/internal-lb.rb’ and 

[2021-12-28T08:57:56+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report 

[2021-12-28T08:57:56+00:00] ERROR: undefined method `[]' for nil:NilClass 

[2021-12-28T08:57:56+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1) 

------------ 

The output of knife bootstrap command, chef-client command and chef-stacktrace.out have been attached. 

Any ideas why this error occurs?..."
Defect,CSOIOT-1227,Telstra Cumulocity Development environment outage,Telstra Corporation Limited 7514912,"1,009",Closed,"Bhargava, Neha","Lundsten, Alf",1/19/22 10:10,Customer,6/20/22 10:10,,,2-High,2-High,"Hi team, 

Telstra reported that there Dev environment weren’t reachable between 24/12 - 27/12. 

""We have simulated devices in test tenancy e.g. IANC those are pining every minutes. These devices didn’t report data during this period. We also have customer complaint from Jemenadev pointing similar. Could you please investigate 

I have attached a screenshot of one of those devices. "" 

Please let me know if you need more information 

[^Dev Outage.pdf] 

 ......"
Defect,CSOIOT-1217,Telstra: A large portion of MQTT devices are unable to connect to platform after SSL certificate renewal in production,Telstra Corporation Limited 7514912,"1,014",Closed,"Herzog, Christian","Lundsten, Alf",12/27/21 8:35,Customer,6/20/22 10:10,,,1-Critical,1-Critical,"This morning it has been reported that 25% of the MQTT devices on Mondo and Watergroup tenancy didn’t report data this morning 23/12 Australian time. 

only change was done night before is that SSL certificate renewal on production environment. 

Device vendor run some test and it shows certain device version (10.403 and 10.407) having issues with SSL handshake. Please see attached email for more detail 

please treat this with high priority as impact seems very high......"
Defect,CSOIOT-1216,"CLONE - Reccurring ""Bad Gateway 502"" exceptions on emea.cumulocity.com",Eppendorf SE 7517606,"1,014",Closed,"Herod, Jaroslaw","Bieniak, Arkadiusz",4/11/22 3:58,Customer,6/20/22 10:10,24-Mar-22,,3-Medium,3-Medium,"Customer from Eppendorf reported this issue as below. 

We observe since a couple of days again recurring exceptions “Bad Gateway 502” in logs of micro-services on our enterprise tenants on emea.cumulocity.com: 
https://eppendorfag.emea.cumulocity.com 

https://eppendorfag-preproduction.emea.cumulocity.com 

We will attach a few log files from some micro-services. 

We cannot tell right now the impact on our application, but IMO such exceptions in the past where caused by resource problems on platform level and should be investigated by SAG...."
Defect,CSOIOT-1212,Microservice log Cloud-remote-access from iot.greenflex.com needed,GREENFLEX 7517499,"1,015",Closed,"Herzog, Christian","Lundsten, Alf",12/27/21 11:02,Customer,6/20/22 10:10,,,3-Medium,None,"Hello, 

please download Microservice log Cloud-remote-access from iot.greenflex.com from Dec 14 12:30-12:40 UTC 

I found no way to to this in Graylog. If there is a way, please let me know it. 

Thanks, Christian........."
Defect,CSOIOT-1211,[log4j] Update the lib to the latest 2.17,NTT Communications Corporation 7312715,"1,015",Closed,"Herzog, Christian",Unassigned,12/27/21 8:33,Customer,6/20/22 10:10,,,3-Medium,None,"NTT COm has updated there has been a managment decision to update the Log4j version to v2.17.0 or above, as -Dlog4j2.formatMsgNoLookups=true is not enough for other findings. 

Could you please update the system by end of this week with the latest log4j versions? 

Please find the detailed request as below. 
-------------------{-}FROM HERE{-}------------------------- 

NTT Com has determined that the log4j2.formatMsgNoLookups system properties and LOG4J_FORMAT_MSG_NO_LOOKUPS environment variables do not work as workarounds. They have updated that one of the following actions is mandatory by the end of the year. 

・Update to 2.16.0 or higher version (latest version 2.17.0 or higher as possible)(permanent fix)） 

・As a provisional response, implement either ""removal of classes used in vulnerable attacks"", ""countermeasures by network restrictions"", or ""operations by WAF"" 
# If the following applies, not eligible. 

・It is a completely closed area that does not have a connection not only with an Internet connection  but also with other networks. 

・You have a setting that does not log external inputs 
# The current workaround may be acceptable for the following cases 

・When communication is cut off due  to NW measures presented by WAF etc. or holding company 

・When an external vendor's workaround measures are able to deal with RCE attacks 

◆Update to the latest version 

・For systems that have been updated to 2.15.0, upgrade to 2.16.0 or higher (the latest version  as possible, 2.17.0*).  Regarding 2.16.0, it is said that there is currently only a vulnerability in DoS attacks, but since RCE vulnerabilities may be discovered in the future. 

***************************************************************************************** 
Comment Christian: 
I pointed the customer to the current status here: [https://getsupport.softwareag.com/servicedesk/customer/kb/view/64095326]  
Log4j version to v2.17.0 is not mentioned. 

In C8y Ops chat [https://mail.google.com/chat/u/0/?zx=tsni5sliz2ec#chat/space/AAAAppXxqRs] I found: 
 *********************************** 
Alf Lundsten 
Thu 3:51 PM 
Borrowed this from team two: 
[https://thehackernews.com/2021/12/hackers-begin-exploiting-second-log4j.html] 
Hackers Begin Exploiting Second Log4j Vulnerability as a Third Flaw Emerges 
thehackernews.com 
  
Bartosz Janus 
Thu 3:57 PM 
the new one thankfully has a low score - 3.7 
  
Thomas Schüller 
Thu 4:25 PM 
Yes, and with the removal of JndiLookup this is completely mitigated 
  
Bartosz Janus 
Mon 11:05 AM 
okay nevermind, it's > 9 too now 💀 [https://www.lunasec.io/docs/blog/log4j-zero-day-severity-of-cve-2021-45046-increased/] 
Log4Shell Update: Severity Upgraded 3.7 -> 9.0 for Second log4j Vulnerability (CVE-2021-45046) | LunaSec 
www.lunasec.io 
  
Basyar Radzali 
Mon 11:10 AM 
talking about 2.16, we have this [https://www.bleepingcomputer.com/news/security/upgraded-to-log4j-216-surprise-theres-a-217-fixing-dos/] 
Upgraded to log4j 2.16? Surprise, there's a 2.17 fixing DoS 
www.bleepingcomputer.com 
  
Bartosz Janus 
Mon 11:12 AM, Edited 
2.16's DoS doesn't really apply to our product as Thomas said, as far as we know at least 
(would need a crafted string in username or tenant name, and validation won't allow that) 
  
Basyar Radzali 
Mon 11:13 AM 
ah that one, okay. then we're good 
 *********************************** 
From it I conclude we removed JndiLookup and with it we don't need the update to 2.17. 
The setting of -Dlog4j2.formatMsgNoLookups=true is completely sufficient as described on 
[https://getsupport.softwareag.com/servicedesk/customer/kb/view/63636298] 

Do you agree or anything to add?......"
Defect,CSOIOT-1201,(Adamos Zendesk Ticket: 2073) imprint on ADAMOS IIoT web pages,Software AG 3101000,"1,016",Closed,"Herzog, Christian","Lundsten, Alf",1/4/22 9:29,Customer,6/20/22 10:09,,,4-Low,None,"Please import the attached branding into adamos.com and adamos-dev.com, as my user has not sufficient privileges. 

It contains additionally a cookie banner with the text „On this site {_}we only use technically necessary cookies{_}, which cannot be declined. You can find further information in our privacy notice."" and 2 buttons................"
Defect,CSOIOT-1200,URGENT - Again all machines offline,Lyreco Switzerland AG 7514898,"1,016",Completed,"Bhatt, Vikas","Fuso, Luca",12/22/21 10:03,Customer,6/20/22 10:09,21-Dec-21,,1-Critical,1-Critical,"This is another issue from Lyreco that occurred in CSOIOT-1152 very recently. 

We have the same scenario as a week ago, all machines are offline again. 
We have not received any data from the machines despite the fact that they were delivered to the Software AG Cloud through telemetry\! 

Please fix immediately!........."
Defect,CSOIOT-1195,"Tracker Agent ""tracker.cumulocity.com"" not available",SAG Deutschland GmbH 3102000,"1,017",Closed,"Bhatt, Vikas","Lundsten, Alf",12/21/21 10:00,Customer,6/20/22 10:09,21-Dec-21,,2-High,3-Medium,"We just received a mail from Telic that they cannot connect any Tracker to [tracker.cumulocity.com|http://tracker.cumulocity.com] on port 9090. Could it be that the tracker agent is not available anymore on c[umulocity.com?|http://cumulocity.com] 

There is a potential new customer clyde bergemann behind this request. 

They tried to connect the device with the IMEI 353081090697197......"
Defect,CSOIOT-1181,Connection issues from a custom microservice,Mohawk International Services BV 7518646,"1,021",Closed,"Schon, Gregor","Lundsten, Alf",2/10/22 14:52,Customer,2/21/23 6:21,,,2-High,2-High,"  
Customer sees connection issues with custom microservice 

Are there connnection problems on the platform which concern the microservice 

*[https://mohawk-iiot.emea.cumulocity.com/*]    
Tenant i: *t11553862* 

Internal name of microservice is *Enricher* 
administration/index.html#/applications/532/properties  

Currently Graylog is not available. Two days ago I had checked 

Tenant:t11553862 AND message:445 some hits 
Tenant:t11553862 AND message:IIOT  > nothing found 

Samples of microservice logs are: 
[^enricher-scope-t11553862-deployment-549cf8cf9f-ktfrz.log] 
[^enricher-scope-t11553862-deployment-555dfb6b49-rrsvj.log] 

  

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
original desc: The customer is creating a custom microservice in C# with Cumulocity. They are recently facing issues when connecting to the core API. 

See the following stack traces provided by the customer: 

System.AggregateException: One or more errors occurred. (The SSL connection could not be established, see inner exception.) 

---> System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception. 

---> System.IO.IOException: Unable to read data from the transport connection: Connection reset by peer. 

---> System.Net.Sockets.SocketException (104): Connection reset by peer 

   — End of inner exception stack trace — 

   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken) 

   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.GetResult(Int16 token) 

   at System.Net.FixedSizeReader.ReadPacketAsync(Stream transport, AsyncProtocolRequest request) 

   at System.Net.Security.SslStream.EndProcessAuthentication(IAsyncResult result) 

   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization) 

— End of stack trace from previous location where exception was thrown — 

   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsyncCore(Stream stream, SslClientAuthenticationOptions sslOptions, CancellationToken cancellationToken) 

   — End of inner exception stack trace — 

   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsyncCore(Stream stream, SslClientAuthenticationOptions sslOptions, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean allowHttp2, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.GetHttpConnectionAsync(HttpRequestMessage request, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.SendWithRetryAsync(HttpRequestMessage request, Boolean doRequestAuth, CancellationToken cancellationToken) 

   at System.Net.Http.AuthenticationHelper.SendWithAuthAsync(HttpRequestMessage request, Uri authUri, ICredentials credentials, Boolean preAuthenticate, Boolean isProxyAuth, Boolean doRequestAuth, HttpConnectionPool pool, CancellationToken cancellationToken) 

   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken) 

   at System.Net.Http.HttpClient.FinishSendAsyncBuffered(Task`1 sendTask, HttpRequestMessage request, CancellationTokenSource cts, Boolean disposeCts) 

   — End of inner exception stack trace — 

   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification) 

   at Cumulocity.SDK.Client.RestConnector.Get[T](String path, CumulocityMediaType mediaType, Type responseType) 

   at Cumulocity.SDK.Client.Rest.PlatformImpl.getPlatformApi(RestConnector restConnector) 

   at Cumulocity.SDK.Client.Rest.PlatformImpl.get_InventoryApi() 

   at IIOT.Shared.Library.CumulocityNonStatic.FindEnricherGroup() in C:\Users\E189481\OneDrive\Sources\Cumulocity\microservice\IIOTMicroservice\IIOT.Shared.Library\CumulocityNonStatic.cs:line 177 

   at IIOT.Shared.Library.CumulocityNonStatic.FindRawDataSubGroup() in C:\Users\E189481\OneDrive\Sources\Cumulocity\microservice\IIOTMicroservice\IIOT.Shared.Library\CumulocityNonStatic.cs:line 220 

------------------------------------------------------------------------------------------------ 

2021-12-03 13:58:18.076 +01:00 [Error] () System.AggregateException: One or more errors occurred. (A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.) 

---> System.Net.Http.HttpRequestException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. 

---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. 

   at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken) 

   — End of inner exception stack trace — 

   at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean allowHttp2, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.GetHttpConnectionAsync(HttpRequestMessage request, CancellationToken cancellationToken) 

   at System.Net.Http.HttpConnectionPool.SendWithRetryAsync(HttpRequestMessage request, Boolean doRequestAuth, CancellationToken cancellationToken) 

   at System.Net.Http.AuthenticationHelper.SendWithAuthAsync(HttpRequestMessage request, Uri authUri, ICredentials credentials, Boolean preAuthenticate, Boolean isProxyAuth, Boolean doRequestAuth, HttpConnectionPool pool, CancellationToken cancellationToken) 

   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken) 

   at System.Net.Http.HttpClient.FinishSendAsyncBuffered(Task`1 sendTask, HttpRequestMessage request, CancellationTokenSource cts, Boolean disposeCts) 

   — End of inner exception stack trace — 

   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification) 

   at Cumulocity.SDK.Client.RestConnector.Get[T](String path, CumulocityMediaType mediaType, Type responseType) 

  at Cumulocity.SDK.Client.PagedCollectionResourceImpl`3.get(IDictionary`2 params) 

   at IIOT.Shared.Library.CumulocityNonStatic.FindDeviceById(GId id) 

 ..."
Defect,CSOIOT-1178,Enable Apama Microservice and Streaming Analytics on https://management.machines.cloud/,Modern Drive Technology GmbH 7519450,"1,021",Closed,"Bhatt, Vikas","Vukman, Tomislav",12/17/21 12:27,Customer,6/20/22 10:09,,,2-High,2-High,"Customer STW / Moderndrive is about to migrate their Cumulocity Environment from Esper to Apama. 

They are not able to add any of the apama-ctrl services or the Streaming Analytics Application to the subtenants, because they are not listed under ""Available Applications"" 

Please deploy and enable these features on the environment https://management.machines.cloud/......"
Defect,CSOIOT-1177,Custom application deployment,GREENFLEX 7517499,"1,022",Closed,"Welsing, Michael","Lundsten, Alf",12/27/21 16:06,Customer,6/20/22 10:09,,,1-Critical,None,"Hi R&D, 

following SAG communication on lo4j zero day vulnerability, customer encountered problems for using custom web applications. 

Customer uses a custom DeviceManagement app. Before Monday 13.12.2021 the upload of updated apps worked fine, but now it runs into issues. 

The new version of the app works fine on localhost. Also the deployment and the activation on the cloud work, but if you want to connect to the app a 403 error is shown. This 403 error stays even if you re-activate an older version of the app. Even if you delete the new custom application and reactivate the previous one you get 403 forbidden messages. 

This is happening on all Greenflex tenants......."
Defect,CSOIOT-1173,issue with creating new smart rules,Modern Drive Technology GmbH 7519450,"1,022",Closed,"Neale, Robert","Lundsten, Alf",1/4/22 8:22,Customer,6/20/22 10:09,17-Dec-21,,3-Medium,3-Medium,"A customer (machines.cloud) has problems with creating new smart rules. 

  

Sporadically a http 502 is returned......."
Defect,CSOIOT-1170,Actility Microservice not available on eu-latest.,SAG Deutschland GmbH 3102000,"1,023",Closed,"Talbert, Kent","Radzali, Basyar",12/29/21 2:15,Customer,6/20/22 10:09,,,3-Medium,None,"Customer is seeing Microservice not available messages when trying to register Actility devices. I see error: ""Microservice/Bad gateway"" in Developer tools when trying to register a device. 



......"
Defect,CSOIOT-1169,Tracker Service Connection Refused,Software AG S.A. de C.V. 3157000,"1,023",Closed,"Fartode, Sumit","Radzali, Basyar",12/21/21 2:37,Customer,6/20/22 10:09,20-Dec-21,,2-High,2-High,"The [tracker.us.cumulocity.com|http://tracker.us.cumulocity.com/] and [tracker.cumulocity.com|http://tracker.cumulocity.com/] in port 9090 were the queclink devices connects to, are refusing connections, and the devices can no longer report locations to the C8Y tenants.  

  

Screenshots attached. Could this failure be from log4j restart?........."
Defect,CSOIOT-1167,Cloud remote Access SSH connexion,GREENFLEX 7517499,"1,023",Closed,"Herzog, Christian","Lundsten, Alf",12/15/21 10:36,Customer,6/20/22 10:09,,,3-Medium,None,"Tenant [https://poc.iot.greenflex.com/ (not in graylog)|https://poc.iot.greenflex.com/apps/administration/index.html#/remoteAccessSettings)] 
Please deliver all logs from folder /var/log/cumulocity/error/log 

Time frame 14/23/21 from 12:30-12:40 UTC  

Thanks!......"
Defect,CSOIOT-1166,No events received from Actility anymore since 10 Dec 2021 20:59:10,NTT Belgium NV 7519519,"1,023",Closed,"Neale, Robert","Lundsten, Alf",12/20/21 8:13,Customer,6/20/22 10:09,,Log4jZeroDay,2-High,None,"We use the Cumulocity built-in connectivity provider for Lorawan from Actility ([thingparkenterprise.eu.actility.com|http://thingparkenterprise.eu.actility.com/]) for a couple of Elsys ERS sensors and TABS motion sensors. Data was coming in fine until 10-dec 20h59. Checking in Actility TPE: sesnsors are still working and uploading measurements. In Cumulocity I have no way of troubleshooting these connectivity issues…. 

Exapple device: Actility_A81758FFFE0553B1......"
Defect,CSOIOT-1159,DataHub: Problem with Offloadings-Jobs,TROX GmbH 7516100,"1,024",Closed,"Talbert, Kent","Janus, Bartosz",12/14/21 9:04,Customer,6/20/22 10:09,,,2-High,None,"The errors are probably related to the incident on Friday, as there were no problems before that. 

Existing offloading-Jobs do not work with following exception message: 

{{Either the additional columns or the additional filter predicate are errorneous.}} 

Other Error when creating new offloading-Jobs: 

{{Failed to get additional columns for MEASUREMENTS SOURCE_BAD_STATE ERROR: The source [c8y_source] is currently unavailable. Info: [] Fragment 0:0 [Error Id: 741cf92e-d828-441a-a9e8-ea6b4ca6b0c9 on dremio-executor-0.dremio-cluster-pod.cumulocity-multinode-central-1-prod-cdh.svc.cluster.local:0] }}......"
Defect,CSOIOT-1152,Lyreco - URGENT - All machines are offline since 10 December,Lyreco Switzerland AG 7514898,"1,024",Closed,"Bhatt, Vikas","Fuso, Luca",12/21/21 13:10,Customer,6/20/22 10:09,20-Dec-21,,1-Critical,1-Critical,"Customer reported the below after the log4j exploit on Friday. No data can be transmitted currently, therefore they would like to get this investigated on priority and resolve. 

---------------------- 
Unfortunately we had to notice that since Friday night no data was processed in the system and the machines are therefore displayed as offline. 

No events were processed and also no sales data was played into our SAP. 

This is a very urgent issue that has to be fixed. 

At the same time, *you must check whether the data that was not processed by the system will be processed later or whether we have to expect revenue losses.* 

We from our side have to state that currently no data from our devices are processed by the VendMe system and thus a great risk of revenue losses is to be expected. 

Best Regards, 
Angelo Sebben 
---------------------- 

--> As of now, support has informed customer about the current status of the actions taken due to log4j exploit.... 


+Latest update from customer+: - 

We still have to note that the VendMe system is currently not working correctly. 

Sales from our vending machines are not logged / VendMe app is not working correctly or not at all. 

Currently I have to say that the system in this form is not usable for our business. 

I hope that soon a solution is in sight and that at the same time the in the meantime delivered unprocessed sales data will still be submitted and processed in the platform...."
Defect,CSOIOT-1151,DataHub setup for Watercare completely stopped working since 10Dec 2021,MIOT PTY LTD 7516856,"1,025",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",12/16/21 7:22,Customer,6/20/22 10:09,17-Dec-21,,1-Critical,None,"Hi Ops team, 

MioT reported that DataHub setup stopped working for them. Can you please check? 
Please note, this have a severe impact on customer business 

In customer words: 
""DataHub setup for Watercare completely stopped working since 10 Dec 2021."" 

We already received escalation through local sales 

Tenant: management.spark.captis-iot.com..."
Defect,CSOIOT-1150,Smartrules not working on Cumulocity.com,CMC NV 7515686,"1,026",Closed,"Talbert, Kent","Abdul Majid, Mohd Shahmi",1/10/22 2:54,Customer,6/20/22 10:09,,,1-Critical,None,"Seeing the following errors on multiple Cumulocity.com tenants: 

  

Could not load smart rules. 

{\{{}} 
{\{ ""error"": ""general/internalError"",}} 
{\{ ""message"": ""smartrule-scope-management.cumulocity-multinode-central-1-Name or service not known"",}} 
{\{ ""info"": ""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting""}} 
{{}}} 

{{}} 

  

Airmatics data is not being forwarded to their AWS cloud, appears to be related to this issue. 

  

!image-2021-12-11-16-54-18-794.png! 

  

See Ops chat at this link for more details:  [https://chat.google.com/room/AAAAppXxqRs/R8kVmqDcKZA]........."
Defect,CSOIOT-1131,Enable LORIOT agent,Software AG Australia Pty Ltd. 3139000,"1,029",Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",12/9/21 10:36,Customer,6/20/22 10:09,,,3-Medium,None,"Please import the microservice “loriot-agent” on the management tenant ""management.apj.cumulocity.com"". Then I can enable it to a subtenant. [https://anz.apj.cumulocity.com|https://anz.apj.cumulocity.com/]  

This is an internal tenant used for presales activities. 

 ......"
Defect,CSOIOT-1117,502/503 Errors on Production Environment,Nordex SE 7515195,"1,031",Closed,"Herzog, Christian","Bieniak, Arkadiusz",1/12/22 16:24,Customer,6/20/22 10:09,,,3-Medium,None,"Nordex reports: 

There was an outage of Cumulocity Platform on 5.12.2021 from 05:30am until the Core nodes were restarted at 09:30am. Control Centre application was not usable during this time due to a high amount of 502/503 errors coming from the platform. Alarm decoration process was completely stopped until the restart of the Core nodes and we lost around 600 alarms from the turbines. There is daily a peak in SLAs around 06:00 in the morning and root cause for this peak in SLAs have not been identified yet. 

We request immediate support from SAG to identify the underlying root cause so that it doesn’t happen again. Attached some screenshots for reference......."
Defect,CSOIOT-1112,Enable Lora and cloud fieldbus agent,Software AG Australia Pty Ltd. 3139000,"1,032",Closed,"Bhargava, Neha","Luczyszyn, Mikolaj (External)",12/6/21 15:16,Customer,6/20/22 10:09,,,4-Low,None,"Hi Ops, 

There is a request to enable Lora agent (Loriot) on a tenant on US instance? 

[https://intechnologydemo.us.cumulocity.com/] 

This is a trial tenant created by one of our potential customer to test Cumulocity functionality. 

We don't see Loriot on US instance, could you please help us enable it......."
Defect,CSOIOT-1110,Please move tenant from Azure to AWS,Edwards Vacuum 7510668,"1,034",Closed,"Talbert, Kent","Lundsten, Benjamin",12/20/21 14:58,Customer,12/22/22 15:13,,,2-High,None,"Edwards tenant needs to be moved from our Azure-hosted instance (emea.cumulocity.com) to our AWS-hosted one (cumulocity.com) because DataHub cannot reach their Azure Data Lake (researched and concluded with RnD: [https://itrac.eur.ad.sag/browse/CDH-2379|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Fitrac.eur.ad.sag%2Fbrowse%2FCDH-2379&data=04%7C01%7CHarald.Meyer%40softwareag.com%7C9fb1ccb83fd04d9f781208d9b494cb67%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637739373421945702%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=houSrvHT9cMOPS4YZPybneKjVOOjuskJkaX7s0vZniI%3D&reserved=0]).  

The only option seems to be to move the tenant to our AWS hosted Cumulocity instance. We confirmed with an eu-latest tenant that connectivity to their Azure Data Lake works in that case. If a direct move of their tenant ([https://edwards000.emea.cumulocity.com/|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Fedwards000.emea.cumulocity.com%2F&data=04%7C01%7CHarald.Meyer%40softwareag.com%7C9fb1ccb83fd04d9f781208d9b494cb67%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637739373421955661%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=nrzcBVNrwW%2BaiHgr4YtqH7ZCJTYUaWZA3MXPU6%2FLr%2Bo%3D&reserved=0]) is not possible, Edwards asks for a grace period to run both tenants in parallel to allow them to move existing data and configuration. 

This approach has been confirmed & approved with the responsible account executive and with Product Management and RnD. For commercial questions please contact Nigel.Harley@softwareag.com......"
Defect,CSOIOT-1108,Tenant cleanup on Adamos prod,Software AG 3101000,"1,034",Closed,"Herzog, Christian","Vukman, Tomislav",2/8/22 9:14,Customer,2/21/23 6:23,,,4-Low,None,"Hi Ops, 

as done on adamos-dev, we want to cleanup tenants on Adamos prod. 
For it I attached ""suspension candidates adamos.com.xlsx"" which contains all tenants from management.adamos.com which have less than 600 API requests within last 3 months 
  
So I ask you now: 
1. Please check this list and let me know which tenants are still needed.  
2. Can you please deliver a list of all tenants from adamos.com, their admin email addresses and the number of subtenants? 

My proposed next steps for each tenant: 
* check if the tenant has level 3 tenants which should remain - if yes skip them 
* contact admins by email and ask for suspension 
* if no Administrator's email exists: open the tenant with support user and check for additional users and email addresses 
* if an admin or user email exists: contact the user by email and ask for suspension 
* wait for 2 weeks 
* if customer don't react, ask and wait again 
* if customer agrees, suspend tenant 
* an automatic script delete them 4 weeks after suspension 

Thanks, Christian........."
Defect,CSOIOT-1106,access errors on Nov 12.,"Micro Technology Co., Ltd. 7515608","1,035",Closed,"Herzog, Christian","Lundsten, Alf",12/20/21 14:39,Customer,6/20/22 10:09,,,3-Medium,None,"[https://kw.cumonosu.com/apps/cockpit/index.html#/] 
The customer got some errors from 5:42:30 am to 5:42:35 am on November 12 in JST. Could you please investigate the issue related to three errors attached? 

This feedback came from R&D: 
{code:java} 
Internal error, request with id: z6SvP6pY9H failed, contact support{code} 
""This error comes from mongodb, so for now we can just say that there was something wrong with mongo. For more detail analysis we need core and mongo logs from this time."" 

So please provide the logs from that time frame......."
Defect,CSOIOT-1105,RCA needed for Siemens problem that was resolved by core restarts.,Siemens AG 7507371,"1,036",Closed,"Neale, Robert",Unassigned,12/1/21 10:32,Customer,7/27/22 20:49,,,3-Medium,3-Medium,"Siemens had a problem... 

  

  

Our customer was trying to map data in Cumulocity IOT Extension and getting Internal Server Errors in the Page of the Mapping. 

Inventory#get operation resulted in Http status code: (504) 
Something went wrong. Failed to parse error message. {""timestamp"":1638181003781,""status"":500,""error"":""Internal Server Error"",""exception"":""java.lang.IllegalArgumentException"",""message"":""Inventory#get operation resulted in Http status code: 504 
nSomething went wrong. Failed to parse error message."",""path"":""/api/v1/collections/188212337/alarmmaps"",""errors"":{""logref"":""61a4a87cb2af9f8a7e9242657a2a5963"",""message"":""Inventory#get operation resulted in Http status code: 504 
nSomething went wrong. Failed to parse error message."",""code"":""mdsp.core.mciotextension.mapconfig.internalServerError""}} 

Customer tenant: 502 similar to this: 

{ ""timestamp"": ""2021-11-29T10:28:42.970+0000"", 
""status"": 500, 
""error"": ""Internal Server Error"", 
""exception"": ""com.cumulocity.sdk.client.SDKException"", 
""message"": ""Http status code: 502 
nSomething went wrong. Failed to parse error message."", 
""path"": ""/api/v1/alarms/counts"", 
""errors"": 

{ ""logref"": ""61a4ab3fef3767d6296141102388220c"", ""message"": ""Http status code: 502 
nSomething went wrong. Failed to parse error message."", ""code"": ""mdsp.core.mciotextension.datamapper.internalServerError"" } 

} 

  

They resolved it by restarting cores 2 and 3, but now want to know the cause of the problem.........."
Defect,CSOIOT-1103,Offloading Tasks Failing,MIOT PTY LTD 7516856,"1,037",Closed,"Bhargava, Neha",Unassigned,12/1/21 12:15,Customer,6/20/22 10:09,,,2-High,None,"Customer has two of 11 offloading tasks failing consistently, these two were previously succeeding. No changes have been made to the configuration of the tasks. Tasks have been deactivated and reactivated. Didn’t flush data, just selected append. 

Can you please explain the implications of the two options when restarting an existing offloading task? What impact does flush existing data have, specifically on the S3 files already created? 

  

[^start_task.docx]......"
Defect,CSOIOT-1084,CLONE - [BD] Duplicate Measurements in Platform,MIOT PTY LTD 7516856,"1,043",Closed,"Bhargava, Neha","Lundsten, Alf",2/10/22 14:56,Customer,6/20/22 10:08,,,1-Critical,None,"Customer MIOT PTY reported this issue and it's critical for them to be taken care of: 

We have an issue with duplicate measurements (submitted via MQTT / SmartREST) in the platform. The duplicates are sent by our devices due to not receiving an MQTT ACK back from the platform, this is likely due to loss of packets over an LTE network, not due to the platform failing to send an ACK. 

We would like to explore what options there are in the platform to either send an NACK response to the device if the measurement already exists, or an APAMA rule to perform some form of data deduplication. 

Below is an example of one of our measurement smartrest entries. 

{{l002,<$.time>,<Pulse1.P1.value>,<Pulse1.P1.unit>}} 

------------------------ 

Please let me know if we need any further information from customer."
Defect,CSOIOT-1081,[SI #5461218] Registration of Queclink device on Tracker.us.cumulocity fails,Software AG S.A. de C.V. 3157000,"1,045",Closed,"Fartode, Sumit","Abdul Majid, Mohd Shahmi",12/9/21 4:55,Customer,6/20/22 10:08,2-Dec-21,,2-High,2-High,"Hi, 

The customer is trying to register a device on tracker.us.cumulocity.com but it hangs at ""waiting for connection"".  

  

When the same set of steps are repeated for the frankfurt environment (tracker.cumulocity.com), it is successful. Please check the US environment and make sure the tracker agent is functioning as expected. 

  

Thanks, 

-Sumit B. Fartode......"
Defect,CSOIOT-1078,CLONE - [UI] Unable to see Firmare in Firmware Install,Telstra Corporation Limited 7514912,"1,045",Closed,"Bhargava, Neha","Lundsten, Alf",12/6/21 8:31,Customer,6/20/22 10:08,,,3-Medium,None,"Telstra reported this issue where they were not able to see firmware install in one tenant and on other tenant in same environment firmware install is available. 

More details here: 

Description: 

Our customer has come to us with the inability to see the relevant firmware within the ""Replace Firmware"" feature. This defect is found in [sewdev.iotdev.telstra.com|http://sewdev.iotdev.telstra.com/], however the same issue does not arise in another dev tenancy, [ianc.iotdev.telstra.com|http://ianc.iotdev.telstra.com/] 

The Problem: 
# We uploaded firmware through the Device Management > Firmware Repository > Add Firmware feature in the tenancy [sewdev.iotdev.telstra.com|http://sewdev.iotdev.telstra.com/] 
# We went to upgrade a device's firmware using Device Management > Device > All Device > LwM2M Landis+Gyr urn:imei:866416047961082 > Firmware > Replace Firmware 
# In [sewdev.iotdev.telstra.com|http://sewdev.iotdev.telstra.com/] there is a ""No Items to Display"" message, with no firmware installs available 
# Steps 1-3 were done in [ianc.iotdev.telstra.com|http://ianc.iotdev.telstra.com/], which is another dev tenancy in the same environment, and it DOES show relevant firmware to install 

  

Testing We have Done: 
* In both tenancies, the files will upload to the file repository and the binary repository successfully 
* Filtering in the ""Device Type Filter"" when uploading firmware does not make a difference in sewdev, whether they are applied or not applied. This feature does work in ianc 
* We have tried reuploading an old piece of firmware, and also trying a fresh binary file. Neither work and still does not show up in sewdev. 
* A test we could not do because it would disturb our customer's development is testing a fresh device without firmware. We do not know if the ""Install Firmware"" functionality would work, where the ""Replace Firmware"" functionality failed 
* Checked whether the role permissions are lacking. There are the same permissions across ianc, sewdev and no descrepencies between the permissions between us and the customer (see attached screenshots) 

  

Our conclusions: 
* There is a defect in sewdev but not in ianc which are tenancies in the same environment, therefore it is not a versioning issue 
* We have not been able to see any permutation of variables allow sewdev to show the firmware in the firmware install screen, we will need help in determining the root cause of this"
Defect,CSOIOT-1076,Add custom index for fragment,Hilti AG 3158,"1,048",Closed,"Talbert, Kent","Fuso, Luca",2/7/22 9:40,Customer,6/20/22 10:08,3-Feb-22,,3-Medium,None,"R&D has proposed following indices for the Hilti instance: 


db.cmdata.createIndex( \{""_fragments"" : 1, ""type"" : 1, ""name"" : 1, ""com_hilti_iot_dmp_measurement_LatestMeasurement_timestamp"" : 1}, \{ background: true } ) 
db.cmdata.createIndex( \{""_fragments"" : 1, ""type"" : 1, ""sapCustomerId"" : 1, ""com_hilti_iot_dmp_measurement_LatestMeasurement_timestamp"" : 1}, \{ background: true } ) 

 ... 

See IOT-12506 for more details."
Defect,CSOIOT-1056,ADAMOS - Extended Check IP Address,Software AG 3101000,"1,050",Completed,"Herzog, Christian","Louden, Timothy",12/6/21 15:17,Customer,7/27/22 21:38,,,3-Medium,None,"Dear colleagues, 

as already described in the attached mail, could you please check if the IP address 51.105.228.230 which occurs in relation with the below mentioned tenant represents a gateway IP address of the C8Y installed base or something similar? 

Comment Support: 

_The IP 51.105.228.230 is logged in connection with axito.adamos-dev.com (t51394749) in Graylog, about 8 times per second with Events and Measurements, e.g.:_  

*Timestamp* 

2021-11-15 13:11:42.013 

*Received by* 

_SSL Beats_ on [ 582ab5be / c8y-logging-graylog-04.monitor.c8y.io|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Flogging.monitor.c8y.io%3A9000%2Fsystem%2Fnodes%2F582ab5be-092a-42e8-8d93-bf4c7d95d109&data=04%7C01%7CChristian.Herzog%40softwareag.com%7C6acdbb415120448007d008d9a9d6f29e%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637727562916621808%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=MzDC9aHmnadRwR6tt0IVEnsBXPTlTNNL5LMxk12uOug%3D&reserved=0] 

*Stored in index* 

adamos_5122 

*Routed into streams* 
* [Adamos Development Environment|https://eur04.safelinks.protection.outlook.com/?url=https%3A%2F%2Flogging.monitor.c8y.io%3A9000%2Fstreams%2F5bebf1155a215f30ea9dbf11%2Fsearch&data=04%7C01%7CChristian.Herzog%40softwareag.com%7C6acdbb415120448007d008d9a9d6f29e%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637727562916621808%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=NiAC3YFGBoL2r4EXygnr51v0X9Mr5PJCZhhz%2FF%2FPinM%3D&reserved=0] 

*CumulocityAccessRequestID* 

125632906 

*CumulocityAccessRequestURL* 

[http://axito.adamos-dev.com/event//events|https://eur04.safelinks.protection.outlook.com/?url=http%3A%2F%2Faxito.adamos-dev.com%2Fevent%2Fevents&data=04%7C01%7CChristian.Herzog%40softwareag.com%7C6acdbb415120448007d008d9a9d6f29e%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637727562916631769%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=CAefjq5FRoP5tvT95jkfDfD8tWb4%2BPESCge2i9%2FXV0k%3D&reserved=0] 

*CumulocityAccessSourceIP* 

51.105.228.230 

*CumulocityAccessSourceIP_city_name* 

Amsterdam 

*CumulocityAccessSourceIP_country_code* 

NL 

*CumulocityAccessSourceIP_geolocation* 

52.3556,4.9135 

*Tenant* 

t51394749 

*TenantAndUser* 

t51394749/janusz 

*User* 

janusz 

*facility* 

filebeat 

*file* 

/var/log/cumulocity/access.log 

*internalsource* 

access 

*message* 

2021-11-15 13:11:41[788954669-291163] - t51394749/janusz | LoggingInInterceptor | 176 - org.apache.cxf.cxf-core - 3.3.7 | INFO Inbound Message ---------------------------- ID: 125632906 Address: [http://axito.adamos-dev.com/event//events|https://eur04.safelinks.protection.outlook.com/?url=http%3A%2F%2Faxito.adamos-dev.com%2Fevent%2Fevents&data=04%7C01%7CChristian.Herzog%40softwareag.com%7C6acdbb415120448007d008d9a9d6f29e%7Cd9662eb9ad984e74a8a204ed5d544db6%7C1%7C0%7C637727562916641717%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=4DK8y3pZ3tDuY5Bh81ooVsTLqj6V3nGuDsHdlBFcNJY%3D&reserved=0] Encoding: UTF-8 Http-Method: POST Content-Type: application/json Headers: \{Accept=[application/vnd.com.nsn.cumulocity.event+json], User-Agent=[python-requests/2.24.0], X-Forwarded-Proto=[https], Host=[axito.adamos-dev.com], Authorization=???, Cache-Control=[no-cache], X-Forwarded-For=[51.105.228.230], content-type=[application/json], Postman-Token=[fb99e305-4608-4247-85e8-08474826f2f7], Content-Length=[135], X-Real-IP=[51.105.228.230], accept-encoding=[gzip, deflate]} -------------------------------------- 

*name* 

adamos-multinode-preprod 

*offset* 

128916539 

*source* 

AdamosDevEUCore02 

*timestamp* 

2021-11-15 13:11:42 +00:00 

*type* 

null 

 ........."
Defect,CSOIOT-1051,CLONE - Telstra DEV: Incorrect Status is shown under Application Status,Telstra Corporation Limited 7514912,"1,051",Closed,"Bhargava, Neha","Lundsten, Alf",2/10/22 14:55,Customer,6/20/22 10:08,,,3-Medium,None,"Telstra reported an issue that, all events from tenancy are shown under status of a each application. 

Steps To Reproduce: 
1. Navigate to admin-> Own application. 
2. Open any available application(microservice) and Status tab. 
3. It is observed that events for all the other applications are shown. 

Expected Behavior: Events for the selected application should be shown under status events and all the events should not be combined. 

Reported version: 10.9.0.18 

Note: Due to this issue user cannot identify events or status for the selected application. 

Attached the recording and screenshots for same."
Defect,CSOIOT-1046,Too Many Request - customer is seeing throttling,Hilti AG 3158,"1,052",Closed,"Eha, Allan","Vukman, Tomislav",11/17/21 10:06,Customer,6/20/22 10:08,,,2-High,None,"currently on this tenant t543594485 is enforced a number of request per second limit, this is causing the application not to process the messages correctly, putting the tenant in a endless loop, can you please remove this limitation so the message can be processed correctly till the end? 

 "
Defect,CSOIOT-1044,[SI #5460665] DataHub connection to Azure Data Lake fails,Edwards Vacuum 7510668,"1,052",Closed,"Talbert, Kent","Fuso, Luca",12/6/21 11:48,Customer,6/20/22 10:08,,,2-High,None,"Problem Description: 

for customer Edwards, we are trying to connect their tenant on EMEA to their Azure Data Lake. We confirmed that it is a V2 data lake and confirmed that the credentials are working outside of Data Lake. They have a bit a special setup in that their data lake is not available on the internet. We whitelisted to outbound IP address of EMEA. 

Yet, we receive the following error. From the error it looks like, we can connect to the data lake and the storage account but then do not have the permissions to access the storage container. This is strange as we are using the default shared access key of the account. Any ideas? 

The problem seems to be related to the storage setup in Azure. Connectivity using Azure Storage Explorer works. 

2021-10-19 08:50:48.035 [ vert.x-eventloop-thread-0] ERROR TenantManagerImpl - CDHCCOE0000 - createTenant() failed: io.vertx.core.impl.NoStackTraceThrowable: CDHCBEE0177 - Failed to create tenant: java.lang.RuntimeException: CDHCDAE0002 - Got HTTP response with status 400 Bad Request and data ' 

{""errorMessage"":""Failure while validating existence of container fs-lakehouse-dev. Error Access to container fs-lakehouse-dev denied - [403 This request is not authorized to perform this operation.]"",""context"":[],""moreInfo"":""Please check the log file for details, see https://docs.dremio.com/advanced-administration/log-files.html""} 

' (request=POST /api/v3/catalog). All changes have been rolled back! 
java.lang.RuntimeException: io.vertx.core.impl.NoStackTraceThrowable: CDHCBEE0177 - Failed to create tenant: java.lang.RuntimeException: CDHCDAE0002 - Got HTTP response with status 400 Bad Request and data ' 

{""errorMessage"":""Failure while validating existence of container fs-lakehouse-dev. Error Access to container fs-lakehouse-dev denied - [403 This request is not authorized to perform this operation.]"",""context"":[],""moreInfo"":""Please check the log file for details, see https://docs.dremio.com/advanced-administration/log-files.html""} 

' (request=POST /api/v3/catalog). All changes have been rolled back! 

----------------------------------------------------------------------------------------------------- 

Information from Datahub R&D team: 

The issue is a networking configuration topic in Azure and thus a topic to be clarified between Ops and the customer. Here's some background:  
* both the data lake as well as DataHub are deployed in Azure 
* The customer has chosen ZRS as their redundancy strategy and thus the only available network routing option is ""Microsoft network routing"", but Internet-routing is not available 
* Whitelisting the PUBLIC IP of DataHub/Cumulocity does not help in this case, because the read/list requests against the Data lake to not originate from 20.50.212.191, but from an Azure-internal IP: 10.250.4.101 
* Azure-internal IPs cannot be whitelisted via the Firewall IP whitelisting (and they are ambiguous since many customer subnets may have the same private address space) 
* In conclusion: the IP filtering does not help with ZRS, and GZRS (but works fine for LRS and GRS with internet routing enabled/exposed as secondary public endpoint) 

We don't have any Azure experts in our R&D team and thus we cannot provide further support. I do think that some kind of VNET peering between Edwards and C8Y's Azure subscriptions would be required. Then, Edwards would be able to whitelist the peered VNET instead of using IPs for whitelisting. 

  

See [https://itrac.eur.ad.sag/browse/CDH-2379] for more details. 

  

 ..."
Defect,CSOIOT-1040,Schindler - Datahub Issue in PROD environment,Software AG 3163000,"1,055",Closed,"Welsing, Michael","Fuso, Luca",12/22/21 10:51,Customer,6/20/22 10:08,,CDH,2-High,2-High,"Based on a communication that took place already I forward this issue to you: 

Interested parties: Tim Doernemann, Michael Cammert, Luca Fuso, Thomas Schueller, Dominik Hoppe. 
---- 
Schindler reported a problem with Datahub. Customer already had previous direct contact with SAG RND regarding this topic: [https://itrac.eur.ad.sag/browse/CSOIOT-881.|https://itrac.eur.ad.sag/browse/CSOIOT-881] 

Customer was reminded to stick to Managed Services processes since RND was contacted by unauthorized users.  
---- 
*Attached the new inquiry via Service Management:*  

""Running queries in Datahub fails to produce any results. 
Issue has been addressed to the SAG team, however the proposed memory increase has not produced any benefit, (see attached email chain) 

The issue has been discussed with Doernemann, Tim Dr. <Tim.Doernemann@softwareag.com> and Cammert, Michael Dr. <Michael.Cammert@softwareag.com>. There should be an open ticket on SAG side with Dremio about this, based on the logs in the attached zip file."" 
---- 
Schindler is working on Kibana fleet visualizations via datahub.  

Despite memory increase of Dremio Executer in Schindler PROD-System from 8GB to 16GB paired with query optimizations shared with the customer the issue still persists.  

  

Michael Cammert / Tim Doenermann (Datahub Team) suggested to receive direct access to Dremio to perform an analysis: access has been requested from respective Schindler admin on November 12th 2021.  

 ..."
Defect,CSOIOT-1032,LWM2M PROD: Delay in server response to client,Telstra Corporation Limited 7514912,"1,058",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",1/19/22 6:44,Customer,6/20/22 10:08,11-Nov-21,Telstra,3-Medium,None,"Telstra reported below issue 

Server-side logs (as seen in Telstra Splunk) may indicate that the server was slow to respond to a device, causing the device to timeout. Our log level is limited therefore hoping your support can see more data. 

LWM2M endpoints: 
* urn:imei:867997033100123 
* urn:imei:867997033100164 

Logs noticed are attached. Please verify. Also see attached email for details ..."
Defect,CSOIOT-1030,CLONE - one of SSA in test environment does not appear.,"Micro Technology Co., Ltd. 7515608","1,058",Completed,"Akin, Oezge","Lundsten, Alf",12/20/21 14:45,Customer,6/20/22 10:08,,,3-Medium,None,"Customer Micro Technology has reported this issue: 

We have observed that one of server-side agents in test environment ([bodenexam.com|http://bodenexam.com/]) does not work. In fact, we cannot see the following server-side agent on the server. 

IP address: 18.176.44.45 
SSA: /usr/lib/gpsunit-httptracker-agent/gpsunit-httptracker-agent-server.jar 
Result: execute “ps aux | grep java” => but we cannot see the SSA. 

I have attached the screenshot of “ps aux | grep java”. Could you please check it? 

*-----------------------------------------------------* 

Had a discussion in the Ops chat: 

Ops tried to restart the agent but it failed. The agent hasn't logged anything since 8th September: 
  
[root@cumonosu-preprod-agents-pub ~]# ll /var/log/gpsunit-httptracker-agent/gpsunit-httptracker-agent-server.log 
-rw-r--r-- 1 root root 25998 Sep 8 2020 /var/log/gpsunit-httptracker-agent/gpsunit-httptracker-agent-server.log 
  
This is from [resources.cumulocity.com|http://resources.cumulocity.com/] 
  
[lundsten@ip-172-30-0-30 ~]$ locate gpsunit-httptracker-agent | grep rpm | grep -v SNAPSHOT |grep -c 1005 144 
[lundsten@ip-172-30-0-30 ~]$ locate gpsunit-httptracker-agent | grep rpm | grep -v SNAPSHOT |grep -c 1006 0 
  
*Need R&D's help in checking whether the gpsunit-httptracker-agent-server agent is still part of the Cumulocity platform on version 10.6.6?* 
 "
Defect,CSOIOT-1029,"Delete incorrect ""waiting in register"" devices",Telstra Corporation Limited 7514912,"1,058",Closed,"Bhargava, Neha","Vukman, Tomislav",11/25/21 15:17,Customer,6/20/22 10:08,,,2-High,None,"Customer accidently registered devices via bulk registration without using a semicolon in the description. This has resulted in 10x devices being registered with forward slashes in the ID’s rather than nesting the devices into groups. 

These devices now cannot be deleted as a forward slash in the delete command is not accepted. 

Tenant: onsite 

Environment: production 

Please see attachment for more information 

----------------------------------------------------- 

Had a discussion in the Support chat, this can be discussed with Jakub...."
Defect,CSOIOT-1025,[Siemens] Need Procedure for Restoring Entire Database and Tenant Specific Databases,Siemens AG 7507371,"1,059",Closed,"Dijkstra, Jelle","Lundsten, Alf",11/22/21 15:53,Customer,6/20/22 10:08,,,3-Medium,3-Medium,"Siemens are currently unable to perform any type of database restoration using the backups that are created. This process is not documented in any of the manuals they have access to. Siemens would like to be able to do a full restore of the entire database (disaster recovery) and would also like to be able to restore an individual tenant's databases as needed. 

Talked to Siemens in bi-weekly status call: 

Back-up and restore strategy and procedures have been part of shadowing sessions with SAG Cloud Ops but did not take place at the time. It was agreed that Siemens would create a ticket when the topic popped up again but we've been closing such tickets like this one."
Defect,CSOIOT-1023,Clearing swap usage on db servers,NTT Communications Corporation 7312715,"1,060",Closed,"Welsing, Michael",Unassigned,11/8/21 12:40,Customer,6/20/22 10:08,,,3-Medium,None,"Hi SAG support, 

Now, we find increasing swap usage on db servers.so we want to clear swap usage on db servers. 

Let me confirm the way to clear swap usage on db servers below. 
# stop chef-client 
# stop mongodb services(rs01,rs02.rs03 and config server) 
# swapoff -a 
# swapon -a 
# run chef-client command to start mongodb servers and chef-client services 

Please check our procedure above and let me know we should fix 

Best Regards, 

Yae"
Defect,CSOIOT-1022,CLONE - Devices failing to connect since before the 21/9 on APJ,Autosen GmbH 7516454,"1,060",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",11/8/21 12:35,Customer,6/20/22 10:08,23-Oct-21,,2-High,None,"MIOT reported below issue

***
We are seeing across 3 tenants and 2 countries/telcos that devices are failing to connect to APJ cumulocity with their last connection from the 19/9 to around 2am UTC on the 21/9. 
Strangely we have 3 devices still connecting to one tenant but I can't see a pattern. Have other customers experienced this recently? 
Have there been any issues since the upgrade to 10.10?
***

Other details:
- Further analysis seems to point to a TLS certificate rejection by their radio modem. 
- They are aware that APJ certs haven’t change since February (Ops confirmed in the linked iTrac)
- They wonder if there are any certificate or TLS configuration related changes around 21/9
- Please see attached [^Devicesandtenants.docx] for the details of tenants and devices affected.
- It only happens on TLS connections. 
- The error from the radio modem is “SSL cert incorrect”. 
- Customer suspects that is a device issue but things were working fine before the 21st so they would like to know what changed so they can go back to the modem vendor.

Ops shared logs in CSOIOT-820"
Defect,CSOIOT-1021,Devices failing to connect since before the 21/9 on APJ,Autosen GmbH 7516454,"1,060",Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,11/8/21 8:10,Customer,6/20/22 10:08,23-Oct-21,,2-High,None,"MIOT reported below issue

***
We are seeing across 3 tenants and 2 countries/telcos that devices are failing to connect to APJ cumulocity with their last connection from the 19/9 to around 2am UTC on the 21/9. 
Strangely we have 3 devices still connecting to one tenant but I can't see a pattern. Have other customers experienced this recently? 
Have there been any issues since the upgrade to 10.10?
***

Further analysis seems to point to a TLS certificate rejection by their radio modem. 
They are aware that APJ certs haven’t change since February. 
They wonder if there are any certificate or TLS related changes around 21/9

Please check.
We asked for exact tenant names and device ids that are affected and logs if any. Please check if there are any side effects from the upgrade we did on 16th."
Defect,CSOIOT-1019,Delete a group - sporadically the group is not deleted.,Utonomy Ltd 7516334,"1,062",Closed,"Neale, Robert",Unassigned,11/9/21 15:49,Customer,6/20/22 10:08,9-Nov-21,,3-Medium,None,"Device management, delete a group sometimes does not delete the group. 
Although Dev tools shows a 'clean' execution and expected 204 response and UI shows 'asset deleted' the group does not disappear from the list of groups, and can be clicked and viewed.

It can be deleted a second time!

 

See attached files."
Defect,CSOIOT-987,LWM2M bootstrap server issue on US instance.,Software AG USA Inc. 3150000,"1,065",Closed,"Talbert, Kent","Lisik, Milosz (External)",11/4/21 8:40,Customer,6/20/22 10:07,,,3-Medium,None,"Unable to set up devices using the bootstrap server:

2021-10-21 08:12:59,436 INFO RegistrationEngine - Trying to start bootstrap session to coaps://lwm2m.us.cumulocity.com:5684 ...
2021-10-21 08:12:59,913 ERROR RegistrationEngine - Bootstrap failed: INTERNAL_SERVER_ERROR .
2021-10-21 08:12:59,915 INFO CumulocityLwm2mClientDemo - event log EventType: BOOTSTRAP_FAILURE, ResourceId: null, value: null, arguments: [Bootstrap Server [uri=coaps://lwm2m.us.cumulocity.com:5684], INTERNAL_SERVER_ERROR, ]
2021-10-21 08:12:59,915 INFO RegistrationEngine - Unable to connect to any server, next retry in 600s...



This is the command I am using: java -jar device.jar -u lwm2m.us.cumulocity.com:5684 -n Test1_PSK_kent -i 22335571 -p 626f6f74737472616f -b


Info from Ozge:

this one 
$ java -jar CumulocityLwm2mClientDemo-jar-with-dependencies.jar -u lwm2m.us.cumulocity.com:5784 -n Test1_PSK_kent -i 12345671 -p 13757065726861736c6f
even returns sth. worse ?? 
17:52:15.448 [CoapServer(main)#1] DEBUG org.eclipse.californium.core.network.InMemoryMessageExchangeStore - [LWM2M Client-coaps://] removing Exchange[L1, complete] for MID KeyMID[lwm2m.us.cumulocity.com/52.32.209.142:5784-58559]
17:52:15.448 [RegistrationEngine#0] WARN org.eclipse.leshan.client.engine.DefaultRegistrationEngine - Unable to send register request
org.eclipse.leshan.core.request.exception.SendFailedException: Request CON-POST MID=58559, Token=74354C089F004AAF, OptionSet={'Uri-Path':'rd', 'Content-Format':'application/link-format', 'Uri-Query':['b=U','lwm2m=1.0','lt=30','ep=Test1_PSK_kent']}, Received 'fatal alert/HANDSHAKE_FAILURE' '</>;rt='oma.lwm2m',</1/0'.. 156 bytes cannot be sent
at org.eclipse.leshan.core.californium.CoapSyncRequestObserver.onSendError(CoapSyncRequestObserver.java:106)
at org.eclipse.californium.core.coap.Message.setSendError(Message.java:1063)
at org.eclipse.californium.core.coap.Request.setSendError(Request.java:1132)
at org.eclipse.californium.core.network.CoapEndpoint$SendingCallback.onError(CoapEndpoint.java:1531)
at org.eclipse.californium.elements.RawData.onError(RawData.java:303)
at org.eclipse.californium.scandium.DTLSConnector$2.handshakeFailed(DTLSConnector.java:521)
at org.eclipse.californium.scandium.dtls.Handshaker.handshakeFailed(Handshaker.java:1882)
at org.eclipse.californium.scandium.DTLSConnector.processAlertRecord(DTLSConnector.java:1732)
at org.eclipse.californium.scandium.DTLSConnector.processRecord(DTLSConnector.java:1503)
at org.eclipse.californium.scandium.DTLSConnector$12.run(DTLSConnector.java:1365)
at org.eclipse.californium.elements.util.SerialExecutor$1.run(SerialExecutor.java:289)
at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.eclipse.californium.scandium.dtls.HandshakeException: Received 'fatal alert/HANDSHAKE_FAILURE'
at org.eclipse.californium.scandium.DTLSConnector.processAlertRecord(DTLSConnector.java:1722)
... 9 common frames omitted
17:52:15.448 [CoapServer(main)#1] DEBUG org.eclipse.californium.core.network.Exchange - local Exchange[L1, complete] completed CON-POST MID=58559, Token=74354C089F004AAF, OptionSet={'Uri-Path':'rd', 'Content-Format':'application/link-format', 'Uri-Query':['b=U','lwm2m=1.0','lt=30','ep=Test1_PSK_kent']}, canceled '</>;rt='oma.lwm2m',</1/0'.. 156 bytes!
17:52:15.449 [RegistrationEngine#0] INFO com.cumulocity.lwm2mclient.CumulocityLwm2mClientDemo - event log EventType: REGISTRATION_FAILURE, ObjectId: null, ResourceId: null, value: null, arguments: [coaps://lwm2m.us.cumulocity.com:5784[LWM2M_SERVER 123], null, null, org.eclipse.leshan.core.request.exception.SendFailedException: Request CON-POST MID=58559, Token=74354C089F004AAF, OptionSet={'Uri-Path':'rd', 'Content-Format':'application/link-format', 'Uri-Query':['b=U','lwm2m=1.0','lt=30','ep=Test1_PSK_kent']}, Received 'fatal alert/HANDSHAKE_FAILURE' '</>;rt='oma.lwm2m',</1/0'.. 156 bytes cannot be sent]
17:52:15.451 [RegistrationEngine#0] INFO org.eclipse.leshan.client.engine.DefaultRegistrationEngine - Try to register to coaps://lwm2m.us.cumulocity.com:5784 again in 600s..."
Defect,CSOIOT-986,[Eppendorf] Few minutes data loss,Eppendorf AG 7517606,"1,065",Closed,"Welsing, Michael","Lisik, Milosz (External)",11/4/21 8:39,Customer,6/20/22 10:07,,,3-Medium,None,"Hello Ops,

Eppendorf found another data gap in graphs on several tenants.

Since it happened at the same time on several tenants and the logs don't show any information of a problem customer suspects it was a platform wide issue.

It happened around 3 am on 27.09.2021 

A first check with you on Google Chat was the following:

{code:java}
Michael Welsing, Yesterday 1:03 PM
Was any work done on EMEA system on 27.09. around 3 am?

Tomislav Vukman, Yesterday 1:42 PM
not really as far as I know - just around that time retention could still be active (as DB does heavy deletions)

Michael Welsing, Yesterday 1:57 PM
Can that cause a gap in receiving measurements?
{code}

So, questions are:

Was really nothing going on EMEA system?
Can the retention process cause the gap?

thanks
Michael"
Defect,CSOIOT-985,"[SI #5461596] Again an APAMA restart, multiple ""503 Service Unavailable"" and ""Chain is slow""",Eppendorf SE 7517606,"1,065",Closed,"Welsing, Michael","Vukman, Tomislav",2/10/22 16:41,Customer,2/21/23 6:28,,,3-Medium,None,"On eppendorfag-acceptance.emea.cumulocity.com we had again problems with Apama performance and then finally an unexpcted restart on betwee 27-Oct-2021 23:00 UTC and 28-Oct-2021 02:13 UTC. 

This resulted again in missing measurements. 

We assume that this is another incident of series of this type, afer we have reported previous empower tickets 
1463394 
5458286 
5454403 
5453916 
5442423 

We would like to know from Software AG if there is a solution in place, since this reccurring data gaps cause recurring questions and complaints from our customers...."
Defect,CSOIOT-972,Offline Migration between Data Centers,SDAIA/NIC - National Information Center,"1,071",Closed,"Eha, Allan",Unassigned,10/29/21 8:41,Customer,6/20/22 10:07,,,2-High,3-Medium,"We have an on-prem deployment of C8y, CDH and Edge following the HA/10K TPS architecture. The client is migrating the hosting environment to a new data center and we need to take offline back-up pf everything in the deployment and restore on a new deployment. Please send us complete instructions for the files that need to be backed-up, back-up and restore procedure and any required pre-post activities."
Defect,CSOIOT-961,Adamos-dev.com: tenants to be suspended - please confirm,Software AG 3101000,"1,072",Closed,iTrac Sync User,"Luczyszyn, Mikolaj (External)",11/12/21 8:53,Customer,6/20/22 10:07,,,4-Low,None,"Hi Operations colleagues, 

Attached a list [^Adamos-dev tenant suspension candidates.xlsx] of 79 tenants from adamos-dev.com, which have only a few API requests in the last 3 months. 

Please let me know, if I can suspend these tenants. 

My planned next steps for each tenant: 
* check if the tenant has level 3 tenants which should remain - if yes skip them 
* go in the tenant properties  
* find out the Administrator's email 
* if no email exists: open the tenant with support user and check for additional users and email addresses 
* if an admin or user email exists: contact the user by email and ask for suspension 
* wait for a defined time of e.g. 3 weeks 
* if customer agrees or don't react: suspend tenant 
* an automatic script delete them 4 weeks after suspension 

Regards, Christian 

(please ignore Adamos-dev tenant usage 13.7. to 13.102.xlsx) 

  

 ..."
Defect,CSOIOT-953,Apama microservice eviction,Geico S.p.A. 7518784,"1,076",Closed,iTrac Sync User,"Lundsten, Alf",12/20/21 14:53,Customer,6/20/22 10:07,,,3-Medium,None,"Adamos customer has a customized apama microservice call ""Drycar-cell-monitor"" on pardisgeico.adamos-dev.com, which for no known reason was evicted and therefore the entire application is not working any more. He needs to solve this issue and understand the reason of this and how to avoided in the future. 
  
alarm text: The node was low on resource: ephemeral-storage. Container drycar-cell-monitor-scope-pardisgeico-pod was using 72148916Ki, which exceeds its request of 0. 16 September 2021 08:03 STATUS ACTIVE: triggered a month ago Type c8y_Application_Evicted Application_metadata \{ ""owner"": ""pardisgeico"" , ""tenant"": ""pardisgeico"" } 
  
I found a similar ticket [https://itrac.eur.ad.sag/browse/IOT-7393] solved by 
Santhosh Radhakrishna: 
""There was dispressure in all worker nodes. Have increased the capacity. Should work fine now."" 
Iasked him: What did you do exactly for solution?  
   
Santhosh Radhakrishna answered: 
*********************************************************************************** 

more than a year and a half ago 
do you have access to those worker nodes in which it was running 
check for the node events kubectl describe node <workernodename> 
you will for sure see some events that would show you the error with disk pressure in a particular worker node.. 
  
  
what exactly to do depends on their worker machines.. 
 how the storage is configured 
  
but which ever worker it is they can check df -h and lslblk to understand the usage and extend the filesystem based on their setup.. 
  
in our case we generally use a separate partition[root@devops-kubeworker-001 centos]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT nvme0n1 259:1 0 50G 0 disk └─nvme0n1p1 259:2 0 50G 0 part / nvme1n1 259:0 0 32G 0 disk └─VG_VAR-VAR 253:0 0 32G 0 lvm /var 
  
so in this case we extended nvme1n1 
  
and extended the volume that it is mounted on as well 
  
[root@devops-kubeworker-001 centos]# df -h Filesystem Size Used Avail Use% Mounted on /dev/mapper/VG_VAR-VAR 32G 2.2G 28G 8% /var 
  
this is what i can remember for what was done almost two years ago 😀 
*********************************************************************************** 
Is this something you can solve? 
Or does this depend on the customized Apama microservice? 
Then I will find out the customizer and contact her/him."
Defect,CSOIOT-934,LWM2M bootstrap server issue on US instance.,Software AG USA Inc.,"1,077",Closed,"Talbert, Kent","Lundsten, Alf",10/26/21 16:55,Customer,6/20/22 10:06,,,3-Medium,None,"Unable to set up devices using the bootstrap server:

2021-10-21 08:12:59,436 INFO RegistrationEngine - Trying to start bootstrap session to coaps://lwm2m.us.cumulocity.com:5684 ...
2021-10-21 08:12:59,913 ERROR RegistrationEngine - Bootstrap failed: INTERNAL_SERVER_ERROR .
2021-10-21 08:12:59,915 INFO CumulocityLwm2mClientDemo - event log EventType: BOOTSTRAP_FAILURE, ResourceId: null, value: null, arguments: [Bootstrap Server [uri=coaps://lwm2m.us.cumulocity.com:5684], INTERNAL_SERVER_ERROR, ]
2021-10-21 08:12:59,915 INFO RegistrationEngine - Unable to connect to any server, next retry in 600s...



This is the command I am using: java -jar device.jar -u lwm2m.us.cumulocity.com:5684 -n Test1_PSK_kent -i 22335571 -p 626f6f74737472616f -b


Info from Ozge:

this one 
$ java -jar CumulocityLwm2mClientDemo-jar-with-dependencies.jar -u lwm2m.us.cumulocity.com:5784 -n Test1_PSK_kent -i 12345671 -p 13757065726861736c6f
even returns sth. worse ?? 
17:52:15.448 [CoapServer(main)#1] DEBUG org.eclipse.californium.core.network.InMemoryMessageExchangeStore - [LWM2M Client-coaps://] removing Exchange[L1, complete] for MID KeyMID[lwm2m.us.cumulocity.com/52.32.209.142:5784-58559]
17:52:15.448 [RegistrationEngine#0] WARN org.eclipse.leshan.client.engine.DefaultRegistrationEngine - Unable to send register request
org.eclipse.leshan.core.request.exception.SendFailedException: Request CON-POST MID=58559, Token=74354C089F004AAF, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""b=U"",""lwm2m=1.0"",""lt=30"",""ep=Test1_PSK_kent""]}, Received 'fatal alert/HANDSHAKE_FAILURE' ""</>;rt=""oma.lwm2m"",</1/0"".. 156 bytes cannot be sent
at org.eclipse.leshan.core.californium.CoapSyncRequestObserver.onSendError(CoapSyncRequestObserver.java:106)
at org.eclipse.californium.core.coap.Message.setSendError(Message.java:1063)
at org.eclipse.californium.core.coap.Request.setSendError(Request.java:1132)
at org.eclipse.californium.core.network.CoapEndpoint$SendingCallback.onError(CoapEndpoint.java:1531)
at org.eclipse.californium.elements.RawData.onError(RawData.java:303)
at org.eclipse.californium.scandium.DTLSConnector$2.handshakeFailed(DTLSConnector.java:521)
at org.eclipse.californium.scandium.dtls.Handshaker.handshakeFailed(Handshaker.java:1882)
at org.eclipse.californium.scandium.DTLSConnector.processAlertRecord(DTLSConnector.java:1732)
at org.eclipse.californium.scandium.DTLSConnector.processRecord(DTLSConnector.java:1503)
at org.eclipse.californium.scandium.DTLSConnector$12.run(DTLSConnector.java:1365)
at org.eclipse.californium.elements.util.SerialExecutor$1.run(SerialExecutor.java:289)
at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.eclipse.californium.scandium.dtls.HandshakeException: Received 'fatal alert/HANDSHAKE_FAILURE'
at org.eclipse.californium.scandium.DTLSConnector.processAlertRecord(DTLSConnector.java:1722)
... 9 common frames omitted
17:52:15.448 [CoapServer(main)#1] DEBUG org.eclipse.californium.core.network.Exchange - local Exchange[L1, complete] completed CON-POST MID=58559, Token=74354C089F004AAF, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""b=U"",""lwm2m=1.0"",""lt=30"",""ep=Test1_PSK_kent""]}, canceled ""</>;rt=""oma.lwm2m"",</1/0"".. 156 bytes!
17:52:15.449 [RegistrationEngine#0] INFO com.cumulocity.lwm2mclient.CumulocityLwm2mClientDemo - event log EventType: REGISTRATION_FAILURE, ObjectId: null, ResourceId: null, value: null, arguments: [coaps://lwm2m.us.cumulocity.com:5784[LWM2M_SERVER 123], null, null, org.eclipse.leshan.core.request.exception.SendFailedException: Request CON-POST MID=58559, Token=74354C089F004AAF, OptionSet={""Uri-Path"":""rd"", ""Content-Format"":""application/link-format"", ""Uri-Query"":[""b=U"",""lwm2m=1.0"",""lt=30"",""ep=Test1_PSK_kent""]}, Received 'fatal alert/HANDSHAKE_FAILURE' ""</>;rt=""oma.lwm2m"",</1/0"".. 156 bytes cannot be sent]
17:52:15.451 [RegistrationEngine#0] INFO org.eclipse.leshan.client.engine.DefaultRegistrationEngine - Try to register to coaps://lwm2m.us.cumulocity.com:5784 again in 600s...
"
Defect,CSOIOT-933,[Eppendorf] Running container created on visionizelabsuite.eppendorf.com,Eppendorf SE 7517606,"1,077",Closed,"Bhatt, Vikas","Lundsten, Alf",12/21/21 16:56,Customer,6/20/22 10:06,21-Dec-21,,3-Medium,3-Medium,"Tenant: https://management.visionizedigitallabspace.eppendorf.com/apps/administration/index.html#/applications/390/status


We received for ""visionizelabsuite.eppendorf.com"" a critical alarm for micro-service ""task-reminder"": Liveness probe failed: Get ""http://10.244.69.216:80/health"": read tcp 10.250.4.104:33186->10.244.69.216:80: read: connection reset by peer

Readiness probe failed: Get ""http://10.244.69.210:80/health"": read tcp 10.250.4.104:52942->10.244.69.210:80: read: connection reset by peer

Events:
13 October 2021 13:44
Deployment was changed
13 October 2021 13:44
Deployment was changed
13 October 2021 13:44
Started container task-reminder-scope-eppendorfag-pod
13 October 2021 13:44
Container image ""kube-registry-persistent-secure.cumulocity-azure-fra-prod.svc.cluster.local:5000/eppendorfag/task-reminder:3.2.1-REL-1"" already exists.
13 October 2021 13:44
Created container task-reminder-scope-eppendorfag-pod

Though the micro-service seems to operate normally after its restart; can you please provide additional information about what happened and what caused the creation of the already existing and running container?..."
Defect,CSOIOT-931,Streaming Analytics is not usable,Autosen GmbH 7516454,"1,078",Closed,"Talbert, Kent","Lundsten, Alf",12/21/21 17:06,Customer,6/20/22 10:06,,,2-High,None,"On a subtenant of autosen (https://tq.autosen.cloud / t1190131015 / *.cumulocity.com) streaming analytics is not working as expected. It seems like the apama microservice is from time to time not reachable.. The UI is partially not able to load the models and display them.. The models seem to also contain blocks from time to time that are actually the default blocks, but they seem to be unavailable..

Here an extract that we see within the Streaming Analytics App from time to time (quite high frequently every minute or even less):

{""error"":""general/internalError"",""message"":""apama-ctrl-starter-scope-t1190131015.cumulocity-multinode-central-1-prod.svc.cluster.local"",""info"":""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting""}
I've been able to recreate these errors on my cumulocity.com tenant as well. I asked Ops to look into this as it seems to be a platform wide issue as they were able to recreate this on one of their tenants too. We've tried to unsubscribe/re-subscribe Apama to the tenants, but that hasn't cleared up the issues.

To recreate the 502 error:

In Streaming Analytics, click on Analytics Builder.
It will load ok, but then click on the reload button, you'll see the errors pop up.
Note: I'm not sure if the Blocks issue is related to the 502 errors. Or if that is a separate issue,..."
Defect,CSOIOT-927,[Eppendorf] missing historysuggestedmeasurement,Eppendorf AG,"1,078",Closed,"Herzog, Christian","Lundsten, Alf",11/8/21 8:04,Customer,6/20/22 10:06,,,3-Medium,None,"We had a longer series of missing historysuggestedmeasurement between 2021-10-12 20:42 and 2021-10-13 06:49 UTC+0. 

Could you please investigate if that series was related to the same root cause? 

On all sub-tenants were affected on 
* eppendorfag.emea.cumulocity.com 
* eppendorfag-preproduction.emea.cumulocity.com 

Details From ApamaCTRL log file: 
[correlator] 2021-10-12 20:42:15.032 WARN [139978772174592] - <connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s 
[correlator] 2021-10-12 20:42:30.032 WARN [139978772174592] - <connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s 
[correlator] 2021-10-13 06:49:45.032 WARN [139978772174592] - <connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s 

Complete Apama log file is attached. 

Some comments from Apama R&D colleagues: 

From: Thrippleton, Richard <Richard.Thrippleton@softwareag.com> 
Sent: 19 October 2021 14:52 
To: Herzog, Christian <Christian.Herzog@softwareag.com>; apama-assist <apama-assist@softwareag.com> 
Subject: Re: Cause of warning ""<connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s"" 

Hi Christian, 
While this is a generic message about external connectivity, saying that it took longer than 10s for an external system (the C8Y system) to respond to a request from Apama, I think we have much more severe problems than that. 

Specifically, the entirety of the Apama process was paused/frozen for unusually long periods of time. In the first gap, that was 15s of no logging, which is very unexpected. After that, Apama was frozen for nearly 10 hours , which is a much more serious problem, and suggests a much wider platform problem. 

I think you may need to talk to cloud ops to find out what else was going on on 10/12 and 10/13 

Regards, 
Richard 

From: Palfreyman, Kevin <Kevin.Palfreyman@softwareag.com> 
Sent: Tuesday, 19 October 2021 19:22 
To: Thrippleton, Richard <Richard.Thrippleton@softwareag.com>; Herzog, Christian <Christian.Herzog@softwareag.com>; apama-assist <apama-assist@softwareag.com> 
Subject: RE: Cause of warning ""<connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s"" 

Hi Christian, 
I?m going to guess that those are not consecutive log lines, but that you?ve only shown us some warn lines? 
If that is true, then the ?frozen? aspect that Richard mentioned would not be true. 
So, really we?d like to see more complete log files please. 

However, if you are saying multiple sub-tenants were all affected on the EMEA cluster, then still it would be something for CloudOps to investigate outside of Apama. It just the Apama microservice that happened to notice and log something. 

Kev 

Hi Christian, 
I think for your next step you need to involve CloudOps (I know Alf is aware, but you should follow your normal process, probably a CSOIOT ticket). 

I also had a quick look at the Apama log that Frank (customer) added to the pivotal ticket 
(1463394 - missing historysuggestedmeasurement (ad.sag)) 
Running that through the normal apama log analyzer, you can see that at exactly midnight at the start of 13 Oct the incoming measurement rate to Apama dropped lower ? unclear if that is infra related, or a lower rate from their devices. 
(see attached ""send receive rate.png"") 

Also if you look at the list of warnings from that log file (attached) you can see both the slow chain warning mentioned previously (and a couple of the impacted requests that were running at that time), but also we see a ?502 Bad gateway? from C8Y at 3:31 GMT on 13 Oct. 

So, this still looks like platform infrastructure issue. 

Kev 



*From:* Veit, Stefan <Stefan.Veit@softwareag.com> 
*Sent:* Wednesday, 20 October 2021 13:31 
*To:* Palfreyman, Kevin <Kevin.Palfreyman@softwareag.com>; Herzog, Christian <Christian.Herzog@softwareag.com>; Thrippleton, Richard <Richard.Thrippleton@softwareag.com>; apama-assist <apama-assist@softwareag.com> 
*Subject:* RE: Ticket 1463394: Cause of warning ""<connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s"" 

 >– unclear if that is infra related, or a lower rate from their devices. 

As far as I’m aware Eppendorf devices send measurements only with one, constant rate. 

Regards, *Stefan Veit* Principal Consultant IoT & Devices"
Defect,CSOIOT-926,[Liebherr] Outage of Microservices on Cumulocity,Liebherr-Werk Nenzing GmbH 7516355,"1,079",Closed,"Herzog, Christian","Lundsten, Alf",12/14/21 8:44,Customer,6/20/22 10:06,,,2-High,1-Critical,"Since yesterday evening we have problems accessing the endpoints of our microservices on production system.
We are currently receiving random HTTP 502 response error status from our endpoints.

Affected Instances:

management.myjobsite.com
mynotifier.liebherr.com
"
Defect,CSOIOT-925,Need logs for tenant,Boston Scientific,"1,079",Completed,"Tadimeti, Manish","Louden, Timothy",11/30/21 15:51,Customer,11/30/21 15:51,,,3-Medium,None,"Customer needs logs for troubleshooting device connection issues using  mutual auth over MQTT. 

  

Tenant: https://uroph-sandbox.iotnonprod.bsci.com/"
Defect,CSOIOT-921,EMEA instance - datahub setting needs to be changed by admin.,Mohawk International Services BV,"1,080",Closed,"Talbert, Kent","Luczyszyn, Mikolaj (External)",10/19/21 8:43,Customer,6/20/22 10:06,,,3-Medium,None,"On the tenant https://mohawk-iiot.emea.cumulocity.com/apps/cockpit/index.html#/ 

2021-10-06 20:19:41.766 [ vert.x-eventloop-thread-0] ERROR TenantManagerHelper - CDHCBEE0306 - Failed to compute offloading configuration preview. 
org.quartz.JobExecutionException: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Field 'html' exceeds the size limit of 32000 bytes. 

fieldName html 
size 189082 
limit 32000 

[Error Id: c7d6c03d-556f-4564-b293-3077438c7206 on dremio-master-0.dremio-cluster-pod.cumulocity-azure-fra-prod-cdh.svc.cluster.local:31010] 


at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:378) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.attemptVDSCreation(AbstractCTASJob.java:342) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.vdsWasNonEmptyOrCreated(AbstractCTASJob.java:337) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.sourceVDSWasNonEmptyOrCreated(AbstractCTASJob.java:291) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.sourceVDSWasNonEmptyOrCreated(AbstractCTASJob.java:286) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.scheduler.jobs.TimestampBasedCTASJob.executeInternal(TimestampBasedCTASJob.java:101) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.execute(AbstractCTASJob.java:84) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.scheduler.jobs.AbstractCTASJob.preview(AbstractCTASJob.java:125) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at com.softwareag.cdh.console.tenantmanager.TenantManagerHelper.lambda$null$0(TenantManagerHelper.java:162) ~[cdh-console-backend-10.10.0.6-v0171.jar:10.10.0.0006-0171] 
at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_292] 
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292] 
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292] 
at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292] 
Caused by: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Field 'html' exceeds the size limit of 32000 bytes. 
--------------------------------------------------------- 
The workaround for this issue is the following: 

change that maximum value. 

- Log in to Dremio as admin. 
- go to the ?Admin? menu, then ?Support? 
- add the key ?limits.single_field_size_bytes"" and set it to 500000 
---------------------------------- 
Please let me know if you have any questions. 

I have talked to Tim Doernemann about this and he said that the OPs team has the admin user and that this has to be set instance wide. 

Thanks."
Defect,CSOIOT-910,Change properties file on cumulocity host (solution provided by R&D),NTT Belgium NV 7519519,"1,083",Closed,"Neale, Robert","Lundsten, Alf",11/10/21 13:15,Customer,6/20/22 10:06,10-Nov-21,,3-Medium,3-Medium,"A failing login on the Actility agent should be caused by a misconfigured properties file. This possible solution was discussed with Rahul Miryala (R&D). Could you perform the following:

- Properties file is located in /etc/actility/actility-agent.properties on node where Actility is running. Please check the value of this property ?actility.api.baseURL?. 
- If the value of this is ?https://dx-api.thingpark.com? please change it to ?https://dx-api.thingpark.io? and restart the Actility agent.

Tenant in question is https://t33402052.emea.cumulocity.com (https://cile.emea.cumulocity.com)

..."
Defect,CSOIOT-909,CLONE - [Gardner Denver] CEP issues in GD tenant,Gardner Denver Compair Redditch SU Wood,"1,084",Closed,"Bhatt, Vikas","Vukman, Tomislav",10/25/21 10:53,Customer,6/20/22 10:06,21-Oct-21,,2-High,2-High,"Tenant: https://industrials.cas.irco.com/apps/cockpit/index.html

For logging to the tenant, use sysadmin crendentials.

Customer reported the below issue:-

We sent to Daniel Primm an email describing the issue we are experience with alarms forwarding.
We identified more than 5,000 smart rules caused by CEP overload.

Could you please let us know why the users can create Smart Rules? We thought, after previous updates, that this feature is no longer available for users. 

There are several reasons that could to lead to the overload:

- Slow Smartrules as you mentioned
- Increase of traffic (I saw that additional compressors were added)
- General issue of the CEP container

Also, is it possible to make disable the creation of Smart Rules by the users from now on?

------------------------------------

Internal Inputs from Tomislav:


This is the issue: 

2021-10-14 12:38:00[qtt-messaging-68] - industrials/device_iconn-sn-A10WKL | RaiseAlarmQueueRejectionCallback | 105 - com.nsn.cumulocity.shared-components.common-utils - 1007.0.32 | WARN cep-queue for key industrials is full, rejecting 1 elements from 50000

grep -i cepServer.queue.limit /etc/cumulocity/*
/etc/cumulocity/cumulocity-core-default.properties:cepServer.queue.limit=250000
/etc/cumulocity/cumulocity-core.properties:cepServer.queue.limit = 500000

Default and old limit for queue is 250000. now it's increased to 500000.

There are 5 active tenants on GD and cep queue is devided. it was 250k in total and deviced by 5 -> was 50k for industrial tenant. Now it will be 100k. If we still see rejecting we can increase the queue a bit more - also need to keep in mind for core memory as now it has only 32 GB (16 GB for heap). Also, good way would be to delete not-needed tenants. there is one from Daniel and probably not needed.

--> [root@gardnerdenver-core01 ~]# tailf /var/log/cumulocity/error.log | grep -i reject
2021-10-14 13:01:01[qtt-messaging-76] - industrials/device_iconn-sn-A10NGH | RaiseAlarmQueueRejectionCallback | 105 - com.nsn.cumulocity.shared-components.common-utils - 1007.0.32 | WARN cep-queue for key industrials is full, rejecting 1 elements from 166666

We now have start of rejecting. Now queue for industrials tenant is 166666.

com.espertech.esper.client.hook.EPLMethodInvocationContext@39bbc723] for statement 'durable:smartRule9537976564:GetRuleConfiguration': ThresholdRuleConfigException : Invalid threshold rule configuration. Rule: 9537976564 message: Rule device DataPoint yellow range and red range not present. At least one range must be present."
Defect,CSOIOT-907,Need tenant on Flexco dedicated instance restored.,Software AG USA Inc.,"1,084",Closed,"Talbert, Kent","Fuso, Luca",10/18/21 15:27,Customer,6/20/22 10:06,,,2-High,None,"https://development.flexcoelevatedashboard.com/ was deleted by accident and theyneed it recovered. 

See attached email.
"
Defect,CSOIOT-904,[DT IOT 3307774] conditions for LWM2M (NO_SEC) over shared APN,Deutsche Telekom IOT GmbH 7518156,"1,085",Closed,"Fartode, Sumit",Unassigned,11/5/21 14:57,Customer,6/20/22 10:06,18-Oct-21,,3-Medium,3-Medium,"DT is pursuing PSA approval for LWM2M (NO_SEC) over shared APN and have some expectations from DT/further improvement requested by DT:

LWM2M log monitoring / fraud detection in place from Software AG:
1) Recognition of brute-force attacks, where different identifiers are tested for existence in the system (failed attempts)

2) Recognition when from one and the same IP address different identifiers are used within short time frame (failed attempts from one IP)

Expectation 1):
Create an incident/OTRS automatically so that DT is notified when above security incident/attack occurs. 

Expectation 2) 
Provide the IP address which is involved in above incident/attack for following reasons 
- TMSP (Telekom M2M Service Platform) operations checks to which SIM-Card, the IP-Address belonged during certain timeframe
- Decision for blocking of a SIM-Card in case of recognized fraud""
Above SIM-card info and the decision to block it needs to be made at the DT side.

Please let me know if above expectations can be satisfied. ..."
Defect,CSOIOT-901,Extension of tenant access,MIOT PTY LTD ABN 61 619 635 924,"1,086",Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",10/14/21 9:37,Customer,6/20/22 10:06,,,2-High,None,"Hi Ops Team, 

Please extend the tenant access until September 2022 

Tenant name: miot.eu-latest.cumulocity.com 
Customer: mIoT 

Please see attached email for the approvals done. 
"
Defect,CSOIOT-896,CLONE - Error while connecting to Jasper,Pacific Hoists Pty Ltd ABN 88 000 631 032,"1,088",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",12/14/21 8:43,Customer,6/20/22 10:06,27-Oct-21,,3-Medium,None,"Customer from Pacific Hoist reported the below issue. 

They are trying to configure Jasper in Admin -> Connectivity. But they are getting the below error once the settings are saved. 

""Connecting to Jasper with given settings is not possible: -1"". 

They are using Telstra M2M One network control Centre for this one. 
Screenshot is attached. 

From GS: 
Customer confirmed that the error is not showing any trace. 
Requested HAR file while issue was reproduce. See attached. 
There is no old tickets found with similar error. 
Please assist. 

tenant can be accessed 
URL: https://pacifichoistspulse.apj.cumulocity.com 
uid: bred@softwareag.com 
pwd: KualaLumpur 


"
Defect,CSOIOT-874,S3 Datahub Settings,MIOT PTY LTD ABN 61 619 635 924,"1,092",Closed,"Reddy, Yerpula Bharath Bhushan","Janus, Bartosz",10/22/21 9:30,Customer,10/22/21 9:30,14-Oct-21,,2-High,None,"Customer from Miot reported below: 

We are trying to setup a connection from Datahub to S3 bucket. Getting the following error... 

io.vertx.core.impl.NoStackTraceThrowable: CDHCBEE0177 - Failed to create tenant: java.lang.RuntimeException: CDHCDAE0002 - Got HTTP response with status 400 Bad Request and data '{""errorMessage"":""Could not connect to /wsl-apsy-d-s3-miot-captis-01/. Check your S3 data source settings and credentials."",""context"":[],""moreInfo"":""Please check the log file for details, see https://docs.dremio.com/advanced-administration/log-files.html""}' (request=POST /api/v3/catalog). All changes have been rolled back! 

We have confirmed via AWS powershell that particular S3 bucket is accessible. 
Would like clarity about IAM policy requirements, info here is a little confusing. https://docs.dremio.com/data-sources/s3/ 

What actions and resources are required as a minimum? 

From GS: 
I checked past tickets, in one of the cases, it was because on unstable environment and it got rectified automatically - https://itrac.eur.ad.sag/browse/CDH-2046. 

Is there anything Ops can intervene here? Any possibility of a configuration issue? 
Note that, I do not have exact tenant info, but they are on apj.cumulocity.com instance 

"
Defect,CSOIOT-872,CLONE - Devices do not connect with MQTT since 2021-09-30,Eppendorf AG,"1,092",Closed,"Welsing, Michael","Vukman, Tomislav",10/12/21 16:10,Customer,6/20/22 10:06,,,2-High,None,"Since 30.09.2021 devices of a certain type do not connect via MQTT anymore. They cannot be registered anymore and write operations are not received anymore. 

Until the day before it worked without problems 

Interestingly devices of another type (using a different MQTT library) still work, but something must have been changed in the MQTT interface that the majority of our devices now have a problem. 

This currently affects Eppendorfs customers! 

Affected are all of Eppendorf tenants. 

The affected device type is VN Sense and VN Box devices, which use another MQTT library than Eppendorfs so-called touch-enabled devices. 

TLS_AES_256_GCM_SHA384 is selected as SSL cipher while the connection is established. 

Eppendorf has also further investigated the connection problems of their devices. Apparently the problem is that the headers to upgrade the connection to a Websocket connection are delivered delayed (i.e. the time between the connection was established and the MQTT server transmits these upgrade headers is much larger than in the past). 

This is quite similar to problems they had in the past where responses from the Cumulocity MQTT server were not transmitted fast enough, but now it is not a single occurrence now and then during the normal communication, but always directly while setting up the connection."
Defect,CSOIOT-866,CLONE - Error on applying Sigfox Microservice,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,093",Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",11/24/21 9:55,Customer,6/20/22 10:06,12-Nov-21,,2-High,None,"Customer from Micro Technology reported below issue. 

Sigfox micro service is throwing error repeatedly. 

When they tried same configuration in test enviornment (bodenexam.com), they have not noticed any problem. However, on the production environment (cumonosu.com), the error keeps appearing even though API information of Sigfox Backend was registered in C8Y IoT, as in the attached. 

What is the reason for the error? 

From GS: 
From the previous tickets where similar error was reported, I understood that it was because, those tenants do not setup Sigfox connectivity credentials. Or the Sigfox credentials are wrong or not maintained. 
I have also asked customer to validate whether the procedure listed in the attached doc was followed (Internal doc) 
Customer confirmed the procedure was followed and it is visible only prod though same configuration as in test is followed 
"
Defect,CSOIOT-863,Enable Cloud Remote Access,Pacific Hoists Pty Ltd ABN 88 000 631 032,"1,094",Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",10/4/21 14:58,Customer,6/20/22 10:05,,,3-Medium,None,"tenant ID: t7483729 
URL: https://pacifichoistspulse.apj.cumulocity.com 

Can you enable ""Cloud Remote Access"" to this tenant? 

Verified with sales team about the entitlement. Their replied that ""Pacific hoist has purchased Advanced tenant which includes remote access feature"" 

Attached is the email 
"
Defect,CSOIOT-856,CLONE - Error in the change from Sigfox Microservice to Sigfox SSA,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,095",Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",11/15/21 10:16,Customer,6/20/22 10:05,13-Oct-21,,2-High,None,"Hello R&D 
Customer from Micro Technology reported the below issue. 

We are evaluating the change from Sigfox SSA to Sigfox Microservice. 
If the change does not work, we need to back from Sigfox Microservice to Sigfox SSA. 
Then we got an error when we evaluated the change from Sigfox Microservice to Sigfox SSA. 

On test environment (bodenexam.com), there is no problem on the change from Sigfox Microservice to Sigfox SSA. However, on production environment (cumonosu.com), we got an error as the attached when we changed Sigfox Microservice to Sigfox SSA. 

As additional information, the change from Sigfox SSA to Sigfox Microservice was all right on both of test and production environment. 

Can you assist? 
"
Defect,CSOIOT-849,Alarm message processing overload,Lyreco Switzerland AG Herr Axel Deibler,"1,097",Closed,"Schon, Gregor","Vukman, Tomislav",10/25/21 11:03,Customer,6/20/22 10:05,,support_question,2-High,2-High,"Hello,

we have noticed that we have received the following alarm message in device management:

""Real-time event processing is currently overloaded and may stop processing your events. Please contact support.""
28 Sep 2021, 15:38:06 
CEP Engine lyreco

What impact on our data does this problem have?

The last time we had this message the data was not transferred to our SAP system.

Do we have to consider something here or can this message be ignored?

Kind regards
Felix Schuler
"
Defect,CSOIOT-838,Few minutes data loss,Eppendorf AG,"1,099",Closed,"Welsing, Michael","Vukman, Tomislav",10/19/21 15:31,Customer,6/20/22 10:05,,,3-Medium,None,"Hello Ops, 

Eppendorf found another data gap in graphs on several tenants. 

Since it happened at the same time on several tenants and the logs don't show any information of a problem customer suspects it was a platform wide issue. 

It happened around 3 am on 27.09.2021 

A first check with you on Google Chat was the following: 

{code:java} 
Michael Welsing, Yesterday 1:03 PM 
Was any work done on EMEA system on 27.09. around 3 am? 

Tomislav Vukman, Yesterday 1:42 PM 
not really as far as I know - just around that time retention could still be active (as DB does heavy deletions) 

Michael Welsing, Yesterday 1:57 PM 
Can that cause a gap in receiving measurements? 
{code} 

So, questions are: 

Was really nothing going on EMEA system? 
Can the retention process cause the gap? 

thanks 
Michael"
Defect,CSOIOT-837,Reccuring missing measurement data,Eppendorf AG,"1,099",Closed,"Welsing, Michael","Lundsten, Alf",10/19/21 8:03,Customer,6/20/22 10:05,,,2-High,None,"Hi OPS, 

I tried to get answer for the following open question via Google Chat, but got no answer there so far. Hopefully you can answer the question at this place, so that we can close this Eppendorf case soon. 

The question: 

If Azure announces updates or maintenance slots, do you (OPS) get those announcements and are our customers informed about those service interuptions? 

Cheers 
Michael"
Defect,CSOIOT-835,Install Actility application on emea.cumulocity.com,Software AG Belgium S.A.,"1,100",Closed,"Neale, Robert","Vukman, Tomislav",10/18/21 16:50,Customer,6/20/22 10:05,2-Oct-21,,2-High,3-Medium,"Our customer NTT, with cumulocity advanced tenant: 
[https://t33402052.emea.cumulocity.com/] 

Has no subscription for Actility on their tenant. Is this something that needs to be requested? 
They are going in production soon and need the data from their actility sensors. 

Additional incident information: 
Product Version: 10.10.0.12 

Can Actility be made available on emea.cumulocity.com?"
Defect,CSOIOT-834,SSO Authentification does not work after upgrade.,GREENFLEX,"1,100",Closed,"Talbert, Kent","Abdul Majid, Mohd Shahmi",10/4/21 7:37,Customer,6/20/22 10:05,,,2-High,None,"IT seems that our SSO configuration has disappeared.
We still can use the SSO to connect management.iot.greenflex.com tenant, but the configuration is now empty with the following message: ""Could not Load OAuth 2.0 configuration""
- headers can not be null


We have the same problem for all tenant that are configured with SSO on both platform:
- production: tenant-name.iot.greenflex.com
- developpment: tenant-name.dev.iot.greenflex.com

The problem do not appeared for tenant that are not configured with SSO. here after the list of tenant with the problem:
1- Production environnement:
- management.iot.greenflex.com
- gfx-energy.iot.greenflex.com
- gfx-common.iot.greenflex.com
- integration.iot.greenflex.com

2- development environnement:
- management.dev.iot.greenflex.com


Our user cannot connect to cumulo with SSO in production

"
Defect,CSOIOT-833,unable to use SSO after upgrade to 10.9,Boston Scientific Corporation,"1,100",Closed,"Talbert, Kent","Abdul Majid, Mohd Shahmi",9/30/21 4:46,Customer,6/20/22 10:05,,,2-High,None,"Our users cannot log in via SSO. they get a message ""error"": ""interaction_required"",""error_description"": ""AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'b71d3c5a-9631-4502-a4d8-51eca9f1b009'.\r\nTrace ID: 9fe1bd17-3997-4844-95dd-52809c5a0e01\r\nCorrelation ID: e7306660-4511-4e13-a3f5-5f9c9cf33874\r\nTimestamp: 2021-09-14 16:36:32Z"",


I looked at the subtenancy, and the SSO information no longer exists. I get a message that ""headers cannot be null"" with details {
""error"": ""general/internalError"",
""message"": ""headers cannot be null"",
""info"": ""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting""
}. when I try to open the Single sign-on page. 

I can enter information but when I try to save it, I get the message that headers cannot be null."
Defect,CSOIOT-830,Network issues in development environment,Eppendorf AG,"1,100",Closed,"Welsing, Michael","Radzali, Basyar",10/20/21 4:41,Customer,6/20/22 10:05,,,2-High,None,"Hello Ops, 

the Microservices on the Eppendorf development environment are unhealthy. 

There is always an alarm: 

""Failed to create pod sandbox: rpc error: code = Unknown desc = [failed to set up sandbox container ""fe206cb6d822a735c0e7304e13aa545ea6a84d4be35928e1806f3776270f2567"" network for pod ""eai-operations-scope-t25688793-deployment-78888559f5-xbwrb"": networkPlugin cni failed to set up pod ""eai-operations-scope-t25688793-deployment-78888559f5-xbwrb_cumulocity-trial-prod"" network: error getting ClusterInformation: Get ""https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/clusterinformations/default"": dial tcp 10.96.0.1:443: connect: network is unreachable, failed to clean up sandbox container ""fe206cb6d822a735c0e7304e13aa545ea6a84d4be35928e1806f3776270f2567"" network for pod ""eai-operations-scope-t25688793-deployment-78888559f5-xbwrb"": networkPlugin cni failed to teardown pod ""eai-operations-scope-t25688793-deployment-78888559f5-xbwrb_cumulocity-trial-prod"" network: error getting ClusterInformation: Get ""https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/clusterinformations/default"": dial tcp 10.96.0.1:443: connect: network is unreachable]"" 

Re-deploy of microservice doesn't help. 

Environment URL: https://eppendorf.eu-latest.cumulocity.com/"
Defect,CSOIOT-823,(Adamos Zendesk Ticket: 2083) mails for password reset not submitted,,"1,104",Closed,iTrac Sync User,"Vukman, Tomislav",10/7/21 16:16,Customer,6/21/22 8:44,,,2-High,None,"Customer reported 

*mails to reset passwords are not submitted to the user mail addresses.* 

Tenants: [illig-mgmt.adamos.com|http://illig-mgmt.adamos.com/] and subtenants 

VG 

Andreas 

~~~~~~~~~~~~~~~~~~~~~~~ 
Effect was reproducible on tenant  t34285160 (https://illig-mgmt.adamos.com/) 
I created a temporary user with my e-mail address (gregor.schon@softwareag.con)  an used 'forgot password ' 

Expected A password reset e-mail arrives 

Actually:   nothing came in. 

Remark:.  Of course I checked  the Junk E-Mail folder. There was nothing 
From an older test I found an automatic e-mail from illig  

  
  
  
This was the time frame of my test. 
24 September 2021 14:22   User deleted 
User ""tempusermail"" deleted 
[ Source|https://illig-mgmt.adamos.com/apps/administration/#/users/tempusermail]BY Gregor.Schon@softwareag.com$andreas.moser@illig.deDEVICE TIME 24 September 2021 14:22 
24 September 2021 14:02  
  
User created 
User ""tempusermail"" created 
[ Source|https://illig-mgmt.adamos.com/apps/administration/#/users/tempusermail]BY Gregor.Schon@softwareag.com$andreas.moser@illig.deDEVICE TIME 24 September 2021 14:01 
 "
Defect,CSOIOT-820,Devices failing to connect since before the 21/9 on APJ,MIOT PTY LTD ABN 61 619 635 924,"1,105",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",10/22/21 8:53,Customer,6/20/22 10:05,23-Oct-21,,2-High,None,"MIOT reported below issue 

*** 
We are seeing across 3 tenants and 2 countries/telcos that devices are failing to connect to APJ cumulocity with their last connection from the 19/9 to around 2am UTC on the 21/9. 
Strangely we have 3 devices still connecting to one tenant but I can't see a pattern. Have other customers experienced this recently? 
Have there been any issues since the upgrade to 10.10? 
*** 

Further analysis seems to point to a TLS certificate rejection by their radio modem. 
They are aware that APJ certs haven’t change since February. 
They wonder if there are any certificate or TLS related changes around 21/9 

Please check. 
We asked for exact tenant names and device ids that are affected and logs if any. Please check if there are any side effects from the upgrade we did on 16th. 
"
Defect,CSOIOT-817,CLONE - There are so many wrong alarms on some tenants.,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,106",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",10/19/21 8:40,Customer,6/20/22 10:05,20-Oct-21,,2-High,None,"Customer from Micro Technologies reported below: 

Currently, there are so many alarms ""No data received from device within required interval"" generated on some tenants. The alarms were generated from 17:00 to 17:15 on September 22. 
In fact, data are regularly sent to devices on platform and there is no problem on communication. 
This phenomena is observed on ""https://takenaka_kizai.cumonosu.com"" and ""https://okippanishimatsu.cumonosu.com"". They are asking for explanation for this alarm. 

This CSO iTrac is to provide some details about to verify the environment and provide sample Alarm message details that customer is noticing and if possible a dummy access to the tenant"
Defect,CSOIOT-802,[BD] Bulk device registration performance issue,,"1,108",Closed,"Herzog, Christian","Vukman, Tomislav",9/30/21 14:01,Customer,6/20/22 10:05,,,2-High,None,"R&D needs for https://itrac.eur.ad.sag/browse/IOT-11996 from [https://chh-si-438107-5.adamos-dev.com/] : 
""since it looks like it could be some memory issue i would like to see heap dumps, and also looking at core logs would not hurt."" 
Please attach them directly to IOT-11996 

I started device import 17 September 2021 14:19 and it is still running (1960 devices till now). 

Background:  

The attached dummy_list_2499.csv contains 2499 dummy devices 
With the bulk device registration it takes: 
- in version 10.10.0.12 only 3 minutes for all 2500 devices 
[https://chh_support_test.adamos-preprod.com/apps/devicemanagement/index.html#/device] 

- in version 10.9.0.12 days (it is still running)  
[https://chh-si-438107-5.adamos-dev.com/apps/administration/index.html#/]  

Access for both tenants: dev_user/Summer$007 

 "
Defect,CSOIOT-800,CLONE - Recurring missing measurement data,Eppendorf AG,"1,111",Closed,"Vukman, Tomislav","Vukman, Tomislav",2/11/22 13:59,Customer,6/20/22 10:05,,,2-High,None,"Hello,

After SAG has restarted the COREs and we have restarted the micro-services at Friday 13-AUG-2021 1 PM CEST on the sub-tenants of our customers on 
* eppendorfag.emea.cumulocity.com
* eppendorfag-preproduction.emea.cumulocity.com
we observe recurring gaps of measurement data for 1 or more minutes:
Friday 13-AUG-2021 14:04 UTC
Monday 16-AUG-2021 6:29 - 6:30 UTC + 16.8.2021 6:35 - 6:37 UTC


In the Apama Control log files I see these entries which indicate IMO a performance problem:

[correlator] 2021-08-13 14:05:36.716 WARN [139858719921920] - <connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s
...
[correlator] 2021-08-16 06:37:28.876 WARN [140180571145984] - <connectivity.chain.CumulocityIoTGenericChain> Chain is slow: has not handled a batch of events in 10.000000s
[apama-ctrl] 2021-08-16 06:37:29.165 INFO [pool-4-thread-1] com.apama.in_c8y.diagnostics.DiagnosticsService.run - Microservice Status: jvmMemoryHeapUsedMB=45 jvmMemoryHeapFreeMB=18 jvmMemoryHeapMaxMB=989 jvmPhysicalMemoryMB=266 jvmThreadCount=69


[correlator] 2021-08-16 06:37:33.876 INFO [140180571145984] - <connectivity.chain.CumulocityIoTGenericChain> Chain is no longer slow

Also streaminanalytics adds many offline flags to devices which are actually NOT offline, like:

[correlator] 2021-08-16 06:37:29.449 INFO [140179989853952] - vn.streaminganalytics.inventory.AvailabilityStatus [28] Add isOffline flag for 4484

Please investigate into this.
Please add Stefan.Veit@softwareag.com to the receivers of this ticket.

Kind regards
Frank Schimmel"
Defect,CSOIOT-799,No TFA option,MIOT PTY LTD,"1,111",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",10/22/21 7:32,Customer,6/20/22 10:05,23-Oct-21,,3-Medium,None,"Hi Ops Team, 

Customer MiOT is trying to configue TFA for the users. 
While doing so, they realized they don't have SMS Gateway enabled for their tenants. 
They are now asking, is it something that Software AG provides. 
As we are hosting their environment, does it fall in our scope? 

They have additional question, 
Can the same SMS gateway be used for events/alarms based on device measurements? 


Tenant URLS: 
management.miot.captis-iot.com 
management.spark.captis-iot.com 

Please assist"
Defect,CSOIOT-790,Notification-sender microservice restart in production,Eppendorf AG,"1,114",Closed,"Neale, Robert","Vukman, Tomislav",10/25/21 10:54,Customer,6/20/22 10:05,23-Oct-21,,3-Medium,3-Medium,"Eppendorf have said they have had alarms on their [emea.cumulocity.com|http://emea.cumulocity.com/] tenant about microservice notification-sender-scope-eppendorfag-deployment-6cdd4 for 12th September. The log for this suggests it was running normally, with a restart at 21:27 for which they got an alarm and email. However, there are 'Readiness probe failed' alarms prior to this at 12:27, 13:28, 16:33 ( 10 of them at this time), 17:19, 17:20, and 18:20 - but log shows no problems at these times. 

  

There are also 'Microservice down' alarms at 16:33 and 21:27. The latter one is probably valid due to the restart but again the log shows no problems at 16:33. Was there anything going on with kubernetes on [emea.cumulocity.com|http://emea.cumulocity.com/] at these times on the 12th that may have made these alarms appear when they shouldn't? 

  

https://management.visionizedigitallabspace.eppendorf.com/"
Defect,CSOIOT-787,CLONE - [BD][Kaak Bakeware] Alarms updated but hidden,Kaak Bakeware B.V.,"1,115",Closed,"Prazmo, Lukasz","Lundsten, Alf",10/19/21 8:37,Customer,6/20/22 10:05,,,3-Medium,None,"Hello R&D, 

maybe it is a misunderstanding by me and the customer. Else we might have an UI issue here. 

The image titled alarms you can see an overview of the alarm of a tenant. As you can see no alarms newer then 28 June is shown. The screenshot is from 01.07.2021, no wo worries about alarm newer than 01.07.2021. 

The image titled usage shows management overview of the tenant and shows over 8000 alarms being updated. This view is set to only show data of 01.07.21. 

The possible issue is that the alarms shown as updated are not visible. Even the count if an alarm was raised several times is not matching those numbers. So where can these alarms be found? Is this a bug or a misunderstanding? 

  

For OPS team 

Customer does not know from where large amounts of alarm updates are coming and what is their source 
Could you please provide some logs regarding alarm creation/updating or respecting audit logs, also logs from smartrules would be great"
Defect,CSOIOT-786,CLONE(IOT-11982 ) - Dev Device Protocol loading - Timeout issue,Telstra Corporation Limited,"1,115",Closed,"Awasthi, Gyan Prakash","Weingaertner, Dr. Elias",9/28/21 16:13,Customer,6/20/22 10:05,,,3-Medium,None,"Environment: Dev 

Issue: adding LwM2M device protocols on dev tenant is getting timeout error. 

Customer has created a new Tenant in DEV (tenant details are give below )and adding LwM2M device protocols. Lot of the time customer is getting timeout error. It’s not like it was trying for a long time. Is there any timeout parameter customer need to check 

ID: t134532402 
URL: https://ellenex.iotdev.telstra.com/ 

OPS checked the resources at DEV worker nodes and resources look fine to create few Pods/ MS. Email is attached (IOT-11982 .pdf) 

Worker1 
… 
Resource Requests Limits 
-------- -------- ------ 
cpu 13 (81%) 39500m (246%) 
memory 13056M (41%) 91348702208 (291%) 
… 

Worker2 
… 
Resource Requests Limits 
-------- -------- ------ 
cpu 10500m (65%) 32 (200%) 
memory 10496M (33%) 89983476736 (287%) 
… 

Worker3 
… 
Resource Requests Limits 
-------- -------- ------ 
cpu 14250m (89%) 42 (262%) 
memory 14385741824 (45%) 79529156608 (253%) 
… 


Worker4 
… 
Resource Requests Limits 
-------- -------- ------ 
cpu 12 (75%) 26750m (167%) 
memory 12032M (38%) 31235760Ki (102%) 



"
Defect,CSOIOT-785,Domain Certificate Update on flexcoelevatedashboard.com tenant,Software AG USA Inc.,"1,116",Closed,"Bhatt, Vikas","Hou, Jiabin",9/27/21 13:43,Customer,6/20/22 10:05,28-Sep-21,,3-Medium,3-Medium,"This ticket is raised by Richard Wagner from SAG US. (Richard.Wagner@softwareag.com) 

*C8Y version*: 10.10 
*Tenant*: flexcoelevatedashboard.com 

---------------------------- 
We need to have the root domain certificate added to the *flexcoelevatedashboard.com* tenant. 

This is a dedicated instance supported by SoftwareAG. I have the certificate and the password if I can have someone from the operations team reach out to me, I will send them the information. 
---------------------------- 

Could you check and advise on this please?"
Defect,CSOIOT-784,[GardnerDenver] SSL Certificate nearing expiration on Cumulocity IoT Platform,Gardner Denver Compair Redditch SU Wood,"1,116",Closed,"Bhatt, Vikas","Abdul Majid, Mohd Shahmi",10/4/21 7:36,Customer,6/20/22 10:05,5-Oct-21,,2-High,2-High,"SSL Certificate _*.cas.irco.com_ domain on your Cumulocity IoT Platform is about to expire on +Oct 8 2021.+ 

  

This is a ticket raised for SSL Certificate nearing expiration on Cumulocity IoT Platform. 
Your internal monitoring tools have detected that the SSL Certificate for “management.iconn.gardnerdenver.com” domain on your Cumulocity IoT Platform is about to expire on Oct 8, 2021. 

So, we need to renew the SSL Certificate and will provide CCRs. 

Please find all the certs in attached zip files. 

Kind regards, 
Marian"
Defect,CSOIOT-780,CLONE - Device Password Policy (Device registration is not possible anymore (!) ),ADAMOS GmbH,"1,118",Closed,"Vukman, Tomislav","Vukman, Tomislav",10/14/21 12:47,Customer,6/20/22 10:05,,blocker-product,3-Medium,3-Medium,"Hi Support, 

we are struggeling with the password policy of the device credentials. 

It is no longer possible to register several devices with the same password or some password history is saved. 

The leads to major problems in operations. 

We are not able to register new devices. 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

Customer is not able to disable ""Enforce that all passwords are strong (green)"" 
on  
[https://dmgmoridevices.adamos.com/apps/administration/index.html#/auth-configuration/basic_settings] 

  

I assume that this would have an effect on the issue 

 "
Defect,CSOIOT-774,Adamos Prod: Poor Performance,ADAMOS GmbH,"1,119",Closed,iTrac Sync User,"Vukman, Tomislav",9/10/21 11:02,Customer,6/20/22 10:05,,,4-Low,None,"Customer is facing the problem, that the performance of the platform is really poor. 
https://dmgmoridevices.adamos.com/ 

So I called the customer. 
The issue happens e.g. while device access 
https://dmgmoridevices.adamos.com/apps/devicemanagement/index.html#/device/91175505/device-info 
normal times: 2 seconds 
current times: up to 20 seconds: sometimes with error message 401 

This is not reproducible in SAG with my user, the page is within 1 second created. 
So it could be infrastructure issue at customer site. 

I checked: 
https://healthcheck.adamos.com/apps/cockpit/index.html#/group/28143/dashboard/28324 
no current peak detected. 

Can you please check if we have an issue on our site? 
"
Defect,CSOIOT-768,[Utonomy] Monitoring System raising alarms about slowness in C8Y since 10.9 upgrade,Utonomy Ltd,"1,140",Closed,"Bhatt, Vikas","Abdul Majid, Mohd Shahmi",10/20/21 4:03,Customer,6/20/22 10:03,19-Oct-21,,3-Medium,3-Medium,"Tenant: https://utonomydev.utcloud.uk 

Customer reported that their monitoring system has been raising alarms about slowness in C8Y platform. Please see attached image for reference: 

The main cause of the problem appears to be an increase the TLS handshake is taking (purple) which seems to push response times from 200 ms to 600 ms as per graph (green). 

Customer said they have been monitoring the API performance for the past couple of years. 

They do this by calling the API: 

utonomydev.utcloud.uk/measurement/measurements (every 5-10 minutes) and measuring its response time. Then they raise alarms if response time is > 500ms for 3-4 consecutive calls. 

Sometime after changes that took place on 2021-07-30 13:40 UTC (see attached graph 'APIResponseTimes' for reference), the response time of the site is constantly above the 500ms. While this is not having an effect on their customers, it would be interesting to know why this sudden increase in response times. 

If you look at the graph, there is a cut at exactly 2021-07-30 13:40 UTC, during this time the site was restarting (I raised a ticket with critical status as I was unable to access it). When the site came back, slowness alarms started being generated. 

--------------------------------- 
Customer suspected that this could be happening after the change made by Ops in CSOIOT-617 

Please see below comment also: 
https://itrac.eur.ad.sag/browse/CSOIOT-617?focusedCommentId=5367921&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-5367921"
Defect,CSOIOT-766,[Nordex] nifprd - SSO not usable after platform update,Nordex SE 7515195,"1,120",Closed,"Bhatt, Vikas","Bieniak, Arkadiusz",1/12/22 16:22,Customer,6/20/22 10:05,,,2-High,1-Critical,"As we did perform an update to 10.9, we noticed, that the SSO feature wasn't usable anymore. This is dedicated to PROD environment at https://nordex.nifprd.nordex-online.com 

Most people can login via SSO Button, but receive no data or miss some features, no matter what we configure on plus.

Please have a look at this problem as soon as possible, since we have to know what our next steps can be in regard to that lack of security in the end.

Thanks & BR,
Ramon..."
Defect,CSOIOT-764,TLS session ticket resumption success for only 40% of device sending data,SMITEC SpA 7516698,"1,120",Closed,"Welsing, Michael","Vukman, Tomislav",12/2/21 16:59,Customer,6/20/22 10:05,,,2-High,None,"Hi, 

currently the customer has an issue with TLS sessions. At this point I don't know the environment they are on, but maybe it is a general setting valid for all environments that need a twitch. 

Customer noted that often their devices must execute a complete TLS session authentication, also if they have a valid TLS session ticket obtained from the AWS balancers that are up front to Cumulocity ingestion 

A complete session authentication is necessary for the 60% of transaction, which produce an increase of data traffic that impact a lot on our device 4G connection cost. Customer wants to avoid/eliminate this overhead. 

Please check loadbalancers and cumulocity ingestion to improve the TLS session ticket resumption success to 100%...."
Defect,CSOIOT-763,Unable to subscribe OEE bundle to subtenant on eu-latest,Software AG,"1,120",Closed,"Talbert, Kent","Vukman, Tomislav",9/10/21 10:04,Customer,6/20/22 10:05,,,3-Medium,None,"Receive following error when subscribing Oee bundle to subtenant on eu-latest.:

Handling onSubscribe listener failed MicroserviceDeployListener with error Deployment failed oee-bundle-10.10.0.0-80

{
""error"": ""tenants/Invalid Data"",
""message"": ""Handling onSubscribe listener failed MicroserviceDeployListener with error Deployment failed oee-bundle-10.10.0.0-80"",
""info"": ""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting""
}"
Defect,CSOIOT-760,Data backup of IoT data - with MongoDB dump?,KM.ON GmbH 7516041,"1,121",Closed,iTrac Sync User,"Vukman, Tomislav",11/25/21 15:22,Customer,6/20/22 10:05,,support_question,3-Medium,3-Medium,"Dear Adamos Support,

I was wondering whether it is possible to have a backup of our IoT data in kmon.adamos.com. For example, sending the json data into to an AWS S3 bucket. Please let us know what options there are.

Best regards,


[cid:599990f2-f86a-443a-901b-0f4513d9acfb]

i.A. Daniel Sarosi

Tech Lead







+852 6938 2206 | daniel.sarosi@kmon.net
2206 Metroplaza 2, 223 Hing Fong Road | Kwai Chung, HK







KM.ON GmbH
Geschäftsführer: Antonia Gottschalk | Maximilian Kürig
Amtsgericht Frankfurt a.M. | HRB 110267
www.kmon.net<http://www.kmon.net/>


________________________________

KM.ON GmbH - Carl-Benz-Straße 21 - 60386 Frankfurt am Main - Germany - Sitz: Frankfurt am Main - Registergericht: Amtsgericht Frankfurt am Main, HRB 110267 - UST-ID Nr.: DE316186151 - Verantwortlich gemaess § 55 RStV: Maximilian Kuerig - c/o KM.ON GmbH - Carl-Benz-Straße 21 - 60386 Frankfurt am Main - Geschaeftsfuehrer: Sophia Antonia Gottschalk, Klaus Maximilian Peter Udo Kuerig

________________________________"
Defect,CSOIOT-755,Monitoring Agent Authorization error,Vision Valley FZ-LLC 7517657,"1,122",Closed,"Welsing, Michael","Korolev, Ivan",1/14/22 11:13,Customer,6/20/22 10:05,,,2-High,None,"Hi R&D, 

customer sees below error with the monitoring agent. 

Aug 31 16:38:50 CRITICAL: Integrate failed. 
Aug 31 16:58:05 INFO: Bootstrap to http://10.73.121.74 
Aug 31 16:58:05 DEBUG: Read SmartRest template... 
Aug 31 16:58:05 DEBUG: Integrate to http://10.73.121.74 
Aug 31 16:58:05 DEBUG: Net: setTimeout to 60 
Aug 31 16:58:05 DEBUG: HTTP post: 
Aug 31 16:58:05 DEBUG: HTTP recv: 50,1,401,Unauthorized 

I was assuming an issue with credentials because if the 401 error, but customer insists on not having an issue with credentials. 

Below is the configuration used: 

""monitoring-agent"" => { 
""server_url"" => ""http://10.73.121.74"", 
""autoRegistration"" => { 
""enable"" => ""true"", 
""groupName"" => ""dr-monitoring"", 
""tenant"" => ""t316"" 
} 

cumulocity agent version 4.2.7-3 

Attached is the complete agent log file. 

Any idea what is causing the issue, if it is not the credentials?"
Defect,CSOIOT-752,CLONE - Retention rule is not working (IOT-11474),"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,122",Closed,"Awasthi, Gyan Prakash","Vukman, Tomislav",1/11/22 15:34,Customer,6/20/22 10:05,,,2-High,None,"Customer has found that a retention rule is not working properly. 

URL: https://ydm.cumonosu.com/apps/administration/index.html#/retentions 

USER ID: mtadmin 
password: mt_13578 

Retention Rule :- Retention is set to delete EVENTdata of type ""Type m13y_ydm_position"" after 30 days. 

Data over 30 days still be there. 
Customer is aware that Retention rule does not work immediately. They waited for 24 hours before reporting the incident. 

R&D on IOT-11474 has made further recommendations 

Please refer: 
************* 
removing of the data was one of my workarounds and it should help. The issue at the moment is that there is too much data for the query to finish below 2min mark. Reducing it to 2 months worth of events should allow for quicker queries. Can you create OPS ticket? 

Edit: In the first step we would need to remove only non-binary events because for binary events there is additional logic for removing binaries, so the filter to find such events would look sth like this (with adjusted dates): 


{code:java} 
{ 
find: ""events"", 
filter: { 
type: { 
$in: [ 
""m13y_ydm_position"" 
] 
}, 
time.date: { 
$gte: new Date(-62135630339000), 
$lt: new Date(1624028400000) 
}, 
$and: [ 
{ 
c8y_IsBinary: { 
$exists: false 
} 
} 
] 
}, 
sort: { 
time.date: -1 
}, 
limit: 100, 
batchSize: 100, 
maxTimeMS: 120000, 
$db: ""ydm"" 
} 
{code} 

Regards, 
Tomasz"
Defect,CSOIOT-751,No spoofing protection on Email domain,Dormakaba USA Inc.,"1,125",Closed,"Talbert, Kent","Abdul Majid, Mohd Shahmi",9/30/21 10:01,Customer,6/20/22 10:05,,,2-High,None,"US instance 
Version 10.9.0.12 

Info from customer: 

Here are the details for email server misconfiguration also known as email spoofing. We have already showcased the same to Saran.Govindarajan@softwareag.com & Jorge.Fernandez@softwareag.com over screen share. 

Affected URL:- support@cumulocity.com 

Email spoofing happens due to two main reasons: 
1. SPF record not set for the particular email. 
2. Missing of DMARC protocol for particular email. 

We can prevent spoofing by adding SPF record and DMARC record. 



Add SPF record: 
SPF is an email verification and authentication tool that focuses on protection against spoofing. It allows you to determine IP addresses able to send emails using your domain. In other words, if the IP address doesn?t match the domain, the email provider should block the message. 

Add DMARC record: 
DMARC acts by standardizing the way emails are checked by servers. It uses SPF and/or DKIM to verify the sender and allows the domain owner to determine actions. In addition, DMARC allows domain owners to receive reports about emails that were delivered and/or failed. 

See attached screen prints."
Defect,CSOIOT-746,Incorrect URL for provisioned Advanced Tenant,MIOT PTY LTD,"1,126",Closed,"Awasthi, Gyan Prakash","Janus, Bartosz",9/3/21 9:07,Customer,6/20/22 10:05,,,2-High,None,"Hello OPS 

Customer recently had an Advanced Tenant provisioned, URL is madisontechcaptis-iot.apj.cumulocity.com 

This should have been setup as madisontech.captis-iot.apj.cumulocity.com as requested. 

Could you please delete 
madisontechcaptis-iot.apj.cumulocity.com 

and create new one with correct name ( keep in mind the correct "" . "" and ""-"" ) 

madisontech.captis-iot.apj.cumulocity.com ( a "". "" dot between madisontech and captis is required) 


"
Defect,CSOIOT-745,Several readiness / liveness probe failed alarms 31--AUG-2021 18:31,Eppendorf SE 7517606,"1,126",Closed,"Welsing, Michael","Vukman, Tomislav",12/14/21 8:41,Customer,6/20/22 10:04,,,3-Medium,None,"Hello, 

Eppendorf received the following alarms triggered 31-AUG-2021 18:31, see below. 

visionizelabsuite.eppendorf.com: 
New MAJOR alarm has been received from doc-management. Alarm text is: ""Liveness probe failed: Get http://10.244.36.55:80/health: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)"". 

vnlsbeta.eppendorf.com 
New MAJOR alarm has been received from apama-proxy. Alarm text is: ""Readiness probe failed: Get http://10.244.36.49:80/health: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)"". 

New MAJOR alarm has been received from apama-proxy. Alarm text is: ""Liveness probe failed: Get http://10.244.36.49:80/health: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)"". 

New MAJOR alarm has been received from notification-sender. Alarm text is: ""Liveness probe failed: Get http://10.244.36.48:80/health: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)"". 

New MAJOR alarm has been received from notification-sender. Alarm text is: ""Readiness probe failed: Get http://10.244.36.48:80/health: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)"". 

Can you please investigate the root cause? Are those related to the already known isues with platform? 

What is the time zone of the alarms shown in the status view?"
Defect,CSOIOT-732,Invalid SSL certificate error on eppendorfag.emea.cumulocity.com causing platform issues,Eppendorf AG,"1,127",Closed,"Bhatt, Vikas",Unassigned,9/3/21 14:14,Customer,6/20/22 10:04,4-Sep-21,,2-High,2-High,"Tenant: https://management.visionizedigitallabspace.eppendorf.com 

Customer reported that, on eppendorfag.emea.cumulocity.com there was an SSL certificate for *.visionizelabsuite.eppendorf.com until a few hours. 

Now there is an SSL certificate for *.emea.com. 

This prevented the access to the enterprise tenant and all sub-tenants. 

Our production environment was currently not accessible. 

They assume that the problem started tonight around 0:00, because we see missing data since then. 

They observed the problem at approx. 7:30 CEST 

Please see the attached screenshot of the certificate from approx. 8:30 CEST. 

*+Current Status+*: 

SSL certificate is ok again. But microservices have been restarted around 8:50 CEST, we miss data since tonight 0:00 and all devices are still offline. 

So from Eppendorf’s and their customers’ view the problem has not been resolved yet. 

Can you please let us know what happened regarding the certificate and why microservice have been restarted at 8:50 CEST?"
Defect,CSOIOT-723,Options for VPN termination to c8y,MIOT PTY LTD,"1,128",Closed,"Awasthi, Gyan Prakash","Schueller, Thomas",9/6/21 13:14,Customer,6/20/22 10:04,,,3-Medium,None,"Customer has a Enterprise tenant in our APJ instance ( apj.cumulocity.com ). 
They are using MQTT and LwM2M types of devices. 


They have a telco customer that is wanting to set up a private APN/VPN for cellular devices connecting to apj.cumulocity.com. What options / offerings are available for having that VPN terminate at apj.cumulocity.com without traversing the public internet? 

From GS point of view , it is out of our scope. However wants to double check with R&D if there is any possible solution. like if customer have its own c8y installation etc."
Defect,CSOIOT-719,Missing Apama license error when starting microservice,ADAMOS GmbH,"1,129",Closed,iTrac Sync User,"Lundsten, Alf",9/3/21 13:45,Customer,6/20/22 10:04,,,4-Low,None,"Hi Ops, 

a customer has a log message with an Apama license issue when running a microservice in the tenant: pardisgeico.adamos-dev.com. 
It says: 

""License file not present at /apama_work/license/ApamaServerLicense.xml"" (see attached log file) 
Can you please check that file an attach it here? 
Then I ask R&D for the reason. 

The affected tenant with ID ""pardisgeico"" has a subscription for Apama-ctrl-1c-4g 
Status: Active 1 Unhealthy 0 Desired 1 
The affected microservice is ""Drycar-cell-monitor"" 
Status: Active 1 Unhealthy 0 Desired 1 

Thanks!"
Defect,CSOIOT-716,Problem with *.cumulocity certificate on Liebherr Tenant 'https://app.mynotifier.liebherr.com',Liebherr-Werk Nenzing GmbH,"1,129",Closed,"Bhatt, Vikas","Vukman, Tomislav",9/9/21 10:05,Customer,6/20/22 10:04,,outage,2-High,2-High,"Liebherr reported that they have problems with the *.cumulocity certificate on a production teanant. 

It is therefore not possible to use the app for their customers. 

TenantID: t796554214 
Tenant URL: https://app.mynotifier.liebherr.com 

This also happened on its management tenant: https://management.mynotifier.liebherr.com 

[~tvu] mentioned that there was issue with sslmanagement server - now it loads fine. 
So this iTrac is created to check on the root cause."
Defect,CSOIOT-702,Several microservices down on our 3 enterprise tenants on ema.cumulocity com,Eppendorf AG,"1,133",Closed,"Peter, Michael","Vukman, Tomislav",9/9/21 10:04,Customer,6/20/22 10:04,,outage,2-High,3-Medium,"Several micro-servers are down since today 2021-08-27 9:12 CEST.

https://management.visionizedigitallabspace.eppendorf.com/apps/administration/index.html#/audit-logs
https://management.vnlsbeta.eppendorf.com/apps/administration/index.html#/audit-logs
https://eppendorfag-acceptance.emea.cumulocity.com/apps/administration/index.html#/audit-logs"
Defect,CSOIOT-692,Apama Microservice Down,Software AG International FZ -LLC,"1,134",Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",8/25/21 11:33,Customer,6/20/22 10:04,,,3-Medium,None,"Hi Ops team, 

Solution team reported that Apama Ctrl Starter microservice is not working for the tenant https://ritgitex2021.eu-latest.cumulocity.com/ 

I did unsuscribe/subscibe couple of times. But it still shows as Active: 0 in the status. 
Can you please check. 
Please see attached screenshot"
Defect,CSOIOT-669,[Nordex] SSO Feature disabled after Recovery on QAL environment,Nordex SE,"1,139",Closed,"Bhatt, Vikas","Bieniak, Arkadiusz",10/18/21 13:45,Customer,6/20/22 10:04,14-Sep-21,,2-High,2-High,"Nordex reported the following issue: - 

We did a recovery of the QAL-environment. 

Tenant URL: https://nordex.nifqal.nordex-online.com/

As we recovered the snapshot of around mid of July; all the users that had SSO permissions on AD/Azure-Level configured after 12th of July, are not able to log in anymore.

Since that can't be solved on backend-level, I guess there has to happen some kind of import of the old user data before the recovery.

Unfortunately, there is no possibility to collect all impacted users, we only have the due date given (12th of July). 
A list of users not able to login is out of reach, since every single one would have to test first.

One hint would also be that it doesn't matter, if the users were already able to login or freshly set up for the login, cfg after due date means no access (""access denied"")

Can you please check this on priority and give us a feedback?"
Defect,CSOIOT-668,Delete Subtenants from EU-Latest instance,Software AG,"1,137",Closed,"Bhatt, Vikas","Janus, Bartosz",8/23/21 10:18,Customer,6/20/22 10:04,24-Aug-21,,3-Medium,3-Medium,"Hi Team,

Could you please delete the following subtenants:

- greenflex_train.eu-latest.cumulocity.com
- enablement.eu-latest.cumulocity.com
- t-systems-training.eu-latest.cumulocity.com
- b-scientific.eu-latest.cumulocity.com

Thanks a lot. Best regards,
Anne"
Defect,CSOIOT-665,"Custom Domain Activation is failing on ""https://wains.cumulocity.com'",WAINS GmbH,"1,140",Closed,"Bhatt, Vikas","Vukman, Tomislav",8/23/21 10:33,Customer,6/20/22 10:03,24-Aug-21,,3-Medium,3-Medium,"Customer (https://wains.cumulocity.com) is not able to activate their custom domain on our Prod instance although the user has all rights.

License is already configured properly in the License Management section.

They are getting this error - ""API access was not authorized"" 

Developer console indicates the error - ""SSL Management microservice error"".

SSL-Management Microservice is also subscribed to the tenant very well.

Could you investigate this issue and update?"
Defect,CSOIOT-662,"Facing ""Failed to parse error message to json"" issue in several microservices",Eppendorf AG,"1,141",Closed,"Welsing, Michael","Vukman, Tomislav",8/19/21 9:59,Customer,6/20/22 10:03,,,1-Critical,None,"Hi, 

Eppendorf is facing the issue about getting several ""Failed to parse error message to json"" messages in all of the custom microservices again - this issue was reported last week and based on the ticket status this should be fixed (ticket CSOIOT-649). 

This impacts all of the Eppendorf enterprise (+sub) tenants on EMEA: 
https://eppendorfag-acceptance.emea.cumulocity.com/ 
https://management.vnlsbeta.eppendorf.com/ 
https://management.visionizedigitallabspace.eppendorf.com/ 

There are several kinds of error messages we see in the logs related to this: 
c.cumulocity.sdk.client.ResponseParser : <html> <head><title>504 Gateway Time-out</title></head> 

c.cumulocity.sdk.client.ResponseParser : <html> <head><title>500 Internal Server Error</title></head> 

c.cumulocity.sdk.client.ResponseParser : <html> <head><title>502 Bad Gateway</title></head> 

This also has an impact on several of the functionalities of the microservices."
Defect,CSOIOT-658,Unavailability of Smart rule microservice on Adamos tenant t56399541,ADAMOS GmbH,"1,143",Closed,iTrac Sync User,"Vukman, Tomislav",8/23/21 10:24,Customer,6/20/22 10:03,,,1-Critical,None,"https://management.adamos.com/apps/administration/index.html#/applications/9/status 
Microservice is not available. 
{ 
""error"": ""Microservice/Bad gateway"", 
""message"": ""Microservice not available Connection refused : Connection refused: smartrule-scope-management.adamos-multinode-prod.svc.cluster.local/80"", 
""info"": ""https://www.cumulocity.com/guides/reference-guide/#error_reporting"" 
} 

All subtenants are affected. 

Log file shows: 
Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2021-08-16 14:09:10.991 ERROR 15 --- [main] o.s.b.d.LoggingFailureAnalysisReporter : 

*************************** 
APPLICATION FAILED TO START 
*************************** 

Description: 

Failed to bind properties under 'spring.task.execution' to org.springframework.boot.autoconfigure.task.TaskExecutionProperties: 

Reason: cumulocity 

Action: 

Update your application's configuration 

Complete log attached. 
Microservice restart doesn.t help."
Defect,CSOIOT-655,LWM2M info needed from US Instance.,Software AG USA Inc.,"1,146",Closed,"Talbert, Kent","Lundsten, Alf",8/23/21 10:09,Customer,6/20/22 10:03,,,2-High,2-High,"Need some LWM2M information for IOT-11779

- What is the version of the LWM2M agent that is currently deployed on us.cumulocity.com?
- When was it updated?
- Log files of the agent
"
Defect,CSOIOT-650,"[Eppendorf] Internal error, request with id: AgZK7NzdL6 failed, contact support",Eppendorf AG,"1,148",Closed,"Welsing, Michael","Vukman, Tomislav",8/18/21 14:13,Customer,6/20/22 10:03,,,1-Critical,None,"Currently we have the following error in https://management.vnlsbeta.eppendorf.com/ in all microservices. This is currently affecting the operation of the application. We need your support.

This option is from the Micro Service eai-operations, but can be found in other services as well



2021-08-11 02:06:08.658 ERROR 14 --- [subscriptions-0] c.m.s.s.MicroserviceSubscriptionsService : Error while reacting on microservice subscription

com.cumulocity.sdk.client.SDKException: Error invoking GET http://cumulocity:8111/application/currentApplication/subscriptions
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.handleException(CurrentMicroserviceRepository.java:114)
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getSubscriptions(CurrentMicroserviceRepository.java:79)
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getSubscriptions(CurrentMicroserviceRepository.java:85)
at com.cumulocity.microservice.subscription.repository.MicroserviceSubscriptionsRepository.retrieveSubscriptions(MicroserviceSubscriptionsRepository.java:104)
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionsServiceImpl.subscribe(MicroserviceSubscriptionsServiceImpl.java:113)
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionScheduler$1.run(MicroserviceSubscriptionScheduler.java:66)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
at java.lang.Thread.run(Thread.java:748)
Caused by: com.cumulocity.sdk.client.SDKException: Http status code: 500
{error=""general/internalError"",message=""Internal error, request with id: AgZK7NzdL6 failed, contact support"",info=""https://www.cumulocity.com/guides/reference-guide/#a-name-error-reporting-a-error-reporting"",details=""null""}
at com.cumulocity.sdk.client.ResponseParser.checkStatus(ResponseParser.java:74)
at com.cumulocity.sdk.client.ResponseParser.parse(ResponseParser.java:56)
at com.cumulocity.sdk.client.RestConnector.get(RestConnector.java:124)
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getSubscriptions(CurrentMicroserviceRepository.java:77)
... 11 common frames omitted
"
Defect,CSOIOT-649,[Eppendorf] Failed to parse error message to json. Getting error string...,Eppendorf AG,"1,148",Closed,"Welsing, Michael","Vukman, Tomislav",8/19/21 9:57,Customer,6/20/22 10:03,,,1-Critical,None,"Currently we have the following error in https://management.vnlsbeta.eppendorf.com/ in all microservices. This is currently affecting the operation of the application. We need your support.

2021-08-11 07:15:17.542 ERROR 13 --- [subscriptions-0] c.cumulocity.sdk.client.ResponseParser : Failed to parse error message to json. Getting error string... 
2021-08-11 07:15:17.542 ERROR 13 --- [subscriptions-0] c.cumulocity.sdk.client.ResponseParser : <html>
<head><title>504 Gateway Time-out</title></head>
<body bgcolor=""white"">
<center><h1>504 Gateway Time-out</h1></center>
<hr><center>openresty</center>
</body>
</html>

2021-08-11 07:15:17.542 ERROR 13 --- [subscriptions-0] c.m.s.s.MicroserviceSubscriptionsService : Error while reacting on microservice subscription

com.cumulocity.sdk.client.SDKException: Error invoking GET http://cumulocity:8111/application/currentApplication
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.handleException(CurrentMicroserviceRepository.java:114)
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getCurrentApplication(CurrentMicroserviceRepository.java:69)
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.register(CurrentMicroserviceRepository.java:46)
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.register(CurrentMicroserviceRepository.java:61)
at com.cumulocity.microservice.subscription.repository.MicroserviceSubscriptionsRepository.register(MicroserviceSubscriptionsRepository.java:100)
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionsServiceImpl.subscribe(MicroserviceSubscriptionsServiceImpl.java:110)
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionScheduler$1.run(MicroserviceSubscriptionScheduler.java:66)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
at java.lang.Thread.run(Thread.java:748)
Caused by: com.cumulocity.sdk.client.SDKException: Http status code: 504
Something went wrong. Failed to parse error message.
at com.cumulocity.sdk.client.ResponseParser.checkStatus(ResponseParser.java:74)
at com.cumulocity.sdk.client.ResponseParser.parse(ResponseParser.java:56)
at com.cumulocity.sdk.client.RestConnector.get(RestConnector.java:124)
at com.cumulocity.microservice.subscription.repository.application.CurrentApplicationApi.get(CurrentApplicationApi.java:22)
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getCurrentApplication(CurrentMicroserviceRepository.java:67)
... 12 common frames omitted

2021-08-11 08:44:16.142 ERROR 13 --- [subscriptions-0] c.cumulocity.sdk.client.ResponseParser : Failed to parse error message to json. Getting error string... 
2021-08-11 08:44:16.142 ERROR 13 --- [subscriptions-0] c.cumulocity.sdk.client.ResponseParser : <html>
<head><title>504 Gateway Time-out</title></head>
<body bgcolor=""white"">"
Defect,CSOIOT-647,CLONE - Device didn't set measurements after new registration,Telstra Corporation Limited,"1,149",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",8/13/21 7:55,Customer,6/20/22 10:03,13-Aug-21,,3-Medium,None,"Telstra reported the following issue: 
** 
Could you please look at below device why it didn't setup measurements after new registration?. 
This ties back to the time when we had LwM2M agent restart on 22/07. 
Though we have customer complaint for the below device but there is a possibility that we might have more device like that. Hence a root cause analysis might be required to rule out any bug 

IMEI 867725038115063 
ICCID 89610180003176815885 
IMSI 0505016200280157 
Tenant: sew 

1. Device did bootstrap, de-registration and new registration on 22/07 1:58am AEST 
2. Device didn?t set any observe after new registration. However it tried to setup measurements for object 10250/0/0 but it failed. It didn?t have any measurement set for 10262/62 which we have setup manually upon customer complaint 

Refer attached email for screenshots and some other details. 
[^RE_ Confirmation of new Support Incident_ 5453794 (IOT)_ Device didn't set measurements after new registration - New.eml]"
Defect,CSOIOT-646,Karaf returns '502' / endpoints marked as DOWN by LUA checks | MAJOR,ADAMOS GmbH,"1,149",Closed,iTrac Sync User,"Vukman, Tomislav",8/18/21 14:12,Customer,6/20/22 10:03,,,4-Low,None,"502 bad gateway errors. 
Tenant: dmgmoridevices.adamos.com 

Also sent this to Ops Google chat. 
The customer reproted: 
************************************************************************* 
today I ran a software assignment to a lot of devices. After some time the microservice which creates the operations only received 502 errors from the platform. 

2021-08-10 15:33:28.883 INFO 13 --- [Async-41] c8y.dmgmori.service.OperationService : Processed 14010 / 14064 devices, success = 8420, failed = 0, up to date = 2193, updated = 3397 
https://dmgmoridevices.adamos.com/user/dmgmoridevices/userByName/device_E0-DC-A0-65-00-2D 
https://dmgmoridevices.adamos.com/user/dmgmoridevices/userByName/device_E0-DC-A0-65-9F-EE 
2021-08-10 15:33:37.011 ERROR 13 --- [Async-35] c.cumulocity.sdk.client.ResponseParser : Failed to parse error message to json. Getting error string... 
2021-08-10 15:33:37.011 ERROR 13 --- [Async-35] c.cumulocity.sdk.client.ResponseParser : <html> 
<head><title>502 Bad Gateway</title></head> 
<body bgcolor=""white""> 
<center><h1>502 Bad Gateway</h1></center> 
<hr><center>openresty</center> 
</body> 
</html> 

These bad gateway errors normally indicate some error in the platform. 
Would you please check? 
************************************************************************* 
Comments Christian: 

tenant dmgmoridevices.adamos.com ID dmgmoridevices 
microservice create-software-ng 
https://dmgmoridevices.adamos.com/apps/administration/index.html#/applications/18577/properties 
I have a login if you need something. 
"
Defect,CSOIOT-644,[Schindler] Too Many Requests (error 429) to debian-integration microservice,Schindler IT Services AG,"1,150",Closed,"Welsing, Michael","Vukman, Tomislav",8/18/21 14:12,Customer,6/20/22 10:03,,,3-Medium,None,"Dear Ops, 

MaSe sent the followin informtations: 

""We are facing following issue on ZZ-P: 
Requests to a specific microservice ""debian-integration"" get blocked with Error 429. 

The requests are coming from the devices and are OK up to 80-90 requests per second. 
My assumption is that anything beyond that is blocked by Cumulocity. 

I missed adding following graylog message before, which is from the ""microservice-management.proxy"" 

""com.nsn.cumulocity.platform-services.microservice-management.proxy - 1007.0.31 | INFO Sending response status 429 Too Many Requests"" 

We discussed the raised topics with Vukman, Tomislav and will try to answer your questions to the best of my understanding. 

Questions: 
- Can you please explain when load balancers and/or cores block the requests? 
Answer: The load balancer should not block any requests and all should be processed without any limits applied. 

- Are requests blocked per microservice, per instance of a microservice or for all microservices? 
Answer: If limits are set, they are on a tenant level and not on a microservice level. You can check the tenant if some limits are applied but this should not be the case. 

You can check the attached image and the below link: 
https://cumulocity.com/guides/users-guide/enterprise-tenant/ 


- Is it possible to increase such limits? 
Answer: 

The messages are coming from KARAF. So the question is: Is there such a limit set anyone? Where is it documented? Is there is a mechanism to control this? 

Please add following people as interested party: 
Bjoern Urbanek, Kai Sieben, Thomas Schueller, Tomislav Vukman, Hristo Hristov (hristo.hristov2@softwareag.com). 

With kind regards, 
Teo"" 

As this questions were raised by [~tvu] to MaSe I copy pasted the eMail here and assigned the ticket directly to Tomislav."
Defect,CSOIOT-641,need user for apj.cumulocity.com,Software AG,"1,154",Closed,"Herzog, Christian","Janus, Bartosz",8/9/21 9:05,Customer,6/20/22 10:03,,,3-Medium,None,"Please create a admin user with name ""christian.herzog@softwareag.com"" on apj.cumulocity.com
and send me a password reset email."
Defect,CSOIOT-640,Production Private ELB redirect not working after Production upgrade on July 7,Stanley Black and Decker,"1,155",Closed,"Herzog, Christian","Abdul Majid, Mohd Shahmi",8/18/21 14:10,Customer,6/20/22 10:03,,,3-Medium,None,"The customer asks: 

The traffic from our private VPC to tenants is not resolving tenants 
e.g nadi-stanleyearth.sbdconnect.io is not resolving with a route 53 redirect to Software AG provided ELB internal-SBD-US-East-Prod-Internal-elb-1344462054.us-east-1.elb.amazonaws.com. 
The issue triggered around July 7th after production upgrade and since then some of our batch jobs have been failing. 

Comment support: 
https://iwiki.eur.ad.sag/display/CLOUDSERVICE/PAID+-+Cumulocity+IoT+Customers says: 
Stanley Black & Decker 
Now managed by C8y Cloud Ops team as DE 
operated by Cumulocity 
management.sbdconnect.io version 1006.6.24 
VPC = Amazon Virtual Private Cloud 

Unfortunately I have no clue what to check here and how to help. 
So if I can do something from support perspective, let me know it. 
"
Defect,CSOIOT-639,Retention rule is not working (IOT-11474),"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,156",Closed,"Awasthi, Gyan Prakash","Vukman, Tomislav",8/19/21 9:55,Customer,6/20/22 10:03,,,2-High,None,"Customer has found that a retention rule is not working properly. 

URL: https://ydm.cumonosu.com/apps/administration/index.html#/retentions 

USER ID: mtadmin 
password: mt_13578 

Retention Rule :- Retention is set to delete EVENTdata of type ""Type m13y_ydm_position"" after 30 days. 

Data over 30 days still be there. 
Customer is aware that Retention rule does not work immediately. They waited for 24 hours before reporting the incident. 

Additional incident information: 
Product Version: 10.6.6 

Support look into the tenant and can see the data is still there after 30days. Retention rules seems ok. 
************************ 
Please refer https://itrac.eur.ad.sag/browse/IOT-11474 

{color:#172B4D}*{color:red}*GS worked with R&D in IOT-11474 . As per R&D there are some missing indexes which OPS need to add in the customer environment to fix the problem. 
Customer informed that they can not upgrade the system as of now.*{color}*{color}"
Defect,CSOIOT-637,"CLONE - SAG internal LWM2M issue on cumulocity.com: device is connected, but push connection is offline",A1 Digital International GmbH Kreditorennummer: 310000179,"1,157",Closed,"Herzog, Christian","Vukman, Tomislav",8/6/21 13:40,Customer,6/20/22 10:03,,,3-Medium,None,"Requested by Torsten Schmidt 

management.cumulocity.con 
core version is 1009.0.12 

Tried to use the Leshan demo client, started with: 
java -jar device.jar -u 3.64.138.218:5683 -n TD_NS_1_chh_c8y -b 

Logs show REGISTRATION_UPDATE_SUCCESS, but push connection is still offline. 
command read /3/0/0 keeps pending. 

The shell page shows ""device is offline"" 

Device: 
https://chh.cumulocity.com/apps/devicemanagement/index.html#/device/15192192/device-info 
Creds: dev_user / Summer$007 

lwm2m-agent logs are requested via https://itrac.eur.ad.sag/browse/CSOIOT-629 

!screenshot-1.png|thumbnail! !screenshot-2.png|thumbnail!"
Defect,CSOIOT-636,[SDAIA] metrics-server image download & kube-registry-persistent-secure Back-off issue,SDAIA/NIC - National Information Center,"1,157",Closed,"Welsing, Michael",Unassigned,8/2/21 15:36,Customer,6/20/22 10:03,,,3-Medium,None,"Hi, 

customer has an issue with kubernetes. 

Environment details: 

Non HA environment offline on premises setup 
Cumulocity Version:1006.6.22 

Setup details are : 

Chef server & Nexus server on same node 
MongoDB - Its a standalone and on one node 
Karaf is on one node 
K8S Master- 1 node 
K8s Worker- 1 node 
NGINX - 1 node 
Agents - 1 node 

So total 7 Nodes. 

There are two issues with k8s cluster that needs clarification: 

# metrics-server-amd64 image does not downloaded automatically from nexus repository. 
# kube-registry-persistent-secure Back-off issue- it starts and then fails with back-off error. 

For the first issue the metrics-server-amd64 issue was resolved by manually loading the image in the master node docker images. But why is it not downloading it? Is it a bug? 

Attached are the logs and description for kube-registry-persistent-secure Back-off issue."
Defect,CSOIOT-632,Apama Microservice Down,Software AG International FZ -LLC,"1,158",Closed,"Reddy, Yerpula Bharath Bhushan","Luczyszyn, Mikolaj (External)",8/2/21 9:22,Customer,6/20/22 10:03,,,2-High,None,"CliffErnest Wachiuri from SAG PS requested below through the associated support ticket. 

Upgrade Apama from Apama Small to Apama ctrl-1c-4g. 
Cost Center: 1872132020 
Tenant: swagdxb.eu-latest.cumulocity.com 

I already see entry for this tenant in the page - https://iwiki.eur.ad.sag/display/CLOUDSERVICE/Additional+features+-+Cumulocity+IoT+Public+Cloud+Customers 

Please enable the same. 
Though we can do it from GS, we are not sure about the procedure to update Cost Center code."
Defect,CSOIOT-630,Security questions on IP forwading and TLS triple handshake,Vision Valley FZ-LLC,"1,160",Closed,"Bhatt, Vikas","Fuso, Luca",8/9/21 9:40,Customer,6/20/22 10:03,,,3-Medium,3-Medium,"Dear Ops, 

Customer has raised these two questions on security as below: 

*1*. Currently, by default the IP forwarding setting is enabled in their environment. 
The status of the current setting for 'net.ipv4.ip_forward' network parameter is enabled on core VMs, Kubernetes master/worker VMs and chef VMs. 

How to disable IP forwarding? 

*2*. Host is Vulnerable to Extended Master Secret TLS Extension (TLS triple handshake) (DR:chef server - Port: 8443, 443). 

How do we mitigate or take care of that?"
Defect,CSOIOT-629,Need lwm2m-agent logs from cumulocity.com,A1 Digital International GmbH Kreditorennummer: 310000179,"1,160",Closed,"Herzog, Christian","Pham, Hoang",8/2/21 10:53,Customer,6/20/22 10:03,,,3-Medium,None,"Hi, 
1) due to a LWM2M issue I need lwm2m-agent logs from cumulocity.com from 30/07/21 
Please assign them directly to https://itrac.eur.ad.sag/browse/IOT-11713 
2) Please let me know the version of the lwm2m-agent if it is not stored in the log. 

I have to test an issue on cumulocity.com for a customer. 
A1 environment is not affected!"
Defect,CSOIOT-622,Delete obsolete internal tenants,Software AG,"1,162",Closed,"Bhatt, Vikas","Luczyszyn, Mikolaj (External)",7/28/21 12:56,Customer,6/20/22 10:03,,,3-Medium,3-Medium,"Customer has requested to *delete* the following three tenants: 

Parent tenant: *ur.cumulocity.com* 
Subtenant: *jcu.cumulocity.com*, *mqu.cumulocity.com* 

Please delete these obsolete internal tenants. 

**Support doesn't have access to delete tenants anymore."
Defect,CSOIOT-621,Prod (v10.6.6.31) Root Cause for kubernetes restart,Telstra Corporation Limited,"1,163",Closed,"Reddy, Yerpula Bharath Bhushan","Radzali, Basyar",8/3/21 11:47,Customer,6/20/22 10:03,,,2-High,None,"Telstra raised the below request: 

Need help to find the root cause for Kubernetes last restart reason at 2021-07-27 17:36:00 for ""Tem1"" microservice that has deployed on Management tenancy with below details: 

Application Name = tem1 
Application ID = 1243 
C8Y BaseURL = https://management.iot.telstra.com/ 
POD/Container name = tem1-scope-management-deployment-f9674bdcb-nhnlt 

Please assist"
Defect,CSOIOT-619,"SmartREST 1.0 realtime notifications failing - error 86,,,0,handshake.",Software AG,"1,164",Closed,"Neale, Robert",Unassigned,8/4/21 13:40,Customer,6/20/22 10:03,3-Aug-21,,2-High,1-Critical,"In relation to https://itrac.eur.ad.sag/browse/IOT-11628 R&D have requested.. 

  

We need to verify following things from Ops Team: 
# Nginx ip hashing for /s/ endpoint. We should get configuration of nginx for on top lb to verify if it has proper settings. 
2. Check the cumulocity-core.properties files for smtartrest configuration. We need to check if smart.host and smart.port are pointing to localhost:8181 
3. Do we suffer for often node cluster changes e.g. by flaping state of core health check. I mean that e.g. one node can often change from healthy to unhealthy which affects the ip_hashing and may result in user swiching between core nodes. 

NOTE: The problem does not occur on eu-latest - it may be wiorthwhile comparing the two environments in respect of the above."
Defect,CSOIOT-617,CLONE - [Utonomy] Unable to access C8Y standard apps after 10.9 upgrade,Utonomy Ltd,"1,165",Closed,"Bhatt, Vikas","Fuso, Luca",8/31/21 10:19,Customer,6/20/22 10:03,25-Aug-21,,2-High,2-High,"After the 10.9.0.12 release on 13th July, customer is unable to access standard C8Y apps Apps such as Cockpit, Administration and Device Management.

This is happening in the management tenant and all subtenants.

The error message displayed flickers really quickly; but it seems to indicating that full authentication to access the resource. We are then shown a login box.

User gets the below error while trying to select or login to standard C8Y apps and then page automatically logs out.

""Full Authentication is Required to access this resource."" 

Please see the attached screenshot and video.

Tenant: https://utonomydev.utcloud.uk/
Username: vikas.bhatt@softwareag.com
Password: Support@00&98"
Defect,CSOIOT-606,Prod LwM2M Agent - Intermittent Failures,Telstra Corporation Limited,"1,169",Closed,"Talbert, Kent","Fuso, Luca",7/22/21 9:13,Customer,6/20/22 10:03,,,2-High,None,"After upgrading out LwM2M agent yesterday evening, from approx. 1.05 AEDT, we saw a dramatic increase in CPU utilisation and intermittent failures on our end for our LwM2M agent health checks. 

"
Defect,CSOIOT-591,Hillrom- Datahub errors.,"HILL-ROM Holdings, Inc.","1,175",Closed,"Talbert, Kent","Fuso, Luca",7/20/21 9:05,Customer,6/20/22 10:03,,,3-Medium,None,"in our production instance, I am trying to setup the datahub settings page and encoutered an error:

io.vertx.core.impl.NoStackTraceThrowable: CDHCBEE0178 - Failed to create tenant: io.netty.channel.ConnectTimeoutException: connection timed out: dremio-client.hillrom-multinode-prod-cdh.svc.cluster.local/10.109.64.3:9047. Rollback failed, too: io.netty.channel.ConnectTimeoutException: connection timed out: dremio-client.hillrom-multinode-prod-cdh.svc.cluster.local/10.109.64.3:9047

Customer is settingt this up on subtenant: servicehub.iot.hillrom.com 

Link to Ops chat on this:

https://chat.google.com/room/AAAAppXxqRs/7OmZIiblrB0"
Defect,CSOIOT-587,"[Liebherr] Port 80 can be closed for instance ""management.myjobsite.com""",Liebherr-Werk Nenzing GmbH,"1,176",Closed,"Bhatt, Vikas",Unassigned,7/20/21 8:49,Customer,6/20/22 10:03,21-Jul-21,,3-Medium,3-Medium,"Due to the issues raised in CSOIOT-192, port 80 was reopened for customer's instance https://management.myjobsite.com. 

See CSOIOT-192 : ""[Liebherr] Outage of Microservices on Liebherr environment after 'port 80' upgrade on 23rd March"" 

In the meantime, all of customers' productive tenants have been updated and now port 80 can be closed again. 

Please announce the change in time to ensure the operation of the system. 
*Before closing the port, please update the time duration, so we can inform customer to be ready with this change!*"
Defect,CSOIOT-586,"DEV Mongo DB root File system failed, Platform unworkable",Telstra Corporation Limited,"1,176",Completed,"Reddy, Yerpula Bharath Bhushan","Schueller, Thomas",8/27/21 11:50,Customer,8/27/21 11:50,30-Jul-21,,1-Critical,1-Critical,"Telstra reported Dev system is completely unavailable now. 

In the words of Tiana: 
Our Dev environment is currently down, appears to be down due to an AWS EBS volume in Dev being unrecoverable. 
Failure appears to be around 9.45am AEDT. 
The platform seems to be completely unavailable at this time. 

Email from AWS: 
The volume vol-0126422a8f24e4a4f has failed. 
This is the root file system (/dev/sda) for i-0c94f2b5887f7be14 (c8y-el7-dev-mongo) . 

This is the SINGLE DB node in the DEV environment. 

"
Defect,CSOIOT-580,Device Agent - Open public access on specific port,GO plc,"1,177",Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,7/19/21 10:41,Customer,6/20/22 10:03,,,3-Medium,None,"Customer from Go Pls has the following request. 

We are testing out a device agent which will be hosted on our Cumulocity cloud instance. 
It is currently not possible to open a connection from outside C8Y. 
We require a specific port (9090) to be opened to the public so that we can enable TCP communication on such socket. 

Is it possible to open this port? 

Other details: 
Tenant URL: https://management.iot.go.com.mt/ 
TenantId: goplc 
They are attempting to connect an asset tracking device (Queclink) to Cumulocity via a device agent. 
This device agent will live on Cumulocity. So access required is more permanent rather than short term. 

Please look into this. 

"
Defect,CSOIOT-565,tenant migration CEP Esper -> Apama,Software AG,"1,183",Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",7/14/21 9:57,Customer,6/20/22 10:03,,,3-Medium,None,"similar to https://itrac.eur.ad.sag/browse/CSOIOT-542 supported by Bartosz Janus I got a 2nd task for 65 tenants on cumulocity.com to: 
- unsubscribe CEP 
- subscribe Apama-starter 

This task is approved by Aaron Kreis and checked with the tenant owners. So the administrative check is finished. 
The technical task can be done by a Postman script and I can take over it. 

I tested this script successful on management.adamos-preprod.com. 

Now my idea is to do the job on e.g. 5 real tenants on cumulocity.com by script under supervision of Ops. I want to avoid impact on productive instances. If this works fine, I plan to do it the other 85 tenants. 

Whom from Ops can do this? Then I create an appointment with this colleague. 

Detailed steps: 
- output a list of all tenants with domain, url and status 
- start the script which unsubscribes CEP Esper and subscribes Apama-starter 
- output again the list of all tenants 
- check success 

Tenant list: 
https://sagportal.sharepoint.com/:x:/r/sites/msteams_c9d793/_layouts/15/Doc.aspx?sourcedoc=%7Bc6456054-2a3f-4cdf-911a-e50cb1c87d7e%7D&action=edit&activeCell=%27High%20prio%20customers%27!B6&wdinitialsession=c3132708-852c-4fd1-ab45-d203ff131760&wdrldsc=8&wdrldc=1&wdrldr=AccessTokenExpiredWarning%2CRefreshingExpiredAccessT&cid=c9828697-43cb-45fe-bd52-1a5f48ca10d0&CID=90EB26F1-1D30-4A99-A743-AD3FB84C0A38 

tab ""tenant domain and IDs"" 
column ""switch only to starter"" = Starter"
User Story,CSOIOT-542,bulk tenant deactivation and deletion,Software AG,"1,189",Closed,"Herzog, Christian","Janus, Bartosz",7/22/21 9:08,Customer,6/20/22 10:03,,EnvMgmt,3-Medium,None,"There is a task for 140 tenants on cumulocity.com to: 
- suspend them 
- wait 8 weeks 
- delete them 
This task is approved by Aaron Kreis and checked with the tenant owners. So the administrative check is finished. 

The technical task can be done by a Postman script and I can take over it. 

I tested this script successful on management.adamos-preprod.com. 

Now my idea is to suspend e.g 10 tenants on cumulocity.com by script under supervision of Ops. I want to avoid impact on productive instances. If this works fine, I plan to suspend the other 130 tenants. 

Whom from Ops can do this? Then I create an appointment with this colleague. 

Detailed steps: 
- output a list of all tenants with domain, url and status 
- start the suspension script 
- output again the list of all tenants and check success 

Tenant list: 
https://sagportal.sharepoint.com/:x:/r/sites/msteams_c9d793/_layouts/15/Doc.aspx?sourcedoc=%7Bc6456054-2a3f-4cdf-911a-e50cb1c87d7e%7D&action=edit&activeCell=%27High%20prio%20customers%27!B6&wdinitialsession=c3132708-852c-4fd1-ab45-d203ff131760&wdrldsc=8&wdrldc=1&wdrldr=AccessTokenExpiredWarning%2CRefreshingExpiredAccessT&cid=c9828697-43cb-45fe-bd52-1a5f48ca10d0&CID=90EB26F1-1D30-4A99-A743-AD3FB84C0A38 

relevant comments from support team chat: 
******************************************************* 
Christian Herzog, Jun 16, 11:28 AM 
We plan to suspend about 158 tenants on cumulocity.com, which are no more needed. 
8 weeks later these tenants should be deleted. 
The organizational lead has Arron Kreis (e.g. get confirmation from tenant admins). 

My question is about the ""how-to"". 
My idea: set the SUSPEND flag by a script for all affected tenants in one step 

Details: 
- Create a postman collection e.g. “Loop” 
- add PUT {{baseUrl}}/tenant/tenants/{{ID}} in it, body: 
{ 
""status"": ""SUSPENDED"" 
} 
- create a json data file with all affected tenant IDs e.g. 
[ 
{ 
""ID"": ""chh"" 
}, 
{ 
""ID"": ""t117837"" 
} 
] 
- Open collection runner 
- import data file from above 
- set delay on 5 seconds 
- Run loop 

I tested it in 10.7.0.26 successful in a test server with 3 tenants. 
Is there something else hat must be considered for such a batch task? 

Tomislav Vukman, 11:33 AM 
the idea itself is good, just it can be better to put longer delay between suspend actions, like 10 seconds or so 

Christian Herzog, 11:35 AM 
10 seconds is also fine 👍 

Bartosz Janus, 12:24 PM 
there's no need to put any delays btw, the platform will only respond when the tenant is suspended - so there's no possibility of overloading the platform with 100 suspensions at once 

if you have any timeouts however, make sure they're really big (like 5 minutes or so), because some tenants take a lot of time to suspend 

Tomislav Vukman, 12:26 PM 
yeah, that makes sense. 10 seconds might be to less if platform is busy. for tenant creation the delay should also be like that, even higher 

Bartosz Janus, 12:28 PM 
it'll process one tenant at a time anyway. but yes, if we want to give the platform some breathing space then the delay won't hurt 

though I was running some suspensions without any delay (hundreds of tenants), and they were taking 6 hours+.. so your mileage may vary 

(there was no observed higher load on the platform during that time) 

Christian Herzog, 1:14 PM 
OK then lets set the interval to 5 minutes. 
Is there something additional to do from Ops perspective? e.g. an approval for such mass actions? 

Bartosz Janus, 1:15 PM 
I think you misunderstood us - interval can be small (5-10 seconds) or 0 :) timeout should be big, if you have any. 

it's suspension not deletion, so I don't think there are any approvals needed, besides the one you got already 

Christian Herzog, 1:25 PM 
OK - understood! 
Postman setting ""Request Timeout in ms"" is set on 0, means infinity 

Bartosz Janus, 1:28 PM 
looks good! 
*******************************************************"
Defect,CSOIOT-541,Hillrom: Cumulocity server response contains more than one HSTS header,"HILL-ROM Holdings, Inc.","1,189",Closed,"Talbert, Kent","Lundsten, Alf",7/6/21 10:57,Customer,6/20/22 10:03,,,3-Medium,None,"This is happening on Hillrom instances.

We are seeing cumulocity server response contains double STS (Strict-Transport-Security) header. see attached screenshots
Our customer IT network is rejecting the server response due to this reason so our agent is unable to communicate with the server.

I've also been able to reproduce this issue on eu-latest instance (1009.0.4). See attached screen print.

Is there a setting or some other configuration causing this? Any way to stop the duplicate?
------------------------------------------------------------------
R&D said that this issue doesn't occur on staging latest or basic. They went through the core code and could not find any places where backend can set it up programmatically. But he found setting this header in cookbooks so it rather sounds like nginx conf.

Can someone from OPS take a look first?

See iTrac https://itrac.eur.ad.sag/browse/IOT-11394
"
Defect,CSOIOT-539,Security-related Changes on Management Tenants,Software AG 3101000,"1,189",Closed,iTrac Sync User,"Vukman, Tomislav",8/17/21 9:43,Customer,6/20/22 10:03,,,4-Low,None,"Dear Ops colleagues, 

we found security gaps in all management tenants of the 3 Adamos environments. 
As a result, Eric Sander; Somin Koburg, Jelle Dijkstra and Christian Herzog have decided: 

1. to change the preferred login mode from Basic auth to Oauth internal and 
2. to introduce a Two-Factor-Authentication 

So I tested the above mentioned changes on the Adamos-PreProd management tenant. 
These changes would have no impact on the user accounts of the ADAMOS partners on their tenants. 

I open this Ops-ticket so that the Ops colleagues can: 
1. give their opinion on the security-related changes and can raise potential challenges/concerns they see 
2. check and potentially revise the user list on the Adamos-DEV and Adamos-PROD management tenants so that user rights are only assigned to the colleagues who really need them permanently 

Details: 
I tested the use cases below in management.adamos-dev.com successful. 
So we could enhance the security of all Adamos management tenants by using login mode ""OAuth internal"" and enforcing TFA. 
But as enforcing TFA has deeper consequences, I removed ""enforce TFA"" after my test. 

Consequences: 
- this has effect on all users in the current tenant 
- after the change every user is able to login only with TFA Google Authenticator 
- old users must setup TFA at first login after the change, this is done automatically by C8y 
- users with week passwords can keep the week password until the next password change 
- new users can be set up only with TFA and strong passwords (at least 15 characters) 
- subtenants are not concerned 

Proposal for the next steps: 
1) Ops to check and update the user list on all management tenants (e.g. remove users which are not with the company any more or how do not required rights) 
I can deliver all maintained email addresses of the active users if you need. 
2) Ops or Simon to prepare communication message to remaining users to inform them what is coming and what they have to do until when 
3) Christian to perform the changes during the announced time slots 
proposed time frames: 
- management.adamos-preprod.com 1 week after email from step 2) 
- wait for feedback 
- management.adamos-dev.com 2 weeks after email from step 2) 
- management.adamos.com 3 weeks after email from step 2) 

Technical details to each change: 
- https://management.adamos-preprod.com/apps/administration/index.html#/auth-configuration/basic_settings 
- switch Preferred login mode from ""Basic Auth"" to ""OAuth internal"" 
- enable ""Enforce that all passwords are strong (green)"" 
- enable ""Allow two-factor authentication"" 
- select ""Google Authenticator (TOTP)"" 
- enable ""Enforce two-factor authentication on all users"" 
- https://management.adamos-preprod.com/apps/administration/index.html#/configuration 
- enable ""enforce green passwords for all users"" 
- set ""Minimal length of ""green"" password"" to 15 

Please let me know you doubts or proposals...."
Defect,CSOIOT-533,Nordex SE logs for APAMA are needed,Nordex SE,"1,191",Closed,"Eha, Allan","Bieniak, Arkadiusz",6/30/21 13:32,Customer,6/20/22 10:02,1-Jul-21,,2-High,2-High,"It looks like Nordex SE is having a problem with Apama restarting randomly. They are getting a ""Java exit 137"" error.
Can you get a copy of the C8Y audit log history for the Apama team?"
Defect,CSOIOT-528,Microservice error messages morning of 27th June.,Kemin Europa,"1,192",Closed,"Neale, Robert","Vukman, Tomislav",7/6/21 10:57,Customer,6/20/22 10:02,29-Jun-21,,2-High,2-High,"Did anything happen on cumulocity prod to cause Bad Request responses on the morning of 27th June? 

Microservice log has several.. 

2021-06-27 11:36:22.600 ERROR [139622304409344] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Error received: <html> 
<head><title>400 Bad Request</title></head> 
<body bgcolor=""white""> 
<center><h1>400 Bad Request</h1></center> 
<hr><center>openresty</center> 
</body> 
</html> 

2021-06-27 11:36:22.600 INFO [139622304409344] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Received error while performing GET /inventory/managedObjects/4169323, params: \{withTotalPages:true,pageSize:1000}, payload: (null) 
2021-06-27 11:36:22.600 WARN [139622304409344] - <connectivity.cumulocityCodec.CumulocityIoTGenericChain> Error while transforming message: Incorrect type in get (you asked for map but it's actually string); \{contentType:text/html,http:{path:/inventory/managedObjects/4169323,cookies:{},statusReason:Bad Request,headers:\{server:openresty,date:Sun, 27 Jun 2021 11:36:22 GMT,content-type:text/html,connection:close,content-length:170},statusCode:400,method:GET},requestId:1121705} / <html> 
<head><title>400 Bad Request</title></head> 
<body bgcolor=""white""> 
<center><h1>400 Bad Request</h1></center> 
<hr><center>openresty</center> 
</body> 
</html> 
will be dropped. 

Status page says there was a major outage of API services for 4 minutes. 

  
Some initial analysis of attached log... 
  
  
• The 400 Bad request and 500 Internal Server Errors indicate something is wrong in the cloud system • I'd suggest filing a CSOIOT ticket to investigate; some initial analysis - [https://logging.monitor.c8y.io:9000/search?rangetype=absolute&q=&highlightMessage=e6a3aa36-d73b-11eb-8664-067be71ce370&streams=5bed2c655a215f6a212a374f&from=2021-06-27T11%3A36%3A21.697Z&to=2021-06-27T11%3A36%3A23.697Z] shows many errors of the form '2021/06/27 11:36:22 [alert] 14595#14595: 9000 worker_connections are not enough' from the load balancers - hopefully that will be a good clue for Operations as to what's wrong."
Defect,CSOIOT-526,Not able to connect to Schindler Prod environment zz-p,Schindler IT Services AG,"1,193",Closed,"Kumar, Ashish","Godev, Petko",6/28/21 16:53,Customer,6/20/22 10:02,29-Jun-21,,1-Critical,1-Critical,"Hi Ops Team,

PS team is not able to connect to Schindler's Production environment.
This is Crisis incident because it is production environment. Please treat this as High Priority.
When we try to login, it gives below error:
<html>
<head><title>502 Bad Gateway</title></head>
<body bgcolor=""white"">
<center><h1>502 Bad Gateway</h1></center>
<hr><center>openresty</center>
</body>
</html>

A server error occurred.

{
""status"": 502,
""statusText"": ""Bad Gateway"",
""url"": ""https://main.dm-zz-p.ioee10-cloud.com/tenant/currentTenant""
}

Please let me know if you need more information.

Regards,
Ashish Kumar"
Defect,CSOIOT-511,[Eppendorf] Recurring micro-services down and restarted,Eppendorf AG,"1,199",Closed,"Bhatt, Vikas",Unassigned,6/22/21 9:42,Customer,6/20/22 10:02,,,3-Medium,2-High,"This issue was raised by Eppendorf today with the following details. Couple of microservices are down as below and can be seen in Cockpit's recent alarms section. 

*Please note we need to be extra careful this time before just restarting the microservice*! 
*Customer will need proper root cause of this issue. So please collect all the logs before taking any action to resolve this issue*. 

Tenant URL: https://management.visionizedigitallabspace.eppendorf.com/apps/cockpit/index.html#/ 
Version: 10.7.0.36 

Microservice 'notification-sender' is down 
17 June 2021 21:39 notification-sender 


Microservice 'visionize' is down 
15 June 2021 13:29 visionize 


Microservice 'visionize' is down 
15 June 2021 11:46 visionize 


Microservice 'visionize' is down 
14 June 2021 17:59 visionize 


Microservice 'visionize' is down 
14 June 2021 15:50 visionize 


Microservice 'visionize' is down 
14 June 2021 13:42 visionize 


Microservice 'visionize' is down 
14 June 2021 11:56 visionize"
Defect,CSOIOT-505,Request for renewed SSL server certificates,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,202",Closed,"Awasthi, Gyan Prakash",Unassigned,6/18/21 11:53,Customer,6/20/22 10:02,,,3-Medium,None,"Query from Micro Technology - 

They would like to have renewed SSL server certificate for ""*.cumonosu.com"" and ""*.bodenexam.com"", please. 

Their current certificates using for our servers will be expired soon. 



Additional incident information: 
Product Version: 10.6.6 
"
Defect,CSOIOT-491,Emergency request> restarting CEP service at cumonosu.com (Prod env),"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,203",Closed,"Awasthi, Gyan Prakash",Unassigned,6/18/21 9:38,Customer,6/20/22 10:02,,,2-High,None,"

This is an emergency request to OPS team. Please pass this to OPS team. 

Please restarting the CEP service at cumonosu.com (PROD). They are not responding. 



Additional incident information: 
Product Version: 10.6.6"
Defect,CSOIOT-475,Whitelist IP Address for MQTT Broker,Siemens AG I CS IT ST,"1,203",Closed,"Garling, Matthew","Vukman, Tomislav",6/26/21 17:21,Customer,6/20/22 10:02,,,2-High,None,"Siemens needs assistance in whitelisting IP addresses for MQTT broker: 

They request to have a range of IP addresses whitelisted: 
5.195.20.64 to 100 
5.195.21.64 to 100 
for communication from MQTT broker. 
This was done in the past by us when we were managing their service. 

  

Attaching the email conversation which happened in the past to resolve the issue. 
[^RE IP address for mciotExtension MQTT.msg]"
Defect,CSOIOT-473,"INQUIRY: 7516918, 2072581 (replaces TRIAL 2071549), ITAC Software AG",ADAMOS GmbH,"1,204",Closed,iTrac Sync User,"Pham, Hoang",6/18/21 9:08,Customer,7/3/21 0:18,,,4-Low,None,"On Adamos.com are missing Microservices: 
- machine learning workbench (app) 
- mlw-cdh (Microservice) 
- mlw (Microservice) 

Please install them on management tenant. 
The fist both are installed on management.adamos-dev.com 
"
Defect,CSOIOT-471,CLONE -Production Environment : Block access to unsecure MQTT connection,GREENFLEX,"1,204",Closed,"Fartode, Sumit","Fuso, Luca",6/21/21 11:05,Customer,6/20/22 10:02,18-Jun-21,,3-Medium,3-Medium,"Hello Luca, 

This time, the customer wants to apply the same changes in the production environment. 
In customer's own words: 

""To close this ticket, we would like now to apply the configuration on our production environment iot.greenflex.com 
Just a reminder: 

* port 1883 available only in VPC peering. Close from internet 
* port 8883 available in VPC peering and from internet"" 

Additional incident information: 
Product Version: 10.7. 

Please let me know when can we apply above changes in the production environment. 

Thanks, 
-Sumit B. Fartode"
Defect,CSOIOT-469,Port 80 disabled and Devices Failed to connect,QTRS Pty Ltd ABN 99 152 035 179,"1,205",Closed,"Reddy, Yerpula Bharath Bhushan","Radzali, Basyar",6/18/21 8:56,Customer,6/20/22 10:02,18-Jun-21,,1-Critical,None,"Customer: QTRS Australia 
Tenant: mitsitrack.apj.cumulocity.com 

Noticed that port 80 is disabled for your tenant and devices are not able to connect. 
Customer is aware that he has to change the port to 443 as mentioned in status.cumulocity.com 
However, to change this he has to have temporary access to the port 80 so that he can connect to the platform. 

Business Impact and request customer words: 
""The devices are STW devices purchased off shelf (STW TC1 and TC3G), these devices are deployed all over Australia on refrigerated transport vehicles traveling around the country. 

These devices are not test devices, they are deployed and paid for by our customers (device cost + monthly cost) 

Business impact is severe, all affected devices are unable to send critical monitoring data to cumulocity for our customers and repair technicians to support these refrigerated assets. 

A temporary opening of port 80 would allow me to solve the issue in a fairly short time and restore services to our customers."" 

Please do the needful 
"
Defect,CSOIOT-468,Request for investigating REST API for Measuremants.,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,205",Closed,"Damasco, Jeanne",Unassigned,6/17/21 9:03,Customer,6/20/22 10:02,,,2-High,None,"Issue Details: 
Subtenant: okippa02 

We put Measurements data via python scripts - using REST API regularly. Occasionally it failed to register the measurements although the scripts received success response from C8Y. The latest symptom was occurred, 2021-04-27 13:49:10. 


Request: 
Can you please retrieve the core access and error logs if it is still possible for 2021-04-27? 


"
Defect,CSOIOT-466,Investigate performance of 10.64.5.5,Kemin Europa,"1,205",Closed,"Neale, Robert",Unassigned,6/28/21 10:11,Customer,6/20/22 10:02,18-Jun-21,,2-High,1-Critical,"Investigating a problem with long polling on c8y prod - 402 response Client unknown - it was thought that a slowdown of 10.64.5.5. caused a the LBS to switch nodes and therefore the error arose. 

See some diagnostics here from Tomasz Jegorow...... 

second query you've pasted does show some results, there are POST queries to `/cep/realtime` between 2021-06-04 13:30:52 +00:00 and 2021-06-04 13:31:14 +00:00 so at the same time as it is showing in the microservice logs, which did happen at 2021-06-04 13:31:14.382: 

2021-06-04 13:31:14.382 ERROR [140003090863872:CumulocityLongPollingTransport-scheduler-3] - <connectivity.ApamaConnectivityForCumulocityIoT.CumulocityIoT> Error when subscribing channel: /measurements/*, error: 402::Unknown client 
Here are the requests between 13:30:00 and 13:32:00: 

!screenshot-1.png|thumbnail! 

And: 

!screenshot-2.png|thumbnail! 

From the ngingx error logs it looks like between 13:30:38 and 13:30:59 there were a lot of timeouts with the requests sent to 10.64.5.5, e.g.: 

2021/06/04 13:30:58 [error] 7854#7854: *4204571332 upstream timed out (110: Connection timed out) while connecting to upstream, client: 10.64.1.237, server: cumulocity.com, request: ""POST /event/events HTTP/1.1"", upstream: ""http://10.64.5.5:8181/event//events"", host: ""lafourneedoree.ibakecare.cloud"" 
See the logs: https://logging.monitor.c8y.io:9000/streams/5bed2c655a215f6a212a374f/search?q=file%3A%22%2Fvar%2Flog%2Fnginx%2Ferror.log%22+AND+%2210.64.5.5%22&rangetype=absolute&streams=5bed2c655a215f6a212a374f&from=2021-06-04T13%3A30%3A00.000Z&to=2021-06-04T13%3A32%3A00.000Z 

So it looks like both loadbalancers were switching destination IP at this time, probably as a result of slowness of 10.64.5.5. 

I'm still trying to find out why 10.64.5.5 instance had performance problems. 

I have also questions: 

I tried to get into the code of the microservice. Is the java SDK somewhat used there, as dependency maybe? In one of the previous comments there was a mention of 10.4.6.5 version of SDK used. Why that version and can the customer use something newer? 
If the problem repeats is it possible to get the logs with some DEBUG setting so we can see what realtime messages are sent? 



Can you assist to check if there was a slowdown on 10.64.5.5 at this time and why?"
Defect,CSOIOT-465,Email template for resellers,KPN B.V.,"1,205",Closed,"Schon, Gregor","Lundsten, Alf",6/17/21 10:38,Customer,6/20/22 10:02,,,3-Medium,2-High,"Customer KPN with his own platform with exact version 1006.6.24)  
            ([https://iwiki.eur.ad.sag/display/CLOUDSERVICE/PAID+-+Cumulocity+IoT+Customers]   >> Managed by Customer ) 
wants to have the option to configure own e-mail templates for his customers. 

This is available in app Administration > Settings > Enterprise Tenant tab Configuration 

KPN can create Enterprise tenants (Allow creation of subtenants) but does not have the microservice SSLmanagement in his management tenant. 
That means the cannot subscribe this for the Entrprise and thus they do not have 'Enterprise tenant' in the settings, as this section is not displayed. 

*How can they add this microservice?* 

Original description of customer Jerome Jansen- jerome.jansen@kpn.com was :  

When we create separate email templates for our resellers, these templates are not used. The enterprise templates are actually used. We already discussed it with Christian Guether, but we did not find a solution yet. 

Please see attached email. 

Regards 
Jerome"
Defect,CSOIOT-458,Request for checking CEP service operational status on the 9th of June,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,207",Closed,"Awasthi, Gyan Prakash","Vukman, Tomislav",6/17/21 8:58,Customer,6/20/22 10:02,,,2-High,None,"
Dear OPS team, 

Could you check operational status of the CEP service during 12:25 - 12:45 on the 9th of June (JST), please? Is there a operating delay? 

This is because our client received a notification mail about 20 minutes after the alarm was raised on the alarm list in Cockpit application. 

That is all. 


customer - cumonosu ( Micro technology ) 

Additional incident information: 
Product Version: 10.6.6 

NOTE - Support tried to look Graylogs but did not find any meaning ful information. 
"
Defect,CSOIOT-455,Connection Error on hosted Microservices,Liebherr-Werk Nenzing GmbH,"1,210",Closed,"Peter, Michael","Vukman, Tomislav",6/15/21 9:00,Customer,6/20/22 10:02,,,2-High,None,"On customers productive system they have a connection error on the hostet Microservices.
According to their logs, the outage has been since midnight.

This is very critical, but not yet CRISIS"
Defect,CSOIOT-454,[Crisis]502 Bad Gateway - Production impacted.,SDAIA/NIC - National Information Center,"1,210",Closed,"Awasthi, Gyan Prakash",Unassigned,6/11/21 14:24,Customer,6/20/22 10:02,,,2-High,None,"This is on on premise installation of c8y in customer data center. Instance is managed my MaSe( Managed services ). 
They have access to the environment. 

We are getting '502 Bad Gateway' from customer domain iot.gov.sa. 

Curl output shows core nodes are up . 

The platform is not accessible and we are in a critical stage in the project. 
Chef server error- 

================================================================================ 
Chef encountered an error attempting to load the node data for ""loadbalancerv02"" 
================================================================================ 

Networking Error: 
----------------- 
Error connecting to https://devchef02/organizations/nicpiot/nodes/loadbalancerv02 - Failed to open TCP connection to devchef02:443 (Connection timed out - connect(2) for ""devchef02"" port 443) 

Your chef_server_url may be misconfigured, or the network could be down. 

Relevant Config Settings: 
------------------------- 
chef_server_url ""https://devchef02/organizations/nicpiot"" 

System Info: 
------------ 
chef_version=12.22.5 
ruby=ruby 2.3.6p384 (2017-12-14 revision 61254) [x86_64-linux] 
program_name=chef-client worker: ppid=3048;start=02:59:03; 
executable=/opt/chef/bin/chef-client 


Running handlers: 
[2021-06-11T03:12:34+03:00] ERROR: Running exception handlers 
Running handlers complete 
[2021-06-11T03:12:34+03:00] ERROR: Exception handlers complete 
Chef Client failed. 0 resources updated in 13 minutes 31 seconds 
[2021-06-11T03:12:34+03:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out 
[2021-06-11T03:12:34+03:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report 
[2021-06-11T03:12:34+03:00] ERROR: Error connecting to https://devchef02/organizations/nicpiot/nodes/loadbalancerv02 - Failed to open TCP connection to devchef02:443 (Connection timed out - connect(2) for ""devchef02"" port 443) 
[2021-06-11T03:12:34+03:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1) 

"
Defect,CSOIOT-453,CLONE - NEW REQUEST : Block access to unsecure MQTT connection,GREENFLEX,"1,210",Closed,"Fartode, Sumit","Fuso, Luca",6/16/21 9:57,Customer,6/20/22 10:02,14-Jun-21,,3-Medium,3-Medium,"Hi Team, 

Greenflex (Arnaud Dejean) is requesting following for the MQTT connection. 

Environment: dev.iot.greenfmex.com 
* 
Within the VPC Perring: MQTT available on port 1883 and 8883 
* 
From Internet: MQTT available only on port 8883 and block on port 1883 

Can you apply these configuration tomorrow 11/06/2021 only for our development environment? If the changes are not possible tomorrow, please let me know when can this change be scheduled. 

Additional incident information: 
Product Version: 10.7. 

Greenflex platform is managed by Software AG. Please assist in completing above changes for the customer."
Defect,CSOIOT-442,"[Eppendorf] Restart of Microservice ""Eai-registration"" failed",Eppendorf AG,"1,216",Closed,"Bhatt, Vikas",Unassigned,6/7/21 9:18,Customer,6/20/22 10:02,8-Jun-21,,2-High,2-High,"Tenant: https://management.visionizedigitallabspace.eppendorf.com 

Customer reported that, on the environment https://management.visionizedigitallabspace.eppendorf.com/, the microservice ""Eai-registration"" does not start anymore. 

Severity: Critical 
Product Version: 1007.0.36 

Eventlog 
------ 
3 June 2021 17:34 
Container image ""kube-registry-persistent-secure.cumulocity-azure-fra-prod.svc.cluster.local:5000/eppendorfag/eai-registration:3.0.2-REL-24232"" already exists. 
3 June 2021 17:34 
Created container eai-registration-scope-eppendorfag-pod 
3 June 2021 17:34 
Started container eai-registration-scope-eppendorfag-pod 
3 June 2021 17:34 
Started container eai-registration-scope-eppendorfag-pod 
3 June 2021 17:34 
Container image ""kube-registry-persistent-secure.cumulocity-azure-fra-prod.svc.cluster.local:5000/eppendorfag/eai-registration:3.0.2-REL-24232"" already exists. 
3 June 2021 17:34 
Created container eai-registration-scope-eppendorfag-pod 
3 June 2021 17:33 
Deployment was changed 
3 June 2021 17:33 
Container eai-registration-scope-eppendorfag-pod failed liveness probe, will be restarted 


---> In addition to this, we also get No tenant statistics issue again as it was reported in CSOIOT-364 last month."
Defect,CSOIOT-441,Prod (v10.6.6.31) Unable to download reports in Prod,Telstra Corporation Limited,"1,216",Closed,"Awasthi, Gyan Prakash","Lundsten, Alf",6/11/21 13:47,Customer,6/20/22 10:02,,,2-High,None,"Hi Support, 

Yesterday we received a report from a customer that they were experiencing in Prod (v10.6.6.31), where they?re unable to download reports using the Cockpit Report export function. 

User experience:
1. Email is generate with the downloadable link
2. User selects hyperlink and is diverted to the main platform authentication page. 
3. User then enters credentials and is logged into the Cockpit application, with no report downloaded. 

We also noticed that our Tenancy email templates are not propagated through to our emails sent to customers in Dev. 
More details in the email I will attach to this ticket.

Since this is impacting customers in Prod, please take a look into this issue with priority. 
Thanks. 
Tiana 


*** Product Name/Code was not available for selection ***"
Defect,CSOIOT-436,DEV environment lwm2m agent health endpoint not responding,Telstra Corporation Limited,"1,220",Closed,"Damasco, Jeanne","Lundsten, Alf",6/2/21 16:58,Customer,6/20/22 10:02,,,2-High,None,"Telstra have raised that the Development lwm2m agent health endpoint https://ianc.iotdev.telstra.com/service/lwm2m-agent/health not responding with OK. Instead it is getting : 

{""error"":""Microservice/Bad gateway"",""message"":""Microservice not available Connection refused : Connection refused: /8068"",""info"":""https://www.cumulocity.com/guides/reference-guide/#error_reporting""} 
!!! https://ianc.iotdev.telstra.com/service/lwm2m-agent/health failed 

Also lwm2m clients don't appear to be able to bootstrap to coap://13.211.2.225:5680 which is Dev internet address for LWM2M. 

Can you please take look at this? 
Was there any notable issue from the lwm2m microservice?"
Defect,CSOIOT-435,[Turkcell] Details on Cumulocity platform,Turkcell Iletisim Hizmetleri A.S.,"1,220",Closed,"Welsing, Michael",Unassigned,5/31/21 13:18,Customer,6/20/22 10:02,,,2-High,None,"Hi Team, 

Turkcell needs some information on below queries, so please we need input on this 

# How many TPS is supported by Turkcell IoT Platform? (Turkcell is having 3 cores in the platform) 
# If they have 3000 TPS capacity, can we say that 180K (3000*60) device can send data in every min? 
# If we subscribe Apama 1c-4g microservice for each tenant, how many concurrent user can use Apama with Turkcell?s remaining memory? 

Can you help with those questions?"
Defect,CSOIOT-434,Adamos.com: output of iptables needed,ADAMOS GmbH,"1,220",Closed,"Herzog, Christian","Vukman, Tomislav",6/2/21 12:55,Customer,6/20/22 10:02,,,4-Low,None,"Hello Ops colleagues, 

we have an special situation on our Adamos prod server: 
From time to time crashes Apama MS, which can be fixed by customer with a MS restart. 
So in the past the customer did it directly when the issue happened, because it is a production environment. 
The customer refused to wait with the restart until we investigate the issue. 

There are some indications that the root of the issue is related to iptables entries inserted by kube-proxy. 
R&D can proceed investigating only when they get the output in error case of: 

# iptables-save 

and/or 

# iptables -t nat -L 

So my idea is to convince the customer to these steps, if the issue occurs again: 
- customer calls me 
- I call the Ops engineer who takes over this itrac 
- the Ops engineer creates the ""output error case"" and informs me 
- I restart MS 
- the Ops engineer creates the ""output after restart"" and informs me 

This would cause only a minimum outage for the customer. 
Is this ok for you? 
If yes, whom could I contact by phone in error case? 

Thanks, Christian Herzog 

"
Defect,CSOIOT-423,MQTT Connection not possible,ProCom GmbH,"1,224",Closed,"Kumar, Ashish",Unassigned,6/4/21 8:35,Customer,6/20/22 10:02,31-May-21,,2-High,None,"Hi Ops Team, 

Could you please check, is there an upgrade going on for this customer(I guess not) or any issue with MQTT on the following tenants? 
The customer has tried to connect to the following tenants over MQTT using MQTT.fx and it is not working. 
* procomdev.clouver.de 
* demo.clouver.de 
* update.clouver.de 
* bullmerdemo.clouver.de 
* thevitagroup.clouver.de 
* stadtwerke-bb.clouver.de 

However, already connected MQTT devices are sending the data over MQTT just fine. 

I tried to check the MQTT logs on Graylog for this customer without success. 

Regards, 
Ashish Kumar"
Defect,CSOIOT-422,[BD] Sub tenant creation fails,MIOT PTY LTD,"1,227",Closed,"Damasco, Jeanne","Lundsten, Alf",6/14/21 13:10,Customer,6/20/22 10:02,,,2-High,None,"The customer is trying to create a sub tenant on enterprise tenant and it fails. 

{ 
""error"": ""tenants/Internal Server Error"", 
""message"": ""tenant creation failed : Exception occurred during 't6728229' tenant initialization! Optional.get() cannot be called on an absent value"", 
""info"": ""https://www.cumulocity.com/guides/reference-guide/#error_reporting"" 
} 

Tenant ID: t3045231 
Environment: APJ 
Version: 10.7.0.24 

GS have tried recreate the issue by creating a subtenant in APJ however the test yielded successful. 
There was also a conversation in the Google chat as Alf has raised a similar issue but there was no further details mentioned in the chat. 

Is this issue already known? Any solution that can be shared with customer?"
Defect,CSOIOT-421,Offloading job issue - please implement workaround,Software AG Belgium S.A.,"1,226",Closed,"Herzog, Christian","Luczyszyn, Mikolaj (External)",6/10/21 13:41,Customer,6/20/22 10:02,,,2-High,None,"Please carry out the workaround to fix an issue described below. 
Tenant: https://mohawk-iiot.emea.cumulocity.com/ 

Please run a simple ?SELECT * from c8y_source.${tenantId}.pmdata? until it successfully completes. Several attempts might be needed (it might return ?Please reattempt the query? if the schema learning process is complex). 
The query can only be run using an administrator user because the MongoDB source (c8y_source) is not visible to regular users. 

This workaround came from Dr. Tim Doernemann. 
***************************************************** 
Original issue: 
When checking an affloading job, there is an error, see below and please advise. Tenant is: https://mohawk-iiot.emea.cumulocity.com/ 

cronExpression: ""0 H * ? * * *"" 
dbEntityVersion: ""v2020_07_08_12_00"" 
description: ""Offloading configuration for entries from cumulocity collection measurements with type c8y_Temperature into data lake measurements."" 
dremioTargetSourceName: ""measurements_c8y_Temperature"" 
measurementType: ""c8y_Temperature"" 
mongoDBCollectionName: ""pmdata"" 
selectStatement: "" -- NOTE: -- THIS PRE-PROCESSING QUERY IS TIGHTLY COUPLED WITH AN INTERNAL POST-PROCESSING STEP. -- -- !!! DO NOT EDIT !!! -- CREATE TABLE ${target} AS ( SELECT _id as id, ${creation_time_columns} ${y_m_d_partition_columns} src.""time"".""date"" AS ""time"", CAST(src.""time"".""offset"" AS INT) AS timeOffset, TIMESTAMPADD(MINUTE, CAST(src.""time"".""offset"" AS INT), src.""time"".""date"") AS ""timeWithOffset"", source, type, sortarr(""_seriesValueFragments"", 'path', '${sorted_paths}') AS _seriesValueFragments ${additional_column_names} FROM ${source} src )"" 
status: 
errors: 
taskName: ""measurements_c8y_Temperature"" 
uuid: ""4db607bb-a8f7-4602-b149-c8ce7d013d74"" 

After quickly checking the backend logs I found the following message: 
2021-05-21 06:44:20.291 [ CDHScheduler_Worker-17] ERROR SchedulerImpl - CDHCBEE0439 - Quartz job execution with job id ctas_group.4db607bb-a8f7-4602-b149-c8ce7d013d74 and fire instance id CDHScheduler_566163b6-503c-4c17-a485-c99d6ec65cea1620747476894 threw an exception. org.quartz.JobExecutionException: java.sql.SQLException: VALIDATION ERROR: Column 'creationTime' not found in table 'src' 

This is a well-known problem on systems where the ?track.changes? feature has been enabled (long) after the actual system setup ? in case of emea it was enabled during the 10.6.6 -> 10.7 upgrade as far as I know. 
"
Defect,CSOIOT-415,"CLONE - [BD] After upload of custom web app, new app is not available for about 5 minutes.",SAG Consulting Services GmbH,"1,227",Closed,"Kotorowicz, Jakub","Vukman, Tomislav",5/27/21 9:07,Customer,6/20/22 10:02,,,2-High,2-High,"Eu-latest 10.9

When rollback to the origin cockpit app version in the archive and then set the new app version as active, get 404 error again when trying to route to the cockpit (refresh an clear the browser cache). After 5 minutes, refresh the page again finally the cockpit is back to life with the extended widgets.



1. Upload archive


2. Route to cockpit receiving error


3. After 5 minutes cockpit back to life with extentions as expected

.


See attached screen prints.


Related to https://cumulocity.atlassian.net/browse/MTM-38960"
Defect,CSOIOT-412,CLONE - Prod (v10.4.6.21) - Cumulocity HZ Meter Half-Hour totals storage bug,Telstra Corporation Limited,"1,231",Closed,"Damasco, Jeanne","Vukman, Tomislav",5/25/21 10:13,Customer,6/20/22 10:02,,,3-Medium,None,"Hi Ops, 

Telstra had a query from a customer Sydney Water in relation to an observation on additional payload values being inserted into historic records. See extract from customer below. 

Please note that this is in their Prod environment, which they are due to upgrade soon. Is this a known bug or something that needs to be worked through? 

""We have identified a bug in Cumulocity in which when it is reading the payloads of recorded half-hour flow totals on a daily update, it is inserting extra values into historic records. These are then carried through to our back-end when we query Cumulocity via API. Interestingly it only seems to affect the half-hour reads and not the all-time total daily update."" 

R&D mentioned that they need to get all logs of the agent and the decoder microservice. 
Can you please get the following dates: 
03/04/2021 
04/04/2021 
08/04/2021 
09/04/2021 


"
Defect,CSOIOT-369,"Hillrom: add the key ""limits.single_field_size_bytes"" and set it to 500000","HILL-ROM Holdings, Inc.","1,240",Closed,"Talbert, Kent","Fuso, Luca",5/17/21 16:31,Customer,6/20/22 10:01,,,3-Medium,3-Medium,"Hillrom is seeing the following error when trying to offload inventory:

org.quartz.JobExecutionException: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Attempting to read a too large value for field with name hr_APLookupTable. Size was 420001 but limit was 32000.

fieldName hr_APLookupTable
size 420001
limit 32000

[Error Id: 33a5b81c-17f7-49b7-8ad3-5b9a2a4041aa on dremio-master-0.dremio-cluster-pod.hillrom-multinode-dev-cdh.svc.cluster.local:31010]

[See nested exception: java.sql.SQLException: UNSUPPORTED_OPERATION ERROR: Attempting to read a too large value for field with name hr_APLookupTable. Size was 420001 but limit was 32000.

fieldName hr_APLookupTable
size 420001
limit 32000

[Error Id: 33a5b81c-17f7-49b7-8ad3-5b9a2a4041aa on dremio-master-0.dremio-cluster-pod.hillrom-multinode-dev-cdh.svc.cluster.local:31010]

]

I checked with the Datahub team and they sent me the following:

Known limitation of Dremio, as documented here: https://cumulocity.com/guides/releasenotes/release-10-6-6/datahub-10-6-6/
?If the collection to be offloaded has JSON attributes consisting of more than 32,000 characters, its data cannot be offloaded.""


Workaround: One can change that maximum value (to a certain extend).

Log in to Dremio as admin, go to the ?Admin? menu, then ?Support? and add the key ?limits.single_field_size_bytes"" and set it to 500000

(Screenshot of the UI below, taken from eu-latest where we?ve set the value to 64000). We haven?t had a need so far to increase the value that much, so I m not 100% certain about effects on the stability of Dremio.

Can you make this change as we don't seem to have the admin password for Dremio to do this?

This will also need to be done on both prod and dev instances.

Thanks,
Kent"
Defect,CSOIOT-368,"Hillrom: Datahub feature ""track.changes"" needs to be enabled in Karaf.","HILL-ROM Holdings, Inc.","1,240",Closed,"Talbert, Kent","Fuso, Luca",5/17/21 16:30,Customer,6/20/22 10:01,,,3-Medium,3-Medium,"error message ?org.apache.calcite.runtime.CalciteContextException) From line 14, column 18 to line 14, column 29: Column 'creationTime' not found in table 'src'? being seen when offloading events and measurements. 

I checked on this with the Datahub team and they said the following needs to be done:

the feature ?track.changes"" hasn?t been enabled in Core/Karaf (see page 17 of https://empower.softwareag.com/sl24sec/SecuredServices/document/java/cumulocity_iot_platform/iot10-6-6/10-6-6_DataHub_Installation&Operations_guide.pdf)

Ops needs to activate it and then at least one record per collection needs to be added (one alarm, one event, one measurement).

Please verify that this is done on both dev and prod instances.

Let me know if you have any questions.

Thanks,
Kent
"
Defect,CSOIOT-367,Hillrom: CDH_DREMIO_PUBLIC_HOST seems to be set wrong on Hillrom production instance.,"HILL-ROM Holdings, Inc.","1,240",Closed,"Talbert, Kent","Fuso, Luca",5/17/21 16:30,Customer,6/20/22 10:01,,,3-Medium,None,"CDH_DREMIO_PUBLIC_HOST seems to be set wrong on Hillrom production instance. 

When trying to launch the Dremio UI, received http://dremio-client.hillrom-multinode-dev-cdh.svc.cluster.local:9047/ page which says: ""This site can?t be reached"".

The link ""https://deviot.hillrom.com:9447""works. However, it needs to point to this link. for their production instance: ""https://iot.hillrom.com:9447"""
Defect,CSOIOT-364,[Eppendorf] Apama and micro-services down since 2021-05-11 09:00 UTC+02,Eppendorf AG,"1,240",Closed,"Bhatt, Vikas","Vukman, Tomislav",5/12/21 16:10,Customer,6/20/22 10:01,13-May-21,,2-High,2-High,"Tenant: [https://management.visionizedigitallabspace.eppendorf.com|https://management.visionizedigitallabspace.eppendorf.com/]  

[https://software-test.visionizedigitallabspace.eppendorf.com|https://software-test.visionizedigitallabspace.eppendorf.com/]  

In the course of today's update of Cumulocity from 10.6 to 10.7, our application is no longer operational: 
* Apama is down. 
* Other central micro-services like our eai-api are not available. 
* No tenant statistics. 

In contrast to the announced little impact, this unavailability since +3 hours is not what we expected when we where informed about the update to 10.7 in the announcement from April 27th."
Defect,CSOIOT-361,Need logs from adamos.com,ADAMOS GmbH,"1,241",Closed,"Herzog, Christian","Vukman, Tomislav",5/12/21 16:13,Customer,6/20/22 10:00,,,2-High,None,"In https://itrac.eur.ad.sag/browse/IOT-10936 we have the issue that Apama crashed yesterday again in 2 tenants: 
novogear.adamos.com -> t36556370 
gronbach106165.adamos.com -> t54271405 
The customer restarted apama-ctrl-1c-4g 2021-05-10 11:21:23.548, so the microservice logs before are lost. 
I fetched via graylog all log entries with keyword ""apama"" from yesterday 10/05/2021 00:00:00 - 12:00:00 

I read in https://itrac.eur.ad.sag/browse/IOT-10936 we had also a look on Kubernetes. 
So can you please fetch K8s logs? 
Are there other additional helpful logs you could fetch? 

Parallel I try to find someone from Team 1 who can take IOT-10936, ask Jakub is in holidays."
Defect,CSOIOT-356,Reconfigure LWM2M to run the agent in the DEBUG log level for IOT-10952,Heinzmann GmbH & Co. KG,"1,241",Closed,"Bhatt, Vikas","Lundsten, Alf",5/17/21 16:29,Customer,6/20/22 10:00,12-May-21,,2-High,2-High,"Customer tenant: https://dynweb.data-worldwide.com/

Tenant ID: t666205152
Admin Email: bleicker@cpk-automotive.com
Admin Username: bleicker

Issue described by customer: -

---------------
I have registered the device (.csv file) and added protocol according to the manual: LWM2M - Cumulocity IoT Guides.

My device is trying to register to coap://lwm2m.cumulocity.com:5783; but gets response from Server: Internal server error 5.00.

The same situation is with:

coap://lwm2m-server.cumulocity.com:5783,

coap://3.64.138.218:5783.

The attempt to reach bootstrap server lwm2m-server.cumulocity.com:5683, was successful, but after redirection to lwm2m.cumulocity.com:5783, the connection cannot be established due to server error as described above.

Still I can successfully communicate to other servers, like: try-anjay.avsystem.com, so I wonder if there is any problem on device side.

Please let me know any possible solutions as soon as possible.
---------------"
Defect,CSOIOT-352,All microservices down. Kubenetes DNS not resolving in the production environment.,SDAIA/NIC - National Information Center,"1,242",Closed,"Fartode, Sumit",Unassigned,5/11/21 10:10,Customer,6/20/22 10:00,11-May-21,,1-Critical,1-Critical,"After a failure to deploy a microservice on the production environment, following error was seen in the kubernetes:

[ERROR] RECOVERED FROM PANIC IN SERVER : ""dns://:53""

Issues reported by:
Youssef, Sideeq
Contact number: 00966555045561
"
Defect,CSOIOT-351,DataHub Outage Adamos-PROD - Monitoring Investigation,ADAMOS GmbH,"1,244",Closed,iTrac Sync User,Unassigned,5/9/21 15:33,Customer,6/20/22 10:00,,,4-Low,None,"Simon Koburg received the information that DataHub was down on Adamos-PROD for the last 32 days (most likely after the upgrade to 10.7.0.24) and that we are potentially facing a data loss regarding ADAMOS partner Mayer&Cie. This was quite surprising as I thought that we had implemented a Dremio monitoring based on the Python script developed and provided by Tim Dörnemann from R&D on all ADAMOS environments as follow-up of the last CDH outages in Q3/Q4 last year. From my understanding, the script by Tim had been adapted accordingly by Ops and an integration into OpsGenie had also been done so that alerts are also received in case there are any problems. 

Please check if: 
1. the above mentioned monitoring is properly implemented and running on Adamos-DEV and Adamos-PROD? 
2. If that is the case, trigger a follow-up investigation why the monitoring failed? 

Update from Eric Sander: 
Using the service user we were able to check: No data was lost for Mayer&Cie -> good 
[~y508786] : Can you please 
- investigate why these post upgrade check lists were no followed 
- Thomas saw the alarm in Opsgenie poping up during the 10.7 upgrade and was probably deleted as part of the standard ""delete all alarms after update"" step. However, the alarm did not come back. Can you please check why this did not happen?"
Defect,CSOIOT-349,CLONE - Connection problem: LwM2M Server returns Internal Error 5.00,Heinzmann GmbH & Co. KG,"1,245",Closed,"Bhatt, Vikas","Lundsten, Alf",5/7/21 11:52,Customer,6/20/22 10:00,8-May-21,,2-High,2-High,"Customer tenant: https://dynweb.data-worldwide.com/

Tenant ID: t666205152
Admin Email: bleicker@cpk-automotive.com
Admin Username: bleicker

Issue described by customer: -

---------------
I have registered the device (.csv file) and added protocol according to the manual: LWM2M - Cumulocity IoT Guides.

My device is trying to register to coap://lwm2m.cumulocity.com:5783; but gets response from Server: Internal server error 5.00.

The same situation is with:

coap://lwm2m-server.cumulocity.com:5783,

coap://3.64.138.218:5783.

The attempt to reach bootstrap server lwm2m-server.cumulocity.com:5683, was successful, but after redirection to lwm2m.cumulocity.com:5783, the connection cannot be established due to server error as described above.

Still I can successfully communicate to other servers, like: try-anjay.avsystem.com, so I wonder if there is any problem on device side.

Please let me know any possible solutions as soon as possible.
---------------"
Defect,CSOIOT-348,[Gardner Denver] Unable to create new or update existing CEP (Esper) rules,CompAir Drucklufttechnik Branch offiice : Gardner Denver DE GmbH Attn. Frank Wacker Invoices.GE@gardnerdenver.com,"1,245",Closed,"Talbert, Kent","Vukman, Tomislav",5/11/21 15:37,Customer,6/20/22 10:00,,,2-High,2-High,"Need to delete Tenant option access.control/allow.origin as a workaround for this issue on Gardner Denver instance.

See https://itrac.eur.ad.sag/browse/IOT-10637 for more details on this issue. Gardner Denver is running into this issue with their commissioning page when it creates new rules..

This needs to be done at Management tenant level according to R&D."
Defect,CSOIOT-347,CLONE - Unable to create new or update existing CEP (Esper) rules.,,"1,245",Closed,"Talbert, Kent","Janus, Bartosz",5/7/21 10:51,Customer,6/20/22 10:00,,,2-High,None,"Need to delete Tenant option access.control/allow.origin as a workaround for this issue.

See https://itrac.eur.ad.sag/browse/IOT-10637 for more details.

This needs to be done at Management tenant level according to R&D."
User Story,CSOIOT-343,"https://status.adamos-iiot.com/ - ""Microservice Provision"" bar shows wrong status",ADAMOS GmbH,"1,263",Closed,"Herzog, Christian","Schueller, Thomas",2/23/22 9:35,Customer,6/20/22 10:03,29-Oct-21,"Monitoring, csoiot-incidents-activities",3-Medium,None,"https://status.adamos-iiot.com/ - ""Microservice Provision"" showed in the last days outages, but in fact the service was running fine (checked by Ops). 

Details: 

Due to shown outages we opened https://itrac.eur.ad.sag/browse/CSOIOT-239  

Thomas Schueller investigated and found out: 
The service is carried out 1 time per hour. 

It starts cron and checks if a special microservice is running with 3 trials. 
If all 3 trials fail, then [https://status.adamos-iiot.com/] displays in bar ""Microservice Provision"" a red beam with a text, that microservices were not available for 1 hour, which is false. 

In fact were all microservices available, Thomas checked it manually. 
The health endpoint was available. 
R&D should investigate the reason and improve the test. 
Thomas will provide the logs."
Defect,CSOIOT-342,CLONE - Wrong certificate served on MQTT port 8883 for custom domain,Eaton Industries GmbH,"1,246",Closed,"Garling, Matthew",Unassigned,5/20/21 13:48,Customer,6/20/22 10:00,,,3-Medium,3-Medium,"Customer recently switched to a custom domain for their enterprise tenant (tenant ID: eatonnubisnet, in emea.cumulocity.com) to domain dashboard.nubisnet.net. The REST calls on the custom domain work as expected.

Now, they have tried to use MQTT instead of REST to ingest measurements into their ""demo"" sub-tenant with FQDN demo.dashboard.nubisnet.net. (this always worked prior to switching to the custom domain.) When using the custom domain name demo.dashboard.nubisnet.net as broker endpoint, they run into problems because the MQTT stack complains that the hostname demo.dashboard.nubisnet.net is not valid with received certificate. 

Checking the certificate received from the MQTT port 8883 with
> openssl s_client -connect demo.dashboard.nubisnet.net:8883
returns the certificate chain:
> 0 s:OU = Domain Control Validated, CN = *.emea.cumulocity.com
> i:C = US, ST = Arizona, L = Scottsdale, O = ""GoDaddy.com, 
> Inc."", OU = http://certs.godaddy.com/repository/, CN = Go Daddy Secure Certificate Authority - G2
> 1 s:C = US, ST = Arizona, L = Scottsdale, O = ""GoDaddy.com, 
> Inc."", OU = http://certs.godaddy.com/repository/, CN = Go Daddy Secure Certificate Authority - G2
> i:C = US, ST = Arizona, L = Scottsdale, O = ""GoDaddy.com, Inc."", CN = Go Daddy Root Certificate Authority - G2
> 2 s:C = US, ST = Arizona, L = Scottsdale, O = ""GoDaddy.com, Inc."", CN = Go Daddy Root Certificate Authority - G2
> i:C = US, O = ""The Go Daddy Group, Inc."", OU = Go Daddy Class 2 Certification Authority
> 3 s:C = US, O = ""The Go Daddy Group, Inc."", OU = Go Daddy Class 2 Certification Authority
> i:C = US, O = ""The Go Daddy Group, Inc."", OU = Go Daddy Class 2 Certification Authority
hence the MQTT stack is right in ""complaining"" about invalid certificate for the host demo.dashboard.nubisnet.net. 

Please note that the HTTPS port returns the correct chain, i.e. with
> openssl s_client -connect demo.dashboard.nubisnet.net:443
we get the correct chain:
> 0 s:CN = *.dashboard.nubisnet.net
> i:C = US, O = Let's Encrypt, CN = R3
> 1 s:C = US, O = Let's Encrypt, CN = R3
> i:O = Digital Signature Trust Co., CN = DST Root CA X3


Also note that the MQTT stack does not offer them a way to turn off certificate validation. (It's an embedded device from a 3rd party vendor, which they don't ""fully"" control.)

They are aware that they can use the FQDN t17436434.emea.cumulocity.com to reach the ""demo"" tenant. Though this ""technical"" workaround is possible, they also have a business requirement stating that the name Cumulocity shall not appear to their customers. Hence this workaround may not be a usable solution for them. (They have an internal discussion pending regarding this issue.)

It looks like this may be a limitation with MQTT implemenation. Or is there something else they need to do in order to get the MQTT port to serve the correct certificate? 

"
Defect,CSOIOT-319,Platform errors in microservice logs | Major,DMG MORI Digital GmbH 7515505,"1,249",Closed,iTrac Sync User,"Vukman, Tomislav",5/20/21 13:47,Customer,6/20/22 10:00,,,4-Low,None,"Hello, we have a microservice issue at Adamos: 
******************************************************* 

we observe some platform errors in our microservices on iotconnctoruat.adamos-dev.com (i.e. ms create-software-ng): 

2021-05-03 06:49:46.840 ERROR 13 — [subscriptions-0] c.m.s.s.MicroserviceSubscriptionsService : Error while reacting on microservice subscription 

com.cumulocity.sdk.client.SDKException: Error invoking GET [http://cumulocity:8111/application/currentApplication] 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.handleException(CurrentMicroserviceRepository.java:114) 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getCurrentApplication(CurrentMicroserviceRepository.java:69) 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.register(CurrentMicroserviceRepository.java:46) 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.register(CurrentMicroserviceRepository.java:61) 
at com.cumulocity.microservice.subscription.repository.MicroserviceSubscriptionsRepository.register(MicroserviceSubscriptionsRepository.java:100) 
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionsServiceImpl.subscribe(MicroserviceSubscriptionsServiceImpl.java:110) 
at com.cumulocity.microservice.subscription.service.impl.MicroserviceSubscriptionScheduler$1.run(MicroserviceSubscriptionScheduler.java:66) 
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) 
at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) 
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) 
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) 
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) 
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) 
at java.lang.Thread.run(Thread.java:748) 
Caused by: com.sun.jersey.api.client.ClientHandlerException: java.net.UnknownHostException: cumulocity 
at com.sun.jersey.client.apache.DefaultApacheHttpMethodExecutor.executeMethod(DefaultApacheHttpMethodExecutor.java:213) 
at com.sun.jersey.client.apache.ApacheHttpClientHandler.handle(ApacheHttpClientHandler.java:175) 
at com.cumulocity.sdk.client.CumulocityAuthenticationFilter.handle(CumulocityAuthenticationFilter.java:47) 
at com.sun.jersey.api.client.Client.handle(Client.java:648) 
at com.sun.jersey.api.client.WebResource.handle(WebResource.java:670) 
at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74) 
at com.sun.jersey.api.client.WebResource$Builder.get(WebResource.java:503) 
at com.cumulocity.sdk.client.RestConnector.getClientResponse(RestConnector.java:149) 
at com.cumulocity.sdk.client.RestConnector.get(RestConnector.java:123) 
at com.cumulocity.microservice.subscription.repository.application.CurrentApplicationApi.get(CurrentApplicationApi.java:22) 
at com.cumulocity.microservice.subscription.repository.impl.CurrentMicroserviceRepository.getCurrentApplication(CurrentMicroserviceRepository.java:67) 
... 12 common frames omitted 
Caused by: java.net.UnknownHostException: cumulocity 
at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184) 
at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) 
at java.net.Socket.connect(Socket.java:607) 
at java.net.Socket.connect(Socket.java:556) 
at java.net.Socket.<init>(Socket.java:452) 
at java.net.Socket.<init>(Socket.java:304) 
at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80) 
at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122) 
at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707) 
at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361) 
at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387) 
at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171) 
at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397) 
at com.sun.jersey.client.apache.DefaultApacheHttpMethodExecutor.executeMethod(DefaultApacheHttpMethodExecutor.java:210) 
... 22 common frames omitted 

There seems to be some internal DNS issue?! 

Would you please check? 

******************************************************* 

Comment support: 
[iotconnectoruat.adamos-dev.com|http://iotconnectoruat.adamos-dev.com/] 
ID iotconnectoruat 
affected microservice Create-software-ng has ID 25678 
log file (attached) shows errors 

also other microservices in this tenant are affected: 
- name ""Connector-replacement"" ID 5988 
- name ""Get-date-time"" ID 21451 

 "
Defect,CSOIOT-318,Extended from 5441847 : Measurement data from tenant,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,249",Closed,"Reddy, Yerpula Bharath Bhushan",Unassigned,5/3/21 14:07,Customer,6/20/22 10:00,,,3-Medium,None,"Customer has below question/requirement. 

[Why we raised this support incident] 
The client of the subtenant ""takenaka_kizai"" has realized that they think, they paid our service fee (volume-limited) gradually increasing. They want to cut it off. Then, our dev team has been trying to find a solution for them. 
The main cause of increasing service fee is they have a lot of stored data. Our dev team has found that all stored data is mandatory for their system. Then, our dev team raised the first inquiry about ""a storage break down info for ""takenaka_kizai"" subtenant"". They want to know the proportion of C8Y data types. 

Now, our dev team has classified stored data for ""takenaka_kizai"" subtenant. I uploaded an Excel file via Empower Portal site. They sorted out based on fragment types. They counted on the total number of records in each fragments, and found out records which can be deleted. The size of storage is approximation. (Please see the Excel file.) 

Then, what our dev team want to know is; 
(1) If we delete data based on the Excel file, will it be freed about 60GB space as our approximation? or more than our calcutation? or less than our calculation? 

Please suggest."
Defect,CSOIOT-317,Requesting Tenant for Boston Scientific,Boston Scientific Corporation,"1,252",Closed,"Eha, Allan","Arjunan, Santosh Kumar",5/3/21 13:07,Customer,6/20/22 10:00,,,3-Medium,3-Medium,"From customer:
--------------------------
We need a development Tenant for our client Boston Scientific in USA.

We need it for internal development purposes right now. I would say, please provide us something with ""dev.bsci.com"".
----------------------------

My assumption is they need something on:
iotnonprod.bsci.com

Please name the tenant ""dev""

I assume they will need an admin user added too. Something like:
Username: devadmin
Pasword: MyAdminPassword0(8&6%

Please let me know of anything else you need."
Defect,CSOIOT-315,"CLONE - [BD][DT IoT] WebSocket-Connection errors | ""channel"":""/meta/connect"",""error"":""402::Unknownclient""",Deutsche Telekom IOT GmbH,"1,252",Closed,"Bhatt, Vikas","Nunev, Teodor",5/3/21 16:44,Customer,6/20/22 10:00,4-May-21,,3-Medium,3-Medium,"Customer is having issues when using websocket-connection to retrieve data from CoT. 
Sometimes the clientID is not valid. Mostly around the 5th connection the clientID is accepted. 
A new handshake is not needed for this. 

The user is using a simulated device with id: 14914 
ClientID: 203uf7ue10m8g4kqn2q9qefi35x5 
Tenant URL: https://iotdemo02.ram.m2m.telekom.com/ 
Username: vikas 
Password: ****** 


Config files and logs are attached when the issue occurred. 
- full_logs.txt 
- error_logs.txt 
- cumulocity-core.properties 
- cumulocity-core-default.properties 

Logs from customer side: 

14.03.2021,22:55:08: 
({""advice"":{""interval"":0,""reconnect"":""handshake""},""channel"":""/meta/connect"",""error"":""402::Unknown 
client"",""successful"":false}) 
14.03.2021,23:00:09: 
({""advice"":{""interval"":0,""reconnect"":""handshake""},""channel"":""/meta/connect"",""error"":""402::Unknown 
client"",""successful"":false}) 
14.03.2021,23:00:10: 
({""advice"":{""interval"":0,""reconnect"":""handshake""},""channel"":""/meta/connect"",""error"":""402::Unknown 
client"",""successful"":false}) 
14.03.2021,23:00:11: 
({""advice"":{""interval"":0,""reconnect"":""handshake""},""channel"":""/meta/connect"",""error"":""402::Unknown 
client"",""successful"":false}) 
14.03.2021,23:00:12: 
({""advice"":{""interval"":0,""reconnect"":""handshake""},""channel"":""/meta/connect"",""error"":""402::Unknown 
client"",""successful"":false})"
Defect,CSOIOT-309,CLONE - [Mayekawa] Apama Application does not work,Mayekawa Do Brasil Equipamentos Industriais Ltda,"1,254",Closed,"Borek, Arkadiusz","Vukman, Tomislav",5/4/21 8:03,Customer,6/20/22 10:00,,,3-Medium,3-Medium,"Hi,  

please collect following information for tenant mayekawa: 
* index definition for table pmdata 
* result of execution following query: > db.pmdata.find(\{""$and"":[{""time.date"":{""$gt"":new ISODate(""2021-04-19T08:00:00Z"")}},\{""time.date"":{""$lt"":new ISODate(""2021-04-20T08:00:00Z"")}}]}).sort(\{""time.date"":-1}) 
** please execute query from mongos level 
** please run query from replica set master level e.g. if system is configured 3xRS(Master, Slave, Slave) -> please run query on first ReplicaSetMaster, second and third. 
* shard information sh.status() for tenant"
Defect,CSOIOT-308,Inquiry for SigFox agent.,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,254",Closed,"Awasthi, Gyan Prakash","Vukman, Tomislav",5/17/21 16:25,Customer,6/20/22 10:00,,,3-Medium,None,"Dear Support team,

I have a question about the SigFox agent at our prod and pre-prod environments. Please pass this to OPS team.


Dear OPS team,

We have a question about the SigFox agent.

<Prod env.: cumonosu.com> sigfox-agent-9.16.4-1.noarch

<Pre-Prod env.: bodenexam.com> sigfox-agent-1005.7.12-1.noarch


Q) Is there any differences between those two rpms?

--> Basic functionalities: same? or 1005.7.12-1 has more
--> Libralies and languages: 1005.7.12-1 uses newer versions?
etc.

Thank you in advance,

Sincerely,

Kazuhiro Suzuki


Additional incident information:
Product Version: 10.6.6
"
Defect,CSOIOT-305,Request for investigating the increasing SIM data during C8Y updates.,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,256",Closed,"Reddy, Yerpula Bharath Bhushan","Vukman, Tomislav",6/4/21 8:33,Customer,6/20/22 10:00,18-May-21,,2-High,None,"Micro Technologies reported the below: 

Dear OPS team, 

They found out that the amount of daily SIM data transmission was dramatically increased during the Day1 C8Y update to Day3 C8Y update. They found this from the management console provided by the SIM service vendor - SORACOM Inc. 

The target subtenants are cumonosu.com prod environment) 

(1) takenaka_kizai 
(2) aktio_crane 

About the timetable for C8Y updates such as DAY1, DAY2 and DAY3 

DAY1 -> 2021/1/28 C8Y 9.16.4 to 10.5.7 
DAY2 -> 2021/3/18 C8Y 10.5.7 to 10.6.0 
DAY3 -> 2021/3/25 C8Y 10.6.0 to 10.6.6 

Before DAY1 and after DAY3 are same level of data transmission at SIM cards.---(A) 
After DAY1 and before DAY3 are about 3 to 10 times bigger data transmission everyday compared with (A). We didn't touch any gateways at all during the C8Y updates. 

Could you investigate why does this enlargement data transmission at SIM cards happen during the C8Y updates, please? 

Additional incident information: 
Product Version: 10.6.6 
"
Defect,CSOIOT-304,"ALARM: ""LWM2MAgent_1_CPU_80"" in Asia Pacific (Sydney) -",Telstra Corporation Limited,"1,263",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",4/28/21 15:00,Customer,6/20/22 10:00,,,3-Medium,None,"As reported by Tiana 
Looks like the CPU load on both agents is now up quite significantly, our local tests started failing consistently around 6.50pm AEDT. 
Could you please take a look at this and take a heapdump for analysis before performing a restart? 

See attached"
Defect,CSOIOT-296,CLONE - [Mayekawa] Apama Application does not work,Mayekawa Do Brasil Equipamentos Industriais Ltda,"1,260",Closed,"Iarovyi, Iaroslav",Unassigned,4/22/21 9:57,Customer,6/20/22 10:00,,,3-Medium,3-Medium,"Hi, 

customer has an Apama application made for a Software AG partner in Brazil. 

A few weeks ago, this app stops working, when this app tries to use Cumulocity data there is a timeout. This problem starts at the same time that we have some overload alarms triggered in the Cumulocity, Maybe there is a relation between these two problems. 

These overload alarms are another problem that we have, we have a lot of these alarms, we would like to understand why this is happening to find a way to fix it. 

The reported overload situation was fixes with a karaf restart already, but still the app is not loading. Attached is a screenshot showing the situation."
Defect,CSOIOT-295,CLONE - Block access to unsecure MQTT connection,GREENFLEX,"1,260",Closed,"Fartode, Sumit","Fuso, Luca",5/10/21 13:28,Customer,6/20/22 10:00,4-May-21,,3-Medium,3-Medium,"Hi Team, 

Greenflex (Arnaud Dejean) is requesting following for the MQTT connection. 

Prevent access to our Cumulocity platform (dev and Prod) via unsecure port 1883 

We would like to keep using the MQTT connexion on a secured Port 8883 only. 

The objective is the following: 
- From Greenflex infrastructure through the VPC Peering: MQTT available on port 1883 and 8883 
- From Internet: MQTT available only on port 8883 

Additional incident information: 
Product Version: 10.7. 

Greenflex platform is managed by Software AG. Please assist in completing above changes for the customer. 
"
Defect,CSOIOT-294,Unable to create new or update existing CEP (Esper) rules.,SAG Deutschland GmbH,"1,260",Closed,"Talbert, Kent","Janus, Bartosz",4/23/21 9:28,Customer,6/20/22 10:00,,,2-High,None,"Need to delete Tenant option access.control/allow.origin as a workaround for this issue.

See https://itrac.eur.ad.sag/browse/IOT-10637 for more details.

This needs to be done at Management tenant level according to R&D."
Defect,CSOIOT-281,Block access to unsecure MQTT connection,GREENFLEX,"1,261",Closed,"Fartode, Sumit","Fuso, Luca",4/21/21 15:30,Customer,6/20/22 10:00,22-Apr-21,,3-Medium,3-Medium,"Hi Team, 

Greenflex (Arnaud Dejean) is requesting following for the MQTT connection. 

Prevent access to our Cumulocity platform (dev and Prod) via unsecure port 1883 

We would like to keep using the MQTT connexion on a secured Port 8883 only. 

The objective is the following: 
- From Greenflex infrastructure through the VPC Peering: MQTT available on port 1883 and 8883 
- From Internet: MQTT available only on port 8883 

Additional incident information: 
Product Version: 10.7. 

Greenflex platform is managed by Software AG. Please assist in completing above changes for the customer. 
"
Defect,CSOIOT-273,Upgrade 'Post Luxemburg' platform to 10.7 version,POST Telecom S.A. Comptabilit? Fournisseurs,"1,263",Closed,"Bhatt, Vikas",Unassigned,4/27/21 8:59,Customer,6/20/22 10:00,,,3-Medium,3-Medium,"Customer from 'Post Luxemburg' has requested to upgrade their platform to latest 10.7 version now. 

Platform URLs: https://post-iot.lu | https://dussmann.post-iot.lu 

This was reuqested earlier also by customer to fix usual bugs such as in IOT-9211."
Defect,CSOIOT-253,Admin user is locked.,Software AG USA Inc.,"1,267",Completed,"Talbert, Kent","Pham, Hoang",6/20/22 11:33,Customer,6/20/22 11:33,,,3-Medium,None,"This is for a trial.

admin user on the following US tenant is locked: mybacharach.us.cumulocity.com 

tenant ID is mybacharach 
user is: awatson@mybacharach.com 
"
Defect,CSOIOT-245,Users cannot sign on to service,Siemens AG,"1,268",Closed,"Talbert, Kent","Lundsten, Alf",4/21/21 14:57,Customer,6/20/22 9:59,,,2-High,None,"We are having issues with tenants unable to sign into the service. The Swag R&D team suggested we restart the core nodes to solve the issue. I tried to restart the nodes using the Chef node but I am unable to execute Chef knife commands. I have contacted customer support on the phone and they said they would get back to me as soon as possible. I wanted to create this ticket as further information. The error response I am getting when executing knife commands is shown below:

[root@cumulocity-prod-chef12 cumulocity-chef]# knife node list
ERROR: Service temporarily unavailable
/opt/chef-manage/embedded/lib/ruby/2.3.0/net/http/response.rb:331:in `stream_check': undefined method `closed?' for nil:NilClass (NoMethodError)
Did you mean? clone
from /opt/chef-manage/embedded/lib/ruby/2.3.0/net/http/response.rb:200:in `read_body'
from /opt/chef-manage/embedded/lib/ruby/2.3.0/net/http/response.rb:227:in `body'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/knife.rb:537:in `rescue in format_rest_error'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/knife.rb:535:in `format_rest_error'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/knife.rb:506:in `humanize_http_exception'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/knife.rb:456:in `humanize_exception'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/knife.rb:447:in `rescue in run_with_pretty_exceptions'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/knife.rb:437:in `run_with_pretty_exceptions'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/knife.rb:219:in `run'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/lib/chef/application/knife.rb:156:in `run'
from /opt/chef-manage/embedded/lib/ruby/gems/2.3.0/gems/chef-12.22.5/bin/knife:25:in `<top (required)>'
from /opt/chef-manage/embedded/bin/knife:23:in `load'
from /opt/chef-manage/embedded/bin/knife:23:in `<main>'


"
Defect,CSOIOT-242,A storage break down info,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,269",Closed,"Reddy, Yerpula Bharath Bhushan","Fuso, Luca",4/21/21 14:56,Customer,6/20/22 9:59,17-Apr-21,,3-Medium,None,"Customer from MT has the below requirement. 

They want to know the storage break down info of ""takenaka_kizai"" subtenant. 

Their dev team wants to know the proportion of each Measurements, Events, Alarms and File Repository in the ""takenaka_kizai"" subtenant. 
They want to know the usage of storage, in order to know what category is occupying most of the memory. 

Is it possible to get this info? 

Additional incident information: 
Product Version: 10.6.6 
"
Defect,CSOIOT-239,Outage Microservice Management Provision test on Adamos-DEV,Software AG 3101000,"1,269",Closed,iTrac Sync User,"Schueller, Thomas",4/19/21 11:55,Customer,6/20/22 9:59,,,4-Low,2-High,"Dear colleagues,

the Microservice Management Provision test on Adamos-DEV currently shows a major outage on ADAMOS StatusPage:

ADAMOS IIoT Platform Status (adamos-iiot.com) (https://status.adamos-iiot.com/)

Can you please check? As the same test has shown outages for the last two days as well, I guess that the root cause might be the same but please have a look and confirm.



Thanks & best regards,

Simon








Software AG – Sitz/Registered office: Uhlandstraße 12, 64297 Darmstadt, Germany – Registergericht/Commercial register: Darmstadt HRB 1562 - Vorstand/Management Board: Sanjay Brahmawar (Vorsitzender/Chairman), Dr. Elke Frank, Dr. Matthias Heiden, Dr. Stefan Sigg - Aufsichtsratsvorsitzender/Chairman of the Supervisory Board: Karl-Heinz Streibich - http://www.softwareag.com (http://www.softwareag.com)"
Defect,CSOIOT-237,Microservice not running anymore,ADAMOS GmbH,"1,270",Closed,iTrac Sync User,"Vukman, Tomislav",4/12/21 11:45,Customer,6/20/22 9:59,,,2-High,None,"our microservice pending-assignment in the tenant dmgmoridevices.adamos.com is not running anymore since April 9th. We did not touch/change anything related to this microservice. 

Would you please check? 

{color:#1f497d}The cumulocity.json file defines a memory limit of 2G for this microservice. Therefore I doubt that we have a memory issue. The service itself also idles more or less most of the time.{color} 

{color:#1f497d}Is this maybe related tot he last platform updates? 

Comment support: 
I can confirm that the MS is shown as {color}Unhealthy 

{color:#1f497d} 
Tenant ID: dmgmoridevices[ 
|https://dmgmoridevices.adamos.com/apps/administration/index.html#/]Microservice Pending-assignment 
[https://dmgmoridevices.adamos.com/apps/administration/index.html#/applications/2023/status]  
shows: 

ALARMS 
*311* Back-off restarting failed container 
12 April 2021 09:51 
*565* Readiness probe failed: Get [http://10.244.24.138:80/health:|http://10.244.24.138/health:] dial tcp 10.244.24.138:80: connect: no route to host 
12 April 2021 09:46 

9 April 2021 09:46 Deployment was changed 
9 April 2021 09:47 Container image ""[kube-registry-persistent-secure.adamos-multinode-prod.svc.cluster.local:5000/dmgmoridevices/pending-assignment:0.2.0|http://kube-registry-persistent-secure.adamos-multinode-prod.svc.cluster.local:5000/dmgmoridevices/pending-assignment:0.2.0]"" already exists. 

Microservice log is attached. 
The error starts with: 
{color}2021-04-12 08:11:03.908 ERROR 12 --- [subscriptions-0] c.m.s.s.MicroserviceSubscriptionsService : Error while reacting on microservice subscription 
com.cumulocity.sdk.client.SDKException: Error invoking GET http://cumulocity:8111/application/currentApplication.... 

{color:#1f497d} 

{color}"
Defect,CSOIOT-235,microservices down,ADAMOS GmbH,"1,272",Closed,iTrac Sync User,"Data, Maciej",4/16/21 11:28,Customer,6/20/22 9:59,,,3-Medium,None,"2 Microservice questions: 

A) Logs are displayed only in UI log tab. 
The graylog output via ""MicroServiceName:"" is removed from 9.20. 
Correct? 

B) A microservice is unhealthy and tries to restart again and again. 
message: ""Container image ""kube-registry-persistent-secure.adamos-multinode-prod.svc.cluster.local:5000/t34285160/am-backend:1.9.57-0"" already exists. Time 9 Apr 2021 08:48:52Server creation time 9 Apr 2021 09:49:14Type c8y_Application__PulledApplication__ metadata \{ ""owner"": ""t34285160"", ""tenant"": ""t34572267"" }"" A known cause is that the microservice has very small memory limit e.g. 100 MB and this is the reason why it gets constantly restarted. Solution: increase memory limit from 100 MB to higher value (200 MB or more) 

Question: how you can check the current memory limit in a microservice within C8y? 
  
  
Boyan Kehayov answered in support team chat: 
kc describe pod POD-HERE 
executed on kube master node 
kubemaster-ng-00 gnrldep# kc describe pod opcua-mgmt-service-scope-management-deployment-66c695cf74-8x6lv 
  
State: Running Started: Wed, 17 Mar 2021 10:25:20 +0100 Last State: Terminated Reason: Error Exit Code: 137 Started: Tue, 16 Mar 2021 15:22:23 +0100 Finished: Wed, 17 Mar 2021 10:25:20 +0100 Ready: True Restart Count: 14 Limits: cpu: 500m memory: 512M Requests: cpu: 250m memory: 256M 
  
Exit Code: 137 is exactly full memory 
  
Christian Herzog 
OK, thanks! One of the affected microservices is am-backend (ID 16672) on [t34572267.adamos.com|http://t34572267.adamos.com/]. Can you please check its values? 

Boyan Kehayov has no access, so can please someone check who has access?"
Defect,CSOIOT-230,Request for stopping rsyslogd at 18.176.44.45 (bodenexam.com),"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,273",Closed,"Reddy, Yerpula Bharath Bhushan","Data, Maciej",4/12/21 11:27,Customer,6/20/22 9:59,,,3-Medium,None,"Micro Technologies (Cumonosu) has the following request: 

Dear OPS team, 

I would like you to stop the rsyslogd deamon at 18.176.44.45 - this is the agent server in bodenexam.com. 

The purpose of this is to check server-side agents at bodenexam.com environment (pre-prod env) are working without any problems under stopped rsyslogd situation. 


Please process this"
Defect,CSOIOT-227,need mqtt logs from adamos.com,Adamos,"1,274",Closed,"Herzog, Christian","Lundsten, Alf",4/16/21 9:42,Customer,6/20/22 9:59,,,2-High,None,"Please provide current queue-screenshots from adamos.com: 
Prometheus, mqtt_queue"
Defect,CSOIOT-223,User needs access to SBD Prod in Graylog.,Software AG USA Inc.,"1,280",Closed,"Talbert, Kent","Louden, Timothy",4/1/21 21:34,Customer,6/20/22 9:59,,,3-Medium,None,"Graylog User: jhooks

User needs access to SBD Prod in Graylog.

Timothy Louden mentioned that SBD Prod is only currently accessible through 'https://logging.monitor.c8y.io:9000/search?q=name%3Astanleybd-multinode-prod&rangetype=relative&relative=300'. When Josh tries to go there he just gets a blank screen.

Josh doesn't have access to all streams so is unable to see SBD Prod.
"
Defect,CSOIOT-220,new commercial tenant on emea.cumulocity.com for customer GO plc Italy,Software AG Italia S.P.A.,"1,280",Closed,"Herzog, Christian","Pham, Hoang",4/9/21 15:21,Customer,6/20/22 9:59,,,3-Medium,None,"Ops waits currently for a SAP contract from the Logistics team for customer GO plc 
They want a tenant on emea.cumulocity.com
Please let me know when the tenant is created for the customer and the tenant name.
Unfortunately I have no tunnel to https://management.emea.cumulocity.com/ to check it.
A sales colleague requested to know this.

Here the complete chat history:

Christian Herzog, Mar 24, 11:12 AM
Our sales colleague Mauro Stramazzotti from Software AG Italia S.P.A. asks in ticket #5440179:

We need to make permanent the following trial tenant for commercial customer GO plc. We need also to remove APAMA models limitations, enable microservices and enable subtenancy. Tenant: https://stg01goiot.eu-latest.cumulocity.com/

I checked the tenant 
ID stg01goiot
Custom properties:
External reference SAG_CLOUD_TRIAL
Channel SAG_CLOUD
Tier TRIAL
Type SAG_CLOUD_Tenant

1. Is it sufficient when I remove these custom properties and add the wanted apps?
Or is there something more needed?
2. Can I do this (as support - then I do it) or is there an additional action from Ops needed (then I create an iTrac)?

Michael Welsing, Mar 24, 11:14 AM
Wasn't there a limitation that support should not make tenants permanent?

Santosh Kumar Arjunan, Mar 24, 11:51 AM
Please email to cloud free trial to make it permanent for the SAG cloud tenants

Alf Lundsten, Mar 24, 12:18 PM
and didn't we recommend not to have commercial tenants on eu-latest?

Christian Herzog, Mar 24, 12:35 PM
@Santosh Kumar Arjunan : OK I sent an email to cloudfreetrial@softwareag.com
@Alf Lundsten : this is a trial prospect who changes to the permanent customer willing to pay, is there another proposal how to switch?

Alf Lundsten, Mar 24, 12:37 PM
Risk - eu-latest gets interim releases (sprint releases) that may or may not be stable

the real production environment is *.cumulocity.com

but

this would mean we'd have to do a mongodb dump & export

and if customers have devices connected to their tenant, they would need to re-integrate them

so not that straight forward...

Christian Herzog, Mar 24, 1:21 PM
On eu-latest.cumulocity.com we have 1471 tenants, form it:
- 5 commercial

- 5 internal_paid

- 17 internal 
- the others trrial

Santosh Kumar Arjunan, Mar 24, 1:24 PM
Hi @Christian Herzog - at least for an year or so, we are not creating PAID customers at eu-latest

Alf already stated the reasons..

eu-latest get the incremental releases and other paid environments gets the GA, maintenance releases..

there would have been some partners at eu-latest due to Datahub

however we have Datahub everywhere now (Except APJ)

on the other hand, customer can continue using the eu-latest as their test bed and a commercial tenant in any of the other 4 environments

Christian Herzog, Mar 24, 1:27 PM
Yes, I understood.
I checked the mentioned tenant, no devices in it, so we could propose the customer to move to cumulocity.com and 
do a mongodb dump & export

if he needs the old settings (I found lot of API requests)

Santosh Kumar Arjunan, Mar 24, 1:28 PM
I'm not sure about the commercials of backup and restore.. however the new tenant creations are possible, once we receive the SAP contract from the Logistics team..

Santosh Kumar Arjunan, Mar 24, 1:28 PM, Edited
great, thanks..

Christian Herzog, Mar 24, 1:30 PM
OK, so should I ask the customer if he is willing to start from scratch on cumulocity.com?

Alf Lundsten, Mar 24, 1:31 PM
that would be our preferred solution

- with the reasoning behind trial vs. production environments

Christian Herzog, Mar 25, 7:40 AM
I asked the sales colleague yesterday:
""...So our proposal is that we create a complete new tenant with the same administrator user on cumulocity.com and assign the wanted apps to it.....""

He answered:
""I can confirm there is no user data in that tenant to be migrated. Even those custom applications are not developed by the customer. So you can proceed. Since the customer has the commercial tenant in our emea.cumulocity.com (Azure cloud) would it be possible to create the test tenant also in Azure?""

This means we can create a new tenant on emea.cumulocity.com and suspend stg01goiot.eu-latest.cumulocity.com.
@Santosh Kumar Arjunan you wrote this can be started when we receive the SAP contract from the Logistics team.
So I assume you or someone from Ops can start with the next steps as far you receive the SAP contract, correct?

Alf Lundsten, Mar 25, 7:42 AM
correct - the logistics team will push a message through to cc-operations

Christian Herzog, Mar 25, 7:43 AM
OK, I will inform the customer.
How can I get a notice that the tenant is created?
Should I create an Ops iTrac for that?

Alf Lundsten, Mar 25, 7:44 AM
no need for iTrack

Christian Herzog, Mar 25, 7:45 AM
ok

Alf Lundsten, Mar 25, 7:45 AM
@Miko?aj ?uczyszyn - if you do this setup, could you include Christian in the emails?

Alf Lundsten, Mar 25, 7:57 AM
I'll reply to the current email too

Christian Herzog, Mar 25, 10:49 AM
The customer wants to keep the test tenant under eu.latest.cumulocity.com where he can test GA release prior the production live. 
And the prod tenant should be created under eu.latest as discussed above.

Aravind confirmed already ""From SwAG Cloud side, the C8Y trial has been extended for an year.""
Can we manage to keep the test tenant parallel as long the customer pays his prod tenant?
Or is this an extra service which must be paid by the customer?

Santosh Kumar Arjunan, Mar 25, 11:09 AM
As long as it is a trial tenant and it?s corresponding features alone, then no issues

If customer wants paid features then it should have a contract

Is this possible in Eu-latest as paid or not- is something we discuss internally and get back

Considering the requirements of the customer

Christian Herzog, 11:53 AM
Did you get the SAP contract from the Logistics team for customer GO plc in the meantime?
If yes, is a tenant created for the customer?
Unfortunately I have no tunnel to https://management.emea.cumulocity.com/ to check it.
(Ticket 5440179)

"
Defect,CSOIOT-208,need Core error.log from https://chh.adamos-dev.com/,Software AG Brasil Informatica e Servicios Ltda.,"1,283",Closed,"Herzog, Christian","Vukman, Tomislav",3/30/21 19:25,Customer,6/20/22 9:59,,,3-Medium,None,"Please provide Core error.log from [https://chh.adamos-dev.com/] 

starting from 30/03/21 

and attach it to https://itrac.eur.ad.sag/browse/IOT-10651 "
Defect,CSOIOT-206,Request for deleting mx and txt record of mail.cumonosu.com..,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,283",Completed,"Reddy, Yerpula Bharath Bhushan","Pham, Hoang",6/20/22 11:33,Customer,6/20/22 11:33,,,3-Medium,None,"This requested by Micro Technologies (Cumonosu) 

*** 

Dear OPS team, 

I would like you to delete the below configurations at mail.cumonosu.com domain. 

(1) MX record; 

mail.cumonosu.com. mail exchanger = 10 mail.cumonosu.com. 

(2) TXT record; 

mail.cumonosu.com. text = ""v=spf1 a mx ptr ip4:52.58.146.111 ~all"" 


Above configurations are no longer used. 
Now we have used ""cumonosu.com."" of MX and TXT records.(Support incident #5438778) 

Additional incident information: 
Product Version: 10.6.6 
**** 

Please change as requested."
Defect,CSOIOT-205,SSL certificates expire,"Isaac Engineering Co., Ltd.","1,283",Closed,"Damasco, Jeanne","Vukman, Tomislav",3/30/21 9:45,Customer,6/20/22 9:59,,,4-Low,None,"The customer is trying to replace the expired SSL certificate. 
They mentioned that they have followed thru the 'Operations Manual' and also the help provided by Ops. 
But they are still getting an error. 

!connectionNotPrivate.png|thumbnail! 

Additional details: 
- They have .pem and .key. The .pem certificate consists of 3 BEGIN and END sections. Wherein as discussed with Alf, the first section is the certificate while the other 2 are the chain. 
- I have shared the following link for them to check the SSL cert they have: 
https://unix.stackexchange.com/questions/16226/how-can-i-verify-ssl-certificates-on-the-command-line 

I have noticed from the screenshot they have given that the ""-----END CERTIFICATE-----"" does not have ""/n"" as trailing. 
On the manual it says ""$ vim file (make sure there is new line at the end of file, if not make it)"" 

!jsonFile.png|thumbnail! 

Could this be the possible reason why the certificate is getting an error? 

"
Defect,CSOIOT-204,Request for restarting rsyslogd at the agents.cumonosu.com,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,284",Closed,"Schon, Gregor","Vukman, Tomislav",3/29/21 10:21,Customer,6/20/22 9:59,,,3-Medium,None,"Dear Support team,

I would like you to pass this request to OPS team, please.

----
Dear OPS team,

We want to request for restarting rsyslogd at the agents.cumonosu.com. It has been consuming certain amount of memory so that we want to restart it.

That is all.

Sincerely,

Kazuhiro Suzuki


Additional incident information:
Product Version: 10.6.6
"
Defect,CSOIOT-196,CLONE - [Schindler] Mass Rollout of C8Y Agent stuck,Software AG Development Center Bulgaria EOOD,"1,288",Closed,"Bhargava, Neha",Unassigned,3/24/21 17:37,Customer,6/20/22 9:59,,,2-High,None,"Hello Team,

Our customer Schindler reported and issue with the mass rollout of C8Y agent.
Below you will find the details.


Description

Please check why the two Mass Bulk operations to deploy the latest C8Y Agent are stuck in their initial progress.

March 22, at 5:26
349 | 6997 successful 1900 failed 3267 pending
348 | 12059 successful 2227 failed 11840 pending

March 22, at 6:26
349 | 7003 successful 1901 failed3 259 pending
348 | 12067 successful 2227 failed 11832 pending

March 23, 8:58

Could you please assist as seems to be platform related issue?

Please note the operations are not created at all."
Defect,CSOIOT-194,Number of Connections issue on Cumulocity,Vision Valley FZ-LLC,"1,288",Closed,"Kumar, Ashish","Lundsten, Alf",3/30/21 14:26,Customer,6/20/22 9:59,25-Mar-21,,2-High,None,"Hi Ops Team,

Vision Valley doing Performace test on Cumulocity with a high number of devices (22k) it is observed that there is a limit on a number of connections on the nginx and after 8000 connections Cumulocity stops receiving additional requests thus creating an outage.

RND found In version 10.6.6 we have a limit on open connections in Nginx set to 9000.
It has been fixed from version 1006.7.0.
We suggested the following workaround to the customer, However, it did not work. Could you please check?

workaround :-

""You can increase the following parameters in your nginx.conf file.
a).
1. worker_connections = e.g 30000
You currently have ""events {
worker_connections 9000;
}""

Note :- Please make sure your open files on the system should be capable enough to handle the high worker connection.
b).worker_rlimit_nofile = worker_connections * 2 ( Add this link after worker_processes 4;)
So that you do not exceed the limit of open files on the system (ulimit -a).
c.)worker_processes = total CPU thread count (You already have 4 which I think no need to change. However, please check it)

This is an Nginx configuration and It must be reloaded after the change.

Customer reply after applied the workaround.

The below workaround is tried and we are unable to see any improvement in
the maximum limit of nginx. Please find below the values form nginx conf
used.

user nginx;
worker_processes 4;
worker_rlimit_nofile 60000;
pid /var/run/nginx.pid;

events {
worker_connections 30000;
}

stream{
log_format basic '$remote_addr [$time_local] '
'$protocol $status $bytes_sent $bytes_received '
'$session_time $upstream_addr $upstream_connect_time';
access_log /var/log/nginx/mqtt-access.log basic;

access_log
syslog:server=unix:/dev/log,facility=local1,tag=nginxMQTT,severity=info
basic;

upstream websocket {
#du-mnode-nprod-prcore01
server 10.73.112.6:1883 max_fails=1 fail_timeout=15s;
#du-mnode-nprod-prcore02
server 10.73.112.7:1883 max_fails=1 fail_timeout=15s;
#du-mnode-nprod-prcore03
server 10.73.112.8:1883 max_fails=1 fail_timeout=15s;
}
server{
listen 1883;

limit of open file is extended to
root soft nofile 2000000
root hard nofile 2000000


Regards,
Ashish Kumar"
Defect,CSOIOT-192,CLONE - [Liebherr] Outage of Microservices on Liebherr environment after 'port 80' upgrade on 23rd March,Liebherr-Werk Nenzing GmbH,"1,288",Closed,"Bhatt, Vikas",Unassigned,3/24/21 10:30,Customer,6/20/22 9:59,,,2-High,1-Critical,"Customer from Liebherr has reported a breakdown of their host Microservices on following instance: 

--------------------- 
https://management.myjobsite.com 

The page lands to hosting page by default below: 
https://management.myjobsite.com/apps/tam/#/home/tenant 

Log on Service Start: 

Hosting environment: production 
Content root path: /app 
Now listening on: http://0.0.0.0:80 

With today's update of port 80, are internal communications also affected? 
We thought these were just connections over the Internet affected. 

How can we fix the problem? 
-------------------- 

-------------------- 
In the meantime, we have started an detailed analysis of the problem. 

We think the problem is with C8Y_BASEURL = http: // cumulocity: 8111. 
Cumulocity injects this into Docker during deployment (environment variable). As far as I know, we have no influence on that. 

This means: 
• Microservices can no longer reach the C8Y Api at http://cumulocity:8111. 
• We have no influence on this url because it is set by Cumulocity itself and not by us. 

Error message from UserService: 
Exception caught. BaseUrl: http: // cumulocity: 8111 
System.AggregateException: One or more errors occurred. (A task was canceled.) 
---> System.Threading.Tasks.TaskCanceledException: A task was canceled. 
-------------------- 

Please treat with the highest priority, as all of the productive tenants are currently affected! 


--> To login to Admin app and see the microservices, we can use following URL 
https://management.myjobsite.com/apps/administration/index.html 

Username: support 
Password: Support@1234! 

--> Tenant microservice is showing 'Active' status. 
https://management.myjobsite.com/apps/administration/index.html#/applications/31319/status"
Defect,CSOIOT-184,Delete subtenant -utonomy ID t225910681,Utonomy Ltd,"1,290",Closed,"Fartode, Sumit","Radzali, Basyar",3/23/21 1:08,Customer,6/20/22 9:59,,,3-Medium,3-Medium,"Please delete following tenant:

ID t225910681
Domain utonomy-hw.utcloud.uk

The Customer won't be using it again.

Additional incident information:
OS: ZS
Product Version: 10.6.
OS Version: Hosted Software
"
Defect,CSOIOT-183,MCIE - Recovery of deleted Tenant optilink,Siemens AG,"1,290",Closed,"Kumar, Ashish","Vukman, Tomislav",3/23/21 15:13,Customer,6/20/22 9:59,,,2-High,2-High,"Hi Operations team,

Siemens AG is requesting a tenant recovery which was deleted accidentally, Please let me know what is the process now for this kind of request from the customer as I remember it would come under a category of paid services.


Siemens AG's request
""Unfortunately the MC IoT Extension customer tenant ?optilink? was ?accidentally? deleted last Thursday. Is it possible for you to recover this tenant again? The customer would like to continue using it and is already in our Sales renewal process.

Platform: AWS (eu1.mindsphere.io)
Tenant-URL: https://optilink.eu1.mindsphere.io"" 

Please let me know if you need more information from my side.

Regards,
Ashish Kumar"
Defect,CSOIOT-175,CLONE - [BD] Platform does not respect MQTT QoS level + Operations reverting back to PENDING,Telstra Corporation Limited,"1,294",Closed,"Reddy, Yerpula Bharath Bhushan","Lundsten, Alf",3/24/21 13:12,Customer,6/20/22 9:58,23-Mar-21,,2-High,None,"Telstra reported below: 

We started looking at the network trace since we noticed sometimes operations will revert back to PENDING by platform after a SUCCESSFUL update. 

What we observed: 
1. MQTT downlink operation was sent with QoS 2 even though the device requested a QoS 1 subscription. 
2. The PUBCOMPLETE of the downlink command to send the operation happened after the PUBACK uplink command to update the operation to successful. Could this be a potential cause of operations reverting back to PENDING? 

More information is in attached email. 
Customer mentioned, it was briefed to Tobias Sommer. And they requested involve him in the investigation process. 

Additional incident information: 
OS: Windows 
Product Version: 10.6 
OS Version: 3.1.1 
"
Defect,CSOIOT-163,Urgent request to review DEFAULT_BLOCK_SIZE param in LWM2M PROD,Telstra Corporation Limited,"1,296",Closed,"Awasthi, Gyan Prakash","Lundsten, Alf",3/31/21 12:27,Customer,6/20/22 9:58,,,2-High,None,"Hi support,

Our customer (SEW) believes that their devices are failing FOTA due to blocks being too large on a certain device class (Multix meter). FOTA works in LWM2M DEV but not PROD. What is the DEFAULT_BLOCK_SIZE param currently set to in PROD? In DEV, it is 256 bytes.

The customer is going to rollout Multix devices by next week and as such has asked for this param to be reviewed (and possibly modified if needed) as soon as possible. Given that this param is a global setting, obviously we would need to discuss this first. But let's cross that bridge if we have to.

Thanks,
Dylan"
Defect,CSOIOT-159,Siemens PROD AWS: Microservice error: Address in use (Bind failed),SAG Consulting Services GmbH,"1,297",Closed,"Bhatt, Vikas","Lundsten, Alf",3/16/21 16:00,Customer,6/20/22 9:58,17-Mar-21,,2-High,1-Critical,"This is a critical issue for Siemens, as one of the custom microservices is not operating well. 
Issue is ""Address in use (Bind failed)"". 

Environment: https://management.mciotextension.eu2.mindsphere.io/ 

Excerpt from the logs below. 

Oc2-map-config: 401 when calling Cumulocity API 
Oc2-onboarding: Address in use (Bind failed) 

--> Please investigate and restart the related microservice ""oc2-data-mapper"" ASAP."
Defect,CSOIOT-137,Rqruest for configuring bodenexam.com DNS setting,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,301",Closed,"Awasthi, Gyan Prakash","Radzali, Basyar",3/19/21 9:31,Customer,6/20/22 9:57,,,3-Medium,None,"
Dear OPS team, 

I would like you to reconfigure the TXT record which was added last December at bodenexam.com's DNS setting, please. 

[Current setting (I guess)] 

bodenxeam.com. TXT ""v=spf1 include:kagoya.net ~all"" 

[Change above to] 

bodenxeam.com. TXT ""v=spf1 include:kagoya.net include:spf.baremetal.jp ~all"" 


That is all. 

kagoya,net <-- the domain for web mail service 
spf.baremetal.jp <-- the domain for relay mail service 

we need both in the spf record. 



Additional incident information: 
Product Version: 10.6.6 
"
Defect,CSOIOT-136,OPC-UA microservice not updated on Cumulocity.com,Software AG France,"1,301",Completed,"Talbert, Kent","Data, Maciej",3/15/21 7:52,Customer,6/20/22 9:57,,,2-High,None,"Opcua-mgmt-service hasn't been updated to 10.7 on cumulocity.com. It is still at version 1006.6.24. 

Please update it to version 10.7.0.24."
Defect,CSOIOT-133,Demo tenant die iTac,ADAMOS GmbH,"1,302",Closed,iTrac Sync User,"Janus, Bartosz",3/11/21 10:50,Customer,6/20/22 9:57,,,4-Low,None,"Dear Support Team, 

Please create a demo tenant (a sub tenant of „trails“ tenant) on adamos dev with following parameters: 

Tenant Owner: 

Gerhard Wolodin 
iTAC Software AG 

Data Engineer 

Aubachstr. 24 

56410 Montabaur 

Germany 
Tel. +49 2602 1065-157 

Mobil +49 175 376 7759 

E-Mail gerhard.wolodin@itacsoftware.com<mailto:gerhard.wolodin@itacsoftware.com> 


Additional Admin User: 
Yvonne.Hegenbarth@softwareag.com 

Standard Apps plus: 

* Apama 1c 4gb 
* Analytics builder 
* Cementis small 
* ML workbench 
* Datahub 

Please ask Tim.Doernemann@softwareag.com to connect this tenant with a Demo Data Lake. 

Thank you and best regards, 
Eric 


________________________________ 
Von: Gerhard Wolodin <Gerhard.Wolodin@itacsoftware.com> 
Gesendet: Donnerstag, Februar 4, 2021 4:24 PM 
An: Hegenbarth, Yvonne; Sander, Eric 
Betreff: AW: Python Block PoC 

Hallo zusammen, 

gibt es schon ein Update bzgl. der Instanz, die wir für die Demo nutzen können? Nach einem internen Gespräch heute, kann es gut sein, dass die Demo für den Kunden bereits nächste Woche ansteht. Damit wir nicht überrumpelt werden, können wir die Demo vielleicht direkt Anfang nächster Woche vorbereiten? 


Mit freundlichen Grüßen / Best regards, 

Gerhard Wolodin 

iTAC Software AG 
Data Analytics 
Data Engineer 
Aubachstr. 24 
56410 Montabaur 
Germany 

Tel. +49 2602 1065-157 
Mobil +49 175 376 7759 
E-Mail gerhard.wolodin@itacsoftware.com<mailto:gerhard.wolodin@itacsoftware.com> 
Internet www.itacsoftware.com<http://www.itacsoftware.com/> 

[Duerr_GROUP_small_rgb]<https://www.durr-group.com/de/> 
P Bitte denken Sie an die Umwelt, bevor Sie diese E-Mail drucken / Please think about our Environment before printing this e-mail. 



Von: Hegenbarth, Yvonne <Yvonne.Hegenbarth@softwareag.com> 
Gesendet: Mittwoch, 3. Februar 2021 11:02 
An: Gerhard Wolodin <Gerhard.Wolodin@itacsoftware.com>; Sander, Eric <Eric.Sander@softwareag.com> 
Betreff: Python Block PoC 

Hallo Gerhard, 

Wie besprochen schicke ich dir das Beispielprojekt zum Bauen von Python Analytics Blöcken. Falls du Schwierigkeiten bei der Umsetzung hast, einfach kurz melden 😊 

Zusammen mit @Sander, Eric<mailto:Eric.Sander@softwareag.com> werden wir die nächsten Schritte besprechen, wie wir ein gemeinsames Setup für einen PoC zusammen mit DELL und IFM aufsetzen wollen. 
Diesbezüglich kommen wir dann nochmal direkt auf dich zu. 

Viele Grüße 
Yvonne 


Yvonne Hegenbarth 

Solution Engineer - IoT & Analytics 

Software AG 



[cid:image001.png@01D6FB12.3A82EBD0] 

Uhlandstraße 9, 64297 Darmstadt, Germany 



M: +49 151 2849 4664 
in: linkedin.com/in/<https://www.linkedin.com/in/pberghaeger/>yvonne-hegenbarth 

W: softwareag.com<https://www.softwareag.com/en_corporate.html> 



SAG Deutschland GmbH – Sitz/Registered office: Uhlandstraße 9, 64297 Darmstadt, Germany - Registergericht/Commercial register: Darmstadt HRB 6329 - Geschäftsführer/Managing Director: Alwin Schauer - http://www.softwareag.com <http://www.softwareag.com/> 


Software AG – Sitz/Registered office: Uhlandstraße 12, 64297 Darmstadt, Germany – Registergericht/Commercial register: Darmstadt HRB 1562 - Vorstand/Management Board: Sanjay Brahmawar (Vorsitzender/Chairman), Dr. Elke Frank, Dr. Matthias Heiden, Dr. Stefan Sigg - Aufsichtsratsvorsitzender/Chairman of the Supervisory Board: Karl-Heinz Streibich - http://www.softwareag.com"
Defect,CSOIOT-132,Demo tenant die iTac,ADAMOS GmbH,"1,302",Closed,iTrac Sync User,Unassigned,3/11/21 9:19,Customer,6/20/22 9:57,,,4-Low,None,"Dear Support Team, 

Please create a demo tenant (a sub tenant of „trails“ tenant) on adamos dev with following parameters: 

Tenant Owner: 

Gerhard Wolodin 
iTAC Software AG 

Data Engineer 

Aubachstr. 24 

56410 Montabaur 

Germany 
Tel. +49 2602 1065-157 

Mobil +49 175 376 7759 

E-Mail gerhard.wolodin@itacsoftware.com<mailto:gerhard.wolodin@itacsoftware.com> 


Additional Admin User: 
Yvonne.Hegenbarth@softwareag.com 

Standard Apps plus: 

* Apama 1c 4gb 
* Analytics builder 
* Cementis small 
* ML workbench 
* Datahub 

Please ask Tim.Doernemann@softwareag.com to connect this tenant with a Demo Data Lake. 

Thank you and best regards, 
Eric 


________________________________ 
Von: Gerhard Wolodin <Gerhard.Wolodin@itacsoftware.com> 
Gesendet: Donnerstag, Februar 4, 2021 4:24 PM 
An: Hegenbarth, Yvonne; Sander, Eric 
Betreff: AW: Python Block PoC 

Hallo zusammen, 

gibt es schon ein Update bzgl. der Instanz, die wir für die Demo nutzen können? Nach einem internen Gespräch heute, kann es gut sein, dass die Demo für den Kunden bereits nächste Woche ansteht. Damit wir nicht überrumpelt werden, können wir die Demo vielleicht direkt Anfang nächster Woche vorbereiten? 


Mit freundlichen Grüßen / Best regards, 

Gerhard Wolodin 

iTAC Software AG 
Data Analytics 
Data Engineer 
Aubachstr. 24 
56410 Montabaur 
Germany 

Tel. +49 2602 1065-157 
Mobil +49 175 376 7759 
E-Mail gerhard.wolodin@itacsoftware.com<mailto:gerhard.wolodin@itacsoftware.com> 
Internet www.itacsoftware.com<http://www.itacsoftware.com/> 

[Duerr_GROUP_small_rgb]<https://www.durr-group.com/de/> 
P Bitte denken Sie an die Umwelt, bevor Sie diese E-Mail drucken / Please think about our Environment before printing this e-mail. 



Von: Hegenbarth, Yvonne <Yvonne.Hegenbarth@softwareag.com> 
Gesendet: Mittwoch, 3. Februar 2021 11:02 
An: Gerhard Wolodin <Gerhard.Wolodin@itacsoftware.com>; Sander, Eric <Eric.Sander@softwareag.com> 
Betreff: Python Block PoC 

Hallo Gerhard, 

Wie besprochen schicke ich dir das Beispielprojekt zum Bauen von Python Analytics Blöcken. Falls du Schwierigkeiten bei der Umsetzung hast, einfach kurz melden 😊 

Zusammen mit @Sander, Eric<mailto:Eric.Sander@softwareag.com> werden wir die nächsten Schritte besprechen, wie wir ein gemeinsames Setup für einen PoC zusammen mit DELL und IFM aufsetzen wollen. 
Diesbezüglich kommen wir dann nochmal direkt auf dich zu. 

Viele Grüße 
Yvonne 


Yvonne Hegenbarth 

Solution Engineer - IoT & Analytics 

Software AG 



[cid:image001.png@01D6FB12.3A82EBD0] 

Uhlandstraße 9, 64297 Darmstadt, Germany 



M: +49 151 2849 4664 
in: linkedin.com/in/<https://www.linkedin.com/in/pberghaeger/>yvonne-hegenbarth 

W: softwareag.com<https://www.softwareag.com/en_corporate.html> 



SAG Deutschland GmbH – Sitz/Registered office: Uhlandstraße 9, 64297 Darmstadt, Germany - Registergericht/Commercial register: Darmstadt HRB 6329 - Geschäftsführer/Managing Director: Alwin Schauer - http://www.softwareag.com <http://www.softwareag.com/> 


Software AG – Sitz/Registered office: Uhlandstraße 12, 64297 Darmstadt, Germany – Registergericht/Commercial register: Darmstadt HRB 1562 - Vorstand/Management Board: Sanjay Brahmawar (Vorsitzender/Chairman), Dr. Elke Frank, Dr. Matthias Heiden, Dr. Stefan Sigg - Aufsichtsratsvorsitzender/Chairman of the Supervisory Board: Karl-Heinz Streibich - http://www.softwareag.com"
Defect,CSOIOT-131,Request for adding MX and TXT records in the cumonosu.com domain setting.,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,302",Closed,"Damasco, Jeanne","Radzali, Basyar",3/12/21 8:29,Customer,6/20/22 9:56,,Dedicated,2-High,None,"Hi OPS Team, 

MicroTechnology requested that to ADD below two records into cumonosu.com domain setting, please. 
They are requesting to please complete this setting by this Thursday. 

1) MX record 

cumonosu.com. MX ""dmail.kagoya.net."" 

2) TXT record 

cumonosu.com. TXT ""v=spf1 include:kagoya.net include:spf.baremetal.jp ~all"" 



[FYI] 
We are going to change the Email server configurations at managemant,cumonosu.com at 21:00 JST on Tuesday 2021-03-16. The ""Host"" and ""Sender address"" are going to change, That is why we request those adding. 

Please do leave all ""mail.cumonosu.com."" configurations at DNS side alone. We need them until the 16th of March After the 16th of March, I will create another ticket for requesting to delete those settings. 



Additional incident information: 
Product Version: 10.5.7 
"
Defect,CSOIOT-126,Demo tenant die iTac,ADAMOS GmbH,"1,303",Closed,iTrac Sync User,"Janus, Bartosz",3/10/21 12:41,Customer,6/20/22 9:57,,,4-Low,None,"Dear Support Team, 

Please create a demo tenant (a sub tenant of „trails“ tenant) on adamos dev with following parameters: 

Tenant Owner: 

Gerhard Wolodin 
iTAC Software AG 

Data Engineer 

Aubachstr. 24 

56410 Montabaur 

Germany 
Tel. +49 2602 1065-157 

Mobil +49 175 376 7759 

E-Mail gerhard.wolodin@itacsoftware.com<mailto:gerhard.wolodin@itacsoftware.com> 


Additional Admin User: 
Yvonne.Hegenbarth@softwareag.com 

Standard Apps plus: 

* Apama 1c 4gb 
* Analytics builder 
* Cementis small 
* ML workbench 
* Datahub 

Please ask Tim.Doernemann@softwareag.com to connect this tenant with a Demo Data Lake. 

Thank you and best regards, 
Eric 


________________________________ 
Von: Gerhard Wolodin <Gerhard.Wolodin@itacsoftware.com> 
Gesendet: Donnerstag, Februar 4, 2021 4:24 PM 
An: Hegenbarth, Yvonne; Sander, Eric 
Betreff: AW: Python Block PoC 

Hallo zusammen, 

gibt es schon ein Update bzgl. der Instanz, die wir für die Demo nutzen können? Nach einem internen Gespräch heute, kann es gut sein, dass die Demo für den Kunden bereits nächste Woche ansteht. Damit wir nicht überrumpelt werden, können wir die Demo vielleicht direkt Anfang nächster Woche vorbereiten? 


Mit freundlichen Grüßen / Best regards, 

Gerhard Wolodin 

iTAC Software AG 
Data Analytics 
Data Engineer 
Aubachstr. 24 
56410 Montabaur 
Germany 

Tel. +49 2602 1065-157 
Mobil +49 175 376 7759 
E-Mail gerhard.wolodin@itacsoftware.com<mailto:gerhard.wolodin@itacsoftware.com> 
Internet www.itacsoftware.com<http://www.itacsoftware.com/> 

[Duerr_GROUP_small_rgb]<https://www.durr-group.com/de/> 
P Bitte denken Sie an die Umwelt, bevor Sie diese E-Mail drucken / Please think about our Environment before printing this e-mail. 



Von: Hegenbarth, Yvonne <Yvonne.Hegenbarth@softwareag.com> 
Gesendet: Mittwoch, 3. Februar 2021 11:02 
An: Gerhard Wolodin <Gerhard.Wolodin@itacsoftware.com>; Sander, Eric <Eric.Sander@softwareag.com> 
Betreff: Python Block PoC 

Hallo Gerhard, 

Wie besprochen schicke ich dir das Beispielprojekt zum Bauen von Python Analytics Blöcken. Falls du Schwierigkeiten bei der Umsetzung hast, einfach kurz melden 😊 

Zusammen mit @Sander, Eric<mailto:Eric.Sander@softwareag.com> werden wir die nächsten Schritte besprechen, wie wir ein gemeinsames Setup für einen PoC zusammen mit DELL und IFM aufsetzen wollen. 
Diesbezüglich kommen wir dann nochmal direkt auf dich zu. 

Viele Grüße 
Yvonne 


Yvonne Hegenbarth 

Solution Engineer - IoT & Analytics 

Software AG 



[cid:image001.png@01D6FB12.3A82EBD0] 

Uhlandstraße 9, 64297 Darmstadt, Germany 



M: +49 151 2849 4664 
in: linkedin.com/in/<https://www.linkedin.com/in/pberghaeger/>yvonne-hegenbarth 

W: softwareag.com<https://www.softwareag.com/en_corporate.html> 



SAG Deutschland GmbH – Sitz/Registered office: Uhlandstraße 9, 64297 Darmstadt, Germany - Registergericht/Commercial register: Darmstadt HRB 6329 - Geschäftsführer/Managing Director: Alwin Schauer - http://www.softwareag.com <http://www.softwareag.com/> 


Software AG – Sitz/Registered office: Uhlandstraße 12, 64297 Darmstadt, Germany – Registergericht/Commercial register: Darmstadt HRB 1562 - Vorstand/Management Board: Sanjay Brahmawar (Vorsitzender/Chairman), Dr. Elke Frank, Dr. Matthias Heiden, Dr. Stefan Sigg - Aufsichtsratsvorsitzender/Chairman of the Supervisory Board: Karl-Heinz Streibich - http://www.softwareag.com"
Defect,CSOIOT-114,Error when activating the domain name,go mobile,"1,303",Closed,"Welsing, Michael","Pham, Hoang",3/17/21 9:27,Customer,6/20/22 9:57,,,3-Medium,None,"Hi, 

customer is having issues with there certificate. 

This is the detailed issue description. 

""We're getting the below error when activating the domain name: 

_""Api not available. Please check your DNS CNAME entry"" 
_ 
We should have all the prerequisites for activating the domain name: 

* Uploaded a valid SSL certificate. 
* The common name (domain name) is not used by any other tenant. 
* The certificate is currently valid (validFrom in the past and validTo in the future). 
* Wildcard CNAME record (starting with *.) to the DNS server: CNAME, *.iot.go.com.mt. points to goplc.emea.cumulocity.com 

Can you please let us know what could be the cause of the error?"" 

Can you help me and the customer? What is wrong here?"
Defect,CSOIOT-111,[OPS] NTTC10.6.6Test: Japanese texts are replaced by '? ' in the export email,NTT Communications Corporation,"1,304",Closed,"Byreddy, Bhaskar Reddy","Fisz, Aleksander",3/15/21 9:14,Customer,6/20/22 9:57,,Onpremise,2-High,2-High,"After subscribed Report Agent, the mails sent in Japanese are garbled. Japanese texts are replaced by '?'. 

This is observed in the tenant running with Apama in the staging 2(QA/Test) environment, report scheduler starts sending report mails after upgraded to 10.6.6.x and subscribed to report-agent now. 

[The reports' status] 
- Those reports are originally created in esper smartrules in 10.5.0 with the deactivated status 
- The tenant was migrated to run with Apama. 
- The tenant was upgraded to 10.6.6.4, and after that, subscribing to latest Apama and report agent microservices. 
- Those reports are not explicitly migrated by the user operation to click button. 

[Tenant] 
[https://organo_stg.iot-trialpack.com|https://organo_stg.iot-trialpack.com/] 
user: c8yuser, pw: Organ0m!gration 

  

Additional incident information: 
OS: Mac OS X 
Product Version: 10.6.6 
OS Version: 10.13"
Defect,CSOIOT-108,Technical inquiry - IP for SMTP mail sending (*.cumonosu.com and *.bodenexam.com),"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,304",Closed,"Schon, Gregor","Pham, Hoang",3/11/21 9:15,Customer,6/20/22 9:56,,support_question,3-Medium,3-Medium,"customer asks if both, the production environment (*.cumonosu.com) and the pre-production environment (*.bodenexam.com) use the public IP ?13.113.166.125?for sending emails from c8y?

Dear Support team,
I would like to inquiry about the IP address for mail sending from C8Y.

We have the production environment (*.cumonosu.com) and the pre-production environment (*.bodenexam.com). Am I right that both environment uses public IP ?13.113.166.125?for sending emails from c8y?

Support incident #5408895 is that I inquired similar contents before,
=============================

We use NAT for almost all machines except the ones needing to have own,dedicated public IP.
So private IP is used for cores and kubernetes cluster. Only nodes which can send emails are core/karaf machines and kube workers and they are behind NAT.
Those all machines use the same public IP: 13.113.166.125 and that IP will be used as source when email is sent to SMTP relay (so service vendor can know that and set this IP in trusted list) Please refer attached screenshot.


About EBS encryption: machine stop/start is needed for volume encryption, this means that all IPs which are not static will change.
So IP of loadbalancer will change (as mentioned in previous email) -> 18.179.58.43 In order to overcome that there is need to create CNAME entries pointing to that A record, e.g.

*.bodenexam.com -> tf-lb-20190624085800131100000008-451314785.ap-northeast-1.elb.amazonaws.com

as now *.bodenexam.com (test with ping tenant.bodenexam.com) points to 18.179.58.43

================

Sincerely,

Kazuhiro Suzuki

Additional incident information:
Product Version: 10.5.7
"
Defect,CSOIOT-102,Production LWM2M Bootstrap & Registration Failure,Telstra Corporation Limited,"1,307",Closed,"Talbert, Kent","Lundsten, Alf",3/10/21 11:29,Customer,6/20/22 9:56,,,2-High,2-High,"Since about 01:20 AEDT Test devices have been intermittently failing to bootstrap or register. This has got progressively worse and none appear to be successful since 3:30.

As usual we can see Telstra-Production-NEW-agents-2 SPU at 90% and rising.


"
Defect,CSOIOT-101,TFA not working when admin rights are added to existing users || Tetstra DEV,Telstra Corporation Limited,"1,307",Closed,"Awasthi, Gyan Prakash","Lundsten, Alf",3/15/21 12:55,Customer,6/20/22 9:56,,,2-High,None,"Steps To Reproduce. 
1. Navigate to Account > Users on the left side menu. 
2. Click Add user on top right menu. 
3. Enter required fields for the user. 
4. Create a user with non-admin roles(eg: Cockpit) and save. 
5. Edit the user which is created in step 4 and enable Admin roles. 
6. Enable TFA and save the user. 

Actual Result: No SMS is received with TFA enabled. 

Note: When TFA is changed to TOTP same issue is observed. 

Workaround: If non admin role is removed for the user TFA works. 
eg: Remove cockpit in the above example and save. Thereafter user will receive SMS or TOTP 

Ligil tried this issue on 1st March in Telstra DEV. 
Can OPS team check the logs and see if platform generated the verification code for user ""Eva"" and ""+(61)469699608"" 
"
Defect,CSOIOT-96,CLONE - Error in connection establishment: net::ERR_CERT_COMMON_NAME_INVALID,TROX GmbH Frau Kerstin Fischer,"1,308",Closed,"Bhatt, Vikas","Vukman, Tomislav",3/15/21 9:16,Customer,6/20/22 9:56,6-Mar-21,,2-High,2-High,"Customer is seeing this behavior since the update to 10.7.0. 

They get the following error in console: 

*WebSocket connection to 'wss://test.troxcloud.com/cep/realtime' failed: Error in connection establishment: net::ERR_CERT_COMMON_NAME_INVALID* 

Is the a general technical problem with the platform? 

Tenant URL: https://dev.troxcloud.com/ 

Username: KentTalbert 
Password: $V5r$a68s~s7Yhsr 

In addition, customer also cannot create dashboards on the test.troxcloud.com tenant. 
(Probably not on any other tenant either). 
See screenshot Error1.jpeg 

https://test.troxcloud.com/ 

Username: VikasBhatt 
Password: uCLC0w945V!Q*P| 

Could it be because of an incorrectly maintained certificate? 

"
Defect,CSOIOT-95,Datahub eu-latest instance appears to be down,Software AG USA Inc.,"1,308",Closed,"Talbert, Kent","Fuso, Luca",3/8/21 15:20,Customer,6/20/22 9:56,,,2-High,None,"From customer: 

Datahub EU instance is down and customer ESAB is affected because of this. http://datahub.eu-latest.cumulocity.com/ 
When it runs, it is very slow as well. Running a simple query takes 20-30sec due to which data Indexing in TrendMiner is affected. Please take a look at both incidents. 

Thanks, 
Sunny"
Defect,CSOIOT-93,"Prod LWM2M Clients intermittenty failing to bootstrap or register,",Telstra Corporation Limited,"1,309",Closed,"Awasthi, Gyan Prakash","Lundsten, Alf",3/15/21 9:15,Customer,6/20/22 9:56,,Onpremise,2-High,None,"LWM2M test clients are failing from about 11:30 4/March/2021 AEDT. We can see in AWS the CPU usage for Telstra-Production-NEW-agents-2 is hovering at around 95%.
"
Defect,CSOIOT-92,Please deliver log files from customer A1 tenant scorpion7_live.iot.a1.digital,Software AG Development Center Bulgaria EOOD,"1,309",Closed,"Herzog, Christian","Kehayov, Boyan",3/5/21 13:17,Customer,6/20/22 9:56,,,2-High,None,"We need from A1 tenant scorpion7_live.iot.a1.digital: 

- all logs from 23th Feb  

- lwm2m version and agent upgrade history 

Please attach it to https://itrac.eur.ad.sag/browse/IOT-10366  

 "
Defect,CSOIOT-88,CLONE - [BD] NTTC10.6.6Test:DataConnector is not created with DataBroker with invalid URL,NTT Communications Corporation,"1,310",Closed,"Damasco, Jeanne","Fuso, Luca",3/15/21 12:54,Customer,6/20/22 9:56,,Onpremise,3-Medium,None,"This is in connection with  
|https://cumulocity.atlassian.net/browse/ZT-2032| 

The fix was already applied to 10.6.6.28 however, when NTT tested this hey are still unable to create a data connector. 

  

The customer is checking the behavior of HTTPS requests in the network. 
If the firewall is redundant, HTTPS requests between tenants will fail. 
On the other hand, if the firewall is not redundant, HTTPS requests between tenants will succeed. 

On our side as well, HTTPS requests between tenants will work, and Data Broker connection settings can be made without problems. 
If you have any recommended settings, please let us know. 

###################################################### 
With this R&D have mentioned that ops can help in providing the firewall configurations we have in our staging/production environments where the Data Broker connectivity between tenants of the same instance work so that we could share recommendations with NTT. 
 "
Defect,CSOIOT-87,"Tenant was down, customer wants to know reason",ADAMOS GmbH,"1,310",Closed,iTrac Sync User,"Louden, Timothy",3/5/21 13:16,Customer,6/20/22 9:56,,,4-Low,None,"Hi Adamos,

Our Tenant is down.

[cid:49df449b-b968-405a-92aa-1d0b2b0c57c0]

[cid:c2990e9e-4043-496e-9550-58cb18e89b31]




Please escalate.

Regards,

[cid:cb3d1eea-ff6b-4b51-8014-b0b110c9af6a]

i.A. Daniel Sarosi

Tech Lead







+852 6938 2206 | daniel.sarosi@kmon.net
2206 Metroplaza 2, 223 Hing Fong Road | Kwai Chung, HK







KM.ON GmbH
Geschäftsführer: Antonia Gottschalk | Maximilian Kürig
Amtsgericht Frankfurt a.M. | HRB 110267
www.kmon.net<http://www.kmon.net/>


________________________________

KM.ON GmbH - Carl-Benz-Straße 21 - 60386 Frankfurt am Main - Germany - Sitz: Frankfurt am Main - Registergericht: Amtsgericht Frankfurt am Main, HRB 110267 - UST-ID Nr.: DE316186151 - Verantwortlich gemaess § 55 RStV: Maximilian Kuerig - c/o KM.ON GmbH - Carl-Benz-Straße 21 - 60386 Frankfurt am Main - Geschaeftsfuehrer: Sophia Antonia Gottschalk, Klaus Maximilian Peter Udo Kuerig

________________________________"
Defect,CSOIOT-72,Request for restarting rsyslog at the agents.cumonosu.com,"Micro Technology Co., Ltd. Attn. Mr. Akihiro Yamada","1,311",Closed,"Awasthi, Gyan Prakash","Abdul Majid, Mohd Shahmi",3/2/21 11:37,Customer,6/20/22 9:56,,,2-High,None,"Dear Support team,

I would like you to pass this request to OPS team, please.

----
Dear OPS team,

We want to request for restarting rsyslog at the agents.cumonosu.com. It has been consuming certain amount of memory so that we want to restart it.

That is all.

Sincerely,

Kazuhiro Suzuki


Additional incident information:
Product Version: 10.5.7
"
Defect,CSOIOT-69,How to change the log level.,,"1,328",Closed,iTrac Sync User,Unassigned,3/2/21 10:41,Customer,6/20/22 9:56,,"WaitingOnRnD, cloudoperations, cumulocity_iot",3-Medium,None,"Hi, 

this is a follow up to ZT-1090. 

One of the last comments there was: 

""Hi Petar, 

for further analysis it is needed to change the log level. This can be achieved by a REST request: 

{noformat}curl --request POST --url ${url}/service/${microservice-path}/loggers/httpclient.wire.header --header 'Authorization: Basic auth' --header 'Content-Type: application/json' --data '{""configuredLevel"": ""DEBUG""}'{noformat} 

The above request changes logging levels on the fly but is available only when SpringBoot actuator is configured properly. It is always possible to change logging levels by the microservice configuration file e.g. 

{noformat}logging: 
level: 
httpclient.wire.header: DEBUG{noformat} 
Reconfiguration of the logging level causes that microservice starts logging a lot of messages like the below ones 
{noformat}2020-12-10 16:42:23.938 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : >> ""User-Agent: Jakarta Commons-HttpClient/3.1[\r][\n]"" 
2020-12-10 16:42:23.938 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : >> ""Host: cumulocity:8111[\r][\n]"" 
2020-12-10 16:42:23.938 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : >> ""[\r][\n]"" 
2020-12-10 16:42:23.946 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""HTTP/1.1 200 OK[\r][\n]"" 
2020-12-10 16:42:23.946 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""HTTP/1.1 200 OK[\r][\n]"" 
2020-12-10 16:42:23.946 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Server: openresty[\r][\n]"" 
2020-12-10 16:42:23.946 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Date: Thu, 10 Dec 2020 16:42:23 GMT[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Content-Type: application/vnd.com.nsn.cumulocity.alarmcollection+json;charset=UTF-8;ver=0.9[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Transfer-Encoding: chunked[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Connection: keep-alive[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Cache-Control: no-cache,no-store,must-revalidate[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Pragma: no-cache[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""Expires: -1[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""[\r][\n]"" 
2020-12-10 16:42:23.947 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : << ""[\r][\n]"" 
2020-12-10 16:42:23.960 DEBUG 6 --- [eduler_Worker-4] httpclient.wire.header : >> ""GET /alarm/alarms?pageSize=2000&source=2227&type=c8y_UnavailabilityAlarm&status=ACTIVE HTTP/1.1[\r][\n]"" 
{noformat} 

After changing log levels please observe the microservice stability and sent updated logs if needed."" 

Regarding activating extended log level customer DT needs some clarification. This is the url for the tenant 
https://denmark.test-ram.m2m.telekom.com/service/smartspace-api/loggers/httpclient.wire.header 
--url ${url}/service/${microservice-path}/loggers/httpclient.wire.header 

The clarification is needed for the ""${microservice-path}"" 
A 
lso where to add the following line: 
--data '{""configuredLevel"": ""DEBUG""}'{noformat} 

Basically the question is how to execute the hole request? 

best regards 
Michael"
Defect,CSOIOT-68,[TELIA ESTI] Cumulocity 10.6.0.21 -> 10.7.0.X on-premises upgrade questions,,"1,324",Closed,iTrac Sync User,Unassigned,3/2/21 10:37,Customer,6/20/22 9:56,,"WaitingOnRnD, cloudoperations, cumulocity_iot",3-Medium,None,"Hi, 

Telia Esti raised some question on their planned update. Can you help getting answers to this question. 

1) In the 10.7 documentation is said: Kubernetes CNI should be changed from flannel to Calico. As far as I know, Calico is somethingm that is not suitable for the VMware environment? Is this step mandatory? We had 12 hours downtime last year when we upgraded Kubernetes cluster and it was configured with Calico since Chef ignored flannel configuration. 

2) As 10.6.6 had some nasty bug, this version should be entirely skipped? 

3) Which version of 10.7.0 should we use? - _Here I am sure, that this is 10.7.0.24. Is this correct?_ 

4) MongoDB should be upgraded to the version 4? Nothing mentioned about this in the documentation. 

Thanks for you help! 

Michael"
Defect,CSOIOT-66,Cannot login to phios Tenant (t725154470) with Basic Auth,Liebherr-Werk Nenzing GmbH,"1,314",Closed,"Bhatt, Vikas","Janus, Bartosz",2/26/21 15:49,Customer,6/20/22 9:56,27-Feb-21,,2-High,2-High,"Tenant ID: t725154470 
URL: https://phios.cumulocity.com 
Admin Username: klaus.flatz@phios.li 

Yesterday, customer tried to configure SSO via AAD on their main tenant (tenant ID: t725154470). While doing so, he suddenly couldn't login via basic auth anymore. 

Now he cannot access the tenant as he got locked out! 

During login, we get this response: 

{""error"":""security/Forbidden"",""message"":""Access is denied"",""info"":""https://www.cumulocity.com/guides/reference-guide/#error_reporting""} 

--> Our partner Phios AG locked out the Admin account on https://phios.cumulocity.com with 'klaus.flatz@phios.li' while setting up AAD. Could someone please activate it, as it seems no other admin account there. 


"
Defect,CSOIOT-65,Calls to API provided by microservice get lost | Major,ADAMOS GmbH,"1,315",Closed,iTrac Sync User,"Radzali, Basyar",3/10/21 11:31,Customer,6/20/22 9:56,,,4-Low,None,"﻿Dear support-team,

we observe a problem with the API provided by our microservice SSDM in the tenant iotconnectoruat.adamos-dev.com.

Sporadically we receive errors like

I/O error on GET request for ""https://iotconnectoruat.adamos-dev.com/service/ssdm/device/iotconnectorstatus/12640000447"": Connection timed out (Read failed); nested exception is javax.net.ssl.SSLException: Connection timed out (Read failed)

The call was started at 2020-12-17 07:02:51 (UTC), the exeption occured at 2020-12-17 07:18:35 (UTC).

I cannot see these reqeusts within the microservice logs - therefore it's difficult to debug this form e. I believe that they might get lost somewhere in the platform before the call is handled by the microservice itself.

The requests are created by a server with the public IP 23.97.162.197

Would you please check?

Thanks!
Christoph

Mit freundlichen Grüßen / Kind regards

--
Herr Christoph Weiß
Product Owner IoTconnector

DMG MORI Software Solutions GmbH
DECKEL MAHO-Str. 1
DE-87459 Pfronten

Tel.: +49 8363 89 8070
christoph.weiss@dmgmori.com<mailto:christoph.weiss@dmgmori.com>
www.dmgmori.com<http://www.dmgmori.com>

[cid:image001.png@01D6D465.F34E7900]
Think before you print.


my DMG MORI – Ihr Kundenportal steht Ihnen wie gewohnt rund um die Uhr zur Verfügung. 
mydmgmori.com 
Follow us: 


DMG MORI Software Solutions GmbH
Sitz der Gesellschaft: Pfronten; Amtsgericht Kempten (Allg.), HRB 9572
Geschäftsführer: Dr. Tommy Kuhn
Ust-Id-Nr: DE 256219491 - Steuer-Nr: 349 / 5723 / 2713"
Defect,CSOIOT-64,Lot of devices went offline,ADAMOS GmbH,"1,315",Closed,iTrac Sync User,Unassigned,2/26/21 10:29,Customer,6/20/22 9:56,,,4-Low,None,"Hallo Sebastian,



ich lege ein Support Ticket mit hoher Dringlichkeit an, die Kollegen werden sich kurzfristig bei Dir melden.



Beste Grüße,

Eric



Von: Sebastian Mayer <Sebastian.Mayer@mayercie.com>
Datum: Freitag, 19. Februar 2021 um 09:43
An: Eric Sander <Eric.Sander@softwareag.com>
Cc: Alexander Steinberger <Alexander.Steinberger@mayercie.com>
Betreff: SERVER DOWN



Hi Eric,

mir ist heute aufgefallen, dass keiner meiner Tennants Daten liefert. ALLE Maschinen sind „nicht verfügbar“. Die letzten Daten wurden heute Nacht um ca 01:00 Uhr gesendet.

Das verwunderliche ist, dass ALLE Daten weg sind. Also auch Daten von letzter Woche.

Meine Ansichten sind komplett leer.

Erbitte drinfgend Hilfe. Woran liegt das?

Gruß

Sebastian




*************************************************************************

Richtlinie für Kommunikations Partner (https://www.mayercie.com/wp-content/uploads/2020/07/Richtlinien_fuer-Kommunikationspartner_de.pdf)
Policy for communication partners (https://www.mayercie.com/wp-content/uploads/2020/07/Policy_for_communication_partners_en.pdf)


-------------------------------

Mayer & Cie GmbH & Co. KG
Tailfingen - Emil-Mayer-Str. 10 - D-72461 Albstadt
Postadresse: Postfach 20 15 80 - D-72438 Albstadt
Kommanditgesellschaft: Sitz Albstadt, Amtsgericht Stuttgart HRA 400260
Komplementär: Mayer- Verwaltungs.GmbH Sitz Albstadt, Amtsgericht Stuttgart HRB 400116
Geschäftsführer: Mayer, Marcus; Mayer, Benjamin


Software AG – Sitz/Registered office: Uhlandstraße 12, 64297 Darmstadt, Germany – Registergericht/Commercial register: Darmstadt HRB 1562 - Vorstand/Management Board: Sanjay Brahmawar (Vorsitzender/Chairman), Dr. Elke Frank, Dr. Matthias Heiden, Dr. Stefan Sigg - Aufsichtsratsvorsitzender/Chairman of the Supervisory Board: Karl-Heinz Streibich - http://www.softwareag.com (http://www.softwareag.com)"
Defect,CSOIOT-48,Please delete a Subtenant,Autosen GmbH,"1,322",Closed,"Kumar, Ashish",Unassigned,2/18/21 15:28,Customer,6/20/22 9:56,,,2-High,2-High,"Hi Ops Team,

The Autosen is requesting a tenant deletion. within the time period of backend-updated yesterday, one subtenant creation & setup failed.
Could you please delete the subtenant with id: logima (logima.autosen.cloud) urgently, so that customer can set it up again completely.

Additional incident information:
Product Version: 10.7

Please let me know if you need more information.

Regards,
Ashish Kumar"
Defect,CSOIOT-40,[Eppendorf] Please activate license for SSL certificate on eppendorfag-preproduction.emea.cumulocity.com,Eppendorf AG,"1,324",Closed,"Welsing, Michael",Unassigned,2/18/21 14:56,Customer,6/20/22 9:56,,,3-Medium,None,"Hi Ops, 

based on the information from Frank Schimmel, Gerhard Krause should have provided you with a 

This SSL certificate needs a license to be activated, analogue to management.eppendorf.emea.cumulocity.com to management.visionizedigitallabspace.eppendorf.com. 

Can you please activate the license for the SSL certificate? 

Thank you 
Michael"
Defect,CSOIOT-38,Siemens PROD AWS: API calls partially fail after deleting and re-creating a tenant,SAG Consulting Services GmbH,"1,324",Closed,"Welsing, Michael","Louden, Timothy",2/17/21 15:06,Customer,6/20/22 9:56,,,3-Medium,None,"Hi Ops, 

we got the following issue reported by [~ksie]: 

""After the AWS PROD upgrade to 1006.0.23 today Siemens is encountering issues on a tenant which is deleted and re-created afterwards - this is done for sanity checks. 

The issue is that a user can login, but is getting a invalid credentials error message. 
In the browser console you can see that only partial API calls to ../managedObjects are failing with 401. 

Thanks 
Regards 
Kai"" 

Our R&D department did some research already and they came to the conclusion that one core node is not running correctly. Because of this the following OPS task is raied: 

*Please restart core3 of the SIEMENS AWS PROD environment!* 

Thanks 
Michael"
Defect,CSOIOT-36,"issues with ""apama-ctrl-1c-4g"" on https://raimondi.ttcontrol.cloud",A1 Digital International GmbH Kreditorennummer: 310000179,"1,329",Closed,"Herzog, Christian","Kehayov, Boyan",2/26/21 14:31,Customer,6/20/22 9:56,,,3-Medium,None,"Apama works only for 50% of the cases fine. 
The production tenant: 
* url: [https://raimondi.ttcontrol.cloud|https://raimondi.ttcontrol.cloud/] 
* tenantId: t5243111 

Attached the log screenshot. 

Chris Reed and Korbinian Butz (Consulting) reported: 

Investigation with Korbinian showed evidence that some Measurements, Alarm updates were not being delivered to apama-ctrl - fairly random which were/ weren't. 

apama-ctrl's logging included ProxyStatus : 

192.168.7.0  - started 29 (relatively static - only changing by 1 a minute or less) 
192.168.5.0 - started 13213 (constantly receiving a trickle of new data) 

This suggests there are only two core nodes, and one is sending next to no updates to /service/cep/events .  This suggests there's a problem with one of the core nodes (and also, please confirm that there are only 2 core nodes; are there others that haven't sent anything to apama-ctrl?)."
Defect,CSOIOT-35,[DT IoT - 3305908] Ruby nil class error on the kube workers when running chef-clients,Deutsche Telekom IOT GmbH,"1,330",Closed,"Kumar, Ashish",Unassigned,2/18/21 15:16,Customer,6/20/22 9:56,,,3-Medium,None,"Hi Ops Team,

MS team from Bulgaria is running the chef-client for DT on the kube workers and they are getting the following error:
They have seen that it is defined at cumulocity-chef\cookbooks\cumulocity\attributes\internal-lb.rb
According the error we need to search cumulocity-kubernetes cookbooks for the variable default['cumulocity-internal-lb']['haproxy']['version'] = '1.5.18-9.el7' but we see it's not defined there. 

Ops team can help here as you are running these kinds of script. 

ERROR:

================================================================================
Recipe Compile Error in /var/chef/cache/cookbooks/cumulocity-kubernetes/recipes/default.rb
================================================================================

NoMethodError
-------------
undefined method `[]' for nil:NilClass

Cookbook Trace:
---------------
/var/chef/cache/cookbooks/cumulocity-kubernetes/recipes/k8s_worker.rb:15:in `block in from_file'
/var/chef/cache/cookbooks/cumulocity-kubernetes/recipes/k8s_worker.rb:14:in `from_file'
/var/chef/cache/cookbooks/cumulocity-kubernetes/recipes/default.rb:16:in `from_file'

Relevant File Content:
----------------------
/var/chef/cache/cookbooks/cumulocity-kubernetes/recipes/k8s_worker.rb:

8: end
9:
10: k8sMasterIP = kubeInitMasterNodes.first['ipaddress']
11: k8sDNS = kubeInitMasterNodes.first['k8s-dns']
12:
13: unless node[:roles].include? ""cumulocity-common-cores"" or node[:roles].include? ""k8s-worker""
14: haproxy_install 'package' do
15>> package_version node['cumulocity-internal-lb']['haproxy']['version']
16: end
17:
18: haproxy_frontend 'multiport' do
19: bind '*:6443'
20: default_backend 'servers'
21: end
22:
23: haproxy_backend 'servers' do
24: server kubeMasterNodes.collect{???? |master_node| ""#{????master_node.name}???? #{????master_node['ipaddress']}????:6443 check"" }????.sort

System Info:
------------
chef_version=12.22.5
platform=centos
platform_version=7.9.2009
ruby=ruby 2.3.6p384 (2017-12-14 revision 61254) [x86_64-linux]
program_name=chef-client worker: ppid=8234;start=10:09:32;
executable=/opt/chef/bin/chef-client

Running handlers:
[2021-02-08T10:09:42+01:00] ERROR: Running exception handlers
Running handlers complete
[2021-02-08T10:09:42+01:00] ERROR: Exception handlers complete
Chef Client failed. 0 resources updated in 09 seconds
[2021-02-08T10:09:42+01:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2021-02-08T10:09:42+01:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report
[2021-02-08T10:09:42+01:00] ERROR: undefined method `[]' for nil:NilClass
[2021-02-08T10:09:42+01:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)

Regards,
Ashish Kumar"
Defect,CSOIOT-34,"Please update ""apama-ctrl-1c-4g"" to 10.6.6.21",A1 Digital International GmbH Kreditorennummer: 310000179,"1,330",Closed,"Herzog, Christian","Nunev, Teodor",2/10/21 15:00,Customer,6/20/22 9:56,,,3-Medium,None,"Due to an Apama hotfix 
https://itrac.eur.ad.sag/browse/PAB-2099 
we need an update of Apama-ctrl to 10.6.6.21 
affected client: 
[https://tt-apama.iotstg.a1.digital|https://tt-apama.iotstg.a1.digital/apps/cockpit/index.html#/device/4347024/info] 
We need the update today. 


Please let me know when the update is done, then we test the fix. 
If it was effective, then we come back to you to update the prod server."
User Story,CSOIOT-27,Cumulocity Agent devices not able to register,Alfabet KSA LLC,"1,492",Closed,"Damasco, Jeanne","Abdul Majid, Mohd Shahmi",3/22/21 16:21,Customer,6/20/22 9:54,1-Mar-21,"Monitoring, SaaS",3-Medium,None,"Environment Details: 

Cumulocity IoT HA Mode: version 10.4.0.14 ( approx 12 nodes) 
Cumulocity Edge :10.6 ( singe node) 
Cumulocity Agent version:-10.6 
OS for all Centos 7.6 or above 
Cumulocity IoT and Cumulocity Edge are in same subnet. (10.11.157.*) 
----------------------------------------------------------------------- 

Requirement: 
The customer's requirement is to have Cumulocity IoT (version#10.4.0.14) HA environment ( approx. 12 servers). These servers needs to be register in Cumulocity Edge (10.6) for monitoring using Cumulocity-Agents. 

----------------------------------------------------------------------- 

What they have done: 
They have installed cumulocity agent on one of the nodes (core02) and two more other nodes. 

--------------------------------------------------------------------------- 

Issues: 
1. When they install the cumulocity agents then device ID on all the devices shows same device ID dont know why?. How to make unique device ID on all the nodes. 
2. Initially I was not able to register the device in Cumulocity edge so to register the device then I have replaced server=http://monitor.c8y.io with my cumulocity edge host in the ""/usr/share/cumulocity-agent/cumulocity-agent.conf"" on node cumulocity agent. After sometime this conf file is replaced by original data, from where? Are we doing something wrong. 
3. Cumulocity agent is becoming inactive after sometime on registered node. 



Questions from GS: 
Is it the customer's requirement possible in EDGE? 

"
Defect,CSOIOT-20,Siemens AWS PROD - Security issues on AWS PROD,itCampus Software- und Systemhaus GmbH,"1,337",Closed,"Welsing, Michael","Vukman, Tomislav",3/5/21 13:18,Customer,6/20/22 9:56,,,2-High,1-Critical,"Hi, 

SIEMENS security scans reported some issues on the AWS WebMethods Integ Account 133648259725. The issues are open security groups. 

The below instances allow unrestricted ""Ingress"" from the internet (0.0.0.0/0) on one ore more ports: 

arn:aws:ec2:eu-central-1:042578614091:instance/i-00c3e5f5476016df1 
arn:aws:ec2:eu-central-1:042578614091:instance/i-01237ec0f4557f9b2 
arn:aws:ec2:eu-central-1:042578614091:instance/i-01a3b8df7ae50b6be 
arn:aws:ec2:eu-central-1:042578614091:instance/i-05cd2e9ac6474a097 
arn:aws:ec2:eu-central-1:042578614091:instance/i-05d6c4a9be4fefbf8 
arn:aws:ec2:eu-central-1:042578614091:instance/i-081719052e45f1363 
arn:aws:ec2:eu-central-1:042578614091:instance/i-0875f1a034ba99b6c 
arn:aws:ec2:eu-central-1:042578614091:instance/i-0aeb8dbdd149c6bbe 
arn:aws:ec2:eu-central-1:042578614091:instance/i-0b310a2162237423f 
arn:aws:ec2:eu-central-1:042578614091:instance/i-0c01b1e199a2cb66f 
arn:aws:ec2:eu-central-1:042578614091:instance/i-0d75cc2bc9c6574f6 
arn:aws:ec2:eu-central-1:042578614091:instance/i-0ead292d28d56b46c 

SIEMENS security requierement is that this will be fixed within the next weeks. 

In case those ports are needed please comment the usage so that Siemens know more details about the demand 

best regards 
Michael"
Defect,CSOIOT-19,Siemens AWS INTEG - Security issues on AWS integ,itCampus Software- und Systemhaus GmbH,"1,337",Closed,"Welsing, Michael","Vukman, Tomislav",2/16/21 9:26,Customer,6/20/22 9:56,,,2-High,1-Critical,"Hi, 

SIEMENS security scans reported some issues on the AWS WebMethods Integ Account 133648259725. The issues are open security groups. 

The below instances allow unrestricted ""Ingress"" from the internet (0.0.0.0/0) on one ore more ports.: 

arn:aws:ec2:eu-central-1:133648259725:instance/i-02f7723c9fcbf9274 
arn:aws:ec2:eu-central-1:133648259725:instance/i-035dd05df90a4b72a 
arn:aws:ec2:eu-central-1:133648259725:instance/i-0630085315f4d7c08 
arn:aws:ec2:eu-central-1:133648259725:instance/i-07766b48aa97f8031 
arn:aws:ec2:eu-central-1:133648259725:instance/i-0ae06dae56758bb82 
arn:aws:ec2:eu-central-1:133648259725:instance/i-0bc91851242f2ba38 
arn:aws:ec2:eu-central-1:133648259725:instance/i-0ea40e6fcdc3a0f6b 

SIEMENS security requierement is that this will be fixed within the next weeks. 

In case those ports are needed please comment the usage so that Siemens know more details about the demand 

best regards 
Michael"
Defect,CSOIOT-18,Siemens PROD Azure: Custom microservice issues - require restart?,SAG Consulting Services GmbH,"1,337",Closed,"Welsing, Michael","Radzali, Basyar",2/3/21 9:56,Customer,6/20/22 9:56,,,2-High,1-Critical,"Hi all, 

the microservice on https://management.mciotextension.eu2.mindsphere.io/ show strange issues since some time: 

Oc2-map-config: 401 when calling Cumulocity API 
Oc2-onboarding: Address in use (Bind failed) 

This results in issues on tzpus71 tenant using the Siemens customizations. 

Please restart the related microservices, because even the system is under SIEMENS operations now, they say they don't know exactly on how to do this. 

Thanks 
Michael"
Defect,CSOIOT-1,Administration user updated in continuous loop,Netze BW GmbH,"1,353",Closed,"Schon, Gregor","Pham, Hoang",2/16/21 15:24,Customer,6/20/22 9:55,,support_question,3-Medium,2-High,"*INFO The user s.pietsch@netze-bw.de of tenant kdie has been disabled because of too many requests with bad credentials.* 

Tenant ID: kdie Backend: 1006.11.0 UI: 1006.11.0 

Customer reports: 
~~~~~~~~~~~~~~~~~~~~~~~ 
in the Administration Appllication ""https://kdie.eu-latest.cumulocity.com/apps/administration/index.html#/audit-logs"" 
we have a user disabled. The user is gettin updated in a continuous loop every 3- 4 Minutes. If the user is enabled it is getting automatically disabled and the loop is starting again. 

Additional incident information: 
OS: Windows 10 Professional Edts 
Product Version: 10.6.6 
~~~~~~~~~~~~~~~~~~~~~~~ 

I can see the message in Graylog. but nothing points to the action where the problematic login attempts originated from. 
I would expect that access.log reveals *something about the login attempts e.g. a device type, or an IP address.* 

Graylog messages 
|2021-01-13 08:21:33 +01:00 cumulocity-trial-prod-core1 
2021-01-13 07:21:33[ntLoopGroup-3-10] - kdie/internal_call \| BadRequestCounter \| 112 - com.nsn.cumulocity.tenant-management.auth-lib - 1006.11.0 \| INFO *Limit 100 exceeded for user s.pietsch@netze-bw.de@kdie*| 


-01-13 08:21:33 +01:00 cumulocity-trial-prod-core1 
2021-01-13 07:21:33[ntLoopGroup-3-10] - kdie/internal_call | ocityBasicAuthenticationProvider | 112 - com.nsn.cumulocity.tenant-management.auth-lib - 1006.11.0 | INFO *The user s.pietsch@netze-bw.de of tenant kdie has been disabled because of too many requests with bad credentials.* 
f80d8ae6-556f-11eb-b3a1-065f75b3a398 
Timestamp 
2021-01-13 08:21:33.944 
Received by 
SSL Beats on 582ab5be / c8y-logging-graylog-04.monitor.c8y.io 
Stored in index 
cumulocity_8541 
Routed into streams 
Cumulocity EU-Latest Production 
Tenant 
kdie 
TenantAndUser 
kdie/internal_call 
User 
internal_call 
facility 
filebeat 
file 
/var/log/cumulocity/error.log 
internalsource 
error 
message 
2021-01-13 07:21:33[ntLoopGroup-3-10] - kdie/internal_call | ocityBasicAuthenticationProvider | 112 - com.nsn.cumulocity.tenant-management.auth-lib - 1006.11.0 | *INFO The user s.pietsch@netze-bw.de of tenant kdie has been disabled because of too many requests with bad credentials.* 
name 
cumulocity-trial-prod 
offset 
186064351 
source 
cumulocity-trial-prod-core1 
timestamp 
2021-01-13 08:21:33 +01:00 
type 
null 
2021-01-13 08:21:33 +01:00 cumulocity-trial-prod-core1 
2021-01-13 07:21:33[ntLoopGroup-3-10] - kdie/internal_call | BadRequestCounter | 112 - com.nsn.cumulocity.tenant-management.auth-lib - 1006.11.0 | INFO Limit 100 exceeded for user s.pietsch@netze-bw.de@kdie 
f773bbf4-556f-11eb-b3a1-065f75b3a398 
Timestamp 
2021-01-13 08:21:33.944 
Received by 
SSL Beats on 582ab5be / c8y-logging-graylog-04.monitor.c8y.io 
Stored in index 
cumulocity_8541 
Routed into streams 
Cumulocity EU-Latest Production 
Tenant 
kdie 
TenantAndUser 
kdie/internal_call 
User 
internal_call 
facility 
filebeat 
file 
/var/log/cumulocity/error.log 
internalsource 
error 
message 
2021-01-13 07:21:33[ntLoopGroup-3-10] - kdie/internal_call | BadRequestCounter | 112 - com.nsn.cumulocity.tenant-management.auth-lib - 1006.11.0 | INFO Limit 100 exceeded for user s.pietsch@netze-bw.de@kdie 
name 
cumulocity-trial-prod 
offset 
186064128 
source 
cumulocity-trial-prod-core1 
timestamp 
2021-01-13 08:21:33 +01:00 
type 
null 
??1?? 
Graylog 3.2.6+e255fcc on c8y-logging-graylog-01.monitor.c8y.io (Oracle Corporation 1.8.0_191 on Linux 3.10.0-957.1.3.el7.x86_64)"
"Generated at Thu Oct 03 10:11:38 CEST 2024 by Simeonova, Rumyana using Jira 9.12.13#9120013-sha1:30aec69c1886ad701b08cbbdea784001f81bb341. ",,,,,,,,,,,,,,,